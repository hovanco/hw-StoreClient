{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/StoreClient/src/pages/setting/general-information/general-information.tsx\",\n    _s = $RefreshSig$();\n\nimport { Button, Card, Col, Form, message, Row } from 'antd';\nimport { useForm } from 'antd/es/form/Form';\nimport { pick } from 'lodash';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport storeApi from '../../../api/store-api';\nimport { Loading } from '../../../components';\nimport types from '../../../reducers/storeState/type';\nimport AddressMain from './components/address-main';\nimport InforShop from './components/infor-shop';\nimport OtherInfor from './components/other-infor';\nimport './style.less';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst GeneralInformationContent = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const [loading, setLoading] = useState(false);\n  const loadingStore = useSelector(state => state.store.loadingStore);\n  const store = useSelector(state => state.store.data);\n  const [form] = useForm();\n\n  const onFinish = async values => {\n    if (store._id) {\n      try {\n        setLoading(true);\n        const response = await storeApi.updateStore(store._id, values);\n        dispatch({\n          type: types.SET_STORE,\n          payload: response\n        });\n        message.success('Cập nhật thành công');\n      } catch (error) {\n        const errorStatus = error.response.status;\n        message.error(errorStatus === 403 ? 'Người dùng không có quyền cập nhật những thông tin này của cửa hàng' : 'Xảy ra lỗi, vui lòng thử lại');\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  if (loadingStore) {\n    return /*#__PURE__*/_jsxDEV(Loading, {\n      full: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 16\n    }, this);\n  }\n\n  const initialValues = pick(store, ['name', 'phoneNo', 'email', 'fax', 'businessType', 'address', 'province', 'district', 'ward']);\n  return /*#__PURE__*/_jsxDEV(Form, {\n    layout: \"vertical\",\n    initialValues: initialValues,\n    onFinish: onFinish,\n    form: form,\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      gutter: 16,\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        span: 16,\n        className: \"infor-shop-address\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          gutter: [0, 16],\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 24,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              type: \"inner\",\n              title: \"Th\\xF4ng tin c\\u1EEDa h\\xE0ng\",\n              bordered: false,\n              className: \"card-custom infor-shop\",\n              children: /*#__PURE__*/_jsxDEV(InforShop, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 24,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              type: \"inner\",\n              title: \"\\u0110\\u1ECBa ch\\u1EC9 ch\\xEDnh\",\n              bordered: false,\n              className: \"card-custom address-main\",\n              children: /*#__PURE__*/_jsxDEV(AddressMain, { ...pick(store, ['province', 'district', 'ward'])\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        span: 8,\n        className: \"other-infor\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          title: \"Th\\xF4ng tin kh\\xE1c\",\n          type: \"inner\",\n          bordered: false,\n          className: \"card-custom\",\n          children: /*#__PURE__*/_jsxDEV(OtherInfor, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      justify: \"end\",\n      style: {\n        marginTop: 15\n      },\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          htmlType: \"submit\",\n          type: \"primary\",\n          loading: loading,\n          children: \"Huy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          htmlType: \"submit\",\n          type: \"primary\",\n          loading: loading,\n          children: \"L\\u01B0u thay \\u0111\\u1ED5i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n\n_s(GeneralInformationContent, \"1p71QEnIm/H0QkG6TNuUH2vJ4VI=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useForm];\n});\n\n_c = GeneralInformationContent;\nexport default GeneralInformationContent;\n\nvar _c;\n\n$RefreshReg$(_c, \"GeneralInformationContent\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/StoreClient/src/pages/setting/general-information/general-information.tsx"],"names":["Button","Card","Col","Form","message","Row","useForm","pick","React","useState","useDispatch","useSelector","storeApi","Loading","types","AddressMain","InforShop","OtherInfor","GeneralInformationContent","dispatch","loading","setLoading","loadingStore","state","store","data","form","onFinish","values","_id","response","updateStore","type","SET_STORE","payload","success","error","errorStatus","status","initialValues","marginTop"],"mappings":"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","sourcesContent":["import { Button, Card, Col, Form, message, Row } from 'antd';\nimport { useForm } from 'antd/es/form/Form';\nimport { Store } from 'antd/es/form/interface';\nimport { pick } from 'lodash';\nimport React, { FC, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport storeApi from '../../../api/store-api';\nimport { Loading } from '../../../components';\nimport types from '../../../reducers/storeState/type';\nimport { IState } from '../../../store/rootReducer';\nimport AddressMain from './components/address-main';\nimport InforShop from './components/infor-shop';\nimport OtherInfor from './components/other-infor';\nimport './style.less';\n\ninterface Props {}\n\nconst GeneralInformationContent: FC<Props> = () => {\n    const dispatch = useDispatch();\n    const [loading, setLoading] = useState<boolean>(false);\n    const loadingStore = useSelector((state: IState) => state.store.loadingStore);\n    const store = useSelector((state: IState) => state.store.data);\n    const [form] = useForm();\n\n    const onFinish = async (values: Store) => {\n        if (store._id) {\n            try {\n                setLoading(true);\n                const response = await storeApi.updateStore(store._id, values);\n\n                dispatch({\n                    type: types.SET_STORE,\n                    payload: response,\n                });\n                message.success('Cập nhật thành công');\n            } catch (error) {\n                const errorStatus = error.response.status;\n                message.error(\n                    errorStatus === 403\n                        ? 'Người dùng không có quyền cập nhật những thông tin này của cửa hàng'\n                        : 'Xảy ra lỗi, vui lòng thử lại'\n                );\n            } finally {\n                setLoading(false);\n            }\n        }\n    };\n\n    if (loadingStore) {\n        return <Loading full />;\n    }\n\n    const initialValues = pick(store, [\n        'name',\n        'phoneNo',\n        'email',\n        'fax',\n        'businessType',\n        'address',\n        'province',\n        'district',\n        'ward',\n    ]);\n\n    return (\n        <Form layout='vertical' initialValues={initialValues} onFinish={onFinish} form={form}>\n            <Row gutter={16}>\n                <Col span={16} className='infor-shop-address'>\n                    <Row gutter={[0, 16]}>\n                        <Col span={24}>\n                            <Card\n                                type='inner'\n                                title='Thông tin cửa hàng'\n                                bordered={false}\n                                className='card-custom infor-shop'\n                            >\n                                <InforShop />\n                            </Card>\n                        </Col>\n                        <Col span={24}>\n                            <Card\n                                type='inner'\n                                title='Địa chỉ chính'\n                                bordered={false}\n                                className='card-custom address-main'\n                            >\n                                <AddressMain {...pick(store, ['province', 'district', 'ward'])} />\n                            </Card>\n                        </Col>\n                    </Row>\n                </Col>\n\n                <Col span={8} className='other-infor'>\n                    <Card\n                        title='Thông tin khác'\n                        type='inner'\n                        bordered={false}\n                        className='card-custom'\n                    >\n                        <OtherInfor />\n                    </Card>\n                </Col>\n            </Row>\n\n            <Row justify='end' style={{ marginTop: 15 }}>\n                <Col>\n                    <Button htmlType='submit' type='primary' loading={loading}>\n                        Huy\n                    </Button>\n                    <Button htmlType='submit' type='primary' loading={loading}>\n                        Lưu thay đổi\n                    </Button>\n                </Col>\n            </Row>\n        </Form>\n    );\n};\n\nexport default GeneralInformationContent;\n"]},"metadata":{},"sourceType":"module"}