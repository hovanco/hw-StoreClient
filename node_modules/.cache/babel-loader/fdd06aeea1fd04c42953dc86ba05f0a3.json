{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/StoreClient/src/pages/setting/warehouse-detail/components/remove-warehouse/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { message, Modal } from 'antd';\nimport { get } from 'lodash';\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport warehouseApi from '../../../../../api/warehouse-api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RemoveWarehouse = ({\n  title,\n  warehouseId,\n  children\n}) => {\n  _s();\n\n  const store = useSelector(state => state.store.data);\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n\n  const removeWarehouse = () => {\n    Modal.confirm({\n      title: 'Xóa chi nhánh',\n      icon: /*#__PURE__*/_jsxDEV(ExclamationCircleOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 19\n      }, this),\n      content: 'Bạn muốn xóa chi nhánh',\n      okText: 'Đồng ý',\n      cancelText: 'Hủy',\n      onOk: async () => {\n        try {\n          setLoading(true);\n          await warehouseApi.deleteWarehouse({\n            storeId: store._id,\n            warehouseId\n          });\n          message.success('Xóa chi nhánh thành công');\n          history.push('/setting/warehouse');\n        } catch (error) {\n          if (get(error, 'response.data.message') === 'HAS_RELATED_ORDER') {\n            message.error('Chi nhánh đã tồn tại đơn hàng nên không thể xóa.');\n          } else {\n            message.error('Xóa chi nhánh thất bại');\n          }\n        } finally {\n          setLoading(false);\n        }\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.cloneElement(children, {\n    onClick: removeWarehouse,\n    loading\n  });\n};\n\n_s(RemoveWarehouse, \"ygnxVa7hh1+foH/4BFtd9ZhoYOQ=\", false, function () {\n  return [useSelector, useHistory];\n});\n\n_c = RemoveWarehouse;\nexport default RemoveWarehouse;\n\nvar _c;\n\n$RefreshReg$(_c, \"RemoveWarehouse\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/StoreClient/src/pages/setting/warehouse-detail/components/remove-warehouse/index.tsx"],"names":["ExclamationCircleOutlined","message","Modal","get","React","useState","useSelector","useHistory","warehouseApi","RemoveWarehouse","title","warehouseId","children","store","state","data","loading","setLoading","history","removeWarehouse","confirm","icon","content","okText","cancelText","onOk","deleteWarehouse","storeId","_id","success","push","error","cloneElement","onClick"],"mappings":";;;AAAA,SAASA,yBAAT,QAA0C,mBAA1C;AACA,SAASC,OAAT,EAAkBC,KAAlB,QAA+B,MAA/B;AACA,SAASC,GAAT,QAAoB,QAApB;AACA,OAAOC,KAAP,IAAkCC,QAAlC,QAAkD,OAAlD;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,YAAP,MAAyB,kCAAzB;;;AAQA,MAAMC,eAA0B,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA,WAAT;AAAsBC,EAAAA;AAAtB,CAAD,KAAsC;AAAA;;AACrE,QAAMC,KAAK,GAAGP,WAAW,CAAEQ,KAAD,IAAmBA,KAAK,CAACD,KAAN,CAAYE,IAAhC,CAAzB;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAU,KAAV,CAAtC;AACA,QAAMa,OAAO,GAAGX,UAAU,EAA1B;;AAEA,QAAMY,eAAe,GAAG,MAAM;AAC1BjB,IAAAA,KAAK,CAACkB,OAAN,CAAc;AACVV,MAAAA,KAAK,EAAE,eADG;AAEVW,MAAAA,IAAI,eAAE,QAAC,yBAAD;AAAA;AAAA;AAAA;AAAA,cAFI;AAGVC,MAAAA,OAAO,EAAE,wBAHC;AAIVC,MAAAA,MAAM,EAAE,QAJE;AAKVC,MAAAA,UAAU,EAAE,KALF;AAMVC,MAAAA,IAAI,EAAE,YAAY;AACd,YAAI;AACAR,UAAAA,UAAU,CAAC,IAAD,CAAV;AACA,gBAAMT,YAAY,CAACkB,eAAb,CAA6B;AAC/BC,YAAAA,OAAO,EAAEd,KAAK,CAACe,GADgB;AAE/BjB,YAAAA;AAF+B,WAA7B,CAAN;AAIAV,UAAAA,OAAO,CAAC4B,OAAR,CAAgB,0BAAhB;AACAX,UAAAA,OAAO,CAACY,IAAR,CAAa,oBAAb;AACH,SARD,CAQE,OAAOC,KAAP,EAAc;AACZ,cAAI5B,GAAG,CAAC4B,KAAD,EAAQ,uBAAR,CAAH,KAAwC,mBAA5C,EAAiE;AAC7D9B,YAAAA,OAAO,CAAC8B,KAAR,CAAc,kDAAd;AACH,WAFD,MAEO;AACH9B,YAAAA,OAAO,CAAC8B,KAAR,CAAc,wBAAd;AACH;AACJ,SAdD,SAcU;AACNd,UAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AACJ;AAxBS,KAAd;AA0BH,GA3BD;;AA6BA,sBAAOb,KAAK,CAAC4B,YAAN,CAAmBpB,QAAnB,EAA6B;AAAEqB,IAAAA,OAAO,EAAEd,eAAX;AAA4BH,IAAAA;AAA5B,GAA7B,CAAP;AACH,CAnCD;;GAAMP,e;UACYH,W,EAEEC,U;;;KAHdE,e;AAqCN,eAAeA,eAAf","sourcesContent":["import { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { message, Modal } from 'antd';\nimport { get } from 'lodash';\nimport React, { FC, ReactElement, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport warehouseApi from '../../../../../api/warehouse-api';\nimport { IState } from '../../../../../store/rootReducer';\n\ninterface Props {\n    title?: string;\n    warehouseId: string;\n    children: ReactElement;\n}\nconst RemoveWarehouse: FC<Props> = ({ title, warehouseId, children }) => {\n    const store = useSelector((state: IState) => state.store.data);\n    const [loading, setLoading] = useState<boolean>(false);\n    const history = useHistory();\n\n    const removeWarehouse = () => {\n        Modal.confirm({\n            title: 'Xóa chi nhánh',\n            icon: <ExclamationCircleOutlined />,\n            content: 'Bạn muốn xóa chi nhánh',\n            okText: 'Đồng ý',\n            cancelText: 'Hủy',\n            onOk: async () => {\n                try {\n                    setLoading(true);\n                    await warehouseApi.deleteWarehouse({\n                        storeId: store._id as string,\n                        warehouseId\n                    });\n                    message.success('Xóa chi nhánh thành công');\n                    history.push('/setting/warehouse');\n                } catch (error) {\n                    if (get(error, 'response.data.message') === 'HAS_RELATED_ORDER') {\n                        message.error('Chi nhánh đã tồn tại đơn hàng nên không thể xóa.');\n                    } else {\n                        message.error('Xóa chi nhánh thất bại');\n                    }\n                } finally {\n                    setLoading(false);\n                }\n            },\n        });\n    };\n\n    return React.cloneElement(children, { onClick: removeWarehouse, loading });\n};\n\nexport default RemoveWarehouse;\n"]},"metadata":{},"sourceType":"module"}