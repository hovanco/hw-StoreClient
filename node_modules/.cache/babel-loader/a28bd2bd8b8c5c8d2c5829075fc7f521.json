{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/StoreClient/src/pages/order/create/components/card-customer/form-edit-delivery.tsx\",\n    _s = $RefreshSig$();\n\nimport { Button, Col, Form, Input, Row, Select } from 'antd';\nimport { get, map } from 'lodash';\nimport React, { useState } from 'react';\nimport { useDistricts, useProvices, useWards } from '../../../../../hook/useLocation';\nimport { useOrderNew } from '../../state/context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FormEditDelivery = ({\n  infoDelivery,\n  toggle\n}) => {\n  _s();\n\n  const {\n    updateInfoDelivery\n  } = useOrderNew();\n  const [form] = Form.useForm();\n  const value_province = (infoDelivery === null || infoDelivery === void 0 ? void 0 : infoDelivery.province) || undefined;\n  const value_district = (infoDelivery === null || infoDelivery === void 0 ? void 0 : infoDelivery.district) || undefined;\n  const [province, setProvince] = useState(value_province);\n  const [district, setDistrict] = useState(value_district);\n  const {\n    loadingProvince,\n    provinces\n  } = useProvices();\n  const {\n    loadingDistrict,\n    districts\n  } = useDistricts(province);\n  const {\n    loadingWard,\n    wards\n  } = useWards({\n    province,\n    district\n  });\n\n  const removeField = field => {\n    form.setFieldsValue({\n      [field]: undefined\n    });\n  };\n\n  const onChangeProvince = e => {\n    setProvince(e);\n    removeField('district');\n    removeField('ward');\n    setDistrict(undefined);\n  };\n\n  const onChangeDistrict = e => {\n    setDistrict(e);\n    removeField('ward');\n  };\n\n  const onChangeWard = e => {};\n\n  const onSubmit = values => {\n    const infoDelivery = { ...values,\n      wardName: get(wards, values.ward).name,\n      districtName: get(districts, values.district).name,\n      provinceName: get(provinces, values.province).name\n    };\n    updateInfoDelivery(infoDelivery);\n    toggle();\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    layout: \"vertical\",\n    initialValues: infoDelivery,\n    form: form,\n    onFinish: onSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      gutter: 16,\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        span: 12,\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"name\",\n          label: \"T\\xEAn ng\\u01B0\\u1EDDi nh\\u1EADn\",\n          rules: [{\n            required: true,\n            message: 'Điền tên người nhận'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"T\\xEAn ng\\u01B0\\u1EDDi nh\\u1EADn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"phoneNo\",\n          label: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",\n          rules: [{\n            required: true,\n            message: 'Điền số điện thoại'\n          }, {\n            // pattern: new RegExp(/^(0|\\+84)(9|3|7|8|5){1}([0-9]{8})$/g),\n            pattern: new RegExp(/(84|0[3|5|7|8|9])+([0-9]{8})\\b/g),\n            message: 'Số điện thoại không đúng'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            placeholder: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i ng\\u01B0\\u1EDDi nh\\u1EADn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        span: 12,\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          rules: [{\n            required: true,\n            message: 'Chọn tỉnh / thành phố'\n          }],\n          label: \"T\\u1EC9nh/Th\\xE0nh ph\\u1ED1\",\n          name: \"province\",\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            showSearch: true,\n            style: {\n              width: '100%'\n            },\n            optionFilterProp: \"children\",\n            onChange: onChangeProvince,\n            filterOption: (input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n            loading: loadingProvince,\n            placeholder: \"Ch\\u1ECDn t\\u1EC9nh/th\\xE0nh ph\\u1ED1\",\n            children: map(provinces, province => /*#__PURE__*/_jsxDEV(Select.Option, {\n              value: province.code,\n              children: province.name\n            }, province.code, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"Qu\\u1EADn/Huy\\u1EC7n\",\n          name: \"district\",\n          rules: [{\n            required: true,\n            message: 'Chọn quận/huyện'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            showSearch: true,\n            style: {\n              width: '100%'\n            },\n            optionFilterProp: \"children\",\n            onChange: onChangeDistrict,\n            filterOption: (input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n            loading: loadingDistrict,\n            disabled: !province,\n            placeholder: \"Ch\\u1ECDn qu\\u1EADn/huy\\u1EC7n\",\n            children: map(districts, district => /*#__PURE__*/_jsxDEV(Select.Option, {\n              value: district.code,\n              children: district.name\n            }, district.code, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          rules: [{\n            required: true,\n            message: 'Chọn xã/phường'\n          }],\n          label: \"X\\xE3/Ph\\u01B0\\u1EDDng\",\n          name: \"ward\",\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            onChange: onChangeWard,\n            showSearch: true,\n            filterOption: (input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0,\n            disabled: !province || !district,\n            loading: loadingWard,\n            placeholder: \"Ch\\u1ECDn x\\xE3/ph\\u01B0\\u1EDDng\",\n            children: map(wards, ward => /*#__PURE__*/_jsxDEV(Select.Option, {\n              value: ward.code,\n              children: ward.name\n            }, ward.code, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        span: 24,\n        children: /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"address\",\n          rules: [{\n            required: true,\n            message: 'Điền thông tin địa chỉ khách hàng'\n          }],\n          label: \"\\u0110\\u1ECBa ch\\u1EC9\",\n          children: /*#__PURE__*/_jsxDEV(Input.TextArea, {\n            placeholder: \"\\u0110i\\u1EC1n th\\xF4ng tin \\u0111\\u1ECBa ch\\u1EC9 kh\\xE1ch h\\xE0ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        children: \"L\\u01B0u\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FormEditDelivery, \"MP81ZqePGoEjPJiJHvSiRDCLGR4=\", false, function () {\n  return [useOrderNew, Form.useForm, useProvices, useDistricts, useWards];\n});\n\n_c = FormEditDelivery;\nexport default FormEditDelivery;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormEditDelivery\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/StoreClient/src/pages/order/create/components/card-customer/form-edit-delivery.tsx"],"names":["Button","Col","Form","Input","Row","Select","get","map","React","useState","useDistricts","useProvices","useWards","useOrderNew","FormEditDelivery","infoDelivery","toggle","updateInfoDelivery","form","useForm","value_province","province","undefined","value_district","district","setProvince","setDistrict","loadingProvince","provinces","loadingDistrict","districts","loadingWard","wards","removeField","field","setFieldsValue","onChangeProvince","e","onChangeDistrict","onChangeWard","onSubmit","values","wardName","ward","name","districtName","provinceName","required","message","pattern","RegExp","width","input","option","children","toLowerCase","indexOf","code"],"mappings":"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","sourcesContent":["import { Button, Col, Form, Input, Row, Select } from 'antd';\nimport { get, map } from 'lodash';\nimport React, { FC, useState } from 'react';\nimport {\n    District,\n    Province,\n    useDistricts,\n    useProvices,\n    useWards,\n    Ward,\n} from '../../../../../hook/useLocation';\nimport { useOrderNew } from '../../state/context';\nimport { IInfoDelivery } from '../../state/interface';\n\ninterface Props {\n    infoDelivery?: IInfoDelivery;\n    toggle: () => void;\n}\n\ninterface FormData {\n    name: string;\n    phoneNo: string;\n    address: string;\n    ward: string;\n\n    district: string;\n\n    province: string;\n}\n\nconst FormEditDelivery: FC<Props> = ({ infoDelivery, toggle }) => {\n    const { updateInfoDelivery } = useOrderNew();\n    const [form] = Form.useForm();\n\n    const value_province = infoDelivery?.province || undefined;\n    const value_district = infoDelivery?.district || undefined;\n\n    const [province, setProvince] = useState<string | undefined>(value_province);\n    const [district, setDistrict] = useState<string | undefined>(value_district);\n\n    const { loadingProvince, provinces } = useProvices();\n    const { loadingDistrict, districts } = useDistricts(province);\n    const { loadingWard, wards } = useWards({ province, district });\n\n    const removeField = (field: string) => {\n        form.setFieldsValue({\n            [field]: undefined,\n        });\n    };\n\n    const onChangeProvince = (e: string) => {\n        setProvince(e);\n\n        removeField('district');\n        removeField('ward');\n        setDistrict(undefined);\n    };\n\n    const onChangeDistrict = (e: string) => {\n        setDistrict(e);\n\n        removeField('ward');\n    };\n\n    const onChangeWard = (e: string) => {};\n\n    const onSubmit = (values: FormData) => {\n        const infoDelivery: IInfoDelivery = {\n            ...values,\n            wardName: get(wards, values.ward).name,\n            districtName: get(districts, values.district).name,\n            provinceName: get(provinces, values.province).name,\n        };\n\n        updateInfoDelivery(infoDelivery);\n        toggle();\n    };\n\n    return (\n        <Form layout='vertical' initialValues={infoDelivery} form={form} onFinish={onSubmit}>\n            <Row gutter={16}>\n                <Col span={12}>\n                    <Form.Item\n                        name='name'\n                        label='Tên người nhận'\n                        rules={[\n                            {\n                                required: true,\n                                message: 'Điền tên người nhận',\n                            },\n                        ]}\n                    >\n                        <Input placeholder='Tên người nhận' />\n                    </Form.Item>\n\n                    <Form.Item\n                        name='phoneNo'\n                        label='Số điện thoại'\n                        rules={[\n                            { required: true, message: 'Điền số điện thoại' },\n                            {\n                                // pattern: new RegExp(/^(0|\\+84)(9|3|7|8|5){1}([0-9]{8})$/g),\n                                pattern: new RegExp(/(84|0[3|5|7|8|9])+([0-9]{8})\\b/g),\n\n                                message: 'Số điện thoại không đúng',\n                            },\n                        ]}\n                    >\n                        <Input placeholder='Số điện thoại người nhận' />\n                    </Form.Item>\n                </Col>\n\n                <Col span={12}>\n                    <Form.Item\n                        rules={[{ required: true, message: 'Chọn tỉnh / thành phố' }]}\n                        label='Tỉnh/Thành phố'\n                        name='province'\n                    >\n                        <Select\n                            showSearch\n                            style={{ width: '100%' }}\n                            optionFilterProp='children'\n                            onChange={onChangeProvince}\n                            filterOption={(input: string, option: any) =>\n                                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                            }\n                            loading={loadingProvince}\n                            placeholder='Chọn tỉnh/thành phố'\n                        >\n                            {map(provinces, (province: Province) => (\n                                <Select.Option value={province.code} key={province.code}>\n                                    {province.name}\n                                </Select.Option>\n                            ))}\n                        </Select>\n                    </Form.Item>\n\n                    <Form.Item\n                        label='Quận/Huyện'\n                        name='district'\n                        rules={[{ required: true, message: 'Chọn quận/huyện' }]}\n                    >\n                        <Select\n                            showSearch\n                            style={{ width: '100%' }}\n                            optionFilterProp='children'\n                            onChange={onChangeDistrict}\n                            filterOption={(input: string, option: any) =>\n                                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                            }\n                            loading={loadingDistrict}\n                            disabled={!province}\n                            placeholder='Chọn quận/huyện'\n                        >\n                            {map(districts, (district: District) => (\n                                <Select.Option value={district.code} key={district.code}>\n                                    {district.name}\n                                </Select.Option>\n                            ))}\n                        </Select>\n                    </Form.Item>\n\n                    <Form.Item\n                        rules={[{ required: true, message: 'Chọn xã/phường' }]}\n                        label='Xã/Phường'\n                        name='ward'\n                    >\n                        <Select\n                            onChange={onChangeWard}\n                            showSearch\n                            filterOption={(input, option: any) =>\n                                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                            }\n                            disabled={!province || !district}\n                            loading={loadingWard}\n                            placeholder='Chọn xã/phường'\n                        >\n                            {map(wards, (ward: Ward) => (\n                                <Select.Option value={ward.code} key={ward.code}>\n                                    {ward.name}\n                                </Select.Option>\n                            ))}\n                        </Select>\n                    </Form.Item>\n                </Col>\n\n                <Col span={24}>\n                    <Form.Item\n                        name='address'\n                        rules={[\n                            {\n                                required: true,\n                                message: 'Điền thông tin địa chỉ khách hàng',\n                            },\n                        ]}\n                        label='Địa chỉ'\n                    >\n                        <Input.TextArea placeholder='Điền thông tin địa chỉ khách hàng' />\n                    </Form.Item>\n                </Col>\n            </Row>\n\n            <Form.Item>\n                <Button type='primary' htmlType='submit'>\n                    Lưu\n                </Button>\n            </Form.Item>\n        </Form>\n    );\n}\n\nexport default FormEditDelivery;"]},"metadata":{},"sourceType":"module"}