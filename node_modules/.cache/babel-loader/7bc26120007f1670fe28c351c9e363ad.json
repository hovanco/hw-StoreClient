{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/StoreClient/src/pages/order/detail/order-detail-content.tsx\",\n    _s = $RefreshSig$();\n\nimport { Card, Col, Form, Row, Space, Typography } from 'antd';\nimport { get } from 'lodash';\nimport React, { useEffect } from 'react';\nimport { BackLink, PageTopWrapper } from '../../../components';\nimport { DefaultLayout } from '../../../layout';\nimport { EDeliveryServiceIds, ORDER_STATUS } from '../../../models';\nimport BtnPrint from '../components/btn-print';\nimport NoOrder from '../components/no-order';\nimport ProductsTable from '../components/products-table';\nimport CardCustomer from '../create/components/card-customer';\nimport PaymentType from '../create/components/payment-type';\nimport Source from '../create/components/source';\nimport ValueOrder from '../create/components/value-order';\nimport { useOrderNew } from '../create/state/context';\nimport BtnConfirmPayment from './components/btn-confirm-payment';\nimport BtnConfirmFinish from './components/btn-confrm-finish';\nimport BtnSendShipping from './components/btn-send-shipping';\nimport DateOrder from './components/date-order';\nimport OrderDropdownAction from './components/order-dropdown-action';\nimport OrderShip from './components/order-ship';\nimport StatusDeliveryOrder from './components/status-delivery-order';\nimport StatusPaymentOrder from './components/status-payment-order';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst OrderDetailContent = () => {\n  _s();\n\n  const {\n    order,\n    addProducts,\n    products\n  } = useOrderNew();\n  const history = useHistory();\n  useEffect(() => {\n    if (order) {\n      const products = (order.products ? order.products : []).map(product => ({ ...product,\n        ...product.productId\n      }));\n      addProducts(products);\n    } // eslint-disable-next-line\n\n  }, []);\n  if (!order) return /*#__PURE__*/_jsxDEV(NoOrder, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 24\n  }, this);\n\n  const renderButton = () => {\n    const serviceId = get(order, 'deliveryOptions.serviceId');\n    const hasServiceTransport = [EDeliveryServiceIds.GHN, EDeliveryServiceIds.GHTK].includes(serviceId);\n    const paidAt = get(order, 'paidAt');\n    const validStatus = [ORDER_STATUS.DELIVERED, ORDER_STATUS.CANCELED, ORDER_STATUS.RETURNED].includes(order.status);\n\n    if (!hasServiceTransport && paidAt) {\n      return validStatus ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(BtnConfirmFinish, {\n        order: order\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 42\n      }, this);\n    }\n\n    if (!paidAt) {\n      return /*#__PURE__*/_jsxDEV(BtnConfirmPayment, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (validStatus) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(DefaultLayout, {\n    title: \"Chi ti\\u1EBFt \\u0111\\u01A1n h\\xE0ng\",\n    children: [/*#__PURE__*/_jsxDEV(PageTopWrapper, {\n      leftContent: /*#__PURE__*/_jsxDEV(Row, {\n        gutter: 20,\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(BackLink, {\n            to: `/orders/list${history.location.state || ''}`,\n            text: \" Danh s\\xE1ch \\u0111\\u01A1n h\\xE0ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Typography.Title, {\n            level: 3,\n            children: `Đơn hàng ${order && order.code}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(StatusDeliveryOrder, {\n            order: order\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(StatusPaymentOrder, {\n            order: order\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }, this),\n      rightContent: /*#__PURE__*/_jsxDEV(Space, {\n        children: [renderButton(), /*#__PURE__*/_jsxDEV(BtnSendShipping, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        align: \"middle\",\n        justify: \"space-between\",\n        style: {\n          marginBottom: 20\n        },\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(DateOrder, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Space, {\n            size: 14,\n            children: [/*#__PURE__*/_jsxDEV(BtnPrint, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(OrderDropdownAction, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        gutter: 16,\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          span: 16,\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            gutter: [0, 16],\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              span: 24,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                title: \"Th\\xF4ng tin s\\u1EA3n ph\\u1EA9m\",\n                type: \"inner\",\n                bordered: false,\n                bodyStyle: {\n                  padding: 0\n                },\n                className: \"card-custom\",\n                children: /*#__PURE__*/_jsxDEV(ProductsTable, {\n                  products: products\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 24,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                type: \"inner\",\n                bordered: false,\n                title: \"\\u0110\\xF3ng g\\xF3i v\\xE0 giao h\\xE0ng\",\n                className: \"card-custom\",\n                children: /*#__PURE__*/_jsxDEV(OrderShip, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          span: 8,\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            gutter: [0, 16],\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              span: 24,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                title: \"K\\xEAnh b\\xE1n h\\xE0ng\",\n                type: \"inner\",\n                bordered: false,\n                className: \"card-custom\",\n                children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                  label: \"Ch\\u1ECDn k\\xEAnh b\\xE1n h\\xE0ng\",\n                  style: {\n                    marginBottom: 0\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Source, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 24,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                title: \"Th\\xF4ng tin kh\\xE1ch h\\xE0ng\",\n                type: \"inner\",\n                bordered: false,\n                className: \"card-custom\",\n                children: /*#__PURE__*/_jsxDEV(CardCustomer, {\n                  customer: order.customer\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 24,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                type: \"inner\",\n                title: \"X\\xE1c nh\\u1EADn thanh to\\xE1n\",\n                bordered: false,\n                className: \"card-custom\",\n                children: [/*#__PURE__*/_jsxDEV(PaymentType, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(ValueOrder, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        justify: \"end\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '10px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              size: 16,\n              children: [renderButton(), /*#__PURE__*/_jsxDEV(BtnSendShipping, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n};\n\n_s(OrderDetailContent, \"LeFNfajmUHYCI6JBPLvqm+7jnO4=\", false, function () {\n  return [useOrderNew, useHistory];\n});\n\n_c = OrderDetailContent;\nexport default OrderDetailContent;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderDetailContent\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/StoreClient/src/pages/order/detail/order-detail-content.tsx"],"names":["Card","Col","Form","Row","Space","Typography","get","React","useEffect","BackLink","PageTopWrapper","DefaultLayout","EDeliveryServiceIds","ORDER_STATUS","BtnPrint","NoOrder","ProductsTable","CardCustomer","PaymentType","Source","ValueOrder","useOrderNew","BtnConfirmPayment","BtnConfirmFinish","BtnSendShipping","DateOrder","OrderDropdownAction","OrderShip","StatusDeliveryOrder","StatusPaymentOrder","useHistory","OrderDetailContent","order","addProducts","products","history","map","product","productId","renderButton","serviceId","hasServiceTransport","GHN","GHTK","includes","paidAt","validStatus","DELIVERED","CANCELED","RETURNED","status","location","state","code","marginBottom","padding","customer","marginTop"],"mappings":"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","sourcesContent":["import { Card, Col, Form, Row, Space, Typography } from 'antd';\nimport { get } from 'lodash';\nimport React, { FC, useEffect } from 'react';\nimport { BackLink, PageTopWrapper } from '../../../components';\nimport { DefaultLayout } from '../../../layout';\nimport { EDeliveryServiceIds, ICustomer, ORDER_STATUS } from '../../../models';\nimport BtnPrint from '../components/btn-print';\nimport NoOrder from '../components/no-order';\nimport ProductsTable from '../components/products-table';\nimport CardCustomer from '../create/components/card-customer';\nimport PaymentType from '../create/components/payment-type';\nimport Source from '../create/components/source';\nimport ValueOrder from '../create/components/value-order';\nimport { useOrderNew } from '../create/state/context';\nimport BtnConfirmPayment from './components/btn-confirm-payment';\nimport BtnConfirmFinish from './components/btn-confrm-finish';\nimport BtnSendShipping from './components/btn-send-shipping';\nimport DateOrder from './components/date-order';\nimport OrderDropdownAction from './components/order-dropdown-action';\nimport OrderShip from './components/order-ship';\nimport StatusDeliveryOrder from './components/status-delivery-order';\nimport StatusPaymentOrder from './components/status-payment-order';\nimport { useHistory } from 'react-router-dom';\n\ninterface Props {}\n\nconst OrderDetailContent: FC<Props> = () => {\n    const { order, addProducts, products } = useOrderNew();\n\n    const history = useHistory();\n\n    useEffect(() => {\n        if (order) {\n            const products = (order.products ? order.products : []).map((product: any) => ({\n                ...product,\n                ...product.productId,\n            }));\n\n            addProducts(products);\n        }\n\n        // eslint-disable-next-line\n    }, []);\n\n    if (!order) return <NoOrder />;\n\n    const renderButton = () => {\n        const serviceId = get(order, 'deliveryOptions.serviceId');\n        const hasServiceTransport = [EDeliveryServiceIds.GHN, EDeliveryServiceIds.GHTK].includes(\n            serviceId,\n        );\n        const paidAt = get(order, 'paidAt');\n\n        const validStatus = [\n            ORDER_STATUS.DELIVERED,\n            ORDER_STATUS.CANCELED,\n            ORDER_STATUS.RETURNED,\n        ].includes(order.status);\n\n        if (!hasServiceTransport && paidAt) {\n            return validStatus ? <></> : <BtnConfirmFinish order={order} />;\n        }\n\n        if (!paidAt) {\n            return <BtnConfirmPayment />;\n        }\n\n        if (validStatus) {\n            return <></>;\n        }\n\n        return <></>;\n    };\n\n    return (\n        <DefaultLayout title='Chi tiết đơn hàng'>\n            <PageTopWrapper\n                leftContent={\n                    <Row gutter={20}>\n                        <Col>\n                            <BackLink\n                                to={`/orders/list${history.location.state || ''}`}\n                                text=' Danh sách đơn hàng'\n                            />\n\n                            <Typography.Title level={3}>{`Đơn hàng ${\n                                order && order.code\n                            }`}</Typography.Title>\n                        </Col>\n                        <Col>\n                            <StatusDeliveryOrder order={order} />\n                        </Col>\n                        <Col>\n                            <StatusPaymentOrder order={order} />\n                        </Col>\n                    </Row>\n                }\n                rightContent={\n                    <Space>\n                        {renderButton()}\n                        <BtnSendShipping />\n                    </Space>\n                }\n            />\n\n            <div className='content'>\n                <Row align='middle' justify='space-between' style={{ marginBottom: 20 }}>\n                    <Col>\n                        <DateOrder />\n                    </Col>\n                    <Col>\n                        <Space size={14}>\n                            <BtnPrint />\n\n                            <OrderDropdownAction />\n                        </Space>\n                    </Col>\n                </Row>\n\n                <Row gutter={16}>\n                    <Col span={16}>\n                        <Row gutter={[0, 16]}>\n                            <Col span={24}>\n                                <Card\n                                    title='Thông tin sản phẩm'\n                                    type='inner'\n                                    bordered={false}\n                                    bodyStyle={{ padding: 0 }}\n                                    className='card-custom'\n                                >\n                                    <ProductsTable products={products} />\n                                </Card>\n                            </Col>\n\n                            <Col span={24}>\n                                <Card\n                                    type='inner'\n                                    bordered={false}\n                                    title='Đóng gói và giao hàng'\n                                    className='card-custom'\n                                >\n                                    <OrderShip />\n                                </Card>\n                            </Col>\n                        </Row>\n                    </Col>\n\n                    <Col span={8}>\n                        <Row gutter={[0, 16]}>\n                            <Col span={24}>\n                                <Card\n                                    title='Kênh bán hàng'\n                                    type='inner'\n                                    bordered={false}\n                                    className='card-custom'\n                                >\n                                    <Form.Item\n                                        label='Chọn kênh bán hàng'\n                                        style={{ marginBottom: 0 }}\n                                    >\n                                        <Source />\n                                    </Form.Item>\n                                </Card>\n                            </Col>\n\n                            <Col span={24}>\n                                <Card\n                                    title='Thông tin khách hàng'\n                                    type='inner'\n                                    bordered={false}\n                                    className='card-custom'\n                                >\n                                    <CardCustomer customer={order.customer as ICustomer} />\n                                </Card>\n                            </Col>\n\n                            <Col span={24}>\n                                <Card\n                                    type='inner'\n                                    title='Xác nhận thanh toán'\n                                    bordered={false}\n                                    className='card-custom'\n                                >\n                                    <PaymentType />\n                                    <ValueOrder />\n                                </Card>\n                            </Col>\n                        </Row>\n                    </Col>\n                </Row>\n\n                <Row justify='end'>\n                    <Col>\n                        <div style={{ marginTop: '10px' }}>\n                            <Space size={16}>\n                                {renderButton()}\n                                <BtnSendShipping />\n                            </Space>\n                        </div>\n                    </Col>\n                </Row>\n            </div>\n        </DefaultLayout>\n    );\n};\n\nexport default OrderDetailContent;\n"]},"metadata":{},"sourceType":"module"}