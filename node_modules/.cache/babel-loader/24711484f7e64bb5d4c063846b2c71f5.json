{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/StoreClient/src/components/banner-notify-package/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { Button, Col, Row, Space, Typography } from 'antd';\nimport moment from 'moment';\nimport React, { useEffect, useState } from 'react';\nimport { InsaButton } from '..';\nimport { EBillingPackageType } from '../../api/billing-api';\nimport icActionsCloseSimple from \"../../assets/images/ic-actions-close-simple.svg\";\nimport imageForBuy from \"../../assets/images/image-for-buy.svg\";\nimport { checkWarningTrialExpiration } from '../../helper/get-time';\nimport { useBilling } from '../../pages/setting/create-billing/state/context';\nimport './banner-notify-package.less';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Title\n} = Typography;\n\nconst BannerNotifyPackage = ({\n  packageName,\n  closeWarning,\n  forTrial,\n  onAction\n}) => {\n  _s();\n\n  const {\n    packagesActive\n  } = useBilling();\n  const [willExpired, setWillExpired] = useState(false);\n  const [daysUntilExpiration, setDaysUntilExpiration] = useState();\n  useEffect(() => {\n    if (forTrial) {\n      const packageTrial = packagesActive.find(item => item.packageType === EBillingPackageType.Trial);\n\n      if (packageTrial) {\n        setWillExpired(checkWarningTrialExpiration(packageTrial.expiredAt));\n        setDaysUntilExpiration(Math.round(moment(packageTrial.expiredAt).diff(moment(), 'days', true)));\n      }\n\n      ;\n    } else {\n      const isWillExpired = packagesActive.length !== 0;\n      setWillExpired(isWillExpired);\n    }\n  }, [forTrial, packagesActive]);\n  return /*#__PURE__*/_jsxDEV(Row, {\n    className: \"banner-notify-package\",\n    align: \"middle\",\n    justify: \"center\",\n    children: forTrial ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(Title, {\n          level: 4,\n          className: \"notify-content\",\n          children: willExpired ? `Tài khoản dùng thử của bạn sẽ hết hạn trong ${daysUntilExpiration} ngày. \n                                Vui lòng mua gói dịch vụ để không bị gián đoạn` : 'Tài khoản dùng thử của bạn đã hết hạn. Vui lòng \u001dmua gói dịch vụ để tiếp tục sử dụng'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        span: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(InsaButton, {\n          icon: null,\n          type: \"default\",\n          onClick: () => onAction && onAction(),\n          children: \"Xem c\\xE1c g\\xF3i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"text\",\n        className: \"btn-close\",\n        onClick: () => closeWarning && closeWarning(),\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: icActionsCloseSimple,\n          alt: \"icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: imageForBuy,\n          alt: \"icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        span: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(Space, {\n          children: [/*#__PURE__*/_jsxDEV(Title, {\n            level: 4,\n            children: \"G\\xF3i d\\u1ECBch v\\u1EE5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Title, {\n            level: 3,\n            children: packageName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Title, {\n            level: 4,\n            children: willExpired ? 'của bạn sắp hết hạn' : 'của bạn đã hết hạn'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        span: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(InsaButton, {\n          icon: null,\n          type: \"default\",\n          onClick: () => onAction && onAction(),\n          children: willExpired ? 'Gia hạn gói dịch vụ' : 'Thay đổi gói dịch vụ'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"text\",\n        className: \"btn-close\",\n        onClick: () => closeWarning && closeWarning(),\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: icActionsCloseSimple,\n          alt: \"icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\n_s(BannerNotifyPackage, \"kKPwILfn31XJlkraYbEXuytsErI=\", false, function () {\n  return [useBilling];\n});\n\n_c = BannerNotifyPackage;\nexport default BannerNotifyPackage;\n\nvar _c;\n\n$RefreshReg$(_c, \"BannerNotifyPackage\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/StoreClient/src/components/banner-notify-package/index.tsx"],"names":["Button","Col","Row","Space","Typography","moment","React","useEffect","useState","InsaButton","EBillingPackageType","checkWarningTrialExpiration","useBilling","Title","BannerNotifyPackage","packageName","closeWarning","forTrial","onAction","packagesActive","willExpired","setWillExpired","daysUntilExpiration","setDaysUntilExpiration","packageTrial","find","item","packageType","Trial","expiredAt","Math","round","diff","isWillExpired","length","icActionsCloseSimple","imageForBuy"],"mappings":"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","sourcesContent":["import { Button, Col, Row, Space, Typography } from 'antd';\nimport moment from 'moment';\nimport React, { FC, useEffect, useState } from 'react';\nimport { InsaButton } from '..';\nimport { EBillingPackageType } from '../../api/billing-api';\nimport icActionsCloseSimple from '../../assets/images/ic-actions-close-simple.svg';\nimport imageForBuy from '../../assets/images/image-for-buy.svg';\nimport { checkWarningTrialExpiration } from '../../helper/get-time';\nimport { useBilling } from '../../pages/setting/create-billing/state/context';\nimport './banner-notify-package.less';\n\nconst { Title } = Typography;\n\ninterface Props {\n    packageName?: string;\n    closeWarning?: Function;\n    forTrial?: boolean;\n    onAction?: Function;\n}\n\nconst BannerNotifyPackage: FC<Props> = ({ packageName, closeWarning, forTrial, onAction }) => {\n    const { packagesActive } = useBilling();\n    const [willExpired, setWillExpired] = useState<boolean>(false);\n    const [daysUntilExpiration, setDaysUntilExpiration]= useState<number>();\n\n    useEffect(() => {\n        if (forTrial) {\n            const packageTrial = packagesActive.find(\n                (item) => item.packageType === EBillingPackageType.Trial\n            );\n            \n            if (packageTrial) {\n                setWillExpired(checkWarningTrialExpiration(packageTrial.expiredAt));\n                setDaysUntilExpiration(Math.round(moment(packageTrial.expiredAt).diff(moment(), 'days', true)));\n            };\n        } else {\n            const isWillExpired = packagesActive.length !== 0;\n            setWillExpired(isWillExpired);\n        }\n}   , [forTrial, packagesActive])\n\n    return (\n        <Row className=\"banner-notify-package\" align=\"middle\" justify=\"center\">\n            {forTrial ? (\n                <>\n                    <Col>\n                        <Title level={4} className=\"notify-content\">\n                            { willExpired ?\n                                `Tài khoản dùng thử của bạn sẽ hết hạn trong ${daysUntilExpiration} ngày. \n                                Vui lòng mua gói dịch vụ để không bị gián đoạn` :\n                                'Tài khoản dùng thử của bạn đã hết hạn. Vui lòng \u001dmua gói dịch vụ để tiếp tục sử dụng'\n                            }\n                        </Title>\n                    </Col>\n                    <Col span={1} />\n                    <Col>\n                        <InsaButton\n                            icon={null}\n                            type=\"default\"\n                            onClick={() => onAction && onAction()}\n                        >\n                            Xem các gói\n                        </InsaButton>\n                    </Col>\n                    <Button\n                        type=\"text\"\n                        className=\"btn-close\"\n                        onClick={() => closeWarning && closeWarning()}\n                    >\n                        <img src={icActionsCloseSimple} alt=\"icon\" />\n                    </Button>\n                </>\n            ) : (\n                <>\n                    <Col>\n                        <img src={imageForBuy} alt=\"icon\" />\n                    </Col>\n                    <Col span={1} />\n                    <Col>\n                        <Space>\n                            <Title level={4}>Gói dịch vụ</Title>\n                            <Title level={3}>{packageName}</Title>\n                            <Title level={4}>\n                                { willExpired ? 'của bạn sắp hết hạn' : 'của bạn đã hết hạn' }\n                            </Title>\n                        </Space>\n                    </Col>\n                    <Col span={1} />\n                    <Col>\n                        <InsaButton\n                            icon={null}\n                            type=\"default\"\n                            onClick={() => onAction && onAction()}\n                        >\n                            { willExpired ? 'Gia hạn gói dịch vụ' : 'Thay đổi gói dịch vụ' }\n                        </InsaButton>\n                    </Col>\n                    <Button\n                        type=\"text\"\n                        className=\"btn-close\"\n                        onClick={() => closeWarning && closeWarning()}\n                    >\n                        <img src={icActionsCloseSimple} alt=\"icon\" />\n                    </Button>\n                </>\n            )}\n        </Row>\n    );\n};\n\nexport default BannerNotifyPackage;\n"]},"metadata":{},"sourceType":"module"}