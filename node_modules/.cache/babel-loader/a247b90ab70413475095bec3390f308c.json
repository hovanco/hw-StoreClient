{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/StoreClient/src/pages/customer/detail/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { Row, Space, Tabs } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport customersApi from '../../../api/customer-api';\nimport { BackLink, Loading, PageTopWrapper } from '../../../components';\nimport { guest } from '../../../constants/guest';\nimport { DefaultLayout } from '../../../layout';\nimport theme from '../../../theme';\nimport { CustomerContextProvider } from './context';\nimport CustomerName from './customer-name';\nimport GeneralInfo from './general-info';\nimport NoCustomer from './no-customer';\nimport OrderHistory from './order-history';\nimport './style.less';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CustomerDetail = () => {\n  _s();\n\n  const history = useHistory();\n  const {\n    TabPane\n  } = Tabs;\n  const storeObj = useSelector(state => state.store.data);\n  const params = useParams();\n  const [loading, setLoading] = useState(false);\n  const [customer, setCustomer] = useState();\n  useEffect(() => {\n    async function loadCustomer(storeId, customerId) {\n      try {\n        setLoading(true);\n        let response = await customersApi.getCustomer({\n          storeId,\n          customerId\n        });\n        setCustomer(response);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    if (storeObj._id && params.customerId !== guest._id) {\n      loadCustomer(storeObj._id, params.customerId);\n    } // eslint-disable-next-line\n\n  }, [storeObj._id]);\n  if (loading) return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 25\n  }, this);\n  if (!customer && params.customerId !== guest._id) return /*#__PURE__*/_jsxDEV(DefaultLayout, {\n    title: \"Kh\\xF4ng t\\xECm th\\u1EA5y kh\\xE1ch h\\xE0ng\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: /*#__PURE__*/_jsxDEV(NoCustomer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 13\n  }, this);\n  return /*#__PURE__*/_jsxDEV(DefaultLayout, {\n    title: \"Chi ti\\u1EBFt kh\\xE1ch h\\xE0ng\",\n    children: /*#__PURE__*/_jsxDEV(CustomerContextProvider, {\n      initCustomer: customer || guest,\n      children: [/*#__PURE__*/_jsxDEV(PageTopWrapper, {\n        leftContent: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(BackLink, {\n            to: `/customers/list${history.location.state || ''}`,\n            text: \"Danh s\\xE1ch kh\\xE1ch h\\xE0ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(CustomerName, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true),\n        rightContent: /*#__PURE__*/_jsxDEV(Space, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          paddingLeft: theme.spacing.m,\n          paddingRight: theme.spacing.m\n        },\n        justify: \"space-between\",\n        className: \"customer-detail\",\n        children: [/*#__PURE__*/_jsxDEV(GeneralInfo, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n          defaultActiveKey: \"1\",\n          children: /*#__PURE__*/_jsxDEV(TabPane, {\n            tab: \"L\\u1ECBch s\\u1EED mua h\\xE0ng\",\n            children: /*#__PURE__*/_jsxDEV(OrderHistory, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 29\n            }, this)\n          }, \"1\", false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CustomerDetail, \"enn+twegNgYiNdTwK0bLLXlH7XQ=\", false, function () {\n  return [useHistory, useSelector, useParams];\n});\n\n_c = CustomerDetail;\nexport default CustomerDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"CustomerDetail\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/StoreClient/src/pages/customer/detail/index.tsx"],"names":["Row","Space","Tabs","React","useEffect","useState","useSelector","useParams","customersApi","BackLink","Loading","PageTopWrapper","guest","DefaultLayout","theme","CustomerContextProvider","CustomerName","GeneralInfo","NoCustomer","OrderHistory","useHistory","CustomerDetail","history","TabPane","storeObj","state","store","data","params","loading","setLoading","customer","setCustomer","loadCustomer","storeId","customerId","response","getCustomer","_id","location","paddingLeft","spacing","m","paddingRight"],"mappings":"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","sourcesContent":["import { Row, Space, Tabs } from 'antd';\nimport React, { FC, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport customersApi from '../../../api/customer-api';\nimport iconPlus from '../../../assets/images/ic-plus.svg';\nimport { BackLink, InsaButton, Loading, PageTopWrapper } from '../../../components';\nimport { guest } from '../../../constants/guest';\nimport { DefaultLayout } from '../../../layout';\nimport { ICustomer } from '../../../models';\nimport { IState } from '../../../store/rootReducer';\nimport theme from '../../../theme';\nimport { CustomerContextProvider } from './context';\nimport CustomerName from './customer-name';\nimport GeneralInfo from './general-info';\nimport NoCustomer from './no-customer';\nimport OrderHistory from './order-history';\nimport './style.less';\nimport { useHistory } from 'react-router-dom';\n\nexport interface ICustomerDetailParams {\n    customerId: string;\n}\n\nconst CustomerDetail: FC = () => {\n    const history = useHistory();\n    const { TabPane } = Tabs;\n    const storeObj = useSelector((state: IState) => state.store.data);\n    const params = useParams<ICustomerDetailParams>();\n\n    const [loading, setLoading] = useState<boolean>(false);\n    const [customer, setCustomer] = useState<ICustomer>();\n\n    useEffect(() => {\n        async function loadCustomer(storeId: string, customerId: string) {\n            try {\n                setLoading(true);\n                let response = await customersApi.getCustomer({ storeId, customerId });\n\n                setCustomer(response);\n            } finally {\n                setLoading(false);\n            }\n        }\n\n        if (storeObj._id && params.customerId !== guest._id) {\n            loadCustomer(storeObj._id, params.customerId);\n        }\n        // eslint-disable-next-line\n    }, [storeObj._id]);\n\n    if (loading) return <Loading />;\n\n    if (!customer && params.customerId !== guest._id)\n        return (\n            <DefaultLayout title=\"Không tìm thấy khách hàng\">\n                <div className=\"content\">\n                    <NoCustomer />\n                </div>\n            </DefaultLayout>\n        );\n\n    return (\n        <DefaultLayout title=\"Chi tiết khách hàng\">\n            <CustomerContextProvider initCustomer={customer || guest}>\n                <PageTopWrapper\n                    leftContent={\n                        <>\n                            <BackLink to={`/customers/list${history.location.state || ''}`} text='Danh sách khách hàng' />\n                            <CustomerName />\n                        </>\n                    }\n                    rightContent={\n                        <Space>\n                            {/* TODO: Show after add feature */}\n                            {/* <InsaButton\n                                type=\"primary\"\n                                icon={<img style={{ marginRight: 10 }} src={iconPlus} alt=\"icon\" />}\n                            >\n                                Tạo phiếu thu/ chi\n                            </InsaButton> */}\n                            {/* TODO: Show after add feature */}\n                            {/* <InsaButton\n                                type=\"default\"\n                                icon={\n                                    <img\n                                        style={{ marginRight: 10 }}\n                                        src={iconQuestion}\n                                        alt=\"icon\"\n                                    />\n                                }\n                            >\n                                Trợ giúp\n                            </InsaButton> */}\n                        </Space>\n                    }\n                />\n                <Row\n                    style={{\n                        paddingLeft: theme.spacing.m,\n                        paddingRight: theme.spacing.m,\n                    }}\n                    justify=\"space-between\"\n                    className=\"customer-detail\"\n                >\n                    <GeneralInfo />\n                    <Tabs defaultActiveKey=\"1\">\n                        <TabPane tab=\"Lịch sử mua hàng\" key=\"1\">\n                            <OrderHistory />\n                        </TabPane>\n                    </Tabs>\n                </Row>\n            </CustomerContextProvider>\n        </DefaultLayout>\n    );\n};\n\nexport default CustomerDetail;\n"]},"metadata":{},"sourceType":"module"}