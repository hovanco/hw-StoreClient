{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/StoreClient/src/pages/order/detail/components/order-dropdown-action/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { Dropdown, Menu, message, Modal } from 'antd';\nimport { get } from 'lodash';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom';\nimport orderApi from '../../../../../api/order-api';\nimport { BtnDropdown } from '../../../../../components';\nimport { useOrderNew } from '../../../create/state/context';\nimport { checkEditOrder } from '../../../util/check-edit-order';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  removeOrder\n} = orderApi;\n\nconst OrderDropdownAction = props => {\n  _s();\n\n  const history = useHistory();\n  const store = useSelector(state => state.store.data);\n  const {\n    order\n  } = useOrderNew();\n\n  const handleRemoveOrder = () => {\n    Modal.confirm({\n      title: 'Xóa đơn hàng',\n      content: `Bạn chắc chắn muốn xóa đơn hàng`,\n      cancelText: 'Hủy',\n      okText: 'Xóa',\n      okType: 'danger',\n      okButtonProps: {\n        type: 'primary'\n      },\n\n      onOk() {\n        return new Promise((resolve, reject) => {\n          removeOrder({\n            storeId: store._id,\n            orderId: order._id\n          }).then(() => {\n            message.success('Đã xóa đơn hàng thông công');\n            history.push('/orders/list');\n            resolve();\n          }).catch(() => {\n            message.error('Lỗi khi xóa đơn hàng');\n            reject();\n          });\n        }).catch(() => console.log('Oops errors!'));\n      }\n\n    });\n  };\n\n  const disableEdit = checkEditOrder(order);\n\n  const menu = /*#__PURE__*/_jsxDEV(Menu, {\n    children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: `/orders/new/${order && order._id}`,\n        children: \"\\u0110\\u1EB7t l\\u1EA1i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)\n    }, \"0\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n      disabled: disableEdit || !!get(order, 'paidAt'),\n      children: disableEdit ? 'Sửa đơn hàng' : /*#__PURE__*/_jsxDEV(Link, {\n        to: `/orders/order/edit/${order && order._id}`,\n        children: \"S\\u1EEDa \\u0111\\u01A1n h\\xE0ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this)\n    }, \"1\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n      style: disableEdit ? {} : {\n        color: '#f53d2d'\n      },\n      onClick: handleRemoveOrder,\n      disabled: disableEdit,\n      children: \"X\\xF3a \\u0111\\u01A1n h\\xE0ng\"\n    }, \"2\", false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(Dropdown, {\n    overlay: menu,\n    trigger: ['click'],\n    children: /*#__PURE__*/_jsxDEV(BtnDropdown, {\n      children: \"Thao t\\xE1c kh\\xE1c\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, this);\n};\n\n_s(OrderDropdownAction, \"4zJYi108QEHK22yXvQJwoBb3eeo=\", false, function () {\n  return [useHistory, useSelector, useOrderNew];\n});\n\n_c = OrderDropdownAction;\nexport default OrderDropdownAction;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderDropdownAction\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/StoreClient/src/pages/order/detail/components/order-dropdown-action/index.tsx"],"names":["Dropdown","Menu","message","Modal","get","React","useSelector","Link","useHistory","orderApi","BtnDropdown","useOrderNew","checkEditOrder","removeOrder","OrderDropdownAction","props","history","store","state","data","order","handleRemoveOrder","confirm","title","content","cancelText","okText","okType","okButtonProps","type","onOk","Promise","resolve","reject","storeId","_id","orderId","then","success","push","catch","error","console","log","disableEdit","menu","color"],"mappings":"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","sourcesContent":["import { Dropdown, Menu, message, Modal } from 'antd';\nimport { get } from 'lodash';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom';\nimport orderApi from '../../../../../api/order-api';\nimport { BtnDropdown } from '../../../../../components';\nimport { IOrder } from '../../../../../models';\nimport { IState } from '../../../../../store/rootReducer';\nimport { useOrderNew } from '../../../create/state/context';\nimport { checkEditOrder } from '../../../util/check-edit-order';\n\nconst { removeOrder } = orderApi;\n\ninterface Props {}\n\nconst OrderDropdownAction = (props: Props) => {\n    const history = useHistory();\n    const store = useSelector((state: IState) => state.store.data);\n\n    const { order } = useOrderNew();\n\n    const handleRemoveOrder = () => {\n        Modal.confirm({\n            title: 'Xóa đơn hàng',\n            content: `Bạn chắc chắn muốn xóa đơn hàng`,\n            cancelText: 'Hủy',\n            okText: 'Xóa',\n            okType: 'danger',\n            okButtonProps: {\n                type: 'primary',\n            },\n            onOk() {\n                return new Promise((resolve, reject) => {\n                    removeOrder({\n                        storeId: store._id as string,\n                        orderId: (order as IOrder)._id,\n                    })\n                        .then(() => {\n                            message.success('Đã xóa đơn hàng thông công');\n                            history.push('/orders/list');\n                            resolve();\n                        })\n                        .catch(() => {\n                            message.error('Lỗi khi xóa đơn hàng');\n                            reject();\n                        });\n                }).catch(() => console.log('Oops errors!'));\n            },\n        });\n    };\n\n    const disableEdit = checkEditOrder(order);\n\n    const menu = (\n        <Menu>\n            <Menu.Item key=\"0\">\n                <Link to={`/orders/new/${order && order._id}`}>Đặt lại</Link>\n            </Menu.Item>\n            {}\n            <Menu.Item key=\"1\" disabled={disableEdit || !!get(order, 'paidAt')}>\n                {disableEdit ? (\n                    'Sửa đơn hàng'\n                ) : (\n                    <Link to={`/orders/order/edit/${order && order._id}`}>Sửa đơn hàng</Link>\n                )}\n            </Menu.Item>\n            <Menu.Item\n                key=\"2\"\n                style={disableEdit ? {} : { color: '#f53d2d' }}\n                onClick={handleRemoveOrder}\n                disabled={disableEdit}\n            >\n                Xóa đơn hàng\n            </Menu.Item>\n        </Menu>\n    );\n\n    return (\n        <Dropdown overlay={menu} trigger={['click']}>\n            <BtnDropdown>Thao tác khác</BtnDropdown>\n        </Dropdown>\n    );\n};\n\nexport default OrderDropdownAction;\n"]},"metadata":{},"sourceType":"module"}