{"ast":null,"code":"var _jsxFileName = \"/Users/mac3/Desktop/workspace/StoreClient/src/pages/order/components/products-table/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { Table } from 'antd';\nimport { flatten, get } from 'lodash';\nimport React from 'react';\nimport formatMoney from '../../../../helper/format-money';\nimport { useOrderNew } from '../../create/state/context';\nimport { EStatusPage } from '../../create/state/interface';\nimport ChangeCount from './change-count';\nimport ProductRemoveBtn from './product-remove-btn';\nimport './product-table.less';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst columns_base = [{\n  title: 'Mã SP',\n  dataIndex: 'code',\n  key: 'code',\n  align: 'center',\n  width: 100,\n  render: code => code || '---'\n}, {\n  title: 'Tên sản phẩm',\n  dataIndex: '',\n  align: 'center',\n  key: 'product',\n  render: product => {\n    const version = flatten((get(product, 'attributes') || []).map(item => item.tags)).join(' - ');\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }, this), version.length > 0 && /*#__PURE__*/_jsxDEV(\"small\", {\n        children: version\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 44\n      }, this)]\n    }, void 0, true);\n  }\n}, {\n  title: 'Đơn giá',\n  dataIndex: 'price',\n  align: 'center',\n  key: 'price',\n  render: price => formatMoney(price)\n}, {\n  title: 'Số lượng',\n  dataIndex: '',\n  key: 'count',\n  align: 'center',\n  width: 150,\n  render: product => {\n    return /*#__PURE__*/_jsxDEV(ChangeCount, {\n      product: product\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 20\n    }, this);\n  }\n}, {\n  title: 'Thành tiền',\n  dataIndex: '',\n  key: 'totalMoney',\n  align: 'center',\n  render: ({\n    count,\n    price\n  }) => {\n    return formatMoney(count * price);\n  }\n}];\n\nconst ProductOrder = ({\n  products\n}) => {\n  _s();\n\n  const {\n    statusPage\n  } = useOrderNew();\n  const columns = statusPage === EStatusPage.DETAIL ? columns_base : [...columns_base, {\n    title: '',\n    dataIndex: '',\n    key: 'remove',\n    width: 60,\n    render: product => {\n      return /*#__PURE__*/_jsxDEV(ProductRemoveBtn, {\n        product: product\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 34\n      }, this);\n    }\n  }];\n  return /*#__PURE__*/_jsxDEV(Table, {\n    sticky: true,\n    dataSource: products,\n    columns: columns,\n    rowKey: item => item._id,\n    pagination: false,\n    bordered: true,\n    scroll: {\n      y: 350\n    },\n    className: \"order-product-table\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProductOrder, \"EVrJ6eS7iBYNLHAoos0ouSjSTOc=\", false, function () {\n  return [useOrderNew];\n});\n\n_c = ProductOrder;\nexport default ProductOrder;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductOrder\");","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/StoreClient/src/pages/order/components/products-table/index.tsx"],"names":["Table","flatten","get","React","formatMoney","useOrderNew","EStatusPage","ChangeCount","ProductRemoveBtn","columns_base","title","dataIndex","key","align","width","render","code","product","version","map","item","tags","join","name","length","price","count","ProductOrder","products","statusPage","columns","DETAIL","_id","y"],"mappings":"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","sourcesContent":["import { Table } from 'antd';\nimport { ColumnsType } from 'antd/lib/table';\nimport { flatten, get } from 'lodash';\nimport React, { FC } from 'react';\nimport formatMoney from '../../../../helper/format-money';\nimport { useOrderNew } from '../../create/state/context';\nimport { EStatusPage, IProductState } from '../../create/state/interface';\nimport ChangeCount from './change-count';\nimport ProductRemoveBtn from './product-remove-btn';\nimport './product-table.less';\n\ninterface Props {\n    products: IProductState[];\n}\n\nconst columns_base: ColumnsType<IProductState> = [\n    {\n        title: 'Mã SP',\n        dataIndex: 'code',\n        key: 'code',\n        align: 'center',\n        width: 100,\n        render: (code: string) => code || '---',\n    },\n\n    {\n        title: 'Tên sản phẩm',\n        dataIndex: '',\n        align: 'center',\n        key: 'product',\n        render: (product) => {\n            const version = flatten(\n                (get(product, 'attributes') || []).map((item: any) => item.tags)\n            ).join(' - ');\n            return (\n                <>\n                    <div>{product.name}</div>\n                    {version.length > 0 && <small>{version}</small>}\n                </>\n            );\n        },\n    },\n    {\n        title: 'Đơn giá',\n        dataIndex: 'price',\n        align: 'center',\n        key: 'price',\n        render: (price) => formatMoney(price),\n    },\n\n    {\n        title: 'Số lượng',\n        dataIndex: '',\n        key: 'count',\n        align: 'center',\n        width: 150,\n        render: (product) => {\n            return <ChangeCount product={product} />;\n        },\n    },\n    {\n        title: 'Thành tiền',\n        dataIndex: '',\n        key: 'totalMoney',\n        align: 'center',\n        render: ({ count, price }) => {\n            return formatMoney(count * price);\n        },\n    },\n];\n\nconst ProductOrder: FC<Props> = ({ products }) => {\n    const { statusPage } = useOrderNew();\n\n    const columns: ColumnsType<IProductState> =\n        statusPage === EStatusPage.DETAIL\n            ? columns_base\n            : [\n                  ...columns_base,\n                  {\n                      title: '',\n                      dataIndex: '',\n                      key: 'remove',\n                      width: 60,\n                      render: (product) => {\n                          return <ProductRemoveBtn product={product} />;\n                      },\n                  },\n              ];\n\n    return (\n        <Table\n            sticky\n            dataSource={products}\n            columns={columns}\n            rowKey={(item: IProductState) => item._id as string}\n            pagination={false}\n            bordered\n            scroll={{\n                y: 350,\n            }}\n            className=\"order-product-table\"\n        />\n    );\n};\n\nexport default ProductOrder;\n"]},"metadata":{},"sourceType":"module"}