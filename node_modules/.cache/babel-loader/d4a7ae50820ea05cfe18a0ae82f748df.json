{"ast":null,"code":"module.exports =\n/******/\nfunction (modules) {\n  // webpackBootstrap\n\n  /******/\n  // The module cache\n\n  /******/\n  var installedModules = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n\n    /******/\n    // Check if module is in cache\n\n    /******/\n    if (installedModules[moduleId]) {\n      /******/\n      return installedModules[moduleId].exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = installedModules[moduleId] = {\n      /******/\n      i: moduleId,\n\n      /******/\n      l: false,\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Flag the module as loaded\n\n    /******/\n\n    module.l = true;\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /******/\n\n  /******/\n  // expose the modules object (__webpack_modules__)\n\n  /******/\n\n\n  __webpack_require__.m = modules;\n  /******/\n\n  /******/\n  // expose the module cache\n\n  /******/\n\n  __webpack_require__.c = installedModules;\n  /******/\n\n  /******/\n  // define getter function for harmony exports\n\n  /******/\n\n  __webpack_require__.d = function (exports, name, getter) {\n    /******/\n    if (!__webpack_require__.o(exports, name)) {\n      /******/\n      Object.defineProperty(exports, name, {\n        enumerable: true,\n        get: getter\n      });\n      /******/\n    }\n    /******/\n\n  };\n  /******/\n\n  /******/\n  // define __esModule on exports\n\n  /******/\n\n\n  __webpack_require__.r = function (exports) {\n    /******/\n    if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n      /******/\n      Object.defineProperty(exports, Symbol.toStringTag, {\n        value: 'Module'\n      });\n      /******/\n    }\n    /******/\n\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n    /******/\n  };\n  /******/\n\n  /******/\n  // create a fake namespace object\n\n  /******/\n  // mode & 1: value is a module id, require it\n\n  /******/\n  // mode & 2: merge all properties of value into the ns\n\n  /******/\n  // mode & 4: return value when already ns object\n\n  /******/\n  // mode & 8|1: behave like require\n\n  /******/\n\n\n  __webpack_require__.t = function (value, mode) {\n    /******/\n    if (mode & 1) value = __webpack_require__(value);\n    /******/\n\n    if (mode & 8) return value;\n    /******/\n\n    if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n    /******/\n\n    var ns = Object.create(null);\n    /******/\n\n    __webpack_require__.r(ns);\n    /******/\n\n\n    Object.defineProperty(ns, 'default', {\n      enumerable: true,\n      value: value\n    });\n    /******/\n\n    if (mode & 2 && typeof value != 'string') for (var key in value) __webpack_require__.d(ns, key, function (key) {\n      return value[key];\n    }.bind(null, key));\n    /******/\n\n    return ns;\n    /******/\n  };\n  /******/\n\n  /******/\n  // getDefaultExport function for compatibility with non-harmony modules\n\n  /******/\n\n\n  __webpack_require__.n = function (module) {\n    /******/\n    var getter = module && module.__esModule ?\n    /******/\n    function getDefault() {\n      return module['default'];\n    } :\n    /******/\n    function getModuleExports() {\n      return module;\n    };\n    /******/\n\n    __webpack_require__.d(getter, 'a', getter);\n    /******/\n\n\n    return getter;\n    /******/\n  };\n  /******/\n\n  /******/\n  // Object.prototype.hasOwnProperty.call\n\n  /******/\n\n\n  __webpack_require__.o = function (object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n  };\n  /******/\n\n  /******/\n  // __webpack_public_path__\n\n  /******/\n\n\n  __webpack_require__.p = \"\";\n  /******/\n\n  /******/\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n\n  return __webpack_require__(__webpack_require__.s = 49);\n  /******/\n}(\n/************************************************************************/\n\n/******/\n[\n/* 0 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  if (false) {\n    var throwOnDirectAccess, ReactIs;\n  } else {\n    // By explicitly using `prop-types` you are opting into new production behavior.\n    // http://fb.me/prop-types-in-prod\n    module.exports = __webpack_require__(47)();\n  }\n  /***/\n\n},\n/* 1 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_MODULES a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const dialog = {\n      name: 'dialog',\n\n      /**\n       * @description Constructor\n       * @param {Object} core Core object \n       */\n      add: function (core) {\n        const context = core.context;\n        context.dialog = {\n          kind: '',\n          updateModal: false,\n          _closeSignal: false\n        };\n        /** dialog */\n\n        let dialog_div = core.util.createElement('DIV');\n        dialog_div.className = 'se-dialog sun-editor-common';\n        let dialog_back = core.util.createElement('DIV');\n        dialog_back.className = 'se-dialog-back';\n        dialog_back.style.display = 'none';\n        let dialog_area = core.util.createElement('DIV');\n        dialog_area.className = 'se-dialog-inner';\n        dialog_area.style.display = 'none';\n        dialog_div.appendChild(dialog_back);\n        dialog_div.appendChild(dialog_area);\n        context.dialog.modalArea = dialog_div;\n        context.dialog.back = dialog_back;\n        context.dialog.modal = dialog_area;\n        /** add event listeners */\n\n        context.dialog.modal.addEventListener('mousedown', this._onMouseDown_dialog.bind(core));\n        context.dialog.modal.addEventListener('click', this._onClick_dialog.bind(core));\n        /** append html */\n\n        context.element.relative.appendChild(dialog_div);\n        /** empty memory */\n\n        dialog_div = null, dialog_back = null, dialog_area = null;\n      },\n\n      /**\n       * @description Event to control the behavior of closing the dialog\n       * @param {MouseEvent} e Event object\n       * @private\n       */\n      _onMouseDown_dialog: function (e) {\n        if (/se-dialog-inner/.test(e.target.className)) {\n          this.context.dialog._closeSignal = true;\n        } else {\n          this.context.dialog._closeSignal = false;\n        }\n      },\n\n      /**\n       * @description Event to close the window when the outside area of the dialog or close button is click\n       * @param {MouseEvent} e Event object\n       * @private\n       */\n      _onClick_dialog: function (e) {\n        if (/close/.test(e.target.getAttribute('data-command')) || this.context.dialog._closeSignal) {\n          this.plugins.dialog.close.call(this);\n        }\n      },\n\n      /**\n       * @description Open a Dialog plugin\n       * @param {String} kind Dialog plugin name\n       * @param {Boolean} update Whether it will open for update ('image' === this.currentControllerName)\n       */\n      open: function (kind, update) {\n        if (this.modalForm) return false;\n\n        if (this.plugins.dialog._bindClose) {\n          this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\n\n          this.plugins.dialog._bindClose = null;\n        }\n\n        this.plugins.dialog._bindClose = function (e) {\n          if (!/27/.test(e.keyCode)) return;\n          this.plugins.dialog.close.call(this);\n        }.bind(this);\n\n        this._d.addEventListener('keydown', this.plugins.dialog._bindClose);\n\n        this.context.dialog.updateModal = update;\n\n        if (this.options.popupDisplay === 'full') {\n          this.context.dialog.modalArea.style.position = 'fixed';\n        } else {\n          this.context.dialog.modalArea.style.position = 'absolute';\n        }\n\n        this.context.dialog.kind = kind;\n        this.modalForm = this.context[kind].modal;\n        const focusElement = this.context[kind].focusElement;\n        if (typeof this.plugins[kind].on === 'function') this.plugins[kind].on.call(this, update);\n        this.context.dialog.modalArea.style.display = 'block';\n        this.context.dialog.back.style.display = 'block';\n        this.context.dialog.modal.style.display = 'block';\n        this.modalForm.style.display = 'block';\n        if (focusElement) focusElement.focus();\n      },\n      _bindClose: null,\n\n      /**\n       * @description Close a Dialog plugin\n       * The plugin's \"init\" method is called.\n       */\n      close: function () {\n        if (this.plugins.dialog._bindClose) {\n          this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\n\n          this.plugins.dialog._bindClose = null;\n        }\n\n        const kind = this.context.dialog.kind;\n        this.modalForm.style.display = 'none';\n        this.context.dialog.back.style.display = 'none';\n        this.context.dialog.modalArea.style.display = 'none';\n        this.context.dialog.updateModal = false;\n        if (typeof this.plugins[kind].init === 'function') this.plugins[kind].init.call(this);\n        this.context.dialog.kind = '';\n        this.modalForm = null;\n        this.focus();\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_MODULES) {\n        Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_MODULES, 'dialog', {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: dialog\n      });\n    }\n\n    return dialog;\n  });\n  /***/\n\n},\n/* 2 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_MODULES a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const component = {\n      name: 'component',\n\n      /**\n       * @description Create a container for the resizing component and insert the element.\n       * @param {Element} cover Cover element (FIGURE)\n       * @param {String} className Class name of container (fixed: se-component)\n       * @returns {Element} Created container element\n       */\n      set_container: function (cover, className) {\n        const container = this.util.createElement('DIV');\n        container.className = 'se-component ' + className;\n        container.setAttribute('contenteditable', false);\n        container.appendChild(cover);\n        return container;\n      },\n\n      /**\n       * @description Cover the target element with a FIGURE element.\n       * @param {Element} element Target element\n       */\n      set_cover: function (element) {\n        const cover = this.util.createElement('FIGURE');\n        cover.appendChild(element);\n        return cover;\n      },\n\n      /**\n       * @description Return HTML string of caption(FIGCAPTION) element\n       * @returns {String}\n       */\n      create_caption: function () {\n        const caption = this.util.createElement('FIGCAPTION');\n        caption.setAttribute('contenteditable', true);\n        caption.innerHTML = '<div>' + this.lang.dialogBox.caption + '</div>';\n        return caption;\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_MODULES) {\n        Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_MODULES, 'component', {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: component\n      });\n    }\n\n    return component;\n  });\n  /***/\n\n},\n/* 3 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_MODULES a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const fileManager = {\n      name: 'fileManager',\n      _xmlHttp: null,\n      _checkMediaComponent: function (tag) {\n        if (/IMG/i.test(tag)) {\n          return !/FIGURE/i.test(tag.parentElement.nodeName) || !/FIGURE/i.test(tag.parentElement.parentElement.nodeName);\n        } else if (/VIDEO/i.test(tag)) {\n          return !/FIGURE/i.test(tag.parentElement.nodeName);\n        }\n\n        return true;\n      },\n\n      /**\n       * @description Upload the file to the server.\n       * @param {String} uploadUrl Upload server url\n       * @param {Object|null} uploadHeader Request header\n       * @param {FormData} formData FormData in body\n       * @param {Function|null} callBack Success call back function\n       * @param {Function|null} errorCallBack Error call back function\n       * @example this.plugins.fileManager.upload.call(this, imageUploadUrl, this.options.imageUploadHeader, formData, this.plugins.image.callBack_imgUpload.bind(this, info), this.functions.onImageUploadError);\n       */\n      upload: function (uploadUrl, uploadHeader, formData, callBack, errorCallBack) {\n        this.showLoading();\n        const filePlugin = this.plugins.fileManager;\n        const xmlHttp = filePlugin._xmlHttp = this.util.getXMLHttpRequest();\n        xmlHttp.onreadystatechange = filePlugin._callBackUpload.bind(this, xmlHttp, callBack, errorCallBack);\n        xmlHttp.open('post', uploadUrl, true);\n\n        if (uploadHeader !== null && typeof uploadHeader === 'object' && this._w.Object.keys(uploadHeader).length > 0) {\n          for (let key in uploadHeader) {\n            xmlHttp.setRequestHeader(key, uploadHeader[key]);\n          }\n        }\n\n        xmlHttp.send(formData);\n      },\n      _callBackUpload: function (xmlHttp, callBack, errorCallBack) {\n        if (xmlHttp.readyState === 4) {\n          if (xmlHttp.status === 200) {\n            try {\n              callBack(xmlHttp);\n            } catch (e) {\n              throw Error('[SUNEDITOR.fileManager.upload.callBack.fail] cause : \"' + e.message + '\"');\n            } finally {\n              this.closeLoading();\n            }\n          } else {\n            // exception\n            this.closeLoading();\n            const res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\n\n            if (typeof errorCallBack !== 'function' || errorCallBack('', res, this)) {\n              const err = '[SUNEDITOR.fileManager.upload.serverException] status: ' + xmlHttp.status + ', response: ' + (res.errorMessage || xmlHttp.responseText);\n              this.functions.noticeOpen(err);\n              throw Error(err);\n            }\n          }\n        }\n      },\n\n      /**\n       * @description Checke the file's information and modify the tag that does not fit the format.\n       * @param {String} pluginName Plugin name\n       * @param {Array} tagNames Tag array to check\n       * @param {Function|null} uploadEventHandler Event handler to process updated file info after checking (used in \"setInfo\")\n       * @param {Function} modifyHandler A function to modify a tag that does not fit the format (Argument value: Tag element)\n       * @param {Boolean} resizing True if the plugin is using a resizing module\n       * @example \n       * const modifyHandler = function (tag) {\n       *      imagePlugin.onModifyMode.call(this, tag, null);\n       *      imagePlugin.openModify.call(this, true);\n       *      imagePlugin.update_image.call(this, true, false, true);\n       *  }.bind(this);\n       *  this.plugins.fileManager.checkInfo.call(this, 'image', ['img'], this.functions.onImageUpload, modifyHandler, true);\n       */\n      checkInfo: function (pluginName, tagNames, uploadEventHandler, modifyHandler, resizing) {\n        let tags = [];\n\n        for (let i = 0, len = tagNames.length; i < len; i++) {\n          tags = tags.concat([].slice.call(this.context.element.wysiwyg.getElementsByTagName(tagNames[i])));\n        }\n\n        const fileManagerPlugin = this.plugins.fileManager;\n        const context = this.context[pluginName];\n        const infoList = context._infoList;\n        const setFileInfo = fileManagerPlugin.setInfo.bind(this);\n\n        if (tags.length === infoList.length) {\n          // reset\n          if (this._componentsInfoReset) {\n            for (let i = 0, len = tags.length; i < len; i++) {\n              setFileInfo(pluginName, tags[i], uploadEventHandler, null, resizing);\n            }\n\n            return;\n          } else {\n            let infoUpdate = false;\n\n            for (let i = 0, len = infoList.length, info; i < len; i++) {\n              info = infoList[i];\n\n              if (tags.filter(function (t) {\n                return info.src === t.src && info.index.toString() === t.getAttribute('data-index');\n              }).length === 0) {\n                infoUpdate = true;\n                break;\n              }\n            } // pass\n\n\n            if (!infoUpdate) return;\n          }\n        } // check\n\n\n        const _resize_plugin = resizing ? this.context.resizing._resize_plugin : '';\n\n        if (resizing) this.context.resizing._resize_plugin = pluginName;\n        const currentTags = [];\n        const infoIndex = [];\n\n        for (let i = 0, len = infoList.length; i < len; i++) {\n          infoIndex[i] = infoList[i].index;\n        }\n\n        for (let i = 0, len = tags.length, tag; i < len; i++) {\n          tag = tags[i];\n\n          if (!this.util.getParentElement(tag, this.util.isMediaComponent) || !fileManagerPlugin._checkMediaComponent(tag)) {\n            currentTags.push(context._infoIndex);\n            modifyHandler(tag);\n          } else if (!tag.getAttribute('data-index') || infoIndex.indexOf(tag.getAttribute('data-index') * 1) < 0) {\n            currentTags.push(context._infoIndex);\n            tag.removeAttribute('data-index');\n            setFileInfo(pluginName, tag, uploadEventHandler, null, resizing);\n          } else {\n            currentTags.push(tag.getAttribute('data-index') * 1);\n          }\n        }\n\n        for (let i = 0, dataIndex; i < infoList.length; i++) {\n          dataIndex = infoList[i].index;\n          if (currentTags.indexOf(dataIndex) > -1) continue;\n          infoList.splice(i, 1);\n          if (typeof uploadEventHandler === 'function') uploadEventHandler(null, dataIndex, 'delete', null, 0, this);\n          i--;\n        }\n\n        if (resizing) this.context.resizing._resize_plugin = _resize_plugin;\n      },\n\n      /**\n       * @description Create info object of file and add it to \"_infoList\" (this.context[pluginName]._infoList[])\n       * @param {String} pluginName Plugin name \n       * @param {Element} element \n       * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\n       * @param {Object|null} file \n       * @param {Boolean} resizing True if the plugin is using a resizing module\n       * @example \n       * uploadCallBack {.. file = { name: fileList[i].name, size: fileList[i].size };\n       * this.plugins.fileManager.setInfo.call(this, 'image', oImg, this.functions.onImageUpload, file, true);\n       */\n      setInfo: function (pluginName, element, uploadEventHandler, file, resizing) {\n        const _resize_plugin = resizing ? this.context.resizing._resize_plugin : '';\n\n        if (resizing) this.context.resizing._resize_plugin = pluginName;\n        const plguin = this.plugins[pluginName];\n        const context = this.context[pluginName];\n        const infoList = context._infoList;\n        let dataIndex = element.getAttribute('data-index');\n        let info = null;\n        let state = '';\n\n        if (!file) {\n          file = {\n            'name': element.getAttribute('data-file-name') || (typeof element.src === 'string' ? element.src.split('/').pop() : ''),\n            'size': element.getAttribute('data-file-size') || 0\n          };\n        } // create\n\n\n        if (!dataIndex || this._componentsInfoInit) {\n          state = 'create';\n          dataIndex = context._infoIndex++;\n          element.setAttribute('data-index', dataIndex);\n          element.setAttribute('data-file-name', file.name);\n          element.setAttribute('data-file-size', file.size);\n          info = {\n            src: element.src,\n            index: dataIndex * 1,\n            name: file.name,\n            size: file.size\n          };\n          infoList.push(info);\n        } else {\n          // update\n          state = 'update';\n          dataIndex *= 1;\n\n          for (let i = 0, len = infoList.length; i < len; i++) {\n            if (dataIndex === infoList[i].index) {\n              info = infoList[i];\n              break;\n            }\n          }\n\n          if (!info) {\n            dataIndex = context._infoIndex++;\n            info = {\n              index: dataIndex\n            };\n            infoList.push(info);\n          }\n\n          info.src = element.src;\n          info.name = element.getAttribute(\"data-file-name\");\n          info.size = element.getAttribute(\"data-file-size\") * 1;\n        } // method bind\n\n\n        info.element = element;\n        info.delete = plguin.destroy.bind(this, element);\n\n        info.select = function (element) {\n          element.scrollIntoView(true);\n\n          this._w.setTimeout(plguin.select.bind(this, element));\n        }.bind(this, element);\n\n        if (resizing) {\n          if (!element.getAttribute('origin-size') && element.naturalWidth) {\n            element.setAttribute('origin-size', element.naturalWidth + ',' + element.naturalHeight);\n          }\n\n          if (!element.getAttribute('data-origin')) {\n            const container = this.util.getParentElement(element, this.util.isMediaComponent);\n            const cover = this.util.getParentElement(element, 'FIGURE');\n\n            const w = this.plugins.resizing._module_getSizeX.call(this, context, element, cover, container);\n\n            const h = this.plugins.resizing._module_getSizeY.call(this, context, element, cover, container);\n\n            element.setAttribute('data-origin', w + ',' + h);\n            element.setAttribute('data-size', w + ',' + h);\n          }\n\n          if (!element.style.width) {\n            const size = (element.getAttribute('data-size') || element.getAttribute('data-origin') || '').split(',');\n            plguin.onModifyMode.call(this, element, null);\n            plguin.applySize.call(this, size[0], size[1]);\n          }\n\n          this.context.resizing._resize_plugin = _resize_plugin;\n        }\n\n        if (typeof uploadEventHandler === 'function') uploadEventHandler(element, dataIndex, state, info, --context._uploadFileLength < 0 ? 0 : context._uploadFileLength, this);\n      },\n\n      /**\n       * @description Delete info object at \"_infoList\"\n       * @param {String} pluginName Plugin name \n       * @param {Number} index index of info object (this.context[pluginName]._infoList[].index)\n       * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\n       */\n      deleteInfo: function (pluginName, index, uploadEventHandler) {\n        if (index >= 0) {\n          const infoList = this.context[pluginName]._infoList;\n\n          for (let i = 0, len = infoList.length; i < len; i++) {\n            if (index === infoList[i].index) {\n              infoList.splice(i, 1);\n              if (typeof uploadEventHandler === 'function') uploadEventHandler(null, index, 'delete', null, 0, this);\n              return;\n            }\n          }\n        }\n      },\n\n      /**\n       * @description Reset info object and \"_infoList = []\", \"_infoIndex = 0\"\n       * @param {String} pluginName Plugin name \n       * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\n       */\n      resetInfo: function (pluginName, uploadEventHandler) {\n        const context = this.context[pluginName];\n\n        if (typeof uploadEventHandler === 'function') {\n          const infoList = context._infoList;\n\n          for (let i = 0, len = infoList.length; i < len; i++) {\n            uploadEventHandler(null, infoList[i].index, 'delete', null, 0, this);\n          }\n        }\n\n        context._infoList = [];\n        context._infoIndex = 0;\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_MODULES) {\n        Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_MODULES, 'fileManager', {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: fileManager\n      });\n    }\n\n    return fileManager;\n  });\n  /***/\n\n},\n/* 4 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'en',\n      toolbar: {\n        default: 'Default',\n        save: 'Save',\n        font: 'Font',\n        formats: 'Formats',\n        fontSize: 'Size',\n        bold: 'Bold',\n        underline: 'Underline',\n        italic: 'Italic',\n        strike: 'Strike',\n        subscript: 'Subscript',\n        superscript: 'Superscript',\n        removeFormat: 'Remove Format',\n        fontColor: 'Font Color',\n        hiliteColor: 'Highlight Color',\n        indent: 'Indent',\n        outdent: 'Outdent',\n        align: 'Align',\n        alignLeft: 'Align left',\n        alignRight: 'Align right',\n        alignCenter: 'Align center',\n        alignJustify: 'Align justify',\n        list: 'List',\n        orderList: 'Ordered list',\n        unorderList: 'Unordered list',\n        horizontalRule: 'Horizontal line',\n        hr_solid: 'Solid',\n        hr_dotted: 'Dotted',\n        hr_dashed: 'Dashed',\n        table: 'Table',\n        link: 'Link',\n        math: 'Math',\n        image: 'Image',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'Full screen',\n        showBlocks: 'Show blocks',\n        codeView: 'Code view',\n        undo: 'Undo',\n        redo: 'Redo',\n        preview: 'Preview',\n        print: 'print',\n        tag_p: 'Paragraph',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Header',\n        tag_blockquote: 'Quote',\n        tag_pre: 'Code',\n        template: 'Template',\n        lineHeight: 'Line height',\n        paragraphStyle: 'Paragraph style',\n        textStyle: 'Text style',\n        imageGallery: 'Image gallery',\n        mention: 'Mention'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Insert Link',\n          url: 'URL to link',\n          text: 'Text to display',\n          newWindowCheck: 'Open in new window',\n          downloadLinkCheck: 'Download link',\n          bookmark: 'Bookmark'\n        },\n        mathBox: {\n          title: 'Math',\n          inputLabel: 'Mathematical Notation',\n          fontSizeLabel: 'Font Size',\n          previewLabel: 'Preview'\n        },\n        imageBox: {\n          title: 'Insert image',\n          file: 'Select from files',\n          url: 'Image URL',\n          altText: 'Alternative text'\n        },\n        videoBox: {\n          title: 'Insert Video',\n          file: 'Select from files',\n          url: 'Media embed URL, YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Insert Audio',\n          file: 'Select from files',\n          url: 'Audio URL'\n        },\n        browser: {\n          tags: 'Tags',\n          search: 'Search'\n        },\n        caption: 'Insert description',\n        close: 'Close',\n        submitButton: 'Submit',\n        revertButton: 'Revert',\n        proportion: 'Constrain proportions',\n        basic: 'Basic',\n        left: 'Left',\n        right: 'Right',\n        center: 'Center',\n        width: 'Width',\n        height: 'Height',\n        size: 'Size',\n        ratio: 'Ratio'\n      },\n      controller: {\n        edit: 'Edit',\n        unlink: 'Unlink',\n        remove: 'Remove',\n        insertRowAbove: 'Insert row above',\n        insertRowBelow: 'Insert row below',\n        deleteRow: 'Delete row',\n        insertColumnBefore: 'Insert column before',\n        insertColumnAfter: 'Insert column after',\n        deleteColumn: 'Delete column',\n        fixedColumnWidth: 'Fixed column width',\n        resize100: 'Resize 100%',\n        resize75: 'Resize 75%',\n        resize50: 'Resize 50%',\n        resize25: 'Resize 25%',\n        autoSize: 'Auto size',\n        mirrorHorizontal: 'Mirror, Horizontal',\n        mirrorVertical: 'Mirror, Vertical',\n        rotateLeft: 'Rotate left',\n        rotateRight: 'Rotate right',\n        maxSize: 'Max size',\n        minSize: 'Min size',\n        tableHeader: 'Table header',\n        mergeCells: 'Merge cells',\n        splitCells: 'Split Cells',\n        HorizontalSplit: 'Horizontal split',\n        VerticalSplit: 'Vertical split'\n      },\n      menu: {\n        spaced: 'Spaced',\n        bordered: 'Bordered',\n        neon: 'Neon',\n        translucent: 'Translucent',\n        shadow: 'Shadow',\n        code: 'Code'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'en', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 5 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2018 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n  __webpack_exports__[\"a\"] = {\n    name: 'colorPicker',\n\n    /**\r\n     * @description Constructor\r\n     * @param {Object} core Core object \r\n     */\n    add: function (core) {\n      const context = core.context;\n      context.colorPicker = {\n        colorListHTML: '',\n        _colorInput: '',\n        _defaultColor: '#000',\n        _styleProperty: 'color',\n        _currentColor: '',\n        _colorList: []\n      };\n      /** set submenu */\n\n      context.colorPicker.colorListHTML = this.createColorList(core, this._makeColorList);\n    },\n\n    /**\r\n     * @description Create color list\r\n     * @param {Object} core Core object \r\n     * @param {Function} makeColor this._makeColorList\r\n     * @returns {String} HTML string\r\n     */\n    createColorList: function (core, makeColor) {\n      const option = core.options;\n      const lang = core.lang;\n      const colorList = !option.colorList || option.colorList.length === 0 ? ['#ff0000', '#ff5e00', '#ffe400', '#abf200', '#00d8ff', '#0055ff', '#6600ff', '#ff00dd', '#000000', '#ffd8d8', '#fae0d4', '#faf4c0', '#e4f7ba', '#d4f4fa', '#d9e5ff', '#e8d9ff', '#ffd9fa', '#f1f1f1', '#ffa7a7', '#ffc19e', '#faed7d', '#cef279', '#b2ebf4', '#b2ccff', '#d1b2ff', '#ffb2f5', '#bdbdbd', '#f15f5f', '#f29661', '#e5d85c', '#bce55c', '#5cd1e5', '#6699ff', '#a366ff', '#f261df', '#8c8c8c', '#980000', '#993800', '#998a00', '#6b9900', '#008299', '#003399', '#3d0099', '#990085', '#353535', '#670000', '#662500', '#665c00', '#476600', '#005766', '#002266', '#290066', '#660058', '#222222'] : option.colorList;\n      let colorArr = [];\n      let list = '<div class=\"se-list-inner\">';\n\n      for (let i = 0, len = colorList.length, color; i < len; i++) {\n        color = colorList[i];\n        if (!color) continue;\n\n        if (typeof color === 'string') {\n          colorArr.push(color);\n          if (i < len - 1) continue;\n        }\n\n        if (colorArr.length > 0) {\n          list += '<div class=\"se-selector-color\">' + makeColor(colorArr) + '</div>';\n          colorArr = [];\n        }\n\n        if (typeof color === 'object') {\n          list += '<div class=\"se-selector-color\">' + makeColor(color) + '</div>';\n        }\n      }\n\n      list += '' + '<form class=\"se-form-group\">' + '<input type=\"text\" maxlength=\"9\" class=\"_se_color_picker_input se-color-input\"/>' + '<button type=\"submit\" class=\"se-btn-primary _se_color_picker_submit\" title=\"' + lang.dialogBox.submitButton + '\">' + core.icons.checked + '</button>' + '<button type=\"button\" class=\"se-btn _se_color_picker_remove\" title=\"' + lang.toolbar.removeFormat + '\">' + core.icons.erase + '</button>' + '</form>' + '</div>';\n      return list;\n    },\n\n    /**\r\n     * @description Internal function used by this.createColorList\r\n     * @param {Array} colorList Color list\r\n     * @private\r\n     */\n    _makeColorList: function (colorList) {\n      let list = '';\n      list += '<ul class=\"se-color-pallet\">';\n\n      for (let i = 0, len = colorList.length, color; i < len; i++) {\n        color = colorList[i];\n\n        if (typeof color === 'string') {\n          list += '<li>' + '<button type=\"button\" data-value=\"' + color + '\" title=\"' + color + '\" style=\"background-color:' + color + ';\"></button>' + '</li>';\n        }\n      }\n\n      list += '</ul>';\n      return list;\n    },\n\n    /**\r\n     * @description Displays or resets the currently selected color at color list.\r\n     * @param {Node} node Current Selected node\r\n     * @param {String|null} color Color value\r\n     */\n    init: function (node, color) {\n      const colorPicker = this.plugins.colorPicker;\n      let fillColor = color ? color : colorPicker.getColorInNode.call(this, node) || this.context.colorPicker._defaultColor;\n      fillColor = colorPicker.isHexColor(fillColor) ? fillColor : colorPicker.rgb2hex(fillColor) || fillColor;\n      const colorList = this.context.colorPicker._colorList;\n\n      if (colorList) {\n        for (let i = 0, len = colorList.length; i < len; i++) {\n          if (fillColor.toLowerCase() === colorList[i].getAttribute('data-value').toLowerCase()) {\n            this.util.addClass(colorList[i], 'active');\n          } else {\n            this.util.removeClass(colorList[i], 'active');\n          }\n        }\n      }\n\n      colorPicker.setInputText.call(this, colorPicker.colorName2hex.call(this, fillColor));\n    },\n\n    /**\r\n     * @description Store color values\r\n     * @param {String} hexColorStr Hax color value\r\n     */\n    setCurrentColor: function (hexColorStr) {\n      this.context.colorPicker._currentColor = hexColorStr;\n      this.context.colorPicker._colorInput.style.borderColor = hexColorStr;\n    },\n\n    /**\r\n     * @description Set color at input element\r\n     * @param {String} hexColorStr Hax color value\r\n     */\n    setInputText: function (hexColorStr) {\n      hexColorStr = /^#/.test(hexColorStr) ? hexColorStr : '#' + hexColorStr;\n      this.context.colorPicker._colorInput.value = hexColorStr;\n      this.plugins.colorPicker.setCurrentColor.call(this, hexColorStr);\n    },\n\n    /**\r\n     * @description Gets color value at color property of node\r\n     * @param {Node} node Selected node \r\n     * @returns {String}\r\n     */\n    getColorInNode: function (node) {\n      let findColor = '';\n      const styleProperty = this.context.colorPicker._styleProperty;\n\n      while (node && !this.util.isWysiwygDiv(node) && findColor.length === 0) {\n        if (node.nodeType === 1 && node.style[styleProperty]) findColor = node.style[styleProperty];\n        node = node.parentNode;\n      }\n\n      return findColor;\n    },\n\n    /**\r\n     * @description Function to check hex format color\r\n     * @param {String} str Color value\r\n     */\n    isHexColor: function (str) {\n      return /^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(str);\n    },\n\n    /**\r\n     * @description Function to convert hex format to a rgb color\r\n     * @param {String} rgb RGB color format\r\n     * @returns {String}\r\n     */\n    rgb2hex: function (rgb) {\n      const rgbMatch = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n      return rgbMatch && rgbMatch.length === 4 ? \"#\" + (\"0\" + parseInt(rgbMatch[1], 10).toString(16)).slice(-2) + (\"0\" + parseInt(rgbMatch[2], 10).toString(16)).slice(-2) + (\"0\" + parseInt(rgbMatch[3], 10).toString(16)).slice(-2) : '';\n    },\n\n    /**\r\n     * @description Converts color values of other formats to hex color values and returns.\r\n     * @param {String} colorName Color value\r\n     * @returns {String}\r\n     */\n    colorName2hex: function (colorName) {\n      if (/^#/.test(colorName)) return colorName;\n      var temp = this.util.createElement('div');\n      temp.style.display = 'none';\n      temp.style.color = colorName;\n\n      var colors = this._w.getComputedStyle(this._d.body.appendChild(temp)).color.match(/\\d+/g).map(function (a) {\n        return parseInt(a, 10);\n      });\n\n      this.util.removeItem(temp);\n      return colors.length >= 3 ? '#' + ((1 << 24) + (colors[0] << 16) + (colors[1] << 8) + colors[2]).toString(16).substr(1) : false;\n    }\n  };\n  /***/\n},\n/* 6 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_MODULES a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const resizing = {\n      name: 'resizing',\n\n      /**\n       * @description Constructor\n       * Require context properties when resizing module\n          inputX: Element,\n          inputY: Element,\n          _container: null,\n          _cover: null,\n          _element: null,\n          _element_w: 1,\n          _element_h: 1,\n          _element_l: 0,\n          _element_t: 0,\n          _defaultSizeX: 'auto',\n          _defaultSizeY: 'auto',\n          _origin_w: core.options.imageWidth === 'auto' ? '' : core.options.imageWidth,\n          _origin_h: core.options.imageHeight === 'auto' ? '' : core.options.imageHeight,\n          _proportionChecked: true,\n          // -- select function --\n          _resizing: core.options.imageResizing,\n          _resizeDotHide: !core.options.imageHeightShow,\n          _rotation: core.options.imageRotation,\n          _onlyPercentage: core.options.imageSizeOnlyPercentage,\n          _ratio: false,\n          _ratioX: 1,\n          _ratioY: 1\n          _captionShow: true,\n          // -- when used caption (_captionShow: true) --\n          _caption: null,\n          _captionChecked: false,\n          captionCheckEl: null,\n       * @param {Object} core Core object \n       */\n      add: function (core) {\n        const icons = core.icons;\n        const context = core.context;\n        context.resizing = {\n          _resizeClientX: 0,\n          _resizeClientY: 0,\n          _resize_plugin: '',\n          _resize_w: 0,\n          _resize_h: 0,\n          _origin_w: 0,\n          _origin_h: 0,\n          _rotateVertical: false,\n          _resize_direction: '',\n          _move_path: null,\n          _isChange: false,\n          alignIcons: {\n            basic: icons.align_justify,\n            left: icons.align_left,\n            right: icons.align_right,\n            center: icons.align_center\n          }\n        };\n        /** resize controller, button */\n\n        let resize_div_container = this.setController_resize(core);\n        context.resizing.resizeContainer = resize_div_container;\n        context.resizing.resizeDiv = resize_div_container.querySelector('.se-modal-resize');\n        context.resizing.resizeDot = resize_div_container.querySelector('.se-resize-dot');\n        context.resizing.resizeDisplay = resize_div_container.querySelector('.se-resize-display');\n        let resize_button = this.setController_button(core);\n        context.resizing.resizeButton = resize_button;\n        let resize_handles = context.resizing.resizeHandles = context.resizing.resizeDot.querySelectorAll('span');\n        context.resizing.resizeButtonGroup = resize_button.querySelector('._se_resizing_btn_group');\n        context.resizing.rotationButtons = resize_button.querySelectorAll('._se_resizing_btn_group ._se_rotation');\n        context.resizing.percentageButtons = resize_button.querySelectorAll('._se_resizing_btn_group ._se_percentage');\n        context.resizing.alignMenu = resize_button.querySelector('.se-resizing-align-list');\n        context.resizing.alignMenuList = context.resizing.alignMenu.querySelectorAll('button');\n        context.resizing.alignButton = resize_button.querySelector('._se_resizing_align_button');\n        context.resizing.autoSizeButton = resize_button.querySelector('._se_resizing_btn_group ._se_auto_size');\n        context.resizing.captionButton = resize_button.querySelector('._se_resizing_caption_button');\n        /** add event listeners */\n\n        resize_div_container.addEventListener('mousedown', function (e) {\n          e.preventDefault();\n        });\n        resize_handles[0].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[1].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[2].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[3].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[4].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[5].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[6].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[7].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_button.addEventListener('click', this.onClick_resizeButton.bind(core));\n        /** append html */\n\n        context.element.relative.appendChild(resize_div_container);\n        context.element.relative.appendChild(resize_button);\n        /** empty memory */\n\n        resize_div_container = null, resize_button = null, resize_handles = null;\n      },\n\n      /** resize controller, button (image, iframe, video) */\n      setController_resize: function (core) {\n        const resize_container = core.util.createElement('DIV');\n        resize_container.className = 'se-controller se-resizing-container';\n        resize_container.style.display = 'none';\n        resize_container.innerHTML = '' + '<div class=\"se-modal-resize\"></div>' + '<div class=\"se-resize-dot\">' + '<span class=\"tl\"></span>' + '<span class=\"tr\"></span>' + '<span class=\"bl\"></span>' + '<span class=\"br\"></span>' + '<span class=\"lw\"></span>' + '<span class=\"th\"></span>' + '<span class=\"rw\"></span>' + '<span class=\"bh\"></span>' + '<div class=\"se-resize-display\"></div>' + '</div>';\n        return resize_container;\n      },\n      setController_button: function (core) {\n        const lang = core.lang;\n        const icons = core.icons;\n        const resize_button = core.util.createElement(\"DIV\");\n        resize_button.className = \"se-controller se-controller-resizing\";\n        resize_button.innerHTML = '' + '<div class=\"se-arrow se-arrow-up\"></div>' + '<div class=\"se-btn-group _se_resizing_btn_group\">' + '<button type=\"button\" data-command=\"percent\" data-value=\"1\" class=\"se-tooltip _se_percentage\">' + '<span>100%</span>' + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize100 + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"percent\" data-value=\"0.75\" class=\"se-tooltip _se_percentage\">' + '<span>75%</span>' + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize75 + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"percent\" data-value=\"0.5\" class=\"se-tooltip _se_percentage\">' + '<span>50%</span>' + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize50 + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"auto\" class=\"se-btn se-tooltip _se_auto_size\">' + icons.auto_size + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.autoSize + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"rotate\" data-value=\"-90\" class=\"se-btn se-tooltip _se_rotation\">' + icons.rotate_left + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.rotateLeft + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"rotate\" data-value=\"90\" class=\"se-btn se-tooltip _se_rotation\">' + icons.rotate_right + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.rotateRight + '</span></span>' + '</button>' + '</div>' + '<div class=\"se-btn-group\" style=\"padding-top: 0;\">' + '<button type=\"button\" data-command=\"mirror\" data-value=\"h\" class=\"se-btn se-tooltip\">' + icons.mirror_horizontal + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mirrorHorizontal + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"mirror\" data-value=\"v\" class=\"se-btn se-tooltip\">' + icons.mirror_vertical + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mirrorVertical + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"onalign\" class=\"se-btn se-tooltip _se_resizing_align_button\">' + icons.align_justify + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.align + '</span></span>' + '</button>' + '<div class=\"se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list\">' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"basic\">' + icons.align_justify + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.basic + '</span></span>' + '</button></li>' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"left\">' + icons.align_left + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.left + '</span></span>' + '</button></li>' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"center\">' + icons.align_center + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.center + '</span></span>' + '</button></li>' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"right\">' + icons.align_right + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.right + '</span></span>' + '</button></li>' + '</ul>' + '</div>' + '</div>' + '<button type=\"button\" data-command=\"caption\" class=\"se-btn se-tooltip _se_resizing_caption_button\">' + icons.caption + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.caption + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"revert\" class=\"se-btn se-tooltip\">' + icons.revert + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.revertButton + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"update\" class=\"se-btn se-tooltip\">' + icons.modify + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" class=\"se-btn se-tooltip\">' + icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>';\n        return resize_button;\n      },\n\n      /**\n       * @description Gets the width size\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       * @param {Element} element Target element\n       * @param {Element} cover Cover element (FIGURE)\n       * @param {Element} container Container element (DIV.se-component)\n       * @returns {String}\n       */\n      _module_getSizeX: function (contextPlugin, element, cover, container) {\n        if (!element) element = contextPlugin._element;\n        if (!cover) cover = contextPlugin._cover;\n        if (!container) container = contextPlugin._container;\n        if (!element) return '';\n        return !/%$/.test(element.style.width) ? element.style.width : (container && this.util.getNumber(container.style.width, 2) || 100) + '%';\n      },\n\n      /**\n       * @description Gets the height size\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       * @param {Element} element Target element\n       * @param {Element} cover Cover element (FIGURE)\n       * @param {Element} container Container element (DIV.se-component)\n       * @returns {String}\n       */\n      _module_getSizeY: function (contextPlugin, element, cover, container) {\n        if (!element) element = contextPlugin._element;\n        if (!cover) cover = contextPlugin._cover;\n        if (!container) container = contextPlugin._container;\n        if (!container || !cover) return element && element.style.height || '';\n        return this.util.getNumber(cover.style.paddingBottom, 0) > 0 && !this.context.resizing._rotateVertical ? cover.style.height : !/%$/.test(element.style.height) || !/%$/.test(element.style.width) ? element.style.height : (container && this.util.getNumber(container.style.height, 2) || 100) + '%';\n      },\n\n      /**\n       * @description Called at the \"openModify\" to put the size of the current target into the size input element.\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       * @param {Object} pluginObj Plugin object\n       */\n      _module_setModifyInputSize: function (contextPlugin, pluginObj) {\n        const percentageRotation = contextPlugin._onlyPercentage && this.context.resizing._rotateVertical;\n        contextPlugin.proportion.checked = contextPlugin._proportionChecked = contextPlugin._element.getAttribute('data-proportion') !== 'false';\n        let x = percentageRotation ? '' : this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\n        if (x === contextPlugin._defaultSizeX) x = '';\n        if (contextPlugin._onlyPercentage) x = this.util.getNumber(x, 2);\n        contextPlugin.inputX.value = x;\n        pluginObj.setInputSize.call(this, 'x');\n\n        if (!contextPlugin._onlyPercentage) {\n          let y = percentageRotation ? '' : this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\n          if (y === contextPlugin._defaultSizeY) y = '';\n          if (contextPlugin._onlyPercentage) y = this.util.getNumber(y, 2);\n          contextPlugin.inputY.value = y;\n        }\n\n        contextPlugin.inputX.disabled = percentageRotation ? true : false;\n        contextPlugin.inputY.disabled = percentageRotation ? true : false;\n        contextPlugin.proportion.disabled = percentageRotation ? true : false;\n        pluginObj.setRatio.call(this);\n      },\n\n      /**\n       * @description It is called in \"setInputSize\" (input tag keyupEvent), \n       * checks the value entered in the input tag, \n       * calculates the ratio, and sets the calculated value in the input tag of the opposite size.\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       * @param {String} xy 'x': width, 'y': height\n       */\n      _module_setInputSize: function (contextPlugin, xy) {\n        if (contextPlugin._onlyPercentage) {\n          if (xy === 'x' && contextPlugin.inputX.value > 100) contextPlugin.inputX.value = 100;\n          return;\n        }\n\n        if (contextPlugin.proportion.checked && contextPlugin._ratio && /\\d/.test(contextPlugin.inputX.value) && /\\d/.test(contextPlugin.inputY.value)) {\n          const xUnit = contextPlugin.inputX.value.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n          const yUnit = contextPlugin.inputY.value.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n          if (xUnit !== yUnit) return;\n          const dec = xUnit === '%' ? 2 : 0;\n\n          if (xy === 'x') {\n            contextPlugin.inputY.value = this.util.getNumber(contextPlugin._ratioY * this.util.getNumber(contextPlugin.inputX.value, dec), dec) + yUnit;\n          } else {\n            contextPlugin.inputX.value = this.util.getNumber(contextPlugin._ratioX * this.util.getNumber(contextPlugin.inputY.value, dec), dec) + xUnit;\n          }\n        }\n      },\n\n      /**\n       * @description It is called in \"setRatio\" (input and proportionCheck tags changeEvent), \n       * checks the value of the input tag, calculates the ratio, and resets it in the input tag.\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       */\n      _module_setRatio: function (contextPlugin) {\n        const xValue = contextPlugin.inputX.value;\n        const yValue = contextPlugin.inputY.value;\n\n        if (contextPlugin.proportion.checked && /\\d+/.test(xValue) && /\\d+/.test(yValue)) {\n          const xUnit = xValue.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n          const yUnit = yValue.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n\n          if (xUnit !== yUnit) {\n            contextPlugin._ratio = false;\n          } else if (!contextPlugin._ratio) {\n            const x = this.util.getNumber(xValue, 0);\n            const y = this.util.getNumber(yValue, 0);\n            contextPlugin._ratio = true;\n            contextPlugin._ratioX = x / y;\n            contextPlugin._ratioY = y / x;\n          }\n        } else {\n          contextPlugin._ratio = false;\n        }\n      },\n\n      /**\n       * @description Revert size of element to origin size (plugin._origin_w, plugin._origin_h)\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       */\n      _module_sizeRevert: function (contextPlugin) {\n        if (contextPlugin._onlyPercentage) {\n          contextPlugin.inputX.value = contextPlugin._origin_w > 100 ? 100 : contextPlugin._origin_w;\n        } else {\n          contextPlugin.inputX.value = contextPlugin._origin_w;\n          contextPlugin.inputY.value = contextPlugin._origin_h;\n        }\n      },\n\n      /**\n       * @description Save the size data (element.setAttribute(\"data-size\"))\n       * Used at the \"setSize\" method\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       */\n      _module_saveCurrentSize: function (contextPlugin) {\n        const x = this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\n\n        const y = this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\n\n        contextPlugin._element.setAttribute('data-size', x + ',' + y);\n\n        if (!!contextPlugin._videoRatio) contextPlugin._videoRatio = y;\n      },\n\n      /**\n       * @description Call the resizing module\n       * @param {Element} targetElement Resizing target element\n       * @param {string} plugin Plugin name\n       * @returns {Object} Size of resizing div {w, h, t, l}\n       */\n      call_controller_resize: function (targetElement, plugin) {\n        const contextResizing = this.context.resizing;\n        const contextPlugin = this.context[plugin];\n        contextResizing._resize_plugin = plugin;\n        const resizeContainer = contextResizing.resizeContainer;\n        const resizeDiv = contextResizing.resizeDiv;\n        const offset = this.util.getOffset(targetElement, this.context.element.wysiwygFrame);\n        const isVertical = contextResizing._rotateVertical = /^(90|270)$/.test(Math.abs(targetElement.getAttribute('data-rotate')).toString());\n        const w = isVertical ? targetElement.offsetHeight : targetElement.offsetWidth;\n        const h = isVertical ? targetElement.offsetWidth : targetElement.offsetHeight;\n        const t = offset.top;\n        const l = offset.left - this.context.element.wysiwygFrame.scrollLeft;\n        resizeContainer.style.top = t + 'px';\n        resizeContainer.style.left = l + 'px';\n        resizeContainer.style.width = w + 'px';\n        resizeContainer.style.height = h + 'px';\n        resizeDiv.style.top = '0px';\n        resizeDiv.style.left = '0px';\n        resizeDiv.style.width = w + 'px';\n        resizeDiv.style.height = h + 'px';\n        let align = targetElement.getAttribute('data-align') || 'basic';\n        align = align === 'none' ? 'basic' : align; // text\n\n        const container = this.util.getParentElement(targetElement, this.util.isComponent);\n        const cover = this.util.getParentElement(targetElement, 'FIGURE');\n        const displayX = this.plugins.resizing._module_getSizeX.call(this, contextPlugin, targetElement, cover, container) || 'auto';\n        const displayY = contextPlugin._onlyPercentage && plugin === 'image' ? '' : ', ' + (this.plugins.resizing._module_getSizeY.call(this, contextPlugin, targetElement, cover, container) || 'auto');\n        this.util.changeTxt(contextResizing.resizeDisplay, this.lang.dialogBox[align] + ' (' + displayX + displayY + ')'); // resizing display\n\n        contextResizing.resizeButtonGroup.style.display = contextPlugin._resizing ? '' : 'none';\n        const resizeDotShow = contextPlugin._resizing && !contextPlugin._resizeDotHide && !contextPlugin._onlyPercentage ? 'flex' : 'none';\n        const resizeHandles = contextResizing.resizeHandles;\n\n        for (let i = 0, len = resizeHandles.length; i < len; i++) {\n          resizeHandles[i].style.display = resizeDotShow;\n        }\n\n        if (contextPlugin._resizing) {\n          const rotations = contextResizing.rotationButtons;\n          rotations[0].style.display = rotations[1].style.display = contextPlugin._rotation ? '' : 'none';\n        } // align icon\n\n\n        const alignList = contextResizing.alignMenuList;\n        this.util.changeElement(contextResizing.alignButton.firstElementChild, contextResizing.alignIcons[align]);\n\n        for (let i = 0, len = alignList.length; i < len; i++) {\n          if (alignList[i].getAttribute('data-value') === align) this.util.addClass(alignList[i], 'on');else this.util.removeClass(alignList[i], 'on');\n        } // percentage active\n\n\n        const pButtons = contextResizing.percentageButtons;\n        const value = /%$/.test(targetElement.style.width) && /%$/.test(container.style.width) ? this.util.getNumber(container.style.width, 0) / 100 + '' : '';\n\n        for (let i = 0, len = pButtons.length; i < len; i++) {\n          if (pButtons[i].getAttribute('data-value') === value) {\n            this.util.addClass(pButtons[i], 'active');\n          } else {\n            this.util.removeClass(pButtons[i], 'active');\n          }\n        } // caption display, active\n\n\n        if (!contextPlugin._captionShow) {\n          contextResizing.captionButton.style.display = 'none';\n        } else {\n          contextResizing.captionButton.style.display = '';\n\n          if (this.util.getChildElement(targetElement.parentNode, 'figcaption')) {\n            this.util.addClass(contextResizing.captionButton, 'active');\n            contextPlugin._captionChecked = true;\n          } else {\n            this.util.removeClass(contextResizing.captionButton, 'active');\n            contextPlugin._captionChecked = false;\n          }\n        }\n\n        resizeContainer.style.display = 'block';\n        const addOffset = {\n          left: 0,\n          top: 50\n        };\n\n        if (this.options.iframe) {\n          addOffset.left -= this.context.element.wysiwygFrame.parentElement.offsetLeft;\n          addOffset.top -= this.context.element.wysiwygFrame.parentElement.offsetTop;\n        }\n\n        this.setControllerPosition(contextResizing.resizeButton, resizeContainer, 'bottom', addOffset);\n        this.controllersOn(resizeContainer, contextResizing.resizeButton, this.util.setDisabledButtons.bind(this, false, this.resizingDisabledButtons), targetElement, plugin);\n        this.util.setDisabledButtons(true, this.resizingDisabledButtons);\n        contextResizing._resize_w = w;\n        contextResizing._resize_h = h;\n        const originSize = (targetElement.getAttribute('origin-size') || '').split(',');\n        contextResizing._origin_w = originSize[0] || targetElement.naturalWidth;\n        contextResizing._origin_h = originSize[1] || targetElement.naturalHeight;\n        return {\n          w: w,\n          h: h,\n          t: t,\n          l: l\n        };\n      },\n      _closeAlignMenu: null,\n\n      /**\n       * @description Open align submenu of module\n       */\n      openAlignMenu: function () {\n        const alignButton = this.context.resizing.alignButton;\n        this.util.addClass(alignButton, 'on');\n        this.context.resizing.alignMenu.style.top = alignButton.offsetTop + alignButton.offsetHeight + 'px';\n        this.context.resizing.alignMenu.style.left = alignButton.offsetLeft - alignButton.offsetWidth / 2 + 'px';\n        this.context.resizing.alignMenu.style.display = 'block';\n\n        this.plugins.resizing._closeAlignMenu = function () {\n          this.util.removeClass(this.context.resizing.alignButton, 'on');\n          this.context.resizing.alignMenu.style.display = 'none';\n          this.removeDocEvent('click', this.plugins.resizing._closeAlignMenu);\n          this.plugins.resizing._closeAlignMenu = null;\n        }.bind(this);\n\n        this.addDocEvent('click', this.plugins.resizing._closeAlignMenu);\n      },\n\n      /**\n       * @description Click event of resizing toolbar\n       * Performs the action of the clicked toolbar button.\n       * @param {MouseEvent} e Event object\n       */\n      onClick_resizeButton: function (e) {\n        e.stopPropagation();\n        const target = e.target;\n        const command = target.getAttribute('data-command') || target.parentNode.getAttribute('data-command');\n        if (!command) return;\n        const value = target.getAttribute('data-value') || target.parentNode.getAttribute('data-value');\n        const pluginName = this.context.resizing._resize_plugin;\n        const currentContext = this.context[pluginName];\n        const contextEl = currentContext._element;\n        const currentModule = this.plugins[pluginName];\n        e.preventDefault();\n\n        if (typeof this.plugins.resizing._closeAlignMenu === 'function') {\n          this.plugins.resizing._closeAlignMenu();\n\n          if (command === 'onalign') return;\n        }\n\n        switch (command) {\n          case 'auto':\n            this.plugins.resizing.resetTransform.call(this, contextEl);\n            currentModule.setAutoSize.call(this);\n            this.selectComponent(contextEl, pluginName);\n            break;\n\n          case 'percent':\n            let percentY = this.plugins.resizing._module_getSizeY.call(this, currentContext);\n\n            if (this.context.resizing._rotateVertical) {\n              const percentage = contextEl.getAttribute('data-percentage');\n              if (percentage) percentY = percentage.split(',')[1];\n            }\n\n            this.plugins.resizing.resetTransform.call(this, contextEl);\n            currentModule.setPercentSize.call(this, value * 100, this.util.getNumber(percentY, 0) === null || !/%$/.test(percentY) ? '' : percentY);\n            this.selectComponent(contextEl, pluginName);\n            break;\n\n          case 'mirror':\n            const r = contextEl.getAttribute('data-rotate') || '0';\n            let x = contextEl.getAttribute('data-rotateX') || '';\n            let y = contextEl.getAttribute('data-rotateY') || '';\n\n            if (value === 'h' && !this.context.resizing._rotateVertical || value === 'v' && this.context.resizing._rotateVertical) {\n              y = y ? '' : '180';\n            } else {\n              x = x ? '' : '180';\n            }\n\n            contextEl.setAttribute('data-rotateX', x);\n            contextEl.setAttribute('data-rotateY', y);\n\n            this.plugins.resizing._setTransForm(contextEl, r, x, y);\n\n            break;\n\n          case 'rotate':\n            const contextResizing = this.context.resizing;\n            const slope = contextEl.getAttribute('data-rotate') * 1 + value * 1;\n            const deg = this._w.Math.abs(slope) >= 360 ? 0 : slope;\n            contextEl.setAttribute('data-rotate', deg);\n            contextResizing._rotateVertical = /^(90|270)$/.test(this._w.Math.abs(deg).toString());\n            this.plugins.resizing.setTransformSize.call(this, contextEl, null, null);\n            this.selectComponent(contextEl, pluginName);\n            break;\n\n          case 'onalign':\n            this.plugins.resizing.openAlignMenu.call(this);\n            return;\n\n          case 'align':\n            const alignValue = value === 'basic' ? 'none' : value;\n            currentModule.setAlign.call(this, alignValue, null, null, null);\n            this.selectComponent(contextEl, pluginName);\n            break;\n\n          case 'caption':\n            const caption = !currentContext._captionChecked;\n            currentModule.openModify.call(this, true);\n            currentContext._captionChecked = currentContext.captionCheckEl.checked = caption;\n            currentModule.update_image.call(this, false, false, false);\n\n            if (caption) {\n              const captionText = this.util.getChildElement(currentContext._caption, function (current) {\n                return current.nodeType === 3;\n              });\n\n              if (!captionText) {\n                currentContext._caption.focus();\n              } else {\n                this.setRange(captionText, 0, captionText, captionText.textContent.length);\n              }\n\n              this.controllersOff();\n            } else {\n              this.selectComponent(contextEl, pluginName);\n              currentModule.openModify.call(this, true);\n            }\n\n            break;\n\n          case 'revert':\n            currentModule.setOriginSize.call(this);\n            this.selectComponent(contextEl, pluginName);\n            break;\n\n          case 'update':\n            currentModule.openModify.call(this);\n            this.controllersOff();\n            break;\n\n          case 'delete':\n            currentModule.destroy.call(this);\n            break;\n        } // history stack\n\n\n        this.history.push(false);\n      },\n\n      /**\n       * @description Initialize the transform style (rotation) of the element.\n       * @param {Element} element Target element\n       */\n      resetTransform: function (element) {\n        const size = (element.getAttribute('data-size') || element.getAttribute('data-origin') || '').split(',');\n        this.context.resizing._rotateVertical = false;\n        element.style.maxWidth = '';\n        element.style.transform = '';\n        element.style.transformOrigin = '';\n        element.setAttribute('data-rotate', '');\n        element.setAttribute('data-rotateX', '');\n        element.setAttribute('data-rotateY', '');\n\n        this.plugins[this.context.resizing._resize_plugin].setSize.call(this, size[0] ? size[0] : 'auto', size[1] ? size[1] : '', true);\n      },\n\n      /**\n       * @description Set the transform style (rotation) of the element.\n       * @param {Element} element Target element\n       * @param {Number|null} width Element's width size\n       * @param {Number|null} height Element's height size\n       */\n      setTransformSize: function (element, width, height) {\n        let percentage = element.getAttribute('data-percentage');\n        const isVertical = this.context.resizing._rotateVertical;\n        const deg = element.getAttribute('data-rotate') * 1;\n        let transOrigin = '';\n\n        if (percentage && !isVertical) {\n          percentage = percentage.split(',');\n\n          if (percentage[0] === 'auto' && percentage[1] === 'auto') {\n            this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this);\n          } else {\n            this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this, percentage[0], percentage[1]);\n          }\n        } else {\n          const cover = this.util.getParentElement(element, 'FIGURE');\n          const offsetW = width || element.offsetWidth;\n          const offsetH = height || element.offsetHeight;\n          const w = (isVertical ? offsetH : offsetW) + 'px';\n          const h = (isVertical ? offsetW : offsetH) + 'px';\n\n          this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this);\n\n          this.plugins[this.context.resizing._resize_plugin].setSize.call(this, offsetW + 'px', offsetH + 'px', true);\n\n          cover.style.width = w;\n          cover.style.height = !!this.context[this.context.resizing._resize_plugin]._caption ? '' : h;\n\n          if (isVertical) {\n            let transW = offsetW / 2 + 'px ' + offsetW / 2 + 'px 0';\n            let transH = offsetH / 2 + 'px ' + offsetH / 2 + 'px 0';\n            transOrigin = deg === 90 || deg === -270 ? transH : transW;\n          }\n        }\n\n        element.style.transformOrigin = transOrigin;\n\n        this.plugins.resizing._setTransForm(element, deg.toString(), element.getAttribute('data-rotateX') || '', element.getAttribute('data-rotateY') || '');\n\n        if (isVertical) element.style.maxWidth = 'none';else element.style.maxWidth = '';\n        this.plugins.resizing.setCaptionPosition.call(this, element);\n      },\n      _setTransForm: function (element, r, x, y) {\n        let width = (element.offsetWidth - element.offsetHeight) * (/-/.test(r) ? 1 : -1);\n        let translate = '';\n\n        if (/[1-9]/.test(r) && (x || y)) {\n          translate = x ? 'Y' : 'X';\n\n          switch (r) {\n            case '90':\n              translate = x && y ? 'X' : y ? translate : '';\n              break;\n\n            case '270':\n              width *= -1;\n              translate = x && y ? 'Y' : x ? translate : '';\n              break;\n\n            case '-90':\n              translate = x && y ? 'Y' : x ? translate : '';\n              break;\n\n            case '-270':\n              width *= -1;\n              translate = x && y ? 'X' : y ? translate : '';\n              break;\n\n            default:\n              translate = '';\n          }\n        }\n\n        if (r % 180 === 0) {\n          element.style.maxWidth = '';\n        }\n\n        element.style.transform = 'rotate(' + r + 'deg)' + (x ? ' rotateX(' + x + 'deg)' : '') + (y ? ' rotateY(' + y + 'deg)' : '') + (translate ? ' translate' + translate + '(' + width + 'px)' : '');\n      },\n\n      /**\n       * @description The position of the caption is set automatically.\n       * @param {Element} element Target element (not caption element)\n       */\n      setCaptionPosition: function (element) {\n        const figcaption = this.util.getChildElement(this.util.getParentElement(element, 'FIGURE'), 'FIGCAPTION');\n\n        if (figcaption) {\n          figcaption.style.marginTop = (this.context.resizing._rotateVertical ? element.offsetWidth - element.offsetHeight : 0) + 'px';\n        }\n      },\n\n      /**\n       * @description Mouse down event of resize handles\n       * @param {MouseEvent} e Event object \n       */\n      onMouseDown_resize_handle: function (e) {\n        e.stopPropagation();\n        e.preventDefault();\n        const contextResizing = this.context.resizing;\n        const direction = contextResizing._resize_direction = e.target.classList[0];\n        contextResizing._resizeClientX = e.clientX;\n        contextResizing._resizeClientY = e.clientY;\n        this.context.element.resizeBackground.style.display = 'block';\n        contextResizing.resizeButton.style.display = 'none';\n        contextResizing.resizeDiv.style.float = /l/.test(direction) ? 'right' : /r/.test(direction) ? 'left' : 'none';\n\n        const closureFunc_bind = function closureFunc(e) {\n          if (e.type === 'keydown' && e.keyCode !== 27) return;\n          const change = contextResizing._isChange;\n          contextResizing._isChange = false;\n          this.removeDocEvent('mousemove', resizing_element_bind);\n          this.removeDocEvent('mouseup', closureFunc_bind);\n          this.removeDocEvent('keydown', closureFunc_bind);\n\n          if (e.type === 'keydown') {\n            this.controllersOff();\n            this.context.element.resizeBackground.style.display = 'none';\n\n            this.plugins[this.context.resizing._resize_plugin].init.call(this);\n          } else {\n            // element resize\n            this.plugins.resizing.cancel_controller_resize.call(this, direction); // history stack\n\n            if (change) this.history.push(false);\n          }\n        }.bind(this);\n\n        const resizing_element_bind = this.plugins.resizing.resizing_element.bind(this, contextResizing, direction, this.context[contextResizing._resize_plugin]);\n        this.addDocEvent('mousemove', resizing_element_bind);\n        this.addDocEvent('mouseup', closureFunc_bind);\n        this.addDocEvent('keydown', closureFunc_bind);\n      },\n\n      /**\n       * @description Mouse move event after call \"onMouseDown_resize_handle\" of resize handles\n       * The size of the module's \"div\" is adjusted according to the mouse move event.\n       * @param {Object} contextResizing \"core.context.resizing\" object (binding argument)\n       * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\") (binding argument)\n       * @param {Object} plugin \"core.context[currentPlugin]\" object (binding argument)\n       * @param {MouseEvent} e Event object\n       */\n      resizing_element: function (contextResizing, direction, plugin, e) {\n        const clientX = e.clientX;\n        const clientY = e.clientY;\n        let resultW = plugin._element_w;\n        let resultH = plugin._element_h;\n        const w = plugin._element_w + (/r/.test(direction) ? clientX - contextResizing._resizeClientX : contextResizing._resizeClientX - clientX);\n        const h = plugin._element_h + (/b/.test(direction) ? clientY - contextResizing._resizeClientY : contextResizing._resizeClientY - clientY);\n        const wh = plugin._element_h / plugin._element_w * w;\n        if (/t/.test(direction)) contextResizing.resizeDiv.style.top = plugin._element_h - (/h/.test(direction) ? h : wh) + 'px';\n        if (/l/.test(direction)) contextResizing.resizeDiv.style.left = plugin._element_w - w + 'px';\n\n        if (/r|l/.test(direction)) {\n          contextResizing.resizeDiv.style.width = w + 'px';\n          resultW = w;\n        }\n\n        if (/^(t|b)[^h]$/.test(direction)) {\n          contextResizing.resizeDiv.style.height = wh + 'px';\n          resultH = wh;\n        } else if (/^(t|b)h$/.test(direction)) {\n          contextResizing.resizeDiv.style.height = h + 'px';\n          resultH = h;\n        }\n\n        contextResizing._resize_w = resultW;\n        contextResizing._resize_h = resultH;\n        this.util.changeTxt(contextResizing.resizeDisplay, this._w.Math.round(resultW) + ' x ' + this._w.Math.round(resultH));\n        contextResizing._isChange = true;\n      },\n\n      /**\n       * @description Resize the element to the size of the \"div\" adjusted in the \"resizing_element\" method.\n       * Called at the mouse-up event registered in \"onMouseDown_resize_handle\".\n       * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\")\n       */\n      cancel_controller_resize: function (direction) {\n        const isVertical = this.context.resizing._rotateVertical;\n        this.controllersOff();\n        this.context.element.resizeBackground.style.display = 'none';\n\n        let w = this._w.Math.round(isVertical ? this.context.resizing._resize_h : this.context.resizing._resize_w);\n\n        let h = this._w.Math.round(isVertical ? this.context.resizing._resize_w : this.context.resizing._resize_h);\n\n        if (!isVertical && !/%$/.test(w)) {\n          const padding = 16;\n          const limit = this.context.element.wysiwygFrame.clientWidth - padding * 2 - 2;\n\n          if (this.util.getNumber(w, 0) > limit) {\n            h = this._w.Math.round(h / w * limit);\n            w = limit;\n          }\n        }\n\n        const pluginName = this.context.resizing._resize_plugin;\n        this.plugins[pluginName].setSize.call(this, w, h, false, direction);\n        if (isVertical) this.plugins.resizing.setTransformSize.call(this, this.context[this.context.resizing._resize_plugin]._element, w, h);\n        this.selectComponent(this.context[pluginName]._element, pluginName);\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_MODULES) {\n        Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_MODULES, 'resizing', {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: resizing\n      });\n    }\n\n    return resizing;\n  });\n  /***/\n\n},\n/* 7 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\"; // CONCATENATED MODULE: ./node_modules/suneditor/src/plugins/modules/_selectMenu.js\n\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2018 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n  var _selectMenu = {\n    name: 'selectMenu',\n    add: function (core) {\n      core.context.selectMenu = {\n        caller: {},\n        callerContext: null\n      };\n    },\n    setForm: function () {\n      return '<div class=\"se-select-list\"></div>';\n    },\n    createList: function (listContext, items, html) {\n      listContext.form.innerHTML = '<ul>' + html + '</ul>';\n      listContext.items = items;\n      listContext.menus = listContext.form.querySelectorAll('li');\n    },\n    initEvent: function (pluginName, forms) {\n      const form = forms.querySelector('.se-select-list');\n      const context = this.context.selectMenu.caller[pluginName] = {\n        form: form,\n        items: [],\n        menus: [],\n        index: -1,\n        item: null,\n        clickMethod: null,\n        callerName: pluginName\n      };\n      form.addEventListener('mousedown', this.plugins.selectMenu.onMousedown_list);\n      form.addEventListener('mousemove', this.plugins.selectMenu.onMouseMove_list.bind(this, context));\n      form.addEventListener('click', this.plugins.selectMenu.onClick_list.bind(this, context));\n    },\n    onMousedown_list: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    },\n    onMouseMove_list: function (context, e) {\n      this.util.addClass(context.form, '__se_select-menu-mouse-move');\n      const index = e.target.getAttribute('data-index');\n      if (!index) return;\n      context.index = index * 1;\n    },\n    onClick_list: function (context, e) {\n      const index = e.target.getAttribute('data-index');\n      if (!index) return;\n      context.clickMethod.call(this, context.items[index]);\n    },\n    moveItem: function (listContext, num) {\n      this.util.removeClass(listContext.form, '__se_select-menu-mouse-move');\n      num = listContext.index + num;\n      const menus = listContext.menus;\n      const len = menus.length;\n      const selectIndex = listContext.index = num >= len ? 0 : num < 0 ? len - 1 : num;\n\n      for (let i = 0; i < len; i++) {\n        if (i === selectIndex) {\n          this.util.addClass(menus[i], 'active');\n        } else {\n          this.util.removeClass(menus[i], 'active');\n        }\n      }\n\n      listContext.item = listContext.items[selectIndex];\n    },\n    getItem: function (listContext, index) {\n      index = !index || index < 0 ? listContext.index : index;\n      return listContext.items[index];\n    },\n    on: function (callerName, clickMethod) {\n      const listContext = this.context.selectMenu.caller[callerName];\n      this.context.selectMenu.callerContext = listContext;\n      listContext.clickMethod = clickMethod;\n      listContext.callerName = callerName;\n    },\n    open: function (listContext, positionHandler) {\n      const form = listContext.form;\n      form.style.visibility = 'hidden';\n      form.style.display = 'block';\n      positionHandler(form);\n      form.style.visibility = '';\n    },\n    close: function (listContext) {\n      listContext.form.style.display = 'none';\n      listContext.items = [];\n      listContext.menus = [];\n      listContext.index = -1;\n      listContext.item = null;\n    },\n    init: function (listContext) {\n      if (!listContext) return;\n      listContext.items = [];\n      listContext.menus = [];\n      listContext.index = -1;\n      listContext.item = null;\n      listContext.callerName = '';\n      this.context.selectMenu.callerContext = null;\n    }\n  }; // CONCATENATED MODULE: ./node_modules/suneditor/src/plugins/modules/_anchor.js\n\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n  var _anchor = __webpack_exports__[\"a\"] = {\n    name: 'anchor',\n    add: function (core) {\n      core.addModule([_selectMenu]);\n      core.context.anchor = {\n        caller: {},\n        forms: this.setDialogForm(core),\n        host: (core._w.location.origin + core._w.location.pathname).replace(/\\/$/, ''),\n        callerContext: null\n      };\n    },\n\n    /** dialog */\n    setDialogForm: function (core) {\n      const lang = core.lang;\n      const relList = core.options.linkRel;\n      const defaultRel = (core.options.linkRelDefault.default || '').split(' ');\n      const icons = core.icons;\n      const forms = core.util.createElement('DIV');\n      let html = '<div class=\"se-dialog-body\">' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.linkBox.url + '</label>' + '<div class=\"se-dialog-form-files\">' + '<input class=\"se-input-form se-input-url\" type=\"text\" placeholder=\"' + (core.options.protocol || '') + '\" />' + '<button type=\"button\" class=\"se-btn se-dialog-files-edge-button _se_bookmark_button\" title=\"' + lang.dialogBox.linkBox.bookmark + '\">' + icons.bookmark + '</button>' + core.plugins.selectMenu.setForm() + '</div>' + '<div class=\"se-anchor-preview-form\">' + '<span class=\"se-svg se-anchor-preview-icon _se_anchor_bookmark_icon\">' + icons.bookmark + '</span>' + '<span class=\"se-svg se-anchor-preview-icon _se_anchor_download_icon\">' + icons.download + '</span>' + '<pre class=\"se-link-preview\"></pre>' + '</div>' + '</div>' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.linkBox.text + '</label><input class=\"se-input-form _se_anchor_text\" type=\"text\" />' + '</div>' + '<div class=\"se-dialog-form-footer\">' + '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_anchor_check\" />&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + '</label>' + '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_anchor_download\" />&nbsp;' + lang.dialogBox.linkBox.downloadLinkCheck + '</label>';\n\n      if (relList.length > 0) {\n        html += '<div class=\"se-anchor-rel\"><button type=\"button\" class=\"se-btn se-btn-select se-anchor-rel-btn\">&lt;rel&gt;</button>' + '<div class=\"se-anchor-rel-wrapper\"><pre class=\"se-link-preview se-anchor-rel-preview\"></pre></div>' + '<div class=\"se-list-layer\">' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic se-list-checked\">';\n\n        for (let i = 0, len = relList.length, rel; i < len; i++) {\n          rel = relList[i];\n          html += '<li><button type=\"button\" class=\"se-btn-list' + (defaultRel.indexOf(rel) > -1 ? ' se-checked' : '') + '\" data-command=\"' + rel + '\" title=\"' + rel + '\"><span class=\"se-svg\">' + icons.checked + '</span>' + rel + '</button></li>';\n        }\n\n        html += '</ul></div></div></div>';\n      }\n\n      html += '</div></div>';\n      forms.innerHTML = html;\n      return forms;\n    },\n    initEvent: function (pluginName, forms) {\n      const anchorPlugin = this.plugins.anchor;\n      const context = this.context.anchor.caller[pluginName] = {\n        modal: forms,\n        urlInput: null,\n        linkDefaultRel: this.options.linkRelDefault,\n        defaultRel: this.options.linkRelDefault.default || '',\n        currentRel: [],\n        linkAnchor: null,\n        linkValue: '',\n        _change: false,\n        callerName: pluginName\n      };\n      if (typeof context.linkDefaultRel.default === 'string') context.linkDefaultRel.default = context.linkDefaultRel.default.trim();\n      if (typeof context.linkDefaultRel.check_new_window === 'string') context.linkDefaultRel.check_new_window = context.linkDefaultRel.check_new_window.trim();\n      if (typeof context.linkDefaultRel.check_bookmark === 'string') context.linkDefaultRel.check_bookmark = context.linkDefaultRel.check_bookmark.trim();\n      context.urlInput = forms.querySelector('.se-input-url');\n      context.anchorText = forms.querySelector('._se_anchor_text');\n      context.newWindowCheck = forms.querySelector('._se_anchor_check');\n      context.downloadCheck = forms.querySelector('._se_anchor_download');\n      context.download = forms.querySelector('._se_anchor_download_icon');\n      context.preview = forms.querySelector('.se-link-preview');\n      context.bookmark = forms.querySelector('._se_anchor_bookmark_icon');\n      context.bookmarkButton = forms.querySelector('._se_bookmark_button');\n      this.plugins.selectMenu.initEvent.call(this, pluginName, forms);\n      const listContext = this.context.selectMenu.caller[pluginName];\n      /** rel */\n\n      if (this.options.linkRel.length > 0) {\n        context.relButton = forms.querySelector('.se-anchor-rel-btn');\n        context.relList = forms.querySelector('.se-list-layer');\n        context.relPreview = forms.querySelector('.se-anchor-rel-preview');\n        context.relButton.addEventListener('click', anchorPlugin.onClick_relButton.bind(this, context));\n        context.relList.addEventListener('click', anchorPlugin.onClick_relList.bind(this, context));\n      }\n\n      context.newWindowCheck.addEventListener('change', anchorPlugin.onChange_newWindowCheck.bind(this, context));\n      context.downloadCheck.addEventListener('change', anchorPlugin.onChange_downloadCheck.bind(this, context));\n      context.anchorText.addEventListener('input', anchorPlugin.onChangeAnchorText.bind(this, context));\n      context.urlInput.addEventListener('input', anchorPlugin.onChangeUrlInput.bind(this, context));\n      context.urlInput.addEventListener('keydown', anchorPlugin.onKeyDownUrlInput.bind(this, listContext));\n      context.urlInput.addEventListener('focus', anchorPlugin.onFocusUrlInput.bind(this, context, listContext));\n      context.urlInput.addEventListener('blur', anchorPlugin.onBlurUrlInput.bind(this, listContext));\n      context.bookmarkButton.addEventListener('click', anchorPlugin.onClick_bookmarkButton.bind(this, context));\n    },\n    on: function (contextAnchor, update) {\n      if (!update) {\n        this.plugins.anchor.init.call(this, contextAnchor);\n        contextAnchor.anchorText.value = this.getSelection().toString();\n      } else if (contextAnchor.linkAnchor) {\n        this.context.dialog.updateModal = true;\n        const href = contextAnchor.linkAnchor.href;\n        contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = /\\#.+$/.test(href) ? href.substr(href.lastIndexOf('#')) : href;\n        contextAnchor.anchorText.value = contextAnchor.linkAnchor.textContent.trim() || contextAnchor.linkAnchor.getAttribute('alt');\n        contextAnchor.newWindowCheck.checked = /_blank/i.test(contextAnchor.linkAnchor.target) ? true : false;\n        contextAnchor.downloadCheck.checked = contextAnchor.linkAnchor.download;\n      }\n\n      this.context.anchor.callerContext = contextAnchor;\n      this.plugins.anchor.setRel.call(this, contextAnchor, update && contextAnchor.linkAnchor ? contextAnchor.linkAnchor.rel : contextAnchor.defaultRel);\n      this.plugins.anchor.setLinkPreview.call(this, contextAnchor, contextAnchor.linkValue);\n      this.plugins.selectMenu.on.call(this, contextAnchor.callerName, this.plugins.anchor.setHeaderBookmark);\n    },\n    _closeRelMenu: null,\n    toggleRelList: function (contextAnchor, show) {\n      if (!show) {\n        if (this.plugins.anchor._closeRelMenu) this.plugins.anchor._closeRelMenu();\n      } else {\n        const target = contextAnchor.relButton;\n        const relList = contextAnchor.relList;\n        this.util.addClass(target, 'active');\n        relList.style.visibility = 'hidden';\n        relList.style.display = 'block';\n        if (!this.options.rtl) relList.style.left = target.offsetLeft + target.offsetWidth + 1 + 'px';else relList.style.left = target.offsetLeft - relList.offsetWidth - 1 + 'px';\n        relList.style.top = target.offsetTop + target.offsetHeight / 2 - relList.offsetHeight / 2 + 'px';\n        relList.style.visibility = '';\n\n        this.plugins.anchor._closeRelMenu = function (context, target, e) {\n          if (e && (context.relButton.contains(e.target) || context.relList.contains(e.target))) return;\n          this.util.removeClass(target, 'active');\n          context.relList.style.display = 'none';\n          this.modalForm.removeEventListener('click', this.plugins.anchor._closeRelMenu);\n          this.plugins.anchor._closeRelMenu = null;\n        }.bind(this, contextAnchor, target);\n\n        this.modalForm.addEventListener('click', this.plugins.anchor._closeRelMenu);\n      }\n    },\n    onClick_relButton: function (contextAnchor, e) {\n      this.plugins.anchor.toggleRelList.call(this, contextAnchor, !this.util.hasClass(e.target, 'active'));\n    },\n    onClick_relList: function (contextAnchor, e) {\n      const target = e.target;\n      const cmd = target.getAttribute('data-command');\n      if (!cmd) return;\n      const current = contextAnchor.currentRel;\n      const checked = this.util.toggleClass(target, 'se-checked');\n      const index = current.indexOf(cmd);\n\n      if (checked) {\n        if (index === -1) current.push(cmd);\n      } else {\n        if (index > -1) current.splice(index, 1);\n      }\n\n      contextAnchor.relPreview.title = contextAnchor.relPreview.textContent = current.join(' ');\n    },\n    setRel: function (contextAnchor, relAttr) {\n      const relListEl = contextAnchor.relList;\n      const rels = contextAnchor.currentRel = !relAttr ? [] : relAttr.split(' ');\n      if (!relListEl) return;\n      const checkedRel = relListEl.querySelectorAll('button');\n\n      for (let i = 0, len = checkedRel.length, cmd; i < len; i++) {\n        cmd = checkedRel[i].getAttribute('data-command');\n\n        if (rels.indexOf(cmd) > -1) {\n          this.util.addClass(checkedRel[i], 'se-checked');\n        } else {\n          this.util.removeClass(checkedRel[i], 'se-checked');\n        }\n      }\n\n      contextAnchor.relPreview.title = contextAnchor.relPreview.textContent = rels.join(' ');\n    },\n    createHeaderList: function (contextAnchor, contextList, urlValue) {\n      const headers = this.util.getListChildren(this.context.element.wysiwyg, function (current) {\n        return /h[1-6]/i.test(current.nodeName);\n      });\n      if (headers.length === 0) return;\n      const valueRegExp = new this._w.RegExp('^' + urlValue.replace(/^#/, ''), 'i');\n      const list = [];\n      let html = '';\n\n      for (let i = 0, len = headers.length, h; i < len; i++) {\n        h = headers[i];\n        if (!valueRegExp.test(h.textContent)) continue;\n        list.push(h);\n        html += '<li class=\"se-select-item\" data-index=\"' + i + '\">' + h.textContent + '</li>';\n      }\n\n      if (list.length === 0) {\n        this.plugins.selectMenu.close.call(this, contextList);\n      } else {\n        this.plugins.selectMenu.createList(contextList, list, html);\n        this.plugins.selectMenu.open.call(this, contextList, this.plugins.anchor._setMenuListPosition.bind(this, contextAnchor));\n      }\n    },\n    _setMenuListPosition: function (contextAnchor, list) {\n      list.style.top = contextAnchor.urlInput.offsetHeight + 1 + 'px';\n    },\n    onKeyDownUrlInput: function (contextList, e) {\n      const keyCode = e.keyCode;\n\n      switch (keyCode) {\n        case 38:\n          // up\n          e.preventDefault();\n          e.stopPropagation();\n          this.plugins.selectMenu.moveItem.call(this, contextList, -1);\n          break;\n\n        case 40:\n          // down\n          e.preventDefault();\n          e.stopPropagation();\n          this.plugins.selectMenu.moveItem.call(this, contextList, 1);\n          break;\n\n        case 13:\n          // enter\n          if (contextList.index > -1) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.plugins.anchor.setHeaderBookmark.call(this, this.plugins.selectMenu.getItem(contextList, null));\n          }\n\n          break;\n      }\n    },\n    setHeaderBookmark: function (header) {\n      const contextAnchor = this.context.anchor.callerContext;\n\n      const id = header.id || 'h_' + this._w.Math.random().toString().replace(/.+\\./, '');\n\n      header.id = id;\n      contextAnchor.urlInput.value = '#' + id;\n\n      if (!contextAnchor.anchorText.value.trim() || !contextAnchor._change) {\n        contextAnchor.anchorText.value = header.textContent;\n      }\n\n      this.plugins.anchor.setLinkPreview.call(this, contextAnchor, contextAnchor.urlInput.value);\n      this.plugins.selectMenu.close.call(this, this.context.selectMenu.callerContext);\n      this.context.anchor.callerContext.urlInput.focus();\n    },\n    onChangeAnchorText: function (contextAnchor, e) {\n      contextAnchor._change = !!e.target.value.trim();\n    },\n    onChangeUrlInput: function (contextAnchor, e) {\n      const value = e.target.value.trim();\n      this.plugins.anchor.setLinkPreview.call(this, contextAnchor, value);\n      if (/^#/.test(value)) this.plugins.anchor.createHeaderList.call(this, contextAnchor, this.context.selectMenu.callerContext, value);else this.plugins.selectMenu.close.call(this, this.context.selectMenu.callerContext);\n    },\n    onFocusUrlInput: function (contextAnchor, contextLink) {\n      const value = contextAnchor.urlInput.value;\n      if (/^#/.test(value)) this.plugins.anchor.createHeaderList.call(this, contextAnchor, contextLink, value);\n    },\n    onBlurUrlInput: function (contextList) {\n      this.plugins.selectMenu.close.call(this, contextList);\n    },\n    setLinkPreview: function (context, value) {\n      const preview = context.preview;\n      const protocol = this.options.linkProtocol;\n      const reservedProtocol = /^(mailto\\:|tel\\:|sms\\:|https*\\:\\/\\/|#)/.test(value);\n      const sameProtocol = !protocol ? false : this._w.RegExp('^' + value.substr(0, protocol.length)).test(protocol);\n      context.linkValue = preview.textContent = !value ? '' : protocol && !reservedProtocol && !sameProtocol ? protocol + value : reservedProtocol ? value : /^www\\./.test(value) ? 'http://' + value : this.context.anchor.host + (/^\\//.test(value) ? '' : '/') + value;\n\n      if (value.indexOf('#') === 0) {\n        context.bookmark.style.display = 'block';\n        this.util.addClass(context.bookmarkButton, 'active');\n      } else {\n        context.bookmark.style.display = 'none';\n        this.util.removeClass(context.bookmarkButton, 'active');\n      }\n\n      if (value.indexOf('#') === -1 && context.downloadCheck.checked) {\n        context.download.style.display = 'block';\n      } else {\n        context.download.style.display = 'none';\n      }\n    },\n    setCtx: function (anchor, contextAnchor) {\n      if (!anchor) return;\n      contextAnchor.linkAnchor = anchor;\n      contextAnchor.linkValue = anchor.href;\n      contextAnchor.currentRel = anchor.rel.split(\" \");\n    },\n    updateAnchor: function (anchor, url, alt, contextAnchor, notText) {\n      // download\n      if (!/^\\#/.test(url) && contextAnchor.downloadCheck.checked) {\n        anchor.setAttribute('download', alt || url);\n      } else {\n        anchor.removeAttribute('download');\n      } // new window\n\n\n      if (contextAnchor.newWindowCheck.checked) anchor.target = '_blank';else anchor.removeAttribute('target'); // rel\n\n      const rel = contextAnchor.currentRel.join(' ');\n      if (!rel) anchor.removeAttribute('rel');else anchor.rel = rel; // est url, alt\n\n      anchor.href = url;\n      anchor.setAttribute('alt', alt);\n\n      if (notText) {\n        if (anchor.children.length === 0) anchor.textContent = '';\n      } else {\n        anchor.textContent = alt;\n      }\n    },\n    createAnchor: function (contextAnchor, notText) {\n      if (contextAnchor.linkValue.length === 0) return null;\n      const url = contextAnchor.linkValue;\n      const anchor = contextAnchor.anchorText;\n      const anchorText = anchor.value.length === 0 ? url : anchor.value;\n      const oA = contextAnchor.linkAnchor || this.util.createElement('A');\n      this.plugins.anchor.updateAnchor(oA, url, anchorText, contextAnchor, notText);\n      contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = contextAnchor.anchorText.value = '';\n      return oA;\n    },\n    onClick_bookmarkButton: function (contextAnchor) {\n      let url = contextAnchor.urlInput.value;\n\n      if (/^\\#/.test(url)) {\n        url = url.substr(1);\n        contextAnchor.bookmark.style.display = 'none';\n        this.util.removeClass(contextAnchor.bookmarkButton, 'active');\n        this.plugins.selectMenu.close.call(this, this.context.selectMenu.callerContext);\n      } else {\n        url = '#' + url;\n        contextAnchor.bookmark.style.display = 'block';\n        this.util.addClass(contextAnchor.bookmarkButton, 'active');\n        contextAnchor.downloadCheck.checked = false;\n        contextAnchor.download.style.display = 'none';\n        this.plugins.anchor.createHeaderList.call(this, contextAnchor, this.context.selectMenu.callerContext, url);\n      }\n\n      contextAnchor.urlInput.value = url;\n      this.plugins.anchor.setLinkPreview.call(this, contextAnchor, url);\n      contextAnchor.urlInput.focus();\n    },\n    onChange_newWindowCheck: function (contextAnchor, e) {\n      if (typeof contextAnchor.linkDefaultRel.check_new_window !== 'string') return;\n\n      if (e.target.checked) {\n        this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relMerge.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_new_window));\n      } else {\n        this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relDelete.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_new_window));\n      }\n    },\n    onChange_downloadCheck: function (contextAnchor, e) {\n      if (e.target.checked) {\n        contextAnchor.download.style.display = 'block';\n        contextAnchor.bookmark.style.display = 'none';\n        this.util.removeClass(contextAnchor.bookmarkButton, 'active');\n        contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = contextAnchor.urlInput.value.replace(/^\\#+/, '');\n\n        if (typeof contextAnchor.linkDefaultRel.check_bookmark === 'string') {\n          this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relMerge.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_bookmark));\n        }\n      } else {\n        contextAnchor.download.style.display = 'none';\n\n        if (typeof contextAnchor.linkDefaultRel.check_bookmark === 'string') {\n          this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relDelete.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_bookmark));\n        }\n      }\n    },\n    _relMerge: function (contextAnchor, relAttr) {\n      const current = contextAnchor.currentRel;\n      if (!relAttr) return current.join(' ');\n\n      if (/^only\\:/.test(relAttr)) {\n        relAttr = relAttr.replace(/^only\\:/, '').trim();\n        contextAnchor.currentRel = relAttr.split(' ');\n        return relAttr;\n      }\n\n      const rels = relAttr.split(' ');\n\n      for (let i = 0, len = rels.length, index; i < len; i++) {\n        index = current.indexOf(rels[i]);\n        if (index === -1) current.push(rels[i]);\n      }\n\n      return current.join(' ');\n    },\n    _relDelete: function (contextAnchor, relAttr) {\n      if (!relAttr) return contextAnchor.currentRel.join(' ');\n      if (/^only\\:/.test(relAttr)) relAttr = relAttr.replace(/^only\\:/, '').trim();\n      const rels = contextAnchor.currentRel.join(' ').replace(this._w.RegExp(relAttr + '\\\\s*'), '');\n      contextAnchor.currentRel = rels.split(' ');\n      return rels;\n    },\n    init: function (contextAnchor) {\n      contextAnchor.linkAnchor = null;\n      contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = '';\n      contextAnchor.anchorText.value = '';\n      contextAnchor.newWindowCheck.checked = false;\n      contextAnchor.downloadCheck.checked = false;\n      contextAnchor._change = false;\n      this.plugins.anchor.setRel.call(this, contextAnchor, contextAnchor.defaultRel);\n\n      if (contextAnchor.relList) {\n        this.plugins.anchor.toggleRelList.call(this, contextAnchor, false);\n      }\n\n      this.context.anchor.callerContext = null;\n      this.plugins.selectMenu.init.call(this, this.context.selectMenu.callerContext);\n    }\n  };\n  /***/\n\n},\n/* 8 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"react\");\n  /***/\n},\n/* 9 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG una finestra con un documento');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'it',\n      toolbar: {\n        default: 'Predefinita',\n        save: 'Salva',\n        font: 'Font',\n        formats: 'Formato',\n        fontSize: 'Grandezza',\n        bold: 'Grassetto',\n        underline: 'Sottolineato',\n        italic: 'Corsivo',\n        strike: 'Barrato',\n        subscript: 'Apice',\n        superscript: 'Pedice',\n        removeFormat: 'Rimuovi formattazione',\n        fontColor: 'Colore testo',\n        hiliteColor: 'Colore sottolineatura',\n        indent: 'Aumenta rientro',\n        outdent: 'Riduci rientro',\n        align: 'Allinea',\n        alignLeft: 'Allinea a sinistra',\n        alignRight: 'Allinea a destra',\n        alignCenter: 'Allinea al centro',\n        alignJustify: 'Giustifica testo',\n        list: 'Elenco',\n        orderList: 'Elenco numerato',\n        unorderList: 'Elenco puntato',\n        horizontalRule: 'Linea orizzontale',\n        hr_solid: 'Linea continua',\n        hr_dotted: 'Puntini',\n        hr_dashed: 'Trattini',\n        table: 'Tabella',\n        link: 'Collegamento ipertestuale',\n        math: 'Formula matematica',\n        image: 'Immagine',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'A tutto schermo',\n        showBlocks: 'Visualizza blocchi',\n        codeView: 'Visualizza codice',\n        undo: 'Annulla',\n        redo: 'Ripristina',\n        preview: 'Anteprima',\n        print: 'Stampa',\n        tag_p: 'Paragrafo',\n        tag_div: 'Normale (DIV)',\n        tag_h: 'Titolo',\n        tag_blockquote: 'Citazione',\n        tag_pre: 'Codice',\n        template: 'Modello',\n        lineHeight: 'Interlinea',\n        paragraphStyle: 'Stile paragrafo',\n        textStyle: 'Stile testo',\n        imageGallery: 'Galleria di immagini',\n        mention: 'Menzione'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Inserisci un link',\n          url: 'Indirizzo',\n          text: 'Testo da visualizzare',\n          newWindowCheck: 'Apri in una nuova finestra',\n          downloadLinkCheck: 'Link per scaricare',\n          bookmark: 'Segnalibro'\n        },\n        mathBox: {\n          title: 'Matematica',\n          inputLabel: 'Notazione matematica',\n          fontSizeLabel: 'Grandezza testo',\n          previewLabel: 'Anteprima'\n        },\n        imageBox: {\n          title: 'Inserisci immagine',\n          file: 'Seleziona da file',\n          url: 'Indirizzo immagine',\n          altText: 'Testo alternativo (ALT)'\n        },\n        videoBox: {\n          title: 'Inserisci video',\n          file: 'Seleziona da file',\n          url: 'Indirizzo video di embed, YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Inserisci audio',\n          file: 'Seleziona da file',\n          url: 'Indirizzo audio'\n        },\n        browser: {\n          tags: 'tag',\n          search: 'Ricerca'\n        },\n        caption: 'Inserisci didascalia',\n        close: 'Chiudi',\n        submitButton: 'Invia',\n        revertButton: 'Annulla',\n        proportion: 'Proporzionale',\n        basic: 'Da impostazione',\n        left: 'Sinistra',\n        right: 'Destra',\n        center: 'Centrato',\n        width: 'Larghezza',\n        height: 'Altezza',\n        size: 'Dimensioni',\n        ratio: 'Rapporto'\n      },\n      controller: {\n        edit: 'Modifica',\n        unlink: 'Elimina link',\n        remove: 'Rimuovi',\n        insertRowAbove: 'Inserisci riga sopra',\n        insertRowBelow: 'Inserisci riga sotto',\n        deleteRow: 'Cancella riga',\n        insertColumnBefore: 'Inserisci colonna prima',\n        insertColumnAfter: 'Inserisci colonna dopo',\n        deleteColumn: 'Cancella colonna',\n        fixedColumnWidth: 'Larghezza delle colonne fissa',\n        resize100: 'Ridimensiona 100%',\n        resize75: 'Ridimensiona 75%',\n        resize50: 'Ridimensiona 50%',\n        resize25: 'Ridimensiona 25%',\n        autoSize: 'Ridimensione automatica',\n        mirrorHorizontal: 'Capovolgi orizzontalmente',\n        mirrorVertical: 'Capovolgi verticalmente',\n        rotateLeft: 'Ruota a sinistra',\n        rotateRight: 'Ruota a destra',\n        maxSize: 'Dimensione massima',\n        minSize: 'Dimensione minima',\n        tableHeader: 'Intestazione tabella',\n        mergeCells: 'Unisci celle',\n        splitCells: 'Dividi celle',\n        HorizontalSplit: 'Separa orizontalmente',\n        VerticalSplit: 'Separa verticalmente'\n      },\n      menu: {\n        spaced: 'Spaziato',\n        bordered: 'Bordato',\n        neon: 'Luminoso',\n        translucent: 'Traslucido',\n        shadow: 'Ombra',\n        code: 'Codice'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'it', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 10 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_MODULES a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const fileBrowser = {\n      name: 'fileBrowser',\n      _xmlHttp: null,\n      _loading: null,\n\n      /**\n       * @description Constructor\n       * @param {Object} core Core object \n       */\n      add: function (core) {\n        const context = core.context;\n        context.fileBrowser = {\n          _closeSignal: false,\n          area: null,\n          header: null,\n          tagArea: null,\n          body: null,\n          list: null,\n          tagElements: null,\n          items: [],\n          selectedTags: [],\n          selectorHandler: null,\n          contextPlugin: '',\n          columnSize: 4\n        };\n        /** fileBrowser */\n\n        let browser_div = core.util.createElement('DIV');\n        browser_div.className = 'se-file-browser sun-editor-common';\n        let back = core.util.createElement('DIV');\n        back.className = 'se-file-browser-back';\n        let content = core.util.createElement('DIV');\n        content.className = 'se-file-browser-inner';\n        content.innerHTML = this.set_browser(core);\n        browser_div.appendChild(back);\n        browser_div.appendChild(content);\n        this._loading = browser_div.querySelector('.se-loading-box');\n        context.fileBrowser.area = browser_div;\n        context.fileBrowser.header = content.querySelector('.se-file-browser-header');\n        context.fileBrowser.titleArea = content.querySelector('.se-file-browser-title');\n        context.fileBrowser.tagArea = content.querySelector('.se-file-browser-tags');\n        context.fileBrowser.body = content.querySelector('.se-file-browser-body');\n        context.fileBrowser.list = content.querySelector('.se-file-browser-list');\n        /** add event listeners */\n\n        context.fileBrowser.tagArea.addEventListener('click', this.onClickTag.bind(core));\n        context.fileBrowser.list.addEventListener('click', this.onClickFile.bind(core));\n        content.addEventListener('mousedown', this._onMouseDown_browser.bind(core));\n        content.addEventListener('click', this._onClick_browser.bind(core));\n        /** append html */\n\n        context.element.relative.appendChild(browser_div);\n        /** empty memory */\n\n        browser_div = null, back = null, content = null;\n      },\n      set_browser: function (core) {\n        const lang = core.lang;\n        return '<div class=\"se-file-browser-content\">' + '<div class=\"se-file-browser-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-file-browser-close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + '</button>' + '<span class=\"se-file-browser-title\"></span>' + '<div class=\"se-file-browser-tags\"></div>' + '</div>' + '<div class=\"se-file-browser-body\">' + '<div class=\"se-loading-box sun-editor-common\"><div class=\"se-loading-effect\"></div></div>' + '<div class=\"se-file-browser-list\"></div>' + '</div>' + '</div>';\n      },\n\n      /**\n       * @description Event to control the behavior of closing the browser\n       * @param {MouseEvent} e Event object\n       * @private\n       */\n      _onMouseDown_browser: function (e) {\n        if (/se-file-browser-inner/.test(e.target.className)) {\n          this.context.fileBrowser._closeSignal = true;\n        } else {\n          this.context.fileBrowser._closeSignal = false;\n        }\n      },\n\n      /**\n       * @description Event to close the window when the outside area of the browser or close button is click\n       * @param {MouseEvent} e Event object\n       * @private\n       */\n      _onClick_browser: function (e) {\n        e.stopPropagation();\n\n        if (/close/.test(e.target.getAttribute('data-command')) || this.context.fileBrowser._closeSignal) {\n          this.plugins.fileBrowser.close.call(this);\n        }\n      },\n\n      /**\n       * @description Open a file browser plugin\n       * @param {String} pluginName Plugin name using the file browser\n       * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\n       */\n      open: function (pluginName, selectorHandler) {\n        if (this.plugins.fileBrowser._bindClose) {\n          this._d.removeEventListener('keydown', this.plugins.fileBrowser._bindClose);\n\n          this.plugins.fileBrowser._bindClose = null;\n        }\n\n        this.plugins.fileBrowser._bindClose = function (e) {\n          if (!/27/.test(e.keyCode)) return;\n          this.plugins.fileBrowser.close.call(this);\n        }.bind(this);\n\n        this._d.addEventListener('keydown', this.plugins.fileBrowser._bindClose);\n\n        const fileBrowserContext = this.context.fileBrowser;\n        fileBrowserContext.contextPlugin = pluginName;\n        fileBrowserContext.selectorHandler = selectorHandler;\n        const pluginContext = this.context[pluginName];\n        const listClassName = pluginContext.listClass;\n\n        if (!this.util.hasClass(fileBrowserContext.list, listClassName)) {\n          fileBrowserContext.list.className = 'se-file-browser-list ' + listClassName;\n        }\n\n        if (this.options.popupDisplay === 'full') {\n          fileBrowserContext.area.style.position = 'fixed';\n        } else {\n          fileBrowserContext.area.style.position = 'absolute';\n        }\n\n        fileBrowserContext.titleArea.textContent = pluginContext.title;\n        fileBrowserContext.area.style.display = 'block';\n\n        this.plugins.fileBrowser._drawFileList.call(this, this.context[pluginName].url, this.context[pluginName].header);\n      },\n      _bindClose: null,\n\n      /**\n       * @description Close a fileBrowser plugin\n       * The plugin's \"init\" method is called.\n       */\n      close: function () {\n        const fileBrowserPlugin = this.plugins.fileBrowser;\n\n        if (fileBrowserPlugin._xmlHttp) {\n          fileBrowserPlugin._xmlHttp.abort();\n        }\n\n        if (fileBrowserPlugin._bindClose) {\n          this._d.removeEventListener('keydown', fileBrowserPlugin._bindClose);\n\n          fileBrowserPlugin._bindClose = null;\n        }\n\n        const fileBrowserContext = this.context.fileBrowser;\n        fileBrowserContext.area.style.display = 'none';\n        fileBrowserContext.selectorHandler = null;\n        fileBrowserContext.selectedTags = [];\n        fileBrowserContext.items = [];\n        fileBrowserContext.list.innerHTML = fileBrowserContext.tagArea.innerHTML = fileBrowserContext.titleArea.textContent = '';\n        if (typeof this.plugins[fileBrowserContext.contextPlugin].init === 'function') this.plugins[fileBrowserContext.contextPlugin].init.call(this);\n        fileBrowserContext.contextPlugin = '';\n      },\n\n      /**\n       * @description Show file browser loading box\n       */\n      showBrowserLoading: function () {\n        this._loading.style.display = 'block';\n      },\n\n      /**\n       * @description Close file browser loading box\n       */\n      closeBrowserLoading: function () {\n        this._loading.style.display = 'none';\n      },\n      _drawFileList: function (url, browserHeader) {\n        const fileBrowserPlugin = this.plugins.fileBrowser;\n        const xmlHttp = fileBrowserPlugin._xmlHttp = this.util.getXMLHttpRequest();\n        xmlHttp.onreadystatechange = fileBrowserPlugin._callBackGet.bind(this, xmlHttp);\n        xmlHttp.open('get', url, true);\n\n        if (browserHeader !== null && typeof browserHeader === 'object' && this._w.Object.keys(browserHeader).length > 0) {\n          for (let key in browserHeader) {\n            xmlHttp.setRequestHeader(key, browserHeader[key]);\n          }\n        }\n\n        xmlHttp.send(null);\n        this.plugins.fileBrowser.showBrowserLoading();\n      },\n      _callBackGet: function (xmlHttp) {\n        if (xmlHttp.readyState === 4) {\n          this.plugins.fileBrowser._xmlHttp = null;\n\n          if (xmlHttp.status === 200) {\n            try {\n              this.plugins.fileBrowser._drawListItem.call(this, JSON.parse(xmlHttp.responseText).result, true);\n            } catch (e) {\n              throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : \"' + e.message + '\"');\n            } finally {\n              this.plugins.fileBrowser.closeBrowserLoading();\n              this.context.fileBrowser.body.style.maxHeight = this._w.innerHeight - this.context.fileBrowser.header.offsetHeight - 50 + 'px';\n            }\n          } else {\n            // exception\n            this.plugins.fileBrowser.closeBrowserLoading();\n\n            if (xmlHttp.status !== 0) {\n              const res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\n              const err = '[SUNEDITOR.fileBrowser.get.serverException] status: ' + xmlHttp.status + ', response: ' + (res.errorMessage || xmlHttp.responseText);\n              throw Error(err);\n            }\n          }\n        }\n      },\n      _drawListItem: function (items, update) {\n        const fileBrowserContext = this.context.fileBrowser;\n        const pluginContext = this.context[fileBrowserContext.contextPlugin];\n        const _tags = [];\n        const len = items.length;\n        const columnSize = pluginContext.columnSize || fileBrowserContext.columnSize;\n        const splitSize = columnSize <= 1 ? 1 : Math.round(len / columnSize) || 1;\n        const drawItemHandler = pluginContext.itemTemplateHandler;\n        let tagsHTML = '';\n        let listHTML = '<div class=\"se-file-item-column\">';\n        let columns = 1;\n\n        for (let i = 0, item, tags; i < len; i++) {\n          item = items[i];\n          tags = !item.tag ? [] : typeof item.tag === 'string' ? item.tag.split(',') : item.tag;\n          tags = item.tag = tags.map(function (v) {\n            return v.trim();\n          });\n          listHTML += drawItemHandler(item);\n\n          if ((i + 1) % splitSize === 0 && columns < columnSize && i + 1 < len) {\n            columns++;\n            listHTML += '</div><div class=\"se-file-item-column\">';\n          }\n\n          if (update && tags.length > 0) {\n            for (let t = 0, tLen = tags.length, tag; t < tLen; t++) {\n              tag = tags[t];\n\n              if (tag && _tags.indexOf(tag) === -1) {\n                _tags.push(tag);\n\n                tagsHTML += '<a title=\"' + tag + '\">' + tag + '</a>';\n              }\n            }\n          }\n        }\n\n        listHTML += '</div>';\n        fileBrowserContext.list.innerHTML = listHTML;\n\n        if (update) {\n          fileBrowserContext.items = items;\n          fileBrowserContext.tagArea.innerHTML = tagsHTML;\n          fileBrowserContext.tagElements = fileBrowserContext.tagArea.querySelectorAll('A');\n        }\n      },\n      onClickTag: function (e) {\n        const target = e.target;\n        if (!this.util.isAnchor(target)) return;\n        const tagName = target.textContent;\n        const fileBrowserPlugin = this.plugins.fileBrowser;\n        const fileBrowserContext = this.context.fileBrowser;\n        const selectTag = fileBrowserContext.tagArea.querySelector('a[title=\"' + tagName + '\"]');\n        const selectedTags = fileBrowserContext.selectedTags;\n        const sTagIndex = selectedTags.indexOf(tagName);\n\n        if (sTagIndex > -1) {\n          selectedTags.splice(sTagIndex, 1);\n          this.util.removeClass(selectTag, 'on');\n        } else {\n          selectedTags.push(tagName);\n          this.util.addClass(selectTag, 'on');\n        }\n\n        fileBrowserPlugin._drawListItem.call(this, selectedTags.length === 0 ? fileBrowserContext.items : fileBrowserContext.items.filter(function (item) {\n          return item.tag.some(function (tag) {\n            return selectedTags.indexOf(tag) > -1;\n          });\n        }), false);\n      },\n      onClickFile: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const fileBrowserContext = this.context.fileBrowser;\n        const listEl = fileBrowserContext.list;\n        let target = e.target;\n        let command = null;\n        if (target === listEl) return;\n\n        while (listEl !== target.parentNode) {\n          command = target.getAttribute('data-command');\n          if (command) break;\n          target = target.parentNode;\n        }\n\n        if (!command) return;\n        const handler = fileBrowserContext.selectorHandler || this.context[fileBrowserContext.contextPlugin].selectorHandler;\n        this.plugins.fileBrowser.close.call(this);\n        handler(target);\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_MODULES) {\n        Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_MODULES, 'fileBrowser', {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: fileBrowser\n      });\n    }\n\n    return fileBrowser;\n  });\n  /***/\n\n},\n/* 11 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'align',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const icons = core.icons;\n      const context = core.context;\n      context.align = {\n        targetButton: targetElement,\n        _alignList: null,\n        currentAlign: '',\n        defaultDir: core.options.rtl ? 'right' : 'left',\n        icons: {\n          justify: icons.align_justify,\n          left: icons.align_left,\n          right: icons.align_right,\n          center: icons.align_center\n        }\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu(core);\n      let listUl = listDiv.querySelector('ul');\n      /** add event listeners */\n\n      listUl.addEventListener('click', this.pickup.bind(core));\n      context.align._alignList = listUl.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null, listUl = null;\n    },\n    setSubmenu: function (core) {\n      const lang = core.lang;\n      const icons = core.icons;\n      const listDiv = core.util.createElement('DIV');\n      const leftDir = core.context.align.defaultDir === 'left';\n      const leftMenu = '<li>' + '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyleft\" data-value=\"left\" title=\"' + lang.toolbar.alignLeft + '\">' + '<span class=\"se-list-icon\">' + icons.align_left + '</span>' + lang.toolbar.alignLeft + '</button>' + '</li>';\n      const rightMenu = '<li>' + '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyright\" data-value=\"right\" title=\"' + lang.toolbar.alignRight + '\">' + '<span class=\"se-list-icon\">' + icons.align_right + '</span>' + lang.toolbar.alignRight + '</button>' + '</li>';\n      listDiv.className = 'se-submenu se-list-layer se-list-align';\n      listDiv.innerHTML = '' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + (leftDir ? leftMenu : rightMenu) + '<li>' + '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifycenter\" data-value=\"center\" title=\"' + lang.toolbar.alignCenter + '\">' + '<span class=\"se-list-icon\">' + icons.align_center + '</span>' + lang.toolbar.alignCenter + '</button>' + '</li>' + (leftDir ? rightMenu : leftMenu) + '<li>' + '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyfull\" data-value=\"justify\" title=\"' + lang.toolbar.alignJustify + '\">' + '<span class=\"se-list-icon\">' + icons.align_justify + '</span>' + lang.toolbar.alignJustify + '</button>' + '</li>' + '</ul>' + '</div>';\n      return listDiv;\n    },\n\n    /**\n     * @Override core\n     */\n    active: function (element) {\n      const alignContext = this.context.align;\n      const targetButton = alignContext.targetButton;\n      const target = targetButton.firstElementChild;\n\n      if (!element) {\n        this.util.changeElement(target, alignContext.icons[alignContext.defaultDir]);\n        targetButton.removeAttribute('data-focus');\n      } else if (this.util.isFormatElement(element)) {\n        const textAlign = element.style.textAlign;\n\n        if (textAlign) {\n          this.util.changeElement(target, alignContext.icons[textAlign] || alignContext.icons[alignContext.defaultDir]);\n          targetButton.setAttribute('data-focus', textAlign);\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * @Override submenu\n     */\n    on: function () {\n      const alignContext = this.context.align;\n      const alignList = alignContext._alignList;\n      const currentAlign = alignContext.targetButton.getAttribute('data-focus') || alignContext.defaultDir;\n\n      if (currentAlign !== alignContext.currentAlign) {\n        for (let i = 0, len = alignList.length; i < len; i++) {\n          if (currentAlign === alignList[i].getAttribute('data-value')) {\n            this.util.addClass(alignList[i], 'active');\n          } else {\n            this.util.removeClass(alignList[i], 'active');\n          }\n        }\n\n        alignContext.currentAlign = currentAlign;\n      }\n    },\n    pickup: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      let target = e.target;\n      let value = null;\n\n      while (!value && !/UL/i.test(target.tagName)) {\n        value = target.getAttribute('data-value');\n        target = target.parentNode;\n      }\n\n      if (!value) return;\n      const defaultDir = this.context.align.defaultDir;\n      const selectedFormsts = this.getSelectedElements();\n\n      for (let i = 0, len = selectedFormsts.length; i < len; i++) {\n        this.util.setStyle(selectedFormsts[i], 'textAlign', value === defaultDir ? '' : value);\n      }\n\n      this.effectNode = null;\n      this.submenuOff();\n      this.focus(); // history stack\n\n      this.history.push(false);\n    }\n  };\n  /***/\n},\n/* 12 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'math',\n    display: 'dialog',\n    add: function (core) {\n      core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a]);\n      const context = core.context;\n      context.math = {\n        focusElement: null,\n        // @Override dialog // This element has focus when the dialog is opened.\n        previewElement: null,\n        fontSizeElement: null,\n        defaultFontSize: '',\n        _mathExp: null\n      };\n      /** math dialog */\n\n      let math_dialog = this.setDialog(core);\n      context.math.modal = math_dialog;\n      context.math.focusElement = math_dialog.querySelector('.se-math-exp');\n      context.math.previewElement = math_dialog.querySelector('.se-math-preview');\n      context.math.fontSizeElement = math_dialog.querySelector('.se-math-size');\n      context.math.focusElement.addEventListener('keyup', this._renderMathExp.bind(core, context.math), false);\n      context.math.focusElement.addEventListener('change', this._renderMathExp.bind(core, context.math), false);\n      context.math.fontSizeElement.addEventListener('change', function (e) {\n        this.fontSize = e.target.value;\n      }.bind(context.math.previewElement.style), false);\n      /** math controller */\n\n      let math_controller = this.setController_MathButton(core);\n      context.math.mathController = math_controller;\n      context.math._mathExp = null;\n      /** add event listeners */\n\n      math_dialog.querySelector('form').addEventListener('submit', this.submit.bind(core), false);\n      math_controller.addEventListener('click', this.onClick_mathController.bind(core));\n      context.math.previewElement.style.fontSize = context.math.defaultFontSize;\n      /** append html */\n\n      context.dialog.modal.appendChild(math_dialog);\n      context.element.relative.appendChild(math_controller);\n      /** empty memory */\n\n      math_dialog = null, math_controller = null;\n    },\n\n    /** dialog */\n    setDialog: function (core) {\n      const lang = core.lang;\n      const dialog = core.util.createElement('DIV');\n      const fontSize = core.options.mathFontSize;\n      let defaultFontSize = fontSize[0].value;\n      dialog.className = 'se-dialog-content';\n      dialog.style.display = 'none';\n      let html = '' + '<form>' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.mathBox.title + '</span>' + '</div>' + '<div class=\"se-dialog-body\">' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.mathBox.inputLabel + ' (<a href=\"https://katex.org/docs/supported.html\" target=\"_blank\">KaTeX</a>)</label>' + '<textarea class=\"se-input-form se-math-exp\" type=\"text\"></textarea>' + '</div>' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.mathBox.fontSizeLabel + '</label>' + '<select class=\"se-input-select se-math-size\">';\n\n      for (let i = 0, len = fontSize.length, f; i < len; i++) {\n        f = fontSize[i];\n        if (f.default) defaultFontSize = f.value;\n        html += '<option value=\"' + f.value + '\"' + (f.default ? ' selected' : '') + '>' + f.text + '</option>';\n      }\n\n      html += '</select>' + '</div>' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.mathBox.previewLabel + '</label>' + '<p class=\"se-math-preview\"></p>' + '</div>' + '</div>' + '<div class=\"se-dialog-footer\">' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n      core.context.math.defaultFontSize = defaultFontSize;\n      dialog.innerHTML = html;\n      return dialog;\n    },\n\n    /** modify controller button */\n    setController_MathButton: function (core) {\n      const lang = core.lang;\n      const math_btn = core.util.createElement('DIV');\n      math_btn.className = 'se-controller se-controller-link';\n      math_btn.innerHTML = '' + '<div class=\"se-arrow se-arrow-up\"></div>' + '<div class=\"link-content\">' + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + core.icons.edit + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + core.icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>' + '</div>' + '';\n      return math_btn;\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    open: function () {\n      this.plugins.dialog.open.call(this, 'math', 'math' === this.currentControllerName);\n    },\n\n    /**\n     * @Override core - managedTagsInfo\n     */\n    managedTags: function () {\n      return {\n        className: 'katex',\n        method: function (element) {\n          if (!element.getAttribute('data-exp') || !this.options.katex) return;\n\n          const dom = this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this, this.util.HTMLDecoder(element.getAttribute('data-exp'))));\n\n          element.innerHTML = dom.querySelector('.katex').innerHTML;\n        }\n      };\n    },\n    _renderer: function (exp) {\n      const katex = this.options.katex;\n      return katex.src.renderToString(exp, katex.options);\n    },\n    _renderMathExp: function (contextMath, e) {\n      contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, e.target.value);\n    },\n    submit: function (e) {\n      this.showLoading();\n      e.preventDefault();\n      e.stopPropagation();\n\n      const submitAction = function () {\n        if (this.context.math.focusElement.value.trim().length === 0) return false;\n        const contextMath = this.context.math;\n        const mathExp = contextMath.focusElement.value;\n        const katexEl = contextMath.previewElement.querySelector('.katex');\n        if (!katexEl) return false;\n        katexEl.className = '__se__katex ' + katexEl.className;\n        katexEl.setAttribute('contenteditable', false);\n        katexEl.setAttribute('data-exp', this.util.HTMLEncoder(mathExp));\n        katexEl.setAttribute('data-font-size', contextMath.fontSizeElement.value);\n        katexEl.style.fontSize = contextMath.fontSizeElement.value;\n\n        if (!this.context.dialog.updateModal) {\n          const selectedFormats = this.getSelectedElements();\n\n          if (selectedFormats.length > 1) {\n            const oFormat = this.util.createElement(selectedFormats[0].nodeName);\n            oFormat.appendChild(katexEl);\n            if (!this.insertNode(oFormat, null, true)) return false;\n          } else {\n            if (!this.insertNode(katexEl, null, true)) return false;\n          }\n\n          const empty = this.util.createTextNode(this.util.zeroWidthSpace);\n          katexEl.parentNode.insertBefore(empty, katexEl.nextSibling);\n          this.setRange(katexEl, 0, katexEl, 1);\n        } else {\n          const containerEl = this.util.getParentElement(contextMath._mathExp, '.katex');\n          containerEl.parentNode.replaceChild(katexEl, containerEl);\n          this.setRange(katexEl, 0, katexEl, 1);\n        }\n\n        contextMath.focusElement.value = '';\n        contextMath.fontSizeElement.value = '1em';\n        contextMath.previewElement.style.fontSize = '1em';\n        contextMath.previewElement.innerHTML = '';\n        return true;\n      }.bind(this);\n\n      try {\n        if (submitAction()) {\n          this.plugins.dialog.close.call(this); // history stack\n\n          this.history.push(false);\n        }\n      } catch (e) {\n        this.plugins.dialog.close.call(this);\n      } finally {\n        this.closeLoading();\n      }\n\n      return false;\n    },\n    active: function (element) {\n      if (!element) {\n        if (this.controllerArray.indexOf(this.context.math.mathController) > -1) {\n          this.controllersOff();\n        }\n      } else if (element.getAttribute('data-exp')) {\n        if (this.controllerArray.indexOf(this.context.math.mathController) < 0) {\n          this.setRange(element, 0, element, 1);\n          this.plugins.math.call_controller.call(this, element);\n        }\n\n        return true;\n      }\n\n      return false;\n    },\n    on: function (update) {\n      if (!update) {\n        this.plugins.math.init.call(this);\n      } else {\n        const contextMath = this.context.math;\n\n        if (contextMath._mathExp) {\n          const exp = this.util.HTMLDecoder(contextMath._mathExp.getAttribute('data-exp'));\n          const fontSize = contextMath._mathExp.getAttribute('data-font-size') || '1em';\n          this.context.dialog.updateModal = true;\n          contextMath.focusElement.value = exp;\n          contextMath.fontSizeElement.value = fontSize;\n          contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, exp);\n          contextMath.previewElement.style.fontSize = fontSize;\n        }\n      }\n    },\n    call_controller: function (mathTag) {\n      this.context.math._mathExp = mathTag;\n      const mathBtn = this.context.math.mathController;\n      this.setControllerPosition(mathBtn, mathTag, 'bottom', {\n        left: 0,\n        top: 0\n      });\n      this.controllersOn(mathBtn, mathTag, 'math');\n    },\n    onClick_mathController: function (e) {\n      e.stopPropagation();\n      const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n      if (!command) return;\n      e.preventDefault();\n\n      if (/update/.test(command)) {\n        this.context.math.focusElement.value = this.util.HTMLDecoder(this.context.math._mathExp.getAttribute('data-exp'));\n        this.plugins.dialog.open.call(this, 'math', true);\n      } else {\n        /** delete */\n        this.util.removeItem(this.context.math._mathExp);\n        this.context.math._mathExp = null;\n        this.focus(); // history stack\n\n        this.history.push(false);\n      }\n\n      this.controllersOff();\n    },\n    init: function () {\n      const contextMath = this.context.math;\n      contextMath.mathController.style.display = 'none';\n      contextMath._mathExp = null;\n      contextMath.focusElement.value = '';\n      contextMath.previewElement.innerHTML = '';\n    }\n  };\n  /***/\n},\n/* 13 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);\n  /* harmony import */\n\n\n  var _modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'imageGallery',\n\n    /**\n     * @description Constructor\n     * @param {Object} core Core object \n     */\n    add: function (core) {\n      core.addModule([_modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0___default.a]);\n      const context = core.context;\n      context.imageGallery = {\n        title: core.lang.toolbar.imageGallery,\n        // @Required @Override fileBrowser - File browser window title.\n        url: core.options.imageGalleryUrl,\n        // @Required @Override fileBrowser - File server url.\n        header: core.options.imageGalleryHeader,\n        // @Required @Override fileBrowser - File server http header.\n        listClass: 'se-image-list',\n        // @Required @Override fileBrowser - Class name of list div.\n        itemTemplateHandler: this.drawItems,\n        // @Required @Override fileBrowser - Function that defines the HTML of an file item.\n        selectorHandler: this.setImage.bind(core),\n        // @Required @Override fileBrowser - Function that action when item click.\n        columnSize: 4 // @Option @Override fileBrowser - Number of \"div.se-file-item-column\" to be created (default: 4)\n\n      };\n    },\n\n    /**\n     * @Required @Override fileBrowser\n     * @description Open a file browser.\n     * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\n     */\n    open: function (selectorHandler) {\n      this.plugins.fileBrowser.open.call(this, 'imageGallery', selectorHandler);\n    },\n\n    /**\n     * @Required @Override fileBrowser\n     * @description Define the HTML of the item to be put in \"div.se-file-item-column\".\n     * Format: [\n     *      { src: \"image src\", name: \"name(@option)\", alt: \"image alt(@option)\", tag: \"tag name(@option)\" }\n     * ]\n     * @param {Object} item Item of the response data's array\n     */\n    drawItems: function (item) {\n      const srcName = item.src.split('/').pop();\n      return '<div class=\"se-file-item-img\"><img src=\"' + item.src + '\" alt=\"' + (item.alt || srcName) + '\" data-command=\"pick\">' + '<div class=\"se-file-img-name se-file-name-back\"></div>' + '<div class=\"se-file-img-name __se__img_name\">' + (item.name || srcName) + '</div>' + '</div>';\n    },\n    setImage: function (target) {\n      this.callPlugin('image', function () {\n        const file = {\n          name: target.parentNode.querySelector('.__se__img_name').textContent,\n          size: 0\n        };\n        this.context.image._altText = target.alt;\n        this.plugins.image.create_image.call(this, target.src, null, this.context.image._origin_w, this.context.image._origin_h, 'none', file);\n      }.bind(this), null);\n    }\n  };\n  /***/\n},\n/* 14 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'blockquote',\n    display: 'command',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.blockquote = {\n        targetButton: targetElement,\n        tag: core.util.createElement('BLOCKQUOTE')\n      };\n    },\n\n    /**\n     * @Override core\n     */\n    active: function (element) {\n      if (!element) {\n        this.util.removeClass(this.context.blockquote.targetButton, 'active');\n      } else if (/blockquote/i.test(element.nodeName)) {\n        this.util.addClass(this.context.blockquote.targetButton, 'active');\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n     * @Override core\n     */\n    action: function () {\n      const currentBlockquote = this.util.getParentElement(this.getSelectionNode(), 'blockquote');\n\n      if (currentBlockquote) {\n        this.detachRangeFormatElement(currentBlockquote, null, null, false, false);\n      } else {\n        this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(false));\n      }\n    }\n  };\n  /***/\n},\n/* 15 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'font',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.font = {\n        targetText: targetElement.querySelector('.txt'),\n        targetTooltip: targetElement.parentNode.querySelector('.se-tooltip-text'),\n        _fontList: null,\n        currentFont: ''\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu(core);\n      /** add event listeners */\n\n      listDiv.querySelector('.se-list-inner').addEventListener('click', this.pickup.bind(core));\n      context.font._fontList = listDiv.querySelectorAll('ul li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function (core) {\n      const option = core.options;\n      const lang = core.lang;\n      const listDiv = core.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer se-list-font-family';\n      let font, text, i, len;\n      let fontList = !option.font ? ['Arial', 'Comic Sans MS', 'Courier New', 'Impact', 'Georgia', 'tahoma', 'Trebuchet MS', 'Verdana'] : option.font;\n      let list = '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n\n      for (i = 0, len = fontList.length; i < len; i++) {\n        font = fontList[i];\n        text = font.split(',')[0];\n        list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + font + '\" data-txt=\"' + text + '\" title=\"' + text + '\" style=\"font-family:' + font + ';\">' + text + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\n    * @Override core\n    */\n    active: function (element) {\n      const target = this.context.font.targetText;\n      const tooltip = this.context.font.targetTooltip;\n\n      if (!element) {\n        const font = this.lang.toolbar.font;\n        this.util.changeTxt(target, font);\n        this.util.changeTxt(tooltip, font);\n      } else if (element.style && element.style.fontFamily.length > 0) {\n        const selectFont = element.style.fontFamily.replace(/[\"']/g, '');\n        this.util.changeTxt(target, selectFont);\n        this.util.changeTxt(tooltip, selectFont);\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n    * @Override submenu\n    */\n    on: function () {\n      const fontContext = this.context.font;\n      const fontList = fontContext._fontList;\n      const currentFont = fontContext.targetText.textContent;\n\n      if (currentFont !== fontContext.currentFont) {\n        for (let i = 0, len = fontList.length; i < len; i++) {\n          if (currentFont === fontList[i].getAttribute('data-value')) {\n            this.util.addClass(fontList[i], 'active');\n          } else {\n            this.util.removeClass(fontList[i], 'active');\n          }\n        }\n\n        fontContext.currentFont = currentFont;\n      }\n    },\n    pickup: function (e) {\n      if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n      e.preventDefault();\n      e.stopPropagation();\n      const value = e.target.getAttribute('data-value');\n\n      if (value) {\n        const newNode = this.util.createElement('SPAN');\n        newNode.style.fontFamily = value;\n        this.nodeChange(newNode, ['font-family'], null, null);\n      } else {\n        this.nodeChange(null, ['font-family'], ['span'], true);\n      }\n\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 16 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'fontColor',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      core.addModule([_modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__[\n      /* default */\n      \"a\"]]);\n      const context = core.context;\n      context.fontColor = {\n        previewEl: null,\n        colorInput: null,\n        colorList: null\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu(core);\n      context.fontColor.colorInput = listDiv.querySelector('._se_color_picker_input');\n      /** add event listeners */\n\n      context.fontColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\n      listDiv.querySelector('._se_color_picker_submit').addEventListener('click', this.submit.bind(core));\n      listDiv.querySelector('._se_color_picker_remove').addEventListener('click', this.remove.bind(core));\n      listDiv.addEventListener('click', this.pickup.bind(core));\n      context.fontColor.colorList = listDiv.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function (core) {\n      const colorArea = core.context.colorPicker.colorListHTML;\n      const listDiv = core.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      listDiv.innerHTML = colorArea;\n      return listDiv;\n    },\n\n    /**\r\n    * @Override submenu\r\n    */\n    on: function () {\n      const contextPicker = this.context.colorPicker;\n      const contextFontColor = this.context.fontColor;\n      contextPicker._colorInput = contextFontColor.colorInput;\n      const color = this.wwComputedStyle.color;\n      contextPicker._defaultColor = color ? this.plugins.colorPicker.isHexColor(color) ? color : this.plugins.colorPicker.rgb2hex(color) : \"#333333\";\n      contextPicker._styleProperty = 'color';\n      contextPicker._colorList = contextFontColor.colorList;\n      this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\n    },\n\n    /**\r\n    * @Override _colorPicker\r\n    */\n    onChangeInput: function (e) {\n      this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\n    },\n    submit: function () {\n      this.plugins.fontColor.applyColor.call(this, this.context.colorPicker._currentColor);\n    },\n    pickup: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.plugins.fontColor.applyColor.call(this, e.target.getAttribute('data-value'));\n    },\n    remove: function () {\n      this.nodeChange(null, ['color'], ['span'], true);\n      this.submenuOff();\n    },\n    applyColor: function (color) {\n      if (!color) return;\n      const newNode = this.util.createElement('SPAN');\n      newNode.style.color = color;\n      this.nodeChange(newNode, ['color'], null, null);\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 17 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'fontSize',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.fontSize = {\n        targetText: targetElement.querySelector('.txt'),\n        _sizeList: null,\n        currentSize: ''\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu(core);\n      let listUl = listDiv.querySelector('ul');\n      /** add event listeners */\n\n      listUl.addEventListener('click', this.pickup.bind(core));\n      context.fontSize._sizeList = listUl.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null, listUl = null;\n    },\n    setSubmenu: function (core) {\n      const option = core.options;\n      const lang = core.lang;\n      const listDiv = core.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer se-list-font-size';\n      const sizeList = !option.fontSize ? [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72] : option.fontSize;\n      let list = '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n\n      for (let i = 0, unit = option.fontSizeUnit, len = sizeList.length, size; i < len; i++) {\n        size = sizeList[i];\n        list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size + unit + '\" title=\"' + size + unit + '\" style=\"font-size:' + size + unit + ';\">' + size + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\n    * @Override core\n    */\n    active: function (element) {\n      if (!element) {\n        this.util.changeTxt(this.context.fontSize.targetText, this.lang.toolbar.fontSize);\n      } else if (element.style && element.style.fontSize.length > 0) {\n        this.util.changeTxt(this.context.fontSize.targetText, element.style.fontSize);\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n    * @Override submenu\n    */\n    on: function () {\n      const fontSizeContext = this.context.fontSize;\n      const sizeList = fontSizeContext._sizeList;\n      const currentSize = fontSizeContext.targetText.textContent;\n\n      if (currentSize !== fontSizeContext.currentSize) {\n        for (let i = 0, len = sizeList.length; i < len; i++) {\n          if (currentSize === sizeList[i].getAttribute('data-value')) {\n            this.util.addClass(sizeList[i], 'active');\n          } else {\n            this.util.removeClass(sizeList[i], 'active');\n          }\n        }\n\n        fontSizeContext.currentSize = currentSize;\n      }\n    },\n    pickup: function (e) {\n      if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n      e.preventDefault();\n      e.stopPropagation();\n      const value = e.target.getAttribute('data-value');\n\n      if (value) {\n        const newNode = this.util.createElement('SPAN');\n        newNode.style.fontSize = value;\n        this.nodeChange(newNode, ['font-size'], null, null);\n      } else {\n        this.nodeChange(null, ['font-size'], ['span'], true);\n      }\n\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 18 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'formatBlock',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.formatBlock = {\n        targetText: targetElement.querySelector('.txt'),\n        targetTooltip: targetElement.parentNode.querySelector('.se-tooltip-text'),\n        _formatList: null,\n        currentFormat: ''\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu(core);\n      /** add event listeners */\n\n      listDiv.querySelector('ul').addEventListener('click', this.pickUp.bind(core));\n      context.formatBlock._formatList = listDiv.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function (core) {\n      const option = core.options;\n      const lang_toolbar = core.lang.toolbar;\n      const listDiv = core.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer se-list-format';\n      const defaultFormats = ['p', 'div', 'blockquote', 'pre', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n      const formatList = !option.formats || option.formats.length === 0 ? defaultFormats : option.formats;\n      let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n\n      for (let i = 0, len = formatList.length, format, tagName, command, name, h, attrs, className; i < len; i++) {\n        format = formatList[i];\n\n        if (typeof format === 'string' && defaultFormats.indexOf(format) > -1) {\n          tagName = format.toLowerCase();\n          command = tagName === 'blockquote' ? 'range' : tagName === 'pre' ? 'free' : 'replace';\n          h = /^h/.test(tagName) ? tagName.match(/\\d+/)[0] : '';\n          name = lang_toolbar['tag_' + (h ? 'h' : tagName)] + h;\n          className = '';\n          attrs = '';\n        } else {\n          tagName = format.tag.toLowerCase();\n          command = format.command;\n          name = format.name || tagName;\n          className = format.class;\n          attrs = className ? ' class=\"' + className + '\"' : '';\n        }\n\n        list += '<li>' + '<button type=\"button\" class=\"se-btn-list\" data-command=\"' + command + '\" data-value=\"' + tagName + '\" data-class=\"' + className + '\" title=\"' + name + '\">' + '<' + tagName + attrs + '>' + name + '</' + tagName + '>' + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\n    * @Override core\n    */\n    active: function (element) {\n      let formatTitle = this.lang.toolbar.formats;\n      const target = this.context.formatBlock.targetText;\n      const tooltip = this.context.formatBlock.targetTooltip;\n\n      if (!element) {\n        this.util.changeTxt(target, formatTitle);\n        this.util.changeTxt(tooltip, formatTitle);\n      } else if (this.util.isFormatElement(element)) {\n        const formatContext = this.context.formatBlock;\n        const formatList = formatContext._formatList;\n        const nodeName = element.nodeName.toLowerCase();\n        const className = (element.className.match(/(\\s|^)__se__format__[^\\s]+/) || [''])[0].trim();\n\n        for (let i = 0, len = formatList.length, f; i < len; i++) {\n          f = formatList[i];\n\n          if (nodeName === f.getAttribute('data-value') && className === f.getAttribute('data-class')) {\n            formatTitle = f.title;\n            break;\n          }\n        }\n\n        this.util.changeTxt(target, formatTitle);\n        this.util.changeTxt(tooltip, formatTitle);\n        target.setAttribute('data-value', nodeName);\n        target.setAttribute('data-class', className);\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n    * @Override submenu\n    */\n    on: function () {\n      const formatContext = this.context.formatBlock;\n      const formatList = formatContext._formatList;\n      const target = formatContext.targetText;\n      const currentFormat = (target.getAttribute('data-value') || '') + (target.getAttribute('data-class') || '');\n\n      if (currentFormat !== formatContext.currentFormat) {\n        for (let i = 0, len = formatList.length, f; i < len; i++) {\n          f = formatList[i];\n\n          if (currentFormat === f.getAttribute('data-value') + f.getAttribute('data-class')) {\n            this.util.addClass(f, 'active');\n          } else {\n            this.util.removeClass(f, 'active');\n          }\n        }\n\n        formatContext.currentFormat = currentFormat;\n      }\n    },\n    pickUp: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      let target = e.target;\n      let command = null,\n          value = null,\n          tag = null,\n          className = '';\n\n      while (!command && !/UL/i.test(target.tagName)) {\n        command = target.getAttribute('data-command');\n        value = target.getAttribute('data-value');\n        className = target.getAttribute('data-class');\n\n        if (command) {\n          tag = target.firstChild;\n          break;\n        }\n\n        target = target.parentNode;\n      }\n\n      if (!command) return; // blockquote\n\n      if (command === 'range') {\n        const rangeElement = tag.cloneNode(false);\n        this.applyRangeFormatElement(rangeElement);\n      } // free, replace\n      else {\n          let range = this.getRange();\n          let selectedFormsts = this.getSelectedElementsAndComponents(false);\n\n          if (selectedFormsts.length === 0) {\n            range = this.getRange_addLine(range, null);\n            selectedFormsts = this.getSelectedElementsAndComponents(false);\n            if (selectedFormsts.length === 0) return;\n          }\n\n          const startOffset = range.startOffset;\n          const endOffset = range.endOffset;\n          const util = this.util;\n          let first = selectedFormsts[0];\n          let last = selectedFormsts[selectedFormsts.length - 1];\n          const firstPath = util.getNodePath(range.startContainer, first, null, null);\n          const lastPath = util.getNodePath(range.endContainer, last, null, null); // remove selected list\n\n          const rlist = this.detachList(selectedFormsts, false);\n          if (rlist.sc) first = rlist.sc;\n          if (rlist.ec) last = rlist.ec; // change format tag\n\n          this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\n          const modifiedFormsts = this.getSelectedElementsAndComponents(false); // free format\n\n          if (command === 'free') {\n            const len = modifiedFormsts.length - 1;\n            let parentNode = modifiedFormsts[len].parentNode;\n            let freeElement = tag.cloneNode(false);\n            const focusElement = freeElement;\n\n            for (let i = len, f, html, before, next, inner, isComp, first = true; i >= 0; i--) {\n              f = modifiedFormsts[i];\n              if (f === (!modifiedFormsts[i + 1] ? null : modifiedFormsts[i + 1].parentNode)) continue;\n              isComp = util.isComponent(f);\n              html = isComp ? '' : f.innerHTML.replace(/(?!>)\\s+(?=<)|\\n/g, ' ');\n              before = util.getParentElement(f, function (current) {\n                return current.parentNode === parentNode;\n              });\n\n              if (parentNode !== f.parentNode || isComp) {\n                if (util.isFormatElement(parentNode)) {\n                  parentNode.parentNode.insertBefore(freeElement, parentNode.nextSibling);\n                  parentNode = parentNode.parentNode;\n                } else {\n                  parentNode.insertBefore(freeElement, before ? before.nextSibling : null);\n                  parentNode = f.parentNode;\n                }\n\n                next = freeElement.nextSibling;\n\n                if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\n                  freeElement.innerHTML += '<BR>' + next.innerHTML;\n                  util.removeItem(next);\n                }\n\n                freeElement = tag.cloneNode(false);\n                first = true;\n              }\n\n              inner = freeElement.innerHTML;\n              freeElement.innerHTML = (first || !html || !inner || /<br>$/i.test(html) ? html : html + '<BR>') + inner;\n\n              if (i === 0) {\n                parentNode.insertBefore(freeElement, f);\n                next = f.nextSibling;\n\n                if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\n                  freeElement.innerHTML += '<BR>' + next.innerHTML;\n                  util.removeItem(next);\n                }\n\n                const prev = freeElement.previousSibling;\n\n                if (prev && freeElement.nodeName === prev.nodeName && util.isSameAttributes(freeElement, prev)) {\n                  prev.innerHTML += '<BR>' + freeElement.innerHTML;\n                  util.removeItem(freeElement);\n                }\n              }\n\n              if (!isComp) util.removeItem(f);\n              if (!!html) first = false;\n            }\n\n            this.setRange(focusElement, 0, focusElement, 0);\n          } // replace format\n          else {\n              for (let i = 0, len = modifiedFormsts.length, node, newFormat; i < len; i++) {\n                node = modifiedFormsts[i];\n\n                if ((node.nodeName.toLowerCase() !== value.toLowerCase() || (node.className.match(/(\\s|^)__se__format__[^\\s]+/) || [''])[0].trim() !== className) && !util.isComponent(node)) {\n                  newFormat = tag.cloneNode(false);\n                  util.copyFormatAttributes(newFormat, node);\n                  newFormat.innerHTML = node.innerHTML;\n                  node.parentNode.replaceChild(newFormat, node);\n                }\n\n                if (i === 0) first = newFormat || node;\n                if (i === len - 1) last = newFormat || node;\n                newFormat = null;\n              }\n\n              this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\n            } // history stack\n\n\n          this.history.push(false);\n        }\n\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 19 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'hiliteColor',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      core.addModule([_modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__[\n      /* default */\n      \"a\"]]);\n      const context = core.context;\n      context.hiliteColor = {\n        previewEl: null,\n        colorInput: null,\n        colorList: null\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu(core);\n      context.hiliteColor.colorInput = listDiv.querySelector('._se_color_picker_input');\n      /** add event listeners */\n\n      context.hiliteColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\n      listDiv.querySelector('._se_color_picker_submit').addEventListener('click', this.submit.bind(core));\n      listDiv.querySelector('._se_color_picker_remove').addEventListener('click', this.remove.bind(core));\n      listDiv.addEventListener('click', this.pickup.bind(core));\n      context.hiliteColor.colorList = listDiv.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function (core) {\n      const colorArea = core.context.colorPicker.colorListHTML;\n      const listDiv = core.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      listDiv.innerHTML = colorArea;\n      return listDiv;\n    },\n\n    /**\r\n    * @Override submenu\r\n    */\n    on: function () {\n      const contextPicker = this.context.colorPicker;\n      const contextHiliteColor = this.context.hiliteColor;\n      contextPicker._colorInput = contextHiliteColor.colorInput;\n      const color = this.wwComputedStyle.backgroundColor;\n      contextPicker._defaultColor = color ? this.plugins.colorPicker.isHexColor(color) ? color : this.plugins.colorPicker.rgb2hex(color) : \"#ffffff\";\n      contextPicker._styleProperty = 'backgroundColor';\n      contextPicker._colorList = contextHiliteColor.colorList;\n      this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\n    },\n\n    /**\r\n    * @Override _colorPicker\r\n    */\n    onChangeInput: function (e) {\n      this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\n    },\n    submit: function () {\n      this.plugins.hiliteColor.applyColor.call(this, this.context.colorPicker._currentColor);\n    },\n    pickup: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.plugins.hiliteColor.applyColor.call(this, e.target.getAttribute('data-value'));\n    },\n    remove: function () {\n      this.nodeChange(null, ['background-color'], ['span'], true);\n      this.submenuOff();\n    },\n    applyColor: function (color) {\n      if (!color) return;\n      const newNode = this.util.createElement('SPAN');\n      newNode.style.backgroundColor = color;\n      this.nodeChange(newNode, ['background-color'], null, null);\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 20 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'horizontalRule',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      core.context.horizontalRule = {\n        currentHR: null\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu(core);\n      /** add event listeners */\n\n      listDiv.querySelector('ul').addEventListener('click', this.horizontalRulePick.bind(core));\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function (core) {\n      const lang = core.lang;\n      const listDiv = core.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer se-list-line';\n      listDiv.innerHTML = '' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li>' + '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"solid\" title=\"' + lang.toolbar.hr_solid + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;\" />' + '</button>' + '</li>' + '<li>' + '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dotted\" title=\"' + lang.toolbar.hr_dotted + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;\" />' + '</button>' + '</li>' + '<li>' + '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dashed\" title=\"' + lang.toolbar.hr_dashed + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;\" />' + '</button>' + '</li>' + '</ul>' + '</div>';\n      return listDiv;\n    },\n    active: function (element) {\n      if (!element) {\n        if (this.util.hasClass(this.context.horizontalRule.currentHR, 'on')) {\n          this.controllersOff();\n        }\n      } else if (/HR/i.test(element.nodeName)) {\n        this.context.horizontalRule.currentHR = element;\n\n        if (!this.util.hasClass(element, 'on')) {\n          this.util.addClass(element, 'on');\n          this.controllersOn('hr', this.util.removeClass.bind(this.util, element, 'on'));\n        }\n\n        return true;\n      }\n\n      return false;\n    },\n    appendHr: function (className) {\n      const oHr = this.util.createElement('HR');\n      oHr.className = className;\n      this.focus();\n      return this.insertComponent(oHr, false, true, false);\n    },\n    horizontalRulePick: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      let target = e.target;\n      let value = null;\n\n      while (!value && !/UL/i.test(target.tagName)) {\n        value = target.getAttribute('data-value');\n        target = target.parentNode;\n      }\n\n      if (!value) return;\n      const oNode = this.plugins.horizontalRule.appendHr.call(this, '__se__' + value);\n\n      if (oNode) {\n        this.setRange(oNode, 0, oNode, 0);\n        this.submenuOff();\n      }\n    }\n  };\n  /***/\n},\n/* 21 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 20197 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'lineHeight',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.lineHeight = {\n        _sizeList: null,\n        currentSize: -1\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu(core);\n      let listUl = listDiv.querySelector('ul');\n      /** add event listeners */\n\n      listUl.addEventListener('click', this.pickup.bind(core));\n      context.lineHeight._sizeList = listUl.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null, listUl = null;\n    },\n    setSubmenu: function (core) {\n      const option = core.options;\n      const lang = core.lang;\n      const listDiv = core.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      const sizeList = !option.lineHeights ? [{\n        text: '1',\n        value: 1\n      }, {\n        text: '1.15',\n        value: 1.15\n      }, {\n        text: '1.5',\n        value: 1.5\n      }, {\n        text: '2',\n        value: 2\n      }] : option.lineHeights;\n      let list = '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n\n      for (let i = 0, len = sizeList.length, text, size; i < len; i++) {\n        size = sizeList[i];\n        list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size.value + '\" title=\"' + size.text + '\">' + size.text + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\n    * @Override submenu\n    */\n    on: function () {\n      const lineHeightContext = this.context.lineHeight;\n      const sizeList = lineHeightContext._sizeList;\n      const format = this.util.getFormatElement(this.getSelectionNode());\n      const currentSize = !format ? '' : format.style.lineHeight + '';\n\n      if (currentSize !== lineHeightContext.currentSize) {\n        for (let i = 0, len = sizeList.length; i < len; i++) {\n          if (currentSize === sizeList[i].getAttribute('data-value')) {\n            this.util.addClass(sizeList[i], 'active');\n          } else {\n            this.util.removeClass(sizeList[i], 'active');\n          }\n        }\n\n        lineHeightContext.currentSize = currentSize;\n      }\n    },\n    pickup: function (e) {\n      if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n      e.preventDefault();\n      e.stopPropagation();\n      const value = e.target.getAttribute('data-value') || '';\n      const formats = this.getSelectedElements();\n\n      for (let i = 0, len = formats.length; i < len; i++) {\n        formats[i].style.lineHeight = value;\n      }\n\n      this.submenuOff(); // history stack\n\n      this.history.push(false);\n    }\n  };\n  /***/\n},\n/* 22 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'list',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.list = {\n        targetButton: targetElement,\n        _list: null,\n        currentList: '',\n        icons: {\n          bullets: core.icons.list_bullets,\n          number: core.icons.list_number\n        }\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu(core);\n      let listUl = listDiv.querySelector('ul');\n      /** add event listeners */\n\n      listUl.addEventListener('click', this.pickup.bind(core));\n      context.list._list = listUl.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null, listUl = null;\n    },\n    setSubmenu: function (core) {\n      const lang = core.lang;\n      const listDiv = core.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      listDiv.innerHTML = '' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"OL\" title=\"' + lang.toolbar.orderList + '\">' + core.icons.list_number + '</button></li>' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"UL\" title=\"' + lang.toolbar.unorderList + '\">' + core.icons.list_bullets + '</button></li>' + '</ul>' + '</div>';\n      return listDiv;\n    },\n\n    /**\n    * @Override core\n    */\n    active: function (element) {\n      const button = this.context.list.targetButton;\n      const icon = button.firstElementChild;\n      const util = this.util;\n\n      if (!element) {\n        button.removeAttribute('data-focus');\n        util.changeElement(icon, this.context.list.icons.number);\n        util.removeClass(button, 'active');\n      } else if (util.isList(element)) {\n        const nodeName = element.nodeName;\n        button.setAttribute('data-focus', nodeName);\n        util.addClass(button, 'active');\n\n        if (/UL/i.test(nodeName)) {\n          util.changeElement(icon, this.context.list.icons.bullets);\n        } else {\n          util.changeElement(icon, this.context.list.icons.number);\n        }\n\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n    * @Override submenu\n    */\n    on: function () {\n      const listContext = this.context.list;\n      const list = listContext._list;\n      const currentList = listContext.targetButton.getAttribute('data-focus') || '';\n\n      if (currentList !== listContext.currentList) {\n        for (let i = 0, len = list.length; i < len; i++) {\n          if (currentList === list[i].getAttribute('data-command')) {\n            this.util.addClass(list[i], 'active');\n          } else {\n            this.util.removeClass(list[i], 'active');\n          }\n        }\n\n        listContext.currentList = currentList;\n      }\n    },\n    editList: function (command, selectedCells, detach) {\n      let range = this.getRange();\n      let selectedFormats = !selectedCells ? this.getSelectedElementsAndComponents(false) : selectedCells;\n\n      if (selectedFormats.length === 0) {\n        if (selectedCells) return;\n        range = this.getRange_addLine(range, null);\n        selectedFormats = this.getSelectedElementsAndComponents(false);\n        if (selectedFormats.length === 0) return;\n      }\n\n      const util = this.util;\n      util.sortByDepth(selectedFormats, true); // merge\n\n      let firstSel = selectedFormats[0];\n      let lastSel = selectedFormats[selectedFormats.length - 1];\n      let topEl = (util.isListCell(firstSel) || util.isComponent(firstSel)) && !firstSel.previousElementSibling ? firstSel.parentNode.previousElementSibling : firstSel.previousElementSibling;\n      let bottomEl = (util.isListCell(lastSel) || util.isComponent(lastSel)) && !lastSel.nextElementSibling ? lastSel.parentNode.nextElementSibling : lastSel.nextElementSibling;\n      const originRange = {\n        sc: range.startContainer,\n        so: range.startOffset,\n        ec: range.endContainer,\n        eo: range.endOffset\n      };\n      let isRemove = true;\n\n      for (let i = 0, len = selectedFormats.length; i < len; i++) {\n        if (!util.isList(util.getRangeFormatElement(selectedFormats[i], function (current) {\n          return this.getRangeFormatElement(current) && current !== selectedFormats[i];\n        }.bind(util)))) {\n          isRemove = false;\n          break;\n        }\n      }\n\n      if (isRemove && (!topEl || firstSel.tagName !== topEl.tagName || command !== topEl.tagName.toUpperCase()) && (!bottomEl || lastSel.tagName !== bottomEl.tagName || command !== bottomEl.tagName.toUpperCase())) {\n        if (detach) {\n          for (let i = 0, len = selectedFormats.length; i < len; i++) {\n            for (let j = i - 1; j >= 0; j--) {\n              if (selectedFormats[j].contains(selectedFormats[i])) {\n                selectedFormats.splice(i, 1);\n                i--;\n                len--;\n                break;\n              }\n            }\n          }\n        }\n\n        const currentFormat = util.getRangeFormatElement(firstSel);\n        const cancel = currentFormat && currentFormat.tagName === command;\n        let rangeArr, tempList;\n\n        const passComponent = function (current) {\n          return !this.isComponent(current);\n        }.bind(util);\n\n        if (!cancel) tempList = util.createElement(command);\n\n        for (let i = 0, len = selectedFormats.length, r, o; i < len; i++) {\n          o = util.getRangeFormatElement(selectedFormats[i], passComponent);\n          if (!o || !util.isList(o)) continue;\n\n          if (!r) {\n            r = o;\n            rangeArr = {\n              r: r,\n              f: [util.getParentElement(selectedFormats[i], 'LI')]\n            };\n          } else {\n            if (r !== o) {\n              if (detach && util.isListCell(o.parentNode)) {\n                this.plugins.list._detachNested.call(this, rangeArr.f);\n              } else {\n                this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\n              }\n\n              o = selectedFormats[i].parentNode;\n              if (!cancel) tempList = util.createElement(command);\n              r = o;\n              rangeArr = {\n                r: r,\n                f: [util.getParentElement(selectedFormats[i], 'LI')]\n              };\n            } else {\n              rangeArr.f.push(util.getParentElement(selectedFormats[i], 'LI'));\n            }\n          }\n\n          if (i === len - 1) {\n            if (detach && util.isListCell(o.parentNode)) {\n              this.plugins.list._detachNested.call(this, rangeArr.f);\n            } else {\n              this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\n            }\n          }\n        }\n      } else {\n        const topElParent = topEl ? topEl.parentNode : topEl;\n        const bottomElParent = bottomEl ? bottomEl.parentNode : bottomEl;\n        topEl = topElParent && !util.isWysiwygDiv(topElParent) && topElParent.nodeName === command ? topElParent : topEl;\n        bottomEl = bottomElParent && !util.isWysiwygDiv(bottomElParent) && bottomElParent.nodeName === command ? bottomElParent : bottomEl;\n        const mergeTop = topEl && topEl.tagName === command;\n        const mergeBottom = bottomEl && bottomEl.tagName === command;\n        let list = mergeTop ? topEl : util.createElement(command);\n        let firstList = null;\n        let lastList = null;\n        let topNumber = null;\n        let bottomNumber = null;\n\n        const passComponent = function (current) {\n          return !this.isComponent(current) && !this.isList(current);\n        }.bind(util);\n\n        for (let i = 0, len = selectedFormats.length, newCell, fTag, isCell, next, originParent, nextParent, parentTag, siblingTag, rangeTag; i < len; i++) {\n          fTag = selectedFormats[i];\n\n          if (fTag.childNodes.length === 0 && !util._isIgnoreNodeChange(fTag)) {\n            util.removeItem(fTag);\n            continue;\n          }\n\n          next = selectedFormats[i + 1];\n          originParent = fTag.parentNode;\n          nextParent = next ? next.parentNode : null;\n          isCell = util.isListCell(fTag);\n          rangeTag = util.isRangeFormatElement(originParent) ? originParent : null;\n          parentTag = isCell && !util.isWysiwygDiv(originParent) ? originParent.parentNode : originParent;\n          siblingTag = isCell && !util.isWysiwygDiv(originParent) ? !next || util.isListCell(parentTag) ? originParent : originParent.nextSibling : fTag.nextSibling;\n          newCell = util.createElement('LI');\n          util.copyFormatAttributes(newCell, fTag);\n\n          if (util.isComponent(fTag)) {\n            const isHR = /^HR$/i.test(fTag.nodeName);\n            if (!isHR) newCell.innerHTML = '<br>';\n            newCell.innerHTML += fTag.outerHTML;\n            if (isHR) newCell.innerHTML += '<br>';\n          } else {\n            const fChildren = fTag.childNodes;\n\n            while (fChildren[0]) {\n              newCell.appendChild(fChildren[0]);\n            }\n          }\n\n          list.appendChild(newCell);\n          if (!next) lastList = list;\n\n          if (!next || parentTag !== nextParent || util.isRangeFormatElement(siblingTag)) {\n            if (!firstList) firstList = list;\n\n            if ((!mergeTop || !next || parentTag !== nextParent) && !(next && util.isList(nextParent) && nextParent === originParent)) {\n              if (list.parentNode !== parentTag) parentTag.insertBefore(list, siblingTag);\n            }\n          }\n\n          util.removeItem(fTag);\n          if (mergeTop && topNumber === null) topNumber = list.children.length - 1;\n\n          if (next && (util.getRangeFormatElement(nextParent, passComponent) !== util.getRangeFormatElement(originParent, passComponent) || util.isList(nextParent) && util.isList(originParent) && util.getElementDepth(nextParent) !== util.getElementDepth(originParent))) {\n            list = util.createElement(command);\n          }\n\n          if (rangeTag && rangeTag.children.length === 0) util.removeItem(rangeTag);\n        }\n\n        if (topNumber) {\n          firstList = firstList.children[topNumber];\n        }\n\n        if (mergeBottom) {\n          bottomNumber = list.children.length - 1;\n          list.innerHTML += bottomEl.innerHTML;\n          lastList = list.children[bottomNumber];\n          util.removeItem(bottomEl);\n        }\n      }\n\n      this.effectNode = null;\n      return originRange;\n    },\n    _detachNested: function (cells) {\n      const first = cells[0];\n      const last = cells[cells.length - 1];\n      const next = last.nextElementSibling;\n      const originList = first.parentNode;\n      const sibling = originList.parentNode.nextElementSibling;\n      const parentNode = originList.parentNode.parentNode;\n\n      for (let c = 0, cLen = cells.length; c < cLen; c++) {\n        parentNode.insertBefore(cells[c], sibling);\n      }\n\n      if (next && originList.children.length > 0) {\n        const newList = originList.cloneNode(false);\n        const children = originList.childNodes;\n        const index = this.util.getPositionIndex(next);\n\n        while (children[index]) {\n          newList.appendChild(children[index]);\n        }\n\n        last.appendChild(newList);\n      }\n\n      if (originList.children.length === 0) this.util.removeItem(originList);\n      this.util.mergeSameTags(parentNode);\n      const edge = this.util.getEdgeChildNodes(first, last);\n      return {\n        cc: first.parentNode,\n        sc: edge.sc,\n        ec: edge.ec\n      };\n    },\n    editInsideList: function (remove, selectedCells) {\n      selectedCells = !selectedCells ? this.getSelectedElements().filter(function (el) {\n        return this.isListCell(el);\n      }.bind(this.util)) : selectedCells;\n      const cellsLen = selectedCells.length;\n\n      if (cellsLen === 0 || !remove && !this.util.isListCell(selectedCells[0].previousElementSibling) && !this.util.isListCell(selectedCells[cellsLen - 1].nextElementSibling)) {\n        return {\n          sc: selectedCells[0],\n          so: 0,\n          ec: selectedCells[cellsLen - 1],\n          eo: 1\n        };\n      }\n\n      let originList = selectedCells[0].parentNode;\n      let lastCell = selectedCells[cellsLen - 1];\n      let range = null;\n\n      if (remove) {\n        if (originList !== lastCell.parentNode && this.util.isList(lastCell.parentNode.parentNode) && lastCell.nextElementSibling) {\n          lastCell = lastCell.nextElementSibling;\n\n          while (lastCell) {\n            selectedCells.push(lastCell);\n            lastCell = lastCell.nextElementSibling;\n          }\n        }\n\n        range = this.plugins.list.editList.call(this, originList.nodeName.toUpperCase(), selectedCells, true);\n      } else {\n        let innerList = this.util.createElement(originList.nodeName);\n        let prev = selectedCells[0].previousElementSibling;\n        let next = lastCell.nextElementSibling;\n        const nodePath = {\n          s: null,\n          e: null,\n          sl: originList,\n          el: originList\n        };\n\n        for (let i = 0, len = cellsLen, c; i < len; i++) {\n          c = selectedCells[i];\n\n          if (c.parentNode !== originList) {\n            this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\n\n            originList = c.parentNode;\n            innerList = this.util.createElement(originList.nodeName);\n          }\n\n          prev = c.previousElementSibling;\n          next = c.nextElementSibling;\n          innerList.appendChild(c);\n        }\n\n        this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\n\n        const sc = this.util.getNodeFromPath(nodePath.s, nodePath.sl);\n        const ec = this.util.getNodeFromPath(nodePath.e, nodePath.el);\n        range = {\n          sc: sc,\n          so: 0,\n          ec: ec,\n          eo: ec.textContent.length\n        };\n      }\n\n      return range;\n    },\n    _insiedList: function (originList, innerList, prev, next, nodePath) {\n      let insertPrev = false;\n\n      if (prev && innerList.tagName === prev.tagName) {\n        const children = innerList.children;\n\n        while (children[0]) {\n          prev.appendChild(children[0]);\n        }\n\n        innerList = prev;\n        insertPrev = true;\n      }\n\n      if (next && innerList.tagName === next.tagName) {\n        const children = next.children;\n\n        while (children[0]) {\n          innerList.appendChild(children[0]);\n        }\n\n        const temp = next.nextElementSibling;\n        next.parentNode.removeChild(next);\n        next = temp;\n      }\n\n      if (!insertPrev) {\n        if (this.util.isListCell(prev)) {\n          originList = prev;\n          next = null;\n        }\n\n        originList.insertBefore(innerList, next);\n\n        if (!nodePath.s) {\n          nodePath.s = this.util.getNodePath(innerList.firstElementChild.firstChild, originList, null);\n          nodePath.sl = originList;\n        }\n\n        const slPath = originList.contains(nodePath.sl) ? this.util.getNodePath(nodePath.sl, originList) : null;\n        nodePath.e = this.util.getNodePath(innerList.lastElementChild.firstChild, originList, null);\n        nodePath.el = originList;\n        this.util.mergeSameTags(originList, [nodePath.s, nodePath.e, slPath], false);\n        this.util.mergeNestedTags(originList);\n        if (slPath) nodePath.sl = this.util.getNodeFromPath(slPath, originList);\n      }\n\n      return innerList;\n    },\n    pickup: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      let target = e.target;\n      let command = '';\n\n      while (!command && !/^UL$/i.test(target.tagName)) {\n        command = target.getAttribute('data-command');\n        target = target.parentNode;\n      }\n\n      if (!command) return;\n      const range = this.plugins.list.editList.call(this, command, null, false);\n      if (range) this.setRange(range.sc, range.so, range.ec, range.eo);\n      this.submenuOff(); // history stack\n\n      this.history.push(false);\n    }\n  };\n  /***/\n},\n/* 23 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'paragraphStyle',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.paragraphStyle = {\n        _classList: null\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu(core);\n      /** add event listeners */\n\n      listDiv.querySelector('ul').addEventListener('click', this.pickUp.bind(core));\n      context.paragraphStyle._classList = listDiv.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function (core) {\n      const option = core.options;\n      const listDiv = core.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer se-list-format';\n      const menuLang = core.lang.menu;\n      const defaultList = {\n        spaced: {\n          name: menuLang.spaced,\n          class: '__se__p-spaced',\n          _class: ''\n        },\n        bordered: {\n          name: menuLang.bordered,\n          class: '__se__p-bordered',\n          _class: ''\n        },\n        neon: {\n          name: menuLang.neon,\n          class: '__se__p-neon',\n          _class: ''\n        }\n      };\n      const paragraphStyles = !option.paragraphStyles || option.paragraphStyles.length === 0 ? ['spaced', 'bordered', 'neon'] : option.paragraphStyles;\n      let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n\n      for (let i = 0, len = paragraphStyles.length, p, name, attrs, _class; i < len; i++) {\n        p = paragraphStyles[i];\n\n        if (typeof p === 'string') {\n          const defaultStyle = defaultList[p.toLowerCase()];\n          if (!defaultStyle) continue;\n          p = defaultStyle;\n        }\n\n        name = p.name;\n        attrs = p.class ? ' class=\"' + p.class + '\"' : '';\n        _class = p._class;\n        list += '<li>' + '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class : '') + '\" data-value=\"' + p.class + '\" title=\"' + name + '\">' + '<div' + attrs + '>' + name + '</div>' + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\n    * @Override submenu\n    */\n    on: function () {\n      const paragraphContext = this.context.paragraphStyle;\n      const paragraphList = paragraphContext._classList;\n      const currentFormat = this.util.getFormatElement(this.getSelectionNode());\n\n      for (let i = 0, len = paragraphList.length; i < len; i++) {\n        if (this.util.hasClass(currentFormat, paragraphList[i].getAttribute('data-value'))) {\n          this.util.addClass(paragraphList[i], 'active');\n        } else {\n          this.util.removeClass(paragraphList[i], 'active');\n        }\n      }\n    },\n    pickUp: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      let target = e.target;\n      let value = null;\n\n      while (!/^UL$/i.test(target.tagName)) {\n        value = target.getAttribute('data-value');\n        if (value) break;\n        target = target.parentNode;\n      }\n\n      if (!value) return;\n      let selectedFormsts = this.getSelectedElements();\n\n      if (selectedFormsts.length === 0) {\n        this.getRange_addLine(this.getRange(), null);\n        selectedFormsts = this.getSelectedElements();\n        if (selectedFormsts.length === 0) return;\n      } // change format class\n\n\n      const toggleClass = this.util.hasClass(target, 'active') ? this.util.removeClass.bind(this.util) : this.util.addClass.bind(this.util);\n\n      for (let i = 0, len = selectedFormsts.length; i < len; i++) {\n        toggleClass(selectedFormsts[i], value);\n      }\n\n      this.submenuOff(); // history stack\n\n      this.history.push(false);\n    }\n  };\n  /***/\n},\n/* 24 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'table',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      let contextTable = context.table = {\n        _element: null,\n        _tdElement: null,\n        _trElement: null,\n        _trElements: null,\n        _tableXY: [],\n        _maxWidth: true,\n        _fixedColumn: false,\n        _rtl: core.options.rtl,\n        cellControllerTop: core.options.tableCellControllerPosition === 'top',\n        resizeText: null,\n        headerButton: null,\n        mergeButton: null,\n        splitButton: null,\n        splitMenu: null,\n        maxText: core.lang.controller.maxSize,\n        minText: core.lang.controller.minSize,\n        _physical_cellCnt: 0,\n        _logical_cellCnt: 0,\n        _rowCnt: 0,\n        _rowIndex: 0,\n        _physical_cellIndex: 0,\n        _logical_cellIndex: 0,\n        _current_colSpan: 0,\n        _current_rowSpan: 0,\n        icons: {\n          expansion: core.icons.expansion,\n          reduction: core.icons.reduction\n        }\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu(core);\n      let tablePicker = listDiv.querySelector('.se-controller-table-picker');\n      contextTable.tableHighlight = listDiv.querySelector('.se-table-size-highlighted');\n      contextTable.tableUnHighlight = listDiv.querySelector('.se-table-size-unhighlighted');\n      contextTable.tableDisplay = listDiv.querySelector('.se-table-size-display');\n      if (core.options.rtl) contextTable.tableHighlight.style.left = 10 * 18 - 13 + 'px';\n      /** set table controller */\n\n      let tableController = this.setController_table(core);\n      contextTable.tableController = tableController;\n      contextTable.resizeButton = tableController.querySelector('._se_table_resize');\n      contextTable.resizeText = tableController.querySelector('._se_table_resize > span > span');\n      contextTable.columnFixedButton = tableController.querySelector('._se_table_fixed_column');\n      contextTable.headerButton = tableController.querySelector('._se_table_header');\n      /** set resizing */\n\n      let resizeDiv = this.setController_tableEditor(core, contextTable.cellControllerTop);\n      contextTable.resizeDiv = resizeDiv;\n      contextTable.splitMenu = resizeDiv.querySelector('.se-btn-group-sub');\n      contextTable.mergeButton = resizeDiv.querySelector('._se_table_merge_button');\n      contextTable.splitButton = resizeDiv.querySelector('._se_table_split_button');\n      contextTable.insertRowAboveButton = resizeDiv.querySelector('._se_table_insert_row_a');\n      contextTable.insertRowBelowButton = resizeDiv.querySelector('._se_table_insert_row_b');\n      /** add event listeners */\n\n      tablePicker.addEventListener('mousemove', this.onMouseMove_tablePicker.bind(core, contextTable));\n      tablePicker.addEventListener('click', this.appendTable.bind(core));\n      resizeDiv.addEventListener('click', this.onClick_tableController.bind(core));\n      tableController.addEventListener('click', this.onClick_tableController.bind(core));\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** append controller */\n\n      context.element.relative.appendChild(resizeDiv);\n      context.element.relative.appendChild(tableController);\n      /** empty memory */\n\n      listDiv = null, tablePicker = null, resizeDiv = null, tableController = null, contextTable = null;\n    },\n    setSubmenu: function (core) {\n      const listDiv = core.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-selector-table';\n      listDiv.innerHTML = '' + '<div class=\"se-table-size\">' + '<div class=\"se-table-size-picker se-controller-table-picker\"></div>' + '<div class=\"se-table-size-highlighted\"></div>' + '<div class=\"se-table-size-unhighlighted\"></div>' + '</div>' + '<div class=\"se-table-size-display\">1 x 1</div>';\n      return listDiv;\n    },\n    setController_table: function (core) {\n      const lang = core.lang;\n      const icons = core.icons;\n      const tableResize = core.util.createElement('DIV');\n      tableResize.className = 'se-controller se-controller-table';\n      tableResize.innerHTML = '' + '<div>' + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"resize\" class=\"se-btn se-tooltip _se_table_resize\">' + icons.expansion + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.maxSize + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"layout\" class=\"se-btn se-tooltip _se_table_fixed_column\">' + icons.fixed_column_width + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.fixedColumnWidth + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"header\" class=\"se-btn se-tooltip _se_table_header\">' + icons.table_header + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.tableHeader + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"remove\" class=\"se-btn se-tooltip\">' + icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>' + '</div>';\n      return tableResize;\n    },\n    setController_tableEditor: function (core, cellControllerTop) {\n      const lang = core.lang;\n      const icons = core.icons;\n      const tableResize = core.util.createElement('DIV');\n      tableResize.className = 'se-controller se-controller-table-cell';\n      tableResize.innerHTML = (cellControllerTop ? '' : '<div class=\"se-arrow se-arrow-up\"></div>') + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"up\" class=\"se-btn se-tooltip _se_table_insert_row_a\">' + icons.insert_row_above + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertRowAbove + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"down\" class=\"se-btn se-tooltip _se_table_insert_row_b\">' + icons.insert_row_below + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertRowBelow + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" data-value=\"row\" class=\"se-btn se-tooltip\">' + icons.delete_row + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.deleteRow + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"merge\" class=\"_se_table_merge_button se-btn se-tooltip\" disabled>' + icons.merge_cell + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mergeCells + '</span></span>' + '</button>' + '</div>' + '<div class=\"se-btn-group\" style=\"padding-top: 0;\">' + '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"left\" class=\"se-btn se-tooltip\">' + icons.insert_column_left + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertColumnBefore + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"right\" class=\"se-btn se-tooltip\">' + icons.insert_column_right + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertColumnAfter + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" data-value=\"cell\" class=\"se-btn se-tooltip\">' + icons.delete_column + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.deleteColumn + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"onsplit\" class=\"_se_table_split_button se-btn se-tooltip\">' + icons.split_cell + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.splitCells + '</span></span>' + '</button>' + '<div class=\"se-btn-group-sub sun-editor-common se-list-layer se-table-split\">' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li class=\"se-btn-list\" data-command=\"split\" data-value=\"vertical\" style=\"line-height:32px;\" title=\"' + lang.controller.VerticalSplit + '\">' + lang.controller.VerticalSplit + '</li>' + '<li class=\"se-btn-list\" data-command=\"split\" data-value=\"horizontal\" style=\"line-height:32px;\" title=\"' + lang.controller.HorizontalSplit + '\">' + lang.controller.HorizontalSplit + '</li>' + '</ul>' + '</div>' + '</div>' + '</div>';\n      return tableResize;\n    },\n    appendTable: function () {\n      const oTable = this.util.createElement('TABLE');\n      const createCells = this.plugins.table.createCells;\n      const x = this.context.table._tableXY[0];\n      let y = this.context.table._tableXY[1];\n      let tableHTML = '<tbody>';\n\n      while (y > 0) {\n        tableHTML += '<tr>' + createCells.call(this, 'td', x) + '</tr>';\n        --y;\n      }\n\n      tableHTML += '</tbody>';\n      oTable.innerHTML = tableHTML;\n      const changed = this.insertComponent(oTable, false, true, false);\n\n      if (changed) {\n        const firstTd = oTable.querySelector('td div');\n        this.setRange(firstTd, 0, firstTd, 0);\n        this.plugins.table.reset_table_picker.call(this);\n      }\n    },\n    createCells: function (nodeName, cnt, returnElement) {\n      nodeName = nodeName.toLowerCase();\n\n      if (!returnElement) {\n        let cellsHTML = '';\n\n        while (cnt > 0) {\n          cellsHTML += '<' + nodeName + '><div><br></div></' + nodeName + '>';\n          cnt--;\n        }\n\n        return cellsHTML;\n      } else {\n        const cell = this.util.createElement(nodeName);\n        cell.innerHTML = '<div><br></div>';\n        return cell;\n      }\n    },\n    onMouseMove_tablePicker: function (contextTable, e) {\n      e.stopPropagation();\n\n      let x = this._w.Math.ceil(e.offsetX / 18);\n\n      let y = this._w.Math.ceil(e.offsetY / 18);\n\n      x = x < 1 ? 1 : x;\n      y = y < 1 ? 1 : y;\n\n      if (contextTable._rtl) {\n        contextTable.tableHighlight.style.left = x * 18 - 13 + 'px';\n        x = 11 - x;\n      }\n\n      contextTable.tableHighlight.style.width = x + 'em';\n      contextTable.tableHighlight.style.height = y + 'em'; // let x_u = x < 5 ? 5 : (x > 9 ? 10 : x + 1);\n      // let y_u = y < 5 ? 5 : (y > 9 ? 10 : y + 1);\n      // contextTable.tableUnHighlight.style.width = x_u + 'em';\n      // contextTable.tableUnHighlight.style.height = y_u + 'em';\n\n      this.util.changeTxt(contextTable.tableDisplay, x + ' x ' + y);\n      contextTable._tableXY = [x, y];\n    },\n    reset_table_picker: function () {\n      if (!this.context.table.tableHighlight) return;\n      const highlight = this.context.table.tableHighlight.style;\n      const unHighlight = this.context.table.tableUnHighlight.style;\n      highlight.width = '1em';\n      highlight.height = '1em';\n      unHighlight.width = '10em';\n      unHighlight.height = '10em';\n      this.util.changeTxt(this.context.table.tableDisplay, '1 x 1');\n      this.submenuOff();\n    },\n    init: function () {\n      const contextTable = this.context.table;\n      const tablePlugin = this.plugins.table;\n\n      tablePlugin._removeEvents.call(this);\n\n      if (tablePlugin._selectedTable) {\n        const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\n\n        for (let i = 0, len = selectedCells.length; i < len; i++) {\n          this.util.removeClass(selectedCells[i], 'se-table-selected-cell');\n        }\n      }\n\n      tablePlugin._toggleEditor.call(this, true);\n\n      contextTable._element = null;\n      contextTable._tdElement = null;\n      contextTable._trElement = null;\n      contextTable._trElements = null;\n      contextTable._tableXY = [];\n      contextTable._maxWidth = true;\n      contextTable._fixedColumn = false;\n      contextTable._physical_cellCnt = 0;\n      contextTable._logical_cellCnt = 0;\n      contextTable._rowCnt = 0;\n      contextTable._rowIndex = 0;\n      contextTable._physical_cellIndex = 0;\n      contextTable._logical_cellIndex = 0;\n      contextTable._current_colSpan = 0;\n      contextTable._current_rowSpan = 0;\n      tablePlugin._shift = false;\n      tablePlugin._selectedCells = null;\n      tablePlugin._selectedTable = null;\n      tablePlugin._ref = null;\n      tablePlugin._fixedCell = null;\n      tablePlugin._selectedCell = null;\n      tablePlugin._fixedCellName = null;\n    },\n\n    /** table edit controller */\n    call_controller_tableEdit: function (tdElement) {\n      const tablePlugin = this.plugins.table;\n      const contextTable = this.context.table;\n\n      if (!this.getSelection().isCollapsed && !tablePlugin._selectedCell) {\n        this.controllersOff();\n        this.util.removeClass(tdElement, 'se-table-selected-cell');\n        return;\n      }\n\n      const tableElement = contextTable._element || this.plugins.table._selectedTable || this.util.getParentElement(tdElement, 'TABLE');\n      contextTable._maxWidth = this.util.hasClass(tableElement, 'se-table-size-100') || tableElement.style.width === '100%' || !tableElement.style.width && !this.util.hasClass(tableElement, 'se-table-size-auto');\n      contextTable._fixedColumn = this.util.hasClass(tableElement, 'se-table-layout-fixed') || tableElement.style.tableLayout === 'fixed';\n      tablePlugin.setTableStyle.call(this, contextTable._maxWidth ? 'width|column' : 'width');\n      tablePlugin.setPositionControllerTop.call(this, tableElement);\n      tablePlugin.setPositionControllerDiv.call(this, tdElement, tablePlugin._shift);\n      if (!tablePlugin._shift) this.controllersOn(contextTable.resizeDiv, contextTable.tableController, tablePlugin.init.bind(this), tdElement, 'table');\n    },\n    setPositionControllerTop: function (tableElement) {\n      this.setControllerPosition(this.context.table.tableController, tableElement, 'top', {\n        left: 0,\n        top: 0\n      });\n    },\n    setPositionControllerDiv: function (tdElement, reset) {\n      const contextTable = this.context.table;\n      const resizeDiv = contextTable.resizeDiv;\n      this.plugins.table.setCellInfo.call(this, tdElement, reset);\n\n      if (contextTable.cellControllerTop) {\n        this.setControllerPosition(resizeDiv, contextTable._element, 'top', {\n          left: contextTable.tableController.offsetWidth,\n          top: 0\n        });\n      } else {\n        this.setControllerPosition(resizeDiv, tdElement, 'bottom', {\n          left: 0,\n          top: 0\n        });\n      }\n    },\n    setCellInfo: function (tdElement, reset) {\n      const contextTable = this.context.table;\n      const table = contextTable._element = this.plugins.table._selectedTable || this.util.getParentElement(tdElement, 'TABLE');\n\n      if (/THEAD/i.test(table.firstElementChild.nodeName)) {\n        this.util.addClass(contextTable.headerButton, 'active');\n      } else {\n        this.util.removeClass(contextTable.headerButton, 'active');\n      }\n\n      if (reset || contextTable._physical_cellCnt === 0) {\n        if (contextTable._tdElement !== tdElement) {\n          contextTable._tdElement = tdElement;\n          contextTable._trElement = tdElement.parentNode;\n        }\n\n        const rows = contextTable._trElements = table.rows;\n        const cellIndex = tdElement.cellIndex;\n        let cellCnt = 0;\n\n        for (let i = 0, cells = rows[0].cells, len = rows[0].cells.length; i < len; i++) {\n          cellCnt += cells[i].colSpan;\n        } // row cnt, row index\n\n\n        const rowIndex = contextTable._rowIndex = contextTable._trElement.rowIndex;\n        contextTable._rowCnt = rows.length; // cell cnt, physical cell index\n\n        contextTable._physical_cellCnt = contextTable._trElement.cells.length;\n        contextTable._logical_cellCnt = cellCnt;\n        contextTable._physical_cellIndex = cellIndex; // span\n\n        contextTable._current_colSpan = contextTable._tdElement.colSpan - 1;\n        contextTable._current_rowSpan - contextTable._trElement.cells[cellIndex].rowSpan - 1; // find logcal cell index\n\n        let rowSpanArr = [];\n        let spanIndex = [];\n\n        for (let i = 0, cells, colSpan; i <= rowIndex; i++) {\n          cells = rows[i].cells;\n          colSpan = 0;\n\n          for (let c = 0, cLen = cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\n            cell = cells[c];\n            cs = cell.colSpan - 1;\n            rs = cell.rowSpan - 1;\n            logcalIndex = c + colSpan;\n\n            if (spanIndex.length > 0) {\n              for (let r = 0, arr; r < spanIndex.length; r++) {\n                arr = spanIndex[r];\n                if (arr.row > i) continue;\n\n                if (logcalIndex >= arr.index) {\n                  colSpan += arr.cs;\n                  logcalIndex += arr.cs;\n                  arr.rs -= 1;\n                  arr.row = i + 1;\n\n                  if (arr.rs < 1) {\n                    spanIndex.splice(r, 1);\n                    r--;\n                  }\n                } else if (c === cLen - 1) {\n                  arr.rs -= 1;\n                  arr.row = i + 1;\n\n                  if (arr.rs < 1) {\n                    spanIndex.splice(r, 1);\n                    r--;\n                  }\n                }\n              }\n            } // logcal cell index\n\n\n            if (i === rowIndex && c === cellIndex) {\n              contextTable._logical_cellIndex = logcalIndex;\n              break;\n            }\n\n            if (rs > 0) {\n              rowSpanArr.push({\n                index: logcalIndex,\n                cs: cs + 1,\n                rs: rs,\n                row: -1\n              });\n            }\n\n            colSpan += cs;\n          }\n\n          spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n            return a.index - b.index;\n          });\n          rowSpanArr = [];\n        }\n\n        rowSpanArr = null;\n        spanIndex = null;\n      }\n    },\n    editTable: function (type, option) {\n      const tablePlugin = this.plugins.table;\n      const contextTable = this.context.table;\n      const table = contextTable._element;\n      const isRow = type === 'row';\n\n      if (isRow) {\n        const tableAttr = contextTable._trElement.parentNode;\n\n        if (/^THEAD$/i.test(tableAttr.nodeName)) {\n          if (option === 'up') {\n            return;\n          } else if (!tableAttr.nextElementSibling || !/^TBODY$/i.test(tableAttr.nextElementSibling.nodeName)) {\n            table.innerHTML += '<tbody><tr>' + tablePlugin.createCells.call(this, 'td', contextTable._logical_cellCnt, false) + '</tr></tbody>';\n            return;\n          }\n        }\n      } // multi\n\n\n      if (tablePlugin._ref) {\n        const positionCell = contextTable._tdElement;\n        const selectedCells = tablePlugin._selectedCells; // multi - row\n\n        if (isRow) {\n          // remove row\n          if (!option) {\n            let row = selectedCells[0].parentNode;\n            const removeCells = [selectedCells[0]];\n\n            for (let i = 1, len = selectedCells.length, cell; i < len; i++) {\n              cell = selectedCells[i];\n\n              if (row !== cell.parentNode) {\n                removeCells.push(cell);\n                row = cell.parentNode;\n              }\n            }\n\n            for (let i = 0, len = removeCells.length; i < len; i++) {\n              tablePlugin.setCellInfo.call(this, removeCells[i], true);\n              tablePlugin.editRow.call(this, option);\n            }\n          } else {\n            // edit row\n            tablePlugin.setCellInfo.call(this, option === 'up' ? selectedCells[0] : selectedCells[selectedCells.length - 1], true);\n            tablePlugin.editRow.call(this, option, positionCell);\n          }\n        } else {\n          // multi - cell\n          const firstRow = selectedCells[0].parentNode; // remove cell\n\n          if (!option) {\n            const removeCells = [selectedCells[0]];\n\n            for (let i = 1, len = selectedCells.length, cell; i < len; i++) {\n              cell = selectedCells[i];\n\n              if (firstRow === cell.parentNode) {\n                removeCells.push(cell);\n              } else {\n                break;\n              }\n            }\n\n            for (let i = 0, len = removeCells.length; i < len; i++) {\n              tablePlugin.setCellInfo.call(this, removeCells[i], true);\n              tablePlugin.editCell.call(this, option);\n            }\n          } else {\n            // edit cell\n            let rightCell = null;\n\n            for (let i = 0, len = selectedCells.length - 1; i < len; i++) {\n              if (firstRow !== selectedCells[i + 1].parentNode) {\n                rightCell = selectedCells[i];\n                break;\n              }\n            }\n\n            tablePlugin.setCellInfo.call(this, option === 'left' ? selectedCells[0] : rightCell || selectedCells[0], true);\n            tablePlugin.editCell.call(this, option, positionCell);\n          }\n        }\n\n        if (!option) tablePlugin.init.call(this);\n      } // one\n      else {\n          tablePlugin[isRow ? 'editRow' : 'editCell'].call(this, option);\n        } // after remove\n\n\n      if (!option) {\n        const children = table.children;\n\n        for (let i = 0; i < children.length; i++) {\n          if (children[i].children.length === 0) {\n            this.util.removeItem(children[i]);\n            i--;\n          }\n        }\n\n        if (table.children.length === 0) this.util.removeItem(table);\n      }\n    },\n    editRow: function (option, positionResetElement) {\n      const contextTable = this.context.table;\n      const remove = !option;\n      const up = option === 'up';\n      const originRowIndex = contextTable._rowIndex;\n      const rowIndex = remove || up ? originRowIndex : originRowIndex + contextTable._current_rowSpan + 1;\n      const sign = remove ? -1 : 1;\n      const rows = contextTable._trElements;\n      let cellCnt = contextTable._logical_cellCnt;\n\n      for (let i = 0, len = originRowIndex + (remove ? -1 : 0), cell; i <= len; i++) {\n        cell = rows[i].cells;\n        if (cell.length === 0) return;\n\n        for (let c = 0, cLen = cell.length, rs, cs; c < cLen; c++) {\n          rs = cell[c].rowSpan;\n          cs = cell[c].colSpan;\n          if (rs < 2 && cs < 2) continue;\n\n          if (rs + i > rowIndex && rowIndex > i) {\n            cell[c].rowSpan = rs + sign;\n            cellCnt -= cs;\n          }\n        }\n      }\n\n      if (remove) {\n        const next = rows[originRowIndex + 1];\n\n        if (next) {\n          const spanCells = [];\n          let cells = rows[originRowIndex].cells;\n          let colSpan = 0;\n\n          for (let i = 0, len = cells.length, cell, logcalIndex; i < len; i++) {\n            cell = cells[i];\n            logcalIndex = i + colSpan;\n            colSpan += cell.colSpan - 1;\n\n            if (cell.rowSpan > 1) {\n              cell.rowSpan -= 1;\n              spanCells.push({\n                cell: cell.cloneNode(false),\n                index: logcalIndex\n              });\n            }\n          }\n\n          if (spanCells.length > 0) {\n            let spanCell = spanCells.shift();\n            cells = next.cells;\n            colSpan = 0;\n\n            for (let i = 0, len = cells.length, cell, logcalIndex; i < len; i++) {\n              cell = cells[i];\n              logcalIndex = i + colSpan;\n              colSpan += cell.colSpan - 1;\n\n              if (logcalIndex >= spanCell.index) {\n                i--, colSpan--;\n                colSpan += spanCell.cell.colSpan - 1;\n                next.insertBefore(spanCell.cell, cell);\n                spanCell = spanCells.shift();\n                if (!spanCell) break;\n              }\n            }\n\n            if (spanCell) {\n              next.appendChild(spanCell.cell);\n\n              for (let i = 0, len = spanCells.length; i < len; i++) {\n                next.appendChild(spanCells[i].cell);\n              }\n            }\n          }\n        }\n\n        contextTable._element.deleteRow(rowIndex);\n      } else {\n        const newRow = contextTable._element.insertRow(rowIndex);\n\n        newRow.innerHTML = this.plugins.table.createCells.call(this, 'td', cellCnt, false);\n      }\n\n      if (!remove) {\n        this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\n      } else {\n        this.controllersOff();\n      }\n    },\n    editCell: function (option, positionResetElement) {\n      const contextTable = this.context.table;\n      const util = this.util;\n      const remove = !option;\n      const left = option === 'left';\n      const colSpan = contextTable._current_colSpan;\n      const cellIndex = remove || left ? contextTable._logical_cellIndex : contextTable._logical_cellIndex + colSpan + 1;\n      const rows = contextTable._trElements;\n      let rowSpanArr = [];\n      let spanIndex = [];\n      let passCell = 0;\n      const removeCell = [];\n      const removeSpanArr = [];\n\n      for (let i = 0, len = contextTable._rowCnt, row, insertIndex, cells, newCell, applySpan, cellColSpan; i < len; i++) {\n        row = rows[i];\n        insertIndex = cellIndex;\n        applySpan = false;\n        cells = row.cells;\n        cellColSpan = 0;\n\n        for (let c = 0, cell, cLen = cells.length, rs, cs, removeIndex; c < cLen; c++) {\n          cell = cells[c];\n          if (!cell) break;\n          rs = cell.rowSpan - 1;\n          cs = cell.colSpan - 1;\n\n          if (!remove) {\n            if (c >= insertIndex) break;\n\n            if (cs > 0) {\n              if (passCell < 1 && cs + c >= insertIndex) {\n                cell.colSpan += 1;\n                insertIndex = null;\n                passCell = rs + 1;\n                break;\n              }\n\n              insertIndex -= cs;\n            }\n\n            if (!applySpan) {\n              for (let r = 0, arr; r < spanIndex.length; r++) {\n                arr = spanIndex[r];\n                insertIndex -= arr.cs;\n                arr.rs -= 1;\n\n                if (arr.rs < 1) {\n                  spanIndex.splice(r, 1);\n                  r--;\n                }\n              }\n\n              applySpan = true;\n            }\n          } else {\n            removeIndex = c + cellColSpan;\n\n            if (spanIndex.length > 0) {\n              const lastCell = !cells[c + 1];\n\n              for (let r = 0, arr; r < spanIndex.length; r++) {\n                arr = spanIndex[r];\n                if (arr.row > i) continue;\n\n                if (removeIndex >= arr.index) {\n                  cellColSpan += arr.cs;\n                  removeIndex = c + cellColSpan;\n                  arr.rs -= 1;\n                  arr.row = i + 1;\n\n                  if (arr.rs < 1) {\n                    spanIndex.splice(r, 1);\n                    r--;\n                  }\n                } else if (lastCell) {\n                  arr.rs -= 1;\n                  arr.row = i + 1;\n\n                  if (arr.rs < 1) {\n                    spanIndex.splice(r, 1);\n                    r--;\n                  }\n                }\n              }\n            }\n\n            if (rs > 0) {\n              rowSpanArr.push({\n                rs: rs,\n                cs: cs + 1,\n                index: removeIndex,\n                row: -1\n              });\n            }\n\n            if (removeIndex >= insertIndex && removeIndex + cs <= insertIndex + colSpan) {\n              removeCell.push(cell);\n            } else if (removeIndex <= insertIndex + colSpan && removeIndex + cs >= insertIndex) {\n              cell.colSpan -= util.getOverlapRangeAtIndex(cellIndex, cellIndex + colSpan, removeIndex, removeIndex + cs);\n            } else if (rs > 0 && (removeIndex < insertIndex || removeIndex + cs > insertIndex + colSpan)) {\n              removeSpanArr.push({\n                cell: cell,\n                i: i,\n                rs: i + rs\n              });\n            }\n\n            cellColSpan += cs;\n          }\n        }\n\n        spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n          return a.index - b.index;\n        });\n        rowSpanArr = [];\n\n        if (!remove) {\n          if (passCell > 0) {\n            passCell -= 1;\n            continue;\n          }\n\n          if (insertIndex !== null && cells.length > 0) {\n            newCell = this.plugins.table.createCells.call(this, cells[0].nodeName, 0, true);\n            newCell = row.insertBefore(newCell, cells[insertIndex]);\n          }\n        }\n      }\n\n      if (remove) {\n        let removeFirst, removeEnd;\n\n        for (let r = 0, rLen = removeCell.length, row; r < rLen; r++) {\n          row = removeCell[r].parentNode;\n          util.removeItem(removeCell[r]);\n\n          if (row.cells.length === 0) {\n            if (!removeFirst) removeFirst = util.getArrayIndex(rows, row);\n            removeEnd = util.getArrayIndex(rows, row);\n            util.removeItem(row);\n          }\n        }\n\n        for (let c = 0, cLen = removeSpanArr.length, rowSpanCell; c < cLen; c++) {\n          rowSpanCell = removeSpanArr[c];\n          rowSpanCell.cell.rowSpan = util.getOverlapRangeAtIndex(removeFirst, removeEnd, rowSpanCell.i, rowSpanCell.rs);\n        }\n\n        this.controllersOff();\n      } else {\n        this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\n      }\n    },\n    _closeSplitMenu: null,\n    openSplitMenu: function () {\n      this.util.addClass(this.context.table.splitButton, 'on');\n      this.context.table.splitMenu.style.display = 'inline-table';\n\n      this.plugins.table._closeSplitMenu = function () {\n        this.util.removeClass(this.context.table.splitButton, 'on');\n        this.context.table.splitMenu.style.display = 'none';\n        this.removeDocEvent('click', this.plugins.table._closeSplitMenu);\n        this.plugins.table._closeSplitMenu = null;\n      }.bind(this);\n\n      this.addDocEvent('click', this.plugins.table._closeSplitMenu);\n    },\n    splitCells: function (direction) {\n      const util = this.util;\n      const vertical = direction === 'vertical';\n      const contextTable = this.context.table;\n      const currentCell = contextTable._tdElement;\n      const rows = contextTable._trElements;\n      const currentRow = contextTable._trElement;\n      const index = contextTable._logical_cellIndex;\n      const rowIndex = contextTable._rowIndex;\n      const newCell = this.plugins.table.createCells.call(this, currentCell.nodeName, 0, true); // vertical\n\n      if (vertical) {\n        const currentColSpan = currentCell.colSpan;\n        newCell.rowSpan = currentCell.rowSpan; // colspan > 1\n\n        if (currentColSpan > 1) {\n          newCell.colSpan = this._w.Math.floor(currentColSpan / 2);\n          currentCell.colSpan = currentColSpan - newCell.colSpan;\n          currentRow.insertBefore(newCell, currentCell.nextElementSibling);\n        } else {\n          // colspan - 1\n          let rowSpanArr = [];\n          let spanIndex = [];\n\n          for (let i = 0, len = contextTable._rowCnt, cells, colSpan; i < len; i++) {\n            cells = rows[i].cells;\n            colSpan = 0;\n\n            for (let c = 0, cLen = cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\n              cell = cells[c];\n              cs = cell.colSpan - 1;\n              rs = cell.rowSpan - 1;\n              logcalIndex = c + colSpan;\n\n              if (spanIndex.length > 0) {\n                for (let r = 0, arr; r < spanIndex.length; r++) {\n                  arr = spanIndex[r];\n                  if (arr.row > i) continue;\n\n                  if (logcalIndex >= arr.index) {\n                    colSpan += arr.cs;\n                    logcalIndex += arr.cs;\n                    arr.rs -= 1;\n                    arr.row = i + 1;\n\n                    if (arr.rs < 1) {\n                      spanIndex.splice(r, 1);\n                      r--;\n                    }\n                  } else if (c === cLen - 1) {\n                    arr.rs -= 1;\n                    arr.row = i + 1;\n\n                    if (arr.rs < 1) {\n                      spanIndex.splice(r, 1);\n                      r--;\n                    }\n                  }\n                }\n              }\n\n              if (logcalIndex <= index && rs > 0) {\n                rowSpanArr.push({\n                  index: logcalIndex,\n                  cs: cs + 1,\n                  rs: rs,\n                  row: -1\n                });\n              }\n\n              if (cell !== currentCell && logcalIndex <= index && logcalIndex + cs >= index + currentColSpan - 1) {\n                cell.colSpan += 1;\n                break;\n              }\n\n              if (logcalIndex > index) break;\n              colSpan += cs;\n            }\n\n            spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n              return a.index - b.index;\n            });\n            rowSpanArr = [];\n          }\n\n          currentRow.insertBefore(newCell, currentCell.nextElementSibling);\n        }\n      } else {\n        // horizontal\n        const currentRowSpan = currentCell.rowSpan;\n        newCell.colSpan = currentCell.colSpan; // rowspan > 1\n\n        if (currentRowSpan > 1) {\n          newCell.rowSpan = this._w.Math.floor(currentRowSpan / 2);\n          const newRowSpan = currentRowSpan - newCell.rowSpan;\n          const rowSpanArr = [];\n          const nextRowIndex = util.getArrayIndex(rows, currentRow) + newRowSpan;\n\n          for (let i = 0, cells, colSpan; i < nextRowIndex; i++) {\n            cells = rows[i].cells;\n            colSpan = 0;\n\n            for (let c = 0, cLen = cells.length, cell, cs, logcalIndex; c < cLen; c++) {\n              logcalIndex = c + colSpan;\n              if (logcalIndex >= index) break;\n              cell = cells[c];\n              cs = cell.rowSpan - 1;\n\n              if (cs > 0 && cs + i >= nextRowIndex && logcalIndex < index) {\n                rowSpanArr.push({\n                  index: logcalIndex,\n                  cs: cell.colSpan\n                });\n              }\n\n              colSpan += cell.colSpan - 1;\n            }\n          }\n\n          const nextRow = rows[nextRowIndex];\n          const nextCells = nextRow.cells;\n          let rs = rowSpanArr.shift();\n\n          for (let c = 0, cLen = nextCells.length, colSpan = 0, cell, cs, logcalIndex, insertIndex; c < cLen; c++) {\n            logcalIndex = c + colSpan;\n            cell = nextCells[c];\n            cs = cell.colSpan - 1;\n            insertIndex = logcalIndex + cs + 1;\n\n            if (rs && insertIndex >= rs.index) {\n              colSpan += rs.cs;\n              insertIndex += rs.cs;\n              rs = rowSpanArr.shift();\n            }\n\n            if (insertIndex >= index || c === cLen - 1) {\n              nextRow.insertBefore(newCell, cell.nextElementSibling);\n              break;\n            }\n\n            colSpan += cs;\n          }\n\n          currentCell.rowSpan = newRowSpan;\n        } else {\n          // rowspan - 1\n          newCell.rowSpan = currentCell.rowSpan;\n          const newRow = util.createElement('TR');\n          newRow.appendChild(newCell);\n\n          for (let i = 0, cells; i < rowIndex; i++) {\n            cells = rows[i].cells;\n            if (cells.length === 0) return;\n\n            for (let c = 0, cLen = cells.length; c < cLen; c++) {\n              if (i + cells[c].rowSpan - 1 >= rowIndex) {\n                cells[c].rowSpan += 1;\n              }\n            }\n          }\n\n          const physicalIndex = contextTable._physical_cellIndex;\n          const cells = currentRow.cells;\n\n          for (let c = 0, cLen = cells.length; c < cLen; c++) {\n            if (c === physicalIndex) continue;\n            cells[c].rowSpan += 1;\n          }\n\n          currentRow.parentNode.insertBefore(newRow, currentRow.nextElementSibling);\n        }\n      }\n\n      this.focusEdge(currentCell);\n      this.plugins.table.setPositionControllerDiv.call(this, currentCell, true);\n    },\n    mergeCells: function () {\n      const tablePlugin = this.plugins.table;\n      const contextTable = this.context.table;\n      const util = this.util;\n      const ref = tablePlugin._ref;\n      const selectedCells = tablePlugin._selectedCells;\n      const mergeCell = selectedCells[0];\n      let emptyRowFirst = null;\n      let emptyRowLast = null;\n      let cs = ref.ce - ref.cs + 1;\n      let rs = ref.re - ref.rs + 1;\n      let mergeHTML = '';\n      let row = null;\n\n      for (let i = 1, len = selectedCells.length, cell, ch; i < len; i++) {\n        cell = selectedCells[i];\n        if (row !== cell.parentNode) row = cell.parentNode;\n        ch = cell.children;\n\n        for (let c = 0, cLen = ch.length; c < cLen; c++) {\n          if (util.isFormatElement(ch[c]) && util.onlyZeroWidthSpace(ch[c].textContent)) {\n            util.removeItem(ch[c]);\n          }\n        }\n\n        mergeHTML += cell.innerHTML;\n        util.removeItem(cell);\n\n        if (row.cells.length === 0) {\n          if (!emptyRowFirst) emptyRowFirst = row;else emptyRowLast = row;\n          rs -= 1;\n        }\n      }\n\n      if (emptyRowFirst) {\n        const rows = contextTable._trElements;\n        const rowIndexFirst = util.getArrayIndex(rows, emptyRowFirst);\n        const rowIndexLast = util.getArrayIndex(rows, emptyRowLast || emptyRowFirst);\n        const removeRows = [];\n\n        for (let i = 0, cells; i <= rowIndexLast; i++) {\n          cells = rows[i].cells;\n\n          if (cells.length === 0) {\n            removeRows.push(rows[i]);\n            continue;\n          }\n\n          for (let c = 0, cLen = cells.length, cell, rs; c < cLen; c++) {\n            cell = cells[c];\n            rs = cell.rowSpan - 1;\n\n            if (rs > 0 && i + rs >= rowIndexFirst) {\n              cell.rowSpan -= util.getOverlapRangeAtIndex(rowIndexFirst, rowIndexLast, i, i + rs);\n            }\n          }\n        }\n\n        for (let i = 0, len = removeRows.length; i < len; i++) {\n          util.removeItem(removeRows[i]);\n        }\n      }\n\n      mergeCell.innerHTML += mergeHTML;\n      mergeCell.colSpan = cs;\n      mergeCell.rowSpan = rs;\n      this.controllersOff();\n      tablePlugin.setActiveButton.call(this, true, false);\n      tablePlugin.call_controller_tableEdit.call(this, mergeCell);\n      util.addClass(mergeCell, 'se-table-selected-cell');\n      this.focusEdge(mergeCell);\n    },\n    toggleHeader: function () {\n      const util = this.util;\n      const headerButton = this.context.table.headerButton;\n      const active = util.hasClass(headerButton, 'active');\n      const table = this.context.table._element;\n\n      if (!active) {\n        const header = util.createElement('THEAD');\n        header.innerHTML = '<tr>' + this.plugins.table.createCells.call(this, 'th', this.context.table._logical_cellCnt, false) + '</tr>';\n        table.insertBefore(header, table.firstElementChild);\n      } else {\n        util.removeItem(table.querySelector('thead'));\n      }\n\n      util.toggleClass(headerButton, 'active');\n\n      if (/TH/i.test(this.context.table._tdElement.nodeName)) {\n        this.controllersOff();\n      } else {\n        this.plugins.table.setPositionControllerDiv.call(this, this.context.table._tdElement, false);\n      }\n    },\n    setTableStyle: function (styles) {\n      const contextTable = this.context.table;\n      const tableElement = contextTable._element;\n      let icon, span, sizeIcon, text;\n\n      if (styles.indexOf('width') > -1) {\n        icon = contextTable.resizeButton.firstElementChild;\n        span = contextTable.resizeText;\n\n        if (!contextTable._maxWidth) {\n          sizeIcon = contextTable.icons.expansion;\n          text = contextTable.maxText;\n          contextTable.columnFixedButton.style.display = 'none';\n          this.util.removeClass(tableElement, 'se-table-size-100');\n          this.util.addClass(tableElement, 'se-table-size-auto');\n        } else {\n          sizeIcon = contextTable.icons.reduction;\n          text = contextTable.minText;\n          contextTable.columnFixedButton.style.display = 'block';\n          this.util.removeClass(tableElement, 'se-table-size-auto');\n          this.util.addClass(tableElement, 'se-table-size-100');\n        }\n\n        this.util.changeElement(icon, sizeIcon);\n        this.util.changeTxt(span, text);\n      }\n\n      if (styles.indexOf('column') > -1) {\n        if (!contextTable._fixedColumn) {\n          this.util.removeClass(tableElement, 'se-table-layout-fixed');\n          this.util.addClass(tableElement, 'se-table-layout-auto');\n          this.util.removeClass(contextTable.columnFixedButton, 'active');\n        } else {\n          this.util.removeClass(tableElement, 'se-table-layout-auto');\n          this.util.addClass(tableElement, 'se-table-layout-fixed');\n          this.util.addClass(contextTable.columnFixedButton, 'active');\n        }\n      }\n    },\n    setActiveButton: function (fixedCell, selectedCell) {\n      const contextTable = this.context.table;\n\n      if (/^TH$/i.test(fixedCell.nodeName)) {\n        contextTable.insertRowAboveButton.setAttribute('disabled', true);\n        contextTable.insertRowBelowButton.setAttribute('disabled', true);\n      } else {\n        contextTable.insertRowAboveButton.removeAttribute('disabled');\n        contextTable.insertRowBelowButton.removeAttribute('disabled');\n      }\n\n      if (!selectedCell || fixedCell === selectedCell) {\n        contextTable.splitButton.removeAttribute('disabled');\n        contextTable.mergeButton.setAttribute('disabled', true);\n      } else {\n        contextTable.splitButton.setAttribute('disabled', true);\n        contextTable.mergeButton.removeAttribute('disabled');\n      }\n    },\n    // multi selecte\n    _bindOnSelect: null,\n    _bindOffSelect: null,\n    _bindOffShift: null,\n    _selectedCells: null,\n    _shift: false,\n    _fixedCell: null,\n    _fixedCellName: null,\n    _selectedCell: null,\n    _selectedTable: null,\n    _ref: null,\n    _toggleEditor: function (enabled) {\n      this.context.element.wysiwyg.setAttribute('contenteditable', enabled);\n      if (enabled) this.util.removeClass(this.context.element.wysiwyg, 'se-disabled');else this.util.addClass(this.context.element.wysiwyg, 'se-disabled');\n    },\n    _offCellMultiSelect: function (e) {\n      e.stopPropagation();\n      const tablePlugin = this.plugins.table;\n\n      if (!tablePlugin._shift) {\n        tablePlugin._removeEvents.call(this);\n\n        tablePlugin._toggleEditor.call(this, true);\n      } else if (tablePlugin._initBind) {\n        this._wd.removeEventListener('touchmove', tablePlugin._initBind);\n\n        tablePlugin._initBind = null;\n      }\n\n      if (!tablePlugin._fixedCell || !tablePlugin._selectedTable) return;\n      tablePlugin.setActiveButton.call(this, tablePlugin._fixedCell, tablePlugin._selectedCell);\n      tablePlugin.call_controller_tableEdit.call(this, tablePlugin._selectedCell || tablePlugin._fixedCell);\n      tablePlugin._selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\n      if (tablePlugin._selectedCell && tablePlugin._fixedCell) this.focusEdge(tablePlugin._selectedCell);\n\n      if (!tablePlugin._shift) {\n        tablePlugin._fixedCell = null;\n        tablePlugin._selectedCell = null;\n        tablePlugin._fixedCellName = null;\n      }\n    },\n    _onCellMultiSelect: function (e) {\n      this._antiBlur = true;\n      const tablePlugin = this.plugins.table;\n      const target = this.util.getParentElement(e.target, this.util.isCell);\n\n      if (tablePlugin._shift) {\n        if (target === tablePlugin._fixedCell) tablePlugin._toggleEditor.call(this, true);else tablePlugin._toggleEditor.call(this, false);\n      } else if (!tablePlugin._ref) {\n        if (target === tablePlugin._fixedCell) return;else tablePlugin._toggleEditor.call(this, false);\n      }\n\n      if (!target || target === tablePlugin._selectedCell || tablePlugin._fixedCellName !== target.nodeName || tablePlugin._selectedTable !== this.util.getParentElement(target, 'TABLE')) {\n        return;\n      }\n\n      tablePlugin._selectedCell = target;\n\n      tablePlugin._setMultiCells.call(this, tablePlugin._fixedCell, target);\n    },\n    _setMultiCells: function (startCell, endCell) {\n      const tablePlugin = this.plugins.table;\n      const rows = tablePlugin._selectedTable.rows;\n      const util = this.util;\n\n      const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\n\n      for (let i = 0, len = selectedCells.length; i < len; i++) {\n        util.removeClass(selectedCells[i], 'se-table-selected-cell');\n      }\n\n      if (startCell === endCell) {\n        util.addClass(startCell, 'se-table-selected-cell');\n        if (!tablePlugin._shift) return;\n      }\n\n      let findSelectedCell = true;\n      let spanIndex = [];\n      let rowSpanArr = [];\n      const ref = tablePlugin._ref = {\n        _i: 0,\n        cs: null,\n        ce: null,\n        rs: null,\n        re: null\n      };\n\n      for (let i = 0, len = rows.length, cells, colSpan; i < len; i++) {\n        cells = rows[i].cells;\n        colSpan = 0;\n\n        for (let c = 0, cLen = cells.length, cell, logcalIndex, cs, rs; c < cLen; c++) {\n          cell = cells[c];\n          cs = cell.colSpan - 1;\n          rs = cell.rowSpan - 1;\n          logcalIndex = c + colSpan;\n\n          if (spanIndex.length > 0) {\n            for (let r = 0, arr; r < spanIndex.length; r++) {\n              arr = spanIndex[r];\n              if (arr.row > i) continue;\n\n              if (logcalIndex >= arr.index) {\n                colSpan += arr.cs;\n                logcalIndex += arr.cs;\n                arr.rs -= 1;\n                arr.row = i + 1;\n\n                if (arr.rs < 1) {\n                  spanIndex.splice(r, 1);\n                  r--;\n                }\n              } else if (c === cLen - 1) {\n                arr.rs -= 1;\n                arr.row = i + 1;\n\n                if (arr.rs < 1) {\n                  spanIndex.splice(r, 1);\n                  r--;\n                }\n              }\n            }\n          }\n\n          if (findSelectedCell) {\n            if (cell === startCell || cell === endCell) {\n              ref.cs = ref.cs !== null && ref.cs < logcalIndex ? ref.cs : logcalIndex;\n              ref.ce = ref.ce !== null && ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\n              ref.rs = ref.rs !== null && ref.rs < i ? ref.rs : i;\n              ref.re = ref.re !== null && ref.re > i + rs ? ref.re : i + rs;\n              ref._i += 1;\n            }\n\n            if (ref._i === 2) {\n              findSelectedCell = false;\n              spanIndex = [];\n              rowSpanArr = [];\n              i = -1;\n              break;\n            }\n          } else if (util.getOverlapRangeAtIndex(ref.cs, ref.ce, logcalIndex, logcalIndex + cs) && util.getOverlapRangeAtIndex(ref.rs, ref.re, i, i + rs)) {\n            const newCs = ref.cs < logcalIndex ? ref.cs : logcalIndex;\n            const newCe = ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\n            const newRs = ref.rs < i ? ref.rs : i;\n            const newRe = ref.re > i + rs ? ref.re : i + rs;\n\n            if (ref.cs !== newCs || ref.ce !== newCe || ref.rs !== newRs || ref.re !== newRe) {\n              ref.cs = newCs;\n              ref.ce = newCe;\n              ref.rs = newRs;\n              ref.re = newRe;\n              i = -1;\n              spanIndex = [];\n              rowSpanArr = [];\n              break;\n            }\n\n            util.addClass(cell, 'se-table-selected-cell');\n          }\n\n          if (rs > 0) {\n            rowSpanArr.push({\n              index: logcalIndex,\n              cs: cs + 1,\n              rs: rs,\n              row: -1\n            });\n          }\n\n          colSpan += cell.colSpan - 1;\n        }\n\n        spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n          return a.index - b.index;\n        });\n        rowSpanArr = [];\n      }\n    },\n    _removeEvents: function () {\n      const tablePlugin = this.plugins.table;\n\n      if (tablePlugin._initBind) {\n        this._wd.removeEventListener('touchmove', tablePlugin._initBind);\n\n        tablePlugin._initBind = null;\n      }\n\n      if (tablePlugin._bindOnSelect) {\n        this._wd.removeEventListener('mousedown', tablePlugin._bindOnSelect);\n\n        this._wd.removeEventListener('mousemove', tablePlugin._bindOnSelect);\n\n        tablePlugin._bindOnSelect = null;\n      }\n\n      if (tablePlugin._bindOffSelect) {\n        this._wd.removeEventListener('mouseup', tablePlugin._bindOffSelect);\n\n        tablePlugin._bindOffSelect = null;\n      }\n\n      if (tablePlugin._bindOffShift) {\n        this._wd.removeEventListener('keyup', tablePlugin._bindOffShift);\n\n        tablePlugin._bindOffShift = null;\n      }\n    },\n    _initBind: null,\n    onTableCellMultiSelect: function (tdElement, shift) {\n      const tablePlugin = this.plugins.table;\n\n      tablePlugin._removeEvents.call(this);\n\n      this.controllersOff();\n      tablePlugin._shift = shift;\n      tablePlugin._fixedCell = tdElement;\n      tablePlugin._fixedCellName = tdElement.nodeName;\n      tablePlugin._selectedTable = this.util.getParentElement(tdElement, 'TABLE');\n\n      const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\n\n      for (let i = 0, len = selectedCells.length; i < len; i++) {\n        this.util.removeClass(selectedCells[i], 'se-table-selected-cell');\n      }\n\n      this.util.addClass(tdElement, 'se-table-selected-cell');\n      tablePlugin._bindOnSelect = tablePlugin._onCellMultiSelect.bind(this);\n      tablePlugin._bindOffSelect = tablePlugin._offCellMultiSelect.bind(this);\n\n      if (!shift) {\n        this._wd.addEventListener('mousemove', tablePlugin._bindOnSelect, false);\n      } else {\n        tablePlugin._bindOffShift = function () {\n          this.controllersOn(this.context.table.resizeDiv, this.context.table.tableController, this.plugins.table.init.bind(this), tdElement, 'table');\n          if (!tablePlugin._ref) this.controllersOff();\n        }.bind(this);\n\n        this._wd.addEventListener('keyup', tablePlugin._bindOffShift, false);\n\n        this._wd.addEventListener('mousedown', tablePlugin._bindOnSelect, false);\n      }\n\n      this._wd.addEventListener('mouseup', tablePlugin._bindOffSelect, false);\n\n      tablePlugin._initBind = tablePlugin.init.bind(this);\n\n      this._wd.addEventListener('touchmove', tablePlugin._initBind, false);\n    },\n    onClick_tableController: function (e) {\n      e.stopPropagation();\n      const target = e.target.getAttribute('data-command') ? e.target : e.target.parentNode;\n      if (target.getAttribute('disabled')) return;\n      const command = target.getAttribute('data-command');\n      const value = target.getAttribute('data-value');\n      const option = target.getAttribute('data-option');\n      const tablePlugin = this.plugins.table;\n\n      if (typeof tablePlugin._closeSplitMenu === 'function') {\n        tablePlugin._closeSplitMenu();\n\n        if (command === 'onsplit') return;\n      }\n\n      if (!command) return;\n      e.preventDefault();\n      const contextTable = this.context.table;\n\n      switch (command) {\n        case 'insert':\n        case 'delete':\n          tablePlugin.editTable.call(this, value, option);\n          break;\n\n        case 'header':\n          tablePlugin.toggleHeader.call(this);\n          break;\n\n        case 'onsplit':\n          tablePlugin.openSplitMenu.call(this);\n          break;\n\n        case 'split':\n          tablePlugin.splitCells.call(this, value);\n          break;\n\n        case 'merge':\n          tablePlugin.mergeCells.call(this);\n          break;\n\n        case 'resize':\n          contextTable._maxWidth = !contextTable._maxWidth;\n          tablePlugin.setTableStyle.call(this, 'width');\n          tablePlugin.setPositionControllerTop.call(this, contextTable._element);\n          tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\n          break;\n\n        case 'layout':\n          contextTable._fixedColumn = !contextTable._fixedColumn;\n          tablePlugin.setTableStyle.call(this, 'column');\n          tablePlugin.setPositionControllerTop.call(this, contextTable._element);\n          tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\n          break;\n\n        case 'remove':\n          const emptyDiv = contextTable._element.parentNode;\n          this.util.removeItem(contextTable._element);\n          this.controllersOff();\n          if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) {\n            return current.childNodes.length === 0;\n          }, null);\n          this.focus();\n      } // history stack\n\n\n      this.history.push(false);\n    }\n  };\n  /***/\n},\n/* 25 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'template',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.template = {};\n      /** set submenu */\n\n      let templateDiv = this.setSubmenu(core);\n      /** add event listeners */\n\n      templateDiv.querySelector('ul').addEventListener('click', this.pickup.bind(core));\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, templateDiv);\n      /** empty memory */\n\n      templateDiv = null;\n    },\n    setSubmenu: function (core) {\n      const templateList = core.options.templates;\n\n      if (!templateList || templateList.length === 0) {\n        throw Error('[SUNEDITOR.plugins.template.fail] To use the \"template\" plugin, please define the \"templates\" option.');\n      }\n\n      const listDiv = core.util.createElement('DIV');\n      listDiv.className = 'se-list-layer';\n      let list = '<div class=\"se-submenu se-list-inner\">' + '<ul class=\"se-list-basic\">';\n\n      for (let i = 0, len = templateList.length, t; i < len; i++) {\n        t = templateList[i];\n        list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + i + '\" title=\"' + t.name + '\">' + t.name + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n    pickup: function (e) {\n      if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n      e.preventDefault();\n      e.stopPropagation();\n      const temp = this.options.templates[e.target.getAttribute('data-value')];\n\n      if (temp.html) {\n        this.setContents(temp.html);\n      } else {\n        this.submenuOff();\n        throw Error('[SUNEDITOR.template.fail] cause : \"templates[i].html not found\"');\n      }\n\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 26 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'textStyle',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.textStyle = {\n        _styleList: null\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu(core);\n      let listUl = listDiv.querySelector('ul');\n      /** add event listeners */\n\n      listUl.addEventListener('click', this.pickup.bind(core));\n      context.textStyle._styleList = listDiv.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null, listUl = null;\n    },\n    setSubmenu: function (core) {\n      const option = core.options;\n      const listDiv = core.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer se-list-format';\n      const defaultList = {\n        code: {\n          name: core.lang.menu.code,\n          class: '__se__t-code',\n          tag: 'code'\n        },\n        translucent: {\n          name: core.lang.menu.translucent,\n          style: 'opacity: 0.5;',\n          tag: 'span'\n        },\n        shadow: {\n          name: core.lang.menu.shadow,\n          class: '__se__t-shadow',\n          tag: 'span'\n        }\n      };\n      const styleList = !option.textStyles ? core._w.Object.keys(defaultList) : option.textStyles;\n      let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n\n      for (let i = 0, len = styleList.length, t, tag, name, attrs, command, value, _class; i < len; i++) {\n        t = styleList[i];\n        attrs = '', value = '', command = [];\n\n        if (typeof t === 'string') {\n          const defaultStyle = defaultList[t.toLowerCase()];\n          if (!defaultStyle) continue;\n          t = defaultStyle;\n        }\n\n        name = t.name;\n        tag = t.tag || 'span';\n        _class = t._class;\n\n        if (t.style) {\n          attrs += ' style=\"' + t.style + '\"';\n          value += t.style.replace(/:[^;]+(;|$)\\s*/g, ',');\n          command.push('style');\n        }\n\n        if (t.class) {\n          attrs += ' class=\"' + t.class + '\"';\n          value += '.' + t.class.trim().replace(/\\s+/g, ',.');\n          command.push('class');\n        }\n\n        value = value.replace(/,$/, '');\n        list += '<li>' + '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class : '') + '\" data-command=\"' + tag + '\" data-value=\"' + value + '\" title=\"' + name + '\">' + '<' + tag + attrs + '>' + name + '</' + tag + '>' + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\n    * @Override submenu\n    */\n    on: function () {\n      const util = this.util;\n      const textStyleContext = this.context.textStyle;\n      const styleButtonList = textStyleContext._styleList;\n      const selectionNode = this.getSelectionNode();\n\n      for (let i = 0, len = styleButtonList.length, btn, data, active; i < len; i++) {\n        btn = styleButtonList[i];\n        data = btn.getAttribute('data-value').split(',');\n\n        for (let v = 0, node, value; v < data.length; v++) {\n          node = selectionNode;\n          active = false;\n\n          while (node && !util.isFormatElement(node) && !util.isComponent(node)) {\n            if (node.nodeName.toLowerCase() === btn.getAttribute('data-command').toLowerCase()) {\n              value = data[v];\n\n              if (/^\\./.test(value) ? util.hasClass(node, value.replace(/^\\./, '')) : !!node.style[value]) {\n                active = true;\n                break;\n              }\n            }\n\n            node = node.parentNode;\n          }\n\n          if (!active) break;\n        }\n\n        active ? util.addClass(btn, 'active') : util.removeClass(btn, 'active');\n      }\n    },\n    pickup: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      let target = e.target;\n      let command = null,\n          tag = null;\n\n      while (!command && !/UL/i.test(target.tagName)) {\n        command = target.getAttribute('data-command');\n\n        if (command) {\n          tag = target.firstChild;\n          break;\n        }\n\n        target = target.parentNode;\n      }\n\n      if (!command) return;\n      const checkStyles = tag.style.cssText.replace(/:.+(;|$)/g, ',').split(',');\n      checkStyles.pop();\n      const classes = tag.classList;\n\n      for (let i = 0, len = classes.length; i < len; i++) {\n        checkStyles.push('.' + classes[i]);\n      }\n\n      const newNode = this.util.hasClass(target, 'active') ? null : tag.cloneNode(false);\n      const removeNodes = newNode ? null : [tag.nodeName];\n      this.nodeChange(newNode, checkStyles, removeNodes, true);\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 27 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony import */\n\n\n  var _modules_anchor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);\n  /* harmony import */\n\n\n  var _modules_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2);\n  /* harmony import */\n\n\n  var _modules_component__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_modules_component__WEBPACK_IMPORTED_MODULE_2__);\n  /* harmony import */\n\n\n  var _modules_resizing__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6);\n  /* harmony import */\n\n\n  var _modules_resizing__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_modules_resizing__WEBPACK_IMPORTED_MODULE_3__);\n  /* harmony import */\n\n\n  var _modules_fileManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(3);\n  /* harmony import */\n\n\n  var _modules_fileManager__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_modules_fileManager__WEBPACK_IMPORTED_MODULE_4__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'image',\n    display: 'dialog',\n    add: function (core) {\n      core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_anchor__WEBPACK_IMPORTED_MODULE_1__[\n      /* default */\n      \"a\"], _modules_component__WEBPACK_IMPORTED_MODULE_2___default.a, _modules_resizing__WEBPACK_IMPORTED_MODULE_3___default.a, _modules_fileManager__WEBPACK_IMPORTED_MODULE_4___default.a]);\n      const options = core.options;\n      const context = core.context;\n      const contextImage = context.image = {\n        _infoList: [],\n        // @Override fileManager\n        _infoIndex: 0,\n        // @Override fileManager\n        _uploadFileLength: 0,\n        // @Override fileManager\n        focusElement: null,\n        // @Override dialog // This element has focus when the dialog is opened.\n        sizeUnit: options._imageSizeUnit,\n        _linkElement: '',\n        _altText: '',\n        _align: 'none',\n        _floatClassRegExp: '__se__float\\\\-[a-z]+',\n        _v_src: {\n          _linkValue: ''\n        },\n        svgDefaultSize: '30%',\n        base64RenderIndex: 0,\n        // @require @Override component\n        _element: null,\n        _cover: null,\n        _container: null,\n        // @Override resizing properties\n        inputX: null,\n        inputY: null,\n        _element_w: 1,\n        _element_h: 1,\n        _element_l: 0,\n        _element_t: 0,\n        _defaultSizeX: 'auto',\n        _defaultSizeY: 'auto',\n        _origin_w: options.imageWidth === 'auto' ? '' : options.imageWidth,\n        _origin_h: options.imageHeight === 'auto' ? '' : options.imageHeight,\n        _proportionChecked: true,\n        _resizing: options.imageResizing,\n        _resizeDotHide: !options.imageHeightShow,\n        _rotation: options.imageRotation,\n        _onlyPercentage: options.imageSizeOnlyPercentage,\n        _ratio: false,\n        _ratioX: 1,\n        _ratioY: 1,\n        _captionShow: true,\n        _captionChecked: false,\n        _caption: null,\n        captionCheckEl: null\n      };\n      /** image dialog */\n\n      let image_dialog = this.setDialog(core);\n      contextImage.modal = image_dialog;\n      contextImage.imgInputFile = image_dialog.querySelector('._se_image_file');\n      contextImage.imgUrlFile = image_dialog.querySelector('._se_image_url');\n      contextImage.focusElement = contextImage.imgInputFile || contextImage.imgUrlFile;\n      contextImage.altText = image_dialog.querySelector('._se_image_alt');\n      contextImage.captionCheckEl = image_dialog.querySelector('._se_image_check_caption');\n      contextImage.previewSrc = image_dialog.querySelector('._se_tab_content_image .se-link-preview');\n      /** add event listeners */\n\n      image_dialog.querySelector('.se-dialog-tabs').addEventListener('click', this.openTab.bind(core));\n      image_dialog.querySelector('form').addEventListener('submit', this.submit.bind(core));\n      if (contextImage.imgInputFile) image_dialog.querySelector('.se-file-remove').addEventListener('click', this._removeSelectedFiles.bind(contextImage.imgInputFile, contextImage.imgUrlFile, contextImage.previewSrc));\n      if (contextImage.imgUrlFile) contextImage.imgUrlFile.addEventListener('input', this._onLinkPreview.bind(contextImage.previewSrc, contextImage._v_src, options.linkProtocol));\n      if (contextImage.imgInputFile && contextImage.imgUrlFile) contextImage.imgInputFile.addEventListener('change', this._fileInputChange.bind(contextImage));\n      const imageGalleryButton = image_dialog.querySelector('.__se__gallery');\n      if (imageGalleryButton) imageGalleryButton.addEventListener('click', this._openGallery.bind(core));\n      contextImage.proportion = {};\n      contextImage.inputX = {};\n      contextImage.inputY = {};\n\n      if (options.imageResizing) {\n        contextImage.proportion = image_dialog.querySelector('._se_image_check_proportion');\n        contextImage.inputX = image_dialog.querySelector('._se_image_size_x');\n        contextImage.inputY = image_dialog.querySelector('._se_image_size_y');\n        contextImage.inputX.value = options.imageWidth;\n        contextImage.inputY.value = options.imageHeight;\n        contextImage.inputX.addEventListener('keyup', this.setInputSize.bind(core, 'x'));\n        contextImage.inputY.addEventListener('keyup', this.setInputSize.bind(core, 'y'));\n        contextImage.inputX.addEventListener('change', this.setRatio.bind(core));\n        contextImage.inputY.addEventListener('change', this.setRatio.bind(core));\n        contextImage.proportion.addEventListener('change', this.setRatio.bind(core));\n        image_dialog.querySelector('.se-dialog-btn-revert').addEventListener('click', this.sizeRevert.bind(core));\n      }\n      /** append html */\n\n\n      context.dialog.modal.appendChild(image_dialog);\n      /** link event */\n\n      core.plugins.anchor.initEvent.call(core, 'image', image_dialog.querySelector('._se_tab_content_url'));\n      contextImage.anchorCtx = core.context.anchor.caller.image;\n      /** empty memory */\n\n      image_dialog = null;\n    },\n\n    /** dialog */\n    setDialog: function (core) {\n      const option = core.options;\n      const lang = core.lang;\n      const dialog = core.util.createElement('DIV');\n      dialog.className = 'se-dialog-content se-dialog-image';\n      dialog.style.display = 'none';\n      let html = '' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.imageBox.title + '</span>' + '</div>' + '<div class=\"se-dialog-tabs\">' + '<button type=\"button\" class=\"_se_tab_link active\" data-tab-link=\"image\">' + lang.toolbar.image + '</button>' + '<button type=\"button\" class=\"_se_tab_link\" data-tab-link=\"url\">' + lang.toolbar.link + '</button>' + '</div>' + '<form method=\"post\" enctype=\"multipart/form-data\">' + '<div class=\"_se_tab_content _se_tab_content_image\">' + '<div class=\"se-dialog-body\"><div style=\"border-bottom: 1px dashed #ccc;\">';\n\n      if (option.imageFileInput) {\n        html += '' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.imageBox.file + '</label>' + '<div class=\"se-dialog-form-files\">' + '<input class=\"se-input-form _se_image_file\" type=\"file\" accept=\"' + option.imageAccept + '\"' + (option.imageMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' + '<button type=\"button\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\">' + core.icons.cancel + '</button>' + '</div>' + '</div>';\n      }\n\n      if (option.imageUrlInput) {\n        html += '' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.imageBox.url + '</label>' + '<div class=\"se-dialog-form-files\">' + '<input class=\"se-input-form se-input-url _se_image_url\" type=\"text\" />' + (option.imageGalleryUrl && core.plugins.imageGallery ? '<button type=\"button\" class=\"se-btn se-dialog-files-edge-button __se__gallery\" title=\"' + lang.toolbar.imageGallery + '\">' + core.icons.image_gallery + '</button>' : '') + '</div>' + '<pre class=\"se-link-preview\"></pre>' + '</div>';\n      }\n\n      html += '</div>' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.imageBox.altText + '</label><input class=\"se-input-form _se_image_alt\" type=\"text\" />' + '</div>';\n\n      if (option.imageResizing) {\n        const onlyPercentage = option.imageSizeOnlyPercentage;\n        const onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : '';\n        const heightDisplay = !option.imageHeightShow ? ' style=\"display: none !important;\"' : '';\n        html += '<div class=\"se-dialog-form\">';\n\n        if (onlyPercentage || !option.imageHeightShow) {\n          html += '' + '<div class=\"se-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.size + '</label>' + '</div>';\n        } else {\n          html += '' + '<div class=\"se-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.width + '</label>' + '<label class=\"se-dialog-size-x\">&nbsp;</label>' + '<label class=\"size-h\">' + lang.dialogBox.height + '</label>' + '</div>';\n        }\n\n        html += '' + '<input class=\"se-input-control _se_image_size_x\" placeholder=\"auto\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + ' />' + '<label class=\"se-dialog-size-x\"' + heightDisplay + '>' + (onlyPercentage ? '%' : 'x') + '</label>' + '<input type=\"text\" class=\"se-input-control _se_image_size_y\" placeholder=\"auto\"' + onlyPercentDisplay + (onlyPercentage ? ' max=\"100\"' : '') + heightDisplay + '/>' + '<label' + onlyPercentDisplay + heightDisplay + '><input type=\"checkbox\" class=\"se-dialog-btn-check _se_image_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + '</label>' + '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"se-btn se-dialog-btn-revert\" style=\"float: right;\">' + core.icons.revert + '</button>' + '</div>';\n      }\n\n      html += '' + '<div class=\"se-dialog-form se-dialog-form-footer\">' + '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_image_check_caption\" />&nbsp;' + lang.dialogBox.caption + '</label>' + '</div>' + '</div>' + '</div>' + '<div class=\"_se_tab_content _se_tab_content_url\" style=\"display: none\">' + core.context.anchor.forms.innerHTML + '</div>' + '<div class=\"se-dialog-footer\">' + '<div>' + '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + '</label>' + '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + '</label>' + '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + '</label>' + '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + '</label>' + '</div>' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n      dialog.innerHTML = html;\n      return dialog;\n    },\n    _fileInputChange: function () {\n      if (!this.imgInputFile.value) {\n        this.imgUrlFile.removeAttribute('disabled');\n        this.previewSrc.style.textDecoration = '';\n      } else {\n        this.imgUrlFile.setAttribute('disabled', true);\n        this.previewSrc.style.textDecoration = 'line-through';\n      }\n    },\n    _removeSelectedFiles: function (urlInput, previewSrc) {\n      this.value = '';\n\n      if (urlInput) {\n        urlInput.removeAttribute('disabled');\n        previewSrc.style.textDecoration = '';\n      }\n    },\n    _openGallery: function () {\n      this.callPlugin('imageGallery', this.plugins.imageGallery.open.bind(this, this.plugins.image._setUrlInput.bind(this.context.image)), null);\n    },\n    _setUrlInput: function (target) {\n      this.altText.value = target.alt;\n      this._v_src._linkValue = this.previewSrc.textContent = this.imgUrlFile.value = target.src;\n      this.imgUrlFile.focus();\n    },\n    _onLinkPreview: function (context, protocol, e) {\n      const value = e.target.value.trim();\n      context._linkValue = this.textContent = !value ? '' : protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0 ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\n    },\n\n    /**\n     * @Override @Required fileManager\n     */\n    fileTags: ['img'],\n\n    /**\n     * @Override core, fileManager, resizing\n     * @description It is called from core.selectComponent.\n     * @param {Element} element Target element\n     */\n    select: function (element) {\n      this.plugins.image.onModifyMode.call(this, element, this.plugins.resizing.call_controller_resize.call(this, element, 'image'));\n    },\n\n    /**\n     * @Override fileManager, resizing\n     */\n    destroy: function (element) {\n      const imageEl = element || this.context.image._element;\n      const imageContainer = this.util.getParentElement(imageEl, this.util.isMediaComponent) || imageEl;\n      const dataIndex = imageEl.getAttribute('data-index') * 1;\n      let focusEl = imageContainer.previousElementSibling || imageContainer.nextElementSibling;\n      const emptyDiv = imageContainer.parentNode;\n      this.util.removeItem(imageContainer);\n      this.plugins.image.init.call(this);\n      this.controllersOff();\n      if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) {\n        return current.childNodes.length === 0;\n      }, null); // focus\n\n      this.focusEdge(focusEl); // event\n\n      this.plugins.fileManager.deleteInfo.call(this, 'image', dataIndex, this.functions.onImageUpload); // history stack\n\n      this.history.push(false);\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    on: function (update) {\n      const contextImage = this.context.image;\n\n      if (!update) {\n        contextImage.inputX.value = contextImage._origin_w = this.options.imageWidth === contextImage._defaultSizeX ? '' : this.options.imageWidth;\n        contextImage.inputY.value = contextImage._origin_h = this.options.imageHeight === contextImage._defaultSizeY ? '' : this.options.imageHeight;\n        if (contextImage.imgInputFile && this.options.imageMultipleFile) contextImage.imgInputFile.setAttribute('multiple', 'multiple');\n      } else {\n        if (contextImage.imgInputFile && this.options.imageMultipleFile) contextImage.imgInputFile.removeAttribute('multiple');\n      }\n\n      this.plugins.anchor.on.call(this, contextImage.anchorCtx, update);\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    open: function () {\n      this.plugins.dialog.open.call(this, 'image', 'image' === this.currentControllerName);\n    },\n    openTab: function (e) {\n      const modal = this.context.image.modal;\n      const targetElement = e === 'init' ? modal.querySelector('._se_tab_link') : e.target;\n\n      if (!/^BUTTON$/i.test(targetElement.tagName)) {\n        return false;\n      } // Declare all variables\n\n\n      const tabName = targetElement.getAttribute('data-tab-link');\n      const contentClassName = '_se_tab_content';\n      let i, tabContent, tabLinks; // Get all elements with class=\"tabcontent\" and hide them\n\n      tabContent = modal.getElementsByClassName(contentClassName);\n\n      for (i = 0; i < tabContent.length; i++) {\n        tabContent[i].style.display = 'none';\n      } // Get all elements with class=\"tablinks\" and remove the class \"active\"\n\n\n      tabLinks = modal.getElementsByClassName('_se_tab_link');\n\n      for (i = 0; i < tabLinks.length; i++) {\n        this.util.removeClass(tabLinks[i], 'active');\n      } // Show the current tab, and add an \"active\" class to the button that opened the tab\n\n\n      modal.querySelector('.' + contentClassName + '_' + tabName).style.display = 'block';\n      this.util.addClass(targetElement, 'active'); // focus\n\n      if (tabName === 'image' && this.context.image.focusElement) {\n        this.context.image.focusElement.focus();\n      } else if (tabName === 'url') {\n        this.context.anchor.caller.image.urlInput.focus();\n      }\n\n      return false;\n    },\n    submit: function (e) {\n      const contextImage = this.context.image;\n      const imagePlugin = this.plugins.image;\n      e.preventDefault();\n      e.stopPropagation();\n      contextImage._altText = contextImage.altText.value;\n      contextImage._align = contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"]:checked').value;\n      contextImage._captionChecked = contextImage.captionCheckEl.checked;\n      if (contextImage._resizing) contextImage._proportionChecked = contextImage.proportion.checked;\n\n      try {\n        if (this.context.dialog.updateModal) {\n          imagePlugin.update_image.call(this, false, true, false);\n        }\n\n        if (contextImage.imgInputFile && contextImage.imgInputFile.files.length > 0) {\n          this.showLoading();\n          imagePlugin.submitAction.call(this, this.context.image.imgInputFile.files);\n        } else if (contextImage.imgUrlFile && contextImage._v_src._linkValue.length > 0) {\n          this.showLoading();\n          imagePlugin.onRender_imgUrl.call(this);\n        }\n      } catch (error) {\n        this.closeLoading();\n        throw Error('[SUNEDITOR.image.submit.fail] cause : \"' + error.message + '\"');\n      } finally {\n        this.plugins.dialog.close.call(this);\n      }\n\n      return false;\n    },\n    submitAction: function (fileList) {\n      if (fileList.length === 0) return;\n      let fileSize = 0;\n      let files = [];\n\n      for (let i = 0, len = fileList.length; i < len; i++) {\n        if (/image/i.test(fileList[i].type)) {\n          files.push(fileList[i]);\n          fileSize += fileList[i].size;\n        }\n      }\n\n      const limitSize = this.options.imageUploadSizeLimit;\n\n      if (limitSize > 0) {\n        let infoSize = 0;\n        const imagesInfo = this.context.image._infoList;\n\n        for (let i = 0, len = imagesInfo.length; i < len; i++) {\n          infoSize += imagesInfo[i].size * 1;\n        }\n\n        if (fileSize + infoSize > limitSize) {\n          this.closeLoading();\n          const err = '[SUNEDITOR.imageUpload.fail] Size of uploadable total images: ' + limitSize / 1000 + 'KB';\n\n          if (typeof this.functions.onImageUploadError !== 'function' || this.functions.onImageUploadError(err, {\n            'limitSize': limitSize,\n            'currentSize': infoSize,\n            'uploadSize': fileSize\n          }, this)) {\n            this.functions.noticeOpen(err);\n          }\n\n          return;\n        }\n      }\n\n      const contextImage = this.context.image;\n      contextImage._uploadFileLength = files.length;\n      const anchor = this.plugins.anchor.createAnchor.call(this, contextImage.anchorCtx, true);\n      const info = {\n        anchor: anchor,\n        inputWidth: contextImage.inputX.value,\n        inputHeight: contextImage.inputY.value,\n        align: contextImage._align,\n        isUpdate: this.context.dialog.updateModal,\n        element: contextImage._element\n      };\n\n      if (typeof this.functions.onImageUploadBefore === 'function') {\n        const result = this.functions.onImageUploadBefore(files, info, this, function (data) {\n          if (data && this._w.Array.isArray(data.result)) {\n            this.plugins.image.register.call(this, info, data);\n          } else {\n            this.plugins.image.upload.call(this, info, data);\n          }\n        }.bind(this));\n        if (typeof result === 'undefined') return;\n\n        if (!result) {\n          this.closeLoading();\n          return;\n        }\n\n        if (this._w.Array.isArray(result) && result.length > 0) files = result;\n      }\n\n      this.plugins.image.upload.call(this, info, files);\n    },\n    error: function (message, response) {\n      this.closeLoading();\n\n      if (typeof this.functions.onImageUploadError !== 'function' || this.functions.onImageUploadError(message, response, this)) {\n        this.functions.noticeOpen(message);\n        throw Error('[SUNEDITOR.plugin.image.error] response: ' + message);\n      }\n    },\n    upload: function (info, files) {\n      if (!files) {\n        this.closeLoading();\n        return;\n      }\n\n      if (typeof files === 'string') {\n        this.plugins.image.error.call(this, files, null);\n        return;\n      }\n\n      const imageUploadUrl = this.options.imageUploadUrl;\n      const filesLen = this.context.dialog.updateModal ? 1 : files.length; // server upload\n\n      if (typeof imageUploadUrl === 'string' && imageUploadUrl.length > 0) {\n        const formData = new FormData();\n\n        for (let i = 0; i < filesLen; i++) {\n          formData.append('file-' + i, files[i]);\n        }\n\n        this.plugins.fileManager.upload.call(this, imageUploadUrl, this.options.imageUploadHeader, formData, this.plugins.image.callBack_imgUpload.bind(this, info), this.functions.onImageUploadError);\n      } else {\n        // base64\n        this.plugins.image.setup_reader.call(this, files, info.anchor, info.inputWidth, info.inputHeight, info.align, filesLen, info.isUpdate);\n      }\n    },\n    callBack_imgUpload: function (info, xmlHttp) {\n      if (typeof this.functions.imageUploadHandler === 'function') {\n        this.functions.imageUploadHandler(xmlHttp, info, this);\n      } else {\n        const response = JSON.parse(xmlHttp.responseText);\n\n        if (response.errorMessage) {\n          this.plugins.image.error.call(this, response.errorMessage, response);\n        } else {\n          this.plugins.image.register.call(this, info, response);\n        }\n      }\n    },\n    register: function (info, response) {\n      const fileList = response.result;\n\n      for (let i = 0, len = fileList.length, file; i < len; i++) {\n        file = {\n          name: fileList[i].name,\n          size: fileList[i].size\n        };\n\n        if (info.isUpdate) {\n          this.plugins.image.update_src.call(this, fileList[i].url, info.element, file);\n          break;\n        } else {\n          this.plugins.image.create_image.call(this, fileList[i].url, info.anchor, info.inputWidth, info.inputHeight, info.align, file);\n        }\n      }\n\n      this.closeLoading();\n    },\n    setup_reader: function (files, anchor, width, height, align, filesLen, isUpdate) {\n      try {\n        this.context.image.base64RenderIndex = filesLen;\n        const wFileReader = this._w.FileReader;\n        const filesStack = [filesLen];\n        this.context.image.inputX.value = width;\n        this.context.image.inputY.value = height;\n\n        for (let i = 0, reader, file; i < filesLen; i++) {\n          reader = new wFileReader();\n          file = files[i];\n\n          reader.onload = function (reader, update, updateElement, file, index) {\n            filesStack[index] = {\n              result: reader.result,\n              file: file\n            };\n\n            if (--this.context.image.base64RenderIndex === 0) {\n              this.plugins.image.onRender_imgBase64.call(this, update, filesStack, updateElement, anchor, width, height, align);\n              this.closeLoading();\n            }\n          }.bind(this, reader, isUpdate, this.context.image._element, file, i);\n\n          reader.readAsDataURL(file);\n        }\n      } catch (e) {\n        this.closeLoading();\n        throw Error('[SUNEDITOR.image.setup_reader.fail] cause : \"' + e.message + '\"');\n      }\n    },\n    onRender_imgBase64: function (update, filesStack, updateElement, anchor, width, height, align) {\n      const updateMethod = this.plugins.image.update_src;\n      const createMethod = this.plugins.image.create_image;\n\n      for (let i = 0, len = filesStack.length; i < len; i++) {\n        if (update) {\n          this.context.image._element.setAttribute('data-file-name', filesStack[i].file.name);\n\n          this.context.image._element.setAttribute('data-file-size', filesStack[i].file.size);\n\n          updateMethod.call(this, filesStack[i].result, updateElement, filesStack[i].file);\n        } else {\n          createMethod.call(this, filesStack[i].result, anchor, width, height, align, filesStack[i].file);\n        }\n      }\n    },\n    onRender_imgUrl: function () {\n      const contextImage = this.context.image;\n      if (contextImage._v_src._linkValue.length === 0) return false;\n\n      try {\n        const file = {\n          name: contextImage._v_src._linkValue.split('/').pop(),\n          size: 0\n        };\n        if (this.context.dialog.updateModal) this.plugins.image.update_src.call(this, contextImage._v_src._linkValue, contextImage._element, file);else this.plugins.image.create_image.call(this, contextImage._v_src._linkValue, this.plugins.anchor.createAnchor.call(this, contextImage.anchorCtx, true), contextImage.inputX.value, contextImage.inputY.value, contextImage._align, file);\n      } catch (e) {\n        throw Error('[SUNEDITOR.image.URLRendering.fail] cause : \"' + e.message + '\"');\n      } finally {\n        this.closeLoading();\n      }\n    },\n    onRender_link: function (imgTag, anchor) {\n      if (anchor) {\n        anchor.setAttribute('data-image-link', 'image');\n        imgTag.setAttribute('data-image-link', anchor.href);\n        anchor.appendChild(imgTag);\n        return anchor;\n      }\n\n      return imgTag;\n    },\n\n    /**\n     * @Override resizing\n     * @param {String} xy 'x': width, 'y': height\n     * @param {KeyboardEvent} e Event object\n     */\n    setInputSize: function (xy, e) {\n      if (e && e.keyCode === 32) {\n        e.preventDefault();\n        return;\n      }\n\n      this.plugins.resizing._module_setInputSize.call(this, this.context.image, xy);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setRatio: function () {\n      this.plugins.resizing._module_setRatio.call(this, this.context.image);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    checkFileInfo: function () {\n      const imagePlugin = this.plugins.image;\n      const contextImage = this.context.image;\n\n      const modifyHandler = function (tag) {\n        imagePlugin.onModifyMode.call(this, tag, null);\n        imagePlugin.openModify.call(this, true); // get size\n\n        contextImage.inputX.value = contextImage._origin_w;\n        contextImage.inputY.value = contextImage._origin_h; // get align\n\n        const format = this.util.getFormatElement(tag);\n        if (format) contextImage._align = format.style.textAlign || format.style.float; // link\n\n        const link = this.util.getParentElement(tag, this.util.isAnchor);\n        if (link && !contextImage.anchorCtx.linkValue) contextImage.anchorCtx.linkValue = ' ';\n        imagePlugin.update_image.call(this, true, false, true);\n      }.bind(this);\n\n      this.plugins.fileManager.checkInfo.call(this, 'image', ['img'], this.functions.onImageUpload, modifyHandler, true);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    resetFileInfo: function () {\n      this.plugins.fileManager.resetInfo.call(this, 'image', this.functions.onImageUpload);\n    },\n    create_image: function (src, anchor, width, height, align, file) {\n      const imagePlugin = this.plugins.image;\n      const contextImage = this.context.image;\n      this.context.resizing._resize_plugin = 'image';\n      let oImg = this.util.createElement('IMG');\n      oImg.src = src;\n      oImg.alt = contextImage._altText;\n      oImg.setAttribute('data-rotate', '0');\n      anchor = imagePlugin.onRender_link.call(this, oImg, anchor);\n\n      if (contextImage._resizing) {\n        oImg.setAttribute('data-proportion', contextImage._proportionChecked);\n      }\n\n      const cover = this.plugins.component.set_cover.call(this, anchor);\n      const container = this.plugins.component.set_container.call(this, cover, 'se-image-container'); // caption\n\n      if (contextImage._captionChecked) {\n        contextImage._caption = this.plugins.component.create_caption.call(this);\n\n        contextImage._caption.setAttribute('contenteditable', false);\n\n        cover.appendChild(contextImage._caption);\n      }\n\n      contextImage._element = oImg;\n      contextImage._cover = cover;\n      contextImage._container = container; // set size\n\n      imagePlugin.applySize.call(this, width, height); // align\n\n      imagePlugin.setAlign.call(this, align, oImg, cover, container);\n      oImg.onload = imagePlugin._image_create_onload.bind(this, oImg, contextImage.svgDefaultSize, container);\n      if (this.insertComponent(container, true, true, true)) this.plugins.fileManager.setInfo.call(this, 'image', oImg, this.functions.onImageUpload, file, true);\n      this.context.resizing._resize_plugin = '';\n    },\n    _image_create_onload: function (oImg, svgDefaultSize, container) {\n      // svg exception handling\n      if (oImg.offsetWidth === 0) this.plugins.image.applySize.call(this, svgDefaultSize, '');\n\n      if (this.options.mediaAutoSelect) {\n        this.selectComponent(oImg, 'image');\n      } else {\n        const line = this.appendFormatTag(container, null);\n        this.setRange(line, 0, line, 0);\n      }\n    },\n    update_image: function (init, openController, notHistoryPush) {\n      const contextImage = this.context.image;\n      let imageEl = contextImage._element;\n      let cover = contextImage._cover;\n      let container = contextImage._container;\n      let isNewContainer = false;\n\n      if (cover === null) {\n        isNewContainer = true;\n        imageEl = contextImage._element.cloneNode(true);\n        cover = this.plugins.component.set_cover.call(this, imageEl);\n      }\n\n      if (container === null) {\n        cover = cover.cloneNode(true);\n        imageEl = cover.querySelector('img');\n        isNewContainer = true;\n        container = this.plugins.component.set_container.call(this, cover, 'se-image-container');\n      } else if (isNewContainer) {\n        container.innerHTML = '';\n        container.appendChild(cover);\n        contextImage._cover = cover;\n        contextImage._element = imageEl;\n        isNewContainer = false;\n      } // check size\n\n\n      let changeSize;\n      const x = this.util.isNumber(contextImage.inputX.value) ? contextImage.inputX.value + contextImage.sizeUnit : contextImage.inputX.value;\n      const y = this.util.isNumber(contextImage.inputY.value) ? contextImage.inputY.value + contextImage.sizeUnit : contextImage.inputY.value;\n\n      if (/%$/.test(imageEl.style.width)) {\n        changeSize = x !== container.style.width || y !== container.style.height;\n      } else {\n        changeSize = x !== imageEl.style.width || y !== imageEl.style.height;\n      } // alt\n\n\n      imageEl.alt = contextImage._altText; // caption\n\n      let modifiedCaption = false;\n\n      if (contextImage._captionChecked) {\n        if (!contextImage._caption) {\n          contextImage._caption = this.plugins.component.create_caption.call(this);\n          cover.appendChild(contextImage._caption);\n          modifiedCaption = true;\n        }\n      } else {\n        if (contextImage._caption) {\n          this.util.removeItem(contextImage._caption);\n          contextImage._caption = null;\n          modifiedCaption = true;\n        }\n      } // link\n\n\n      const anchor = this.plugins.anchor.createAnchor.call(this, contextImage.anchorCtx, true);\n\n      if (anchor) {\n        contextImage._linkElement = contextImage._linkElement === anchor ? anchor.cloneNode(false) : anchor;\n        cover.insertBefore(this.plugins.image.onRender_link.call(this, imageEl, contextImage._linkElement), contextImage._caption);\n      } else if (contextImage._linkElement !== null) {\n        const imageElement = imageEl;\n        imageElement.setAttribute('data-image-link', '');\n\n        if (cover.contains(contextImage._linkElement)) {\n          const newEl = imageElement.cloneNode(true);\n          cover.removeChild(contextImage._linkElement);\n          cover.insertBefore(newEl, contextImage._caption);\n          imageEl = newEl;\n        }\n      }\n\n      if (isNewContainer) {\n        const existElement = this.util.isRangeFormatElement(contextImage._element.parentNode) || this.util.isWysiwygDiv(contextImage._element.parentNode) ? contextImage._element : /^A$/i.test(contextImage._element.parentNode.nodeName) ? contextImage._element.parentNode : this.util.getFormatElement(contextImage._element) || contextImage._element;\n\n        if (this.util.isFormatElement(existElement) && existElement.childNodes.length > 0) {\n          existElement.parentNode.insertBefore(container, existElement);\n          this.util.removeItem(contextImage._element); // clean format tag\n\n          this.util.removeEmptyNode(existElement, null);\n          if (existElement.children.length === 0) existElement.innerHTML = this.util.htmlRemoveWhiteSpace(existElement.innerHTML);\n        } else {\n          if (this.util.isFormatElement(existElement.parentNode)) {\n            const formats = existElement.parentNode;\n            formats.parentNode.insertBefore(container, existElement.previousSibling ? formats.nextElementSibling : formats);\n            this.util.removeItem(existElement);\n          } else {\n            existElement.parentNode.replaceChild(container, existElement);\n          }\n        }\n\n        imageEl = container.querySelector('img');\n        contextImage._element = imageEl;\n        contextImage._cover = cover;\n        contextImage._container = container;\n      } // transform\n\n\n      if (modifiedCaption || !contextImage._onlyPercentage && changeSize) {\n        if (!init && (/\\d+/.test(imageEl.style.height) || this.context.resizing._rotateVertical && contextImage._captionChecked)) {\n          if (/%$/.test(contextImage.inputX.value) || /%$/.test(contextImage.inputY.value)) {\n            this.plugins.resizing.resetTransform.call(this, imageEl);\n          } else {\n            this.plugins.resizing.setTransformSize.call(this, imageEl, this.util.getNumber(contextImage.inputX.value, 0), this.util.getNumber(contextImage.inputY.value, 0));\n          }\n        }\n      } // size\n\n\n      if (contextImage._resizing) {\n        imageEl.setAttribute('data-proportion', contextImage._proportionChecked);\n\n        if (changeSize) {\n          this.plugins.image.applySize.call(this);\n        }\n      } // align\n\n\n      this.plugins.image.setAlign.call(this, null, imageEl, null, null); // set imagesInfo\n\n      if (init) {\n        this.plugins.fileManager.setInfo.call(this, 'image', imageEl, this.functions.onImageUpload, null, true);\n      }\n\n      if (openController) {\n        this.selectComponent(imageEl, 'image');\n      } // history stack\n\n\n      if (!notHistoryPush) this.history.push(false);\n    },\n    update_src: function (src, element, file) {\n      element.src = src;\n\n      this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this, 'image', element, this.functions.onImageUpload, file, true));\n\n      this.selectComponent(element, 'image');\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    onModifyMode: function (element, size) {\n      if (!element) return;\n      const contextImage = this.context.image;\n      contextImage._linkElement = contextImage.anchorCtx.linkAnchor = /^A$/i.test(element.parentNode.nodeName) ? element.parentNode : null;\n      contextImage._element = element;\n      contextImage._cover = this.util.getParentElement(element, 'FIGURE');\n      contextImage._container = this.util.getParentElement(element, this.util.isMediaComponent);\n      contextImage._caption = this.util.getChildElement(contextImage._cover, 'FIGCAPTION');\n      contextImage._align = element.style.float || element.getAttribute('data-align') || 'none';\n      element.style.float = '';\n      this.plugins.anchor.setCtx(contextImage._linkElement, contextImage.anchorCtx);\n\n      if (size) {\n        contextImage._element_w = size.w;\n        contextImage._element_h = size.h;\n        contextImage._element_t = size.t;\n        contextImage._element_l = size.l;\n      }\n\n      let userSize = contextImage._element.getAttribute('data-size') || contextImage._element.getAttribute('data-origin');\n\n      let w, h;\n\n      if (userSize) {\n        userSize = userSize.split(',');\n        w = userSize[0];\n        h = userSize[1];\n      } else if (size) {\n        w = size.w;\n        h = size.h;\n      }\n\n      contextImage._origin_w = w || element.style.width || element.width || '';\n      contextImage._origin_h = h || element.style.height || element.height || '';\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    openModify: function (notOpen) {\n      const contextImage = this.context.image;\n\n      if (contextImage.imgUrlFile) {\n        contextImage._v_src._linkValue = contextImage.previewSrc.textContent = contextImage.imgUrlFile.value = contextImage._element.src;\n      }\n\n      contextImage._altText = contextImage.altText.value = contextImage._element.alt;\n      contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"' + contextImage._align + '\"]').checked = true;\n      contextImage._align = contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"]:checked').value;\n      contextImage._captionChecked = contextImage.captionCheckEl.checked = !!contextImage._caption;\n\n      if (contextImage._resizing) {\n        this.plugins.resizing._module_setModifyInputSize.call(this, contextImage, this.plugins.image);\n      }\n\n      if (!notOpen) this.plugins.dialog.open.call(this, 'image', true);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    applySize: function (w, h) {\n      const contextImage = this.context.image;\n      if (!w) w = contextImage.inputX.value || this.options.imageWidth;\n      if (!h) h = contextImage.inputY.value || this.options.imageHeight;\n\n      if (contextImage._onlyPercentage && !!w || /%$/.test(w)) {\n        this.plugins.image.setPercentSize.call(this, w, h);\n        return true;\n      } else if ((!w || w === 'auto') && (!h || h === 'auto')) {\n        this.plugins.image.setAutoSize.call(this);\n      } else {\n        this.plugins.image.setSize.call(this, w, h, false);\n      }\n\n      return false;\n    },\n\n    /**\n     * @Override resizing\n     */\n    sizeRevert: function () {\n      this.plugins.resizing._module_sizeRevert.call(this, this.context.image);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setSize: function (w, h, notResetPercentage, direction) {\n      const contextImage = this.context.image;\n      const onlyW = /^(rw|lw)$/.test(direction);\n      const onlyH = /^(th|bh)$/.test(direction);\n\n      if (!onlyH) {\n        contextImage._element.style.width = this.util.isNumber(w) ? w + contextImage.sizeUnit : w;\n        this.plugins.image.cancelPercentAttr.call(this);\n      }\n\n      if (!onlyW) {\n        contextImage._element.style.height = this.util.isNumber(h) ? h + contextImage.sizeUnit : /%$/.test(h) ? '' : h;\n      }\n\n      if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n      if (!notResetPercentage) contextImage._element.removeAttribute('data-percentage'); // save current size\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setAutoSize: function () {\n      const contextImage = this.context.image;\n      this.plugins.resizing.resetTransform.call(this, contextImage._element);\n      this.plugins.image.cancelPercentAttr.call(this);\n      contextImage._element.style.maxWidth = '';\n      contextImage._element.style.width = '';\n      contextImage._element.style.height = '';\n      contextImage._cover.style.width = '';\n      contextImage._cover.style.height = '';\n      this.plugins.image.setAlign.call(this, null, null, null, null);\n\n      contextImage._element.setAttribute('data-percentage', 'auto,auto'); // save current size\n\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setOriginSize: function () {\n      const contextImage = this.context.image;\n\n      contextImage._element.removeAttribute('data-percentage');\n\n      this.plugins.resizing.resetTransform.call(this, contextImage._element);\n      this.plugins.image.cancelPercentAttr.call(this);\n      const originSize = (contextImage._element.getAttribute('data-origin') || '').split(',');\n      const w = originSize[0];\n      const h = originSize[1];\n\n      if (originSize) {\n        if (contextImage._onlyPercentage || /%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h))) {\n          this.plugins.image.setPercentSize.call(this, w, h);\n        } else {\n          this.plugins.image.setSize.call(this, w, h);\n        } // save current size\n\n\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n      }\n    },\n\n    /**\n     * @Override resizing\n     */\n    setPercentSize: function (w, h) {\n      const contextImage = this.context.image;\n      h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + '%' : h : this.util.isNumber(h) ? h + contextImage.sizeUnit : h || '';\n      const heightPercentage = /%$/.test(h);\n      contextImage._container.style.width = this.util.isNumber(w) ? w + '%' : w;\n      contextImage._container.style.height = '';\n      contextImage._cover.style.width = '100%';\n      contextImage._cover.style.height = !heightPercentage ? '' : h;\n      contextImage._element.style.width = '100%';\n      contextImage._element.style.height = heightPercentage ? '' : h;\n      contextImage._element.style.maxWidth = '';\n      if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n\n      contextImage._element.setAttribute('data-percentage', w + ',' + h);\n\n      this.plugins.resizing.setCaptionPosition.call(this, contextImage._element); // save current size\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n\n    /**\n     * @Override resizing\n     */\n    cancelPercentAttr: function () {\n      const contextImage = this.context.image;\n      contextImage._cover.style.width = '';\n      contextImage._cover.style.height = '';\n      contextImage._container.style.width = '';\n      contextImage._container.style.height = '';\n      this.util.removeClass(contextImage._container, this.context.image._floatClassRegExp);\n      this.util.addClass(contextImage._container, '__se__float-' + contextImage._align);\n      if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setAlign: function (align, element, cover, container) {\n      const contextImage = this.context.image;\n      if (!align) align = contextImage._align;\n      if (!element) element = contextImage._element;\n      if (!cover) cover = contextImage._cover;\n      if (!container) container = contextImage._container;\n\n      if (align && align !== 'none') {\n        cover.style.margin = 'auto';\n      } else {\n        cover.style.margin = '0';\n      }\n\n      if (/%$/.test(element.style.width) && align === 'center') {\n        container.style.minWidth = '100%';\n        cover.style.width = container.style.width;\n      } else {\n        container.style.minWidth = '';\n        cover.style.width = this.context.resizing._rotateVertical ? element.style.height || element.offsetHeight : !element.style.width || element.style.width === 'auto' ? '' : element.style.width || '100%';\n      }\n\n      if (!this.util.hasClass(container, '__se__float-' + align)) {\n        this.util.removeClass(container, contextImage._floatClassRegExp);\n        this.util.addClass(container, '__se__float-' + align);\n      }\n\n      element.setAttribute('data-align', align);\n    },\n\n    /**\n     * @Override dialog\n     */\n    init: function () {\n      const contextImage = this.context.image;\n      if (contextImage.imgInputFile) contextImage.imgInputFile.value = '';\n      if (contextImage.imgUrlFile) contextImage._v_src._linkValue = contextImage.previewSrc.textContent = contextImage.imgUrlFile.value = '';\n\n      if (contextImage.imgInputFile && contextImage.imgUrlFile) {\n        contextImage.imgUrlFile.removeAttribute('disabled');\n        contextImage.previewSrc.style.textDecoration = '';\n      }\n\n      contextImage.altText.value = '';\n      contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"none\"]').checked = true;\n      contextImage.captionCheckEl.checked = false;\n      contextImage._element = null;\n      this.plugins.image.openTab.call(this, 'init');\n\n      if (contextImage._resizing) {\n        contextImage.inputX.value = this.options.imageWidth === contextImage._defaultSizeX ? '' : this.options.imageWidth;\n        contextImage.inputY.value = this.options.imageHeight === contextImage._defaultSizeY ? '' : this.options.imageHeight;\n        contextImage.proportion.checked = true;\n        contextImage._ratio = false;\n        contextImage._ratioX = 1;\n        contextImage._ratioY = 1;\n      }\n\n      this.plugins.anchor.init.call(this, contextImage.anchorCtx);\n    }\n  };\n  /***/\n},\n/* 28 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony import */\n\n\n  var _modules_anchor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'link',\n    display: 'dialog',\n    add: function (core) {\n      core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_anchor__WEBPACK_IMPORTED_MODULE_1__[\n      /* default */\n      \"a\"]]);\n      const context = core.context;\n      const contextLink = context.link = {\n        focusElement: null,\n        // @Override dialog // This element has focus when the dialog is opened.\n        _linkAnchor: null,\n        anchorCtx: null\n      };\n      /** link dialog */\n\n      let link_dialog = this.setDialog(core);\n      contextLink.modal = link_dialog;\n      /** link controller */\n\n      let link_controller = this.setController_LinkButton(core);\n      contextLink.linkController = link_controller;\n      link_dialog.querySelector('form').addEventListener('submit', this.submit.bind(core));\n      link_controller.addEventListener('click', this.onClick_linkController.bind(core));\n      /** append html */\n\n      context.dialog.modal.appendChild(link_dialog);\n      /** append controller */\n\n      context.element.relative.appendChild(link_controller);\n      /** link event */\n\n      core.plugins.anchor.initEvent.call(core, 'link', link_dialog);\n      contextLink.focusElement = context.anchor.caller.link.urlInput;\n      /** empty memory */\n\n      link_dialog = null, link_controller = null;\n    },\n\n    /** dialog */\n    setDialog: function (core) {\n      const lang = core.lang;\n      const dialog = core.util.createElement('DIV');\n      const icons = core.icons;\n      dialog.className = 'se-dialog-content';\n      dialog.style.display = 'none';\n      let html = '' + '<form>' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.linkBox.title + '</span>' + '</div>' + core.context.anchor.forms.innerHTML + '<div class=\"se-dialog-footer\">' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n      dialog.innerHTML = html;\n      return dialog;\n    },\n\n    /** modify controller button */\n    setController_LinkButton: function (core) {\n      const lang = core.lang;\n      const icons = core.icons;\n      const link_btn = core.util.createElement('DIV');\n      link_btn.className = 'se-controller se-controller-link';\n      link_btn.innerHTML = '' + '<div class=\"se-arrow se-arrow-up\"></div>' + '<div class=\"link-content\"><span><a target=\"_blank\" href=\"\"></a>&nbsp;</span>' + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + icons.edit + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"unlink\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + icons.unlink + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.unlink + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>' + '</div>';\n      return link_btn;\n    },\n\n    /**\n     * @Override dialog\n     */\n    open: function () {\n      this.plugins.dialog.open.call(this, 'link', 'link' === this.currentControllerName);\n    },\n    submit: function (e) {\n      this.showLoading();\n      e.preventDefault();\n      e.stopPropagation();\n\n      try {\n        const oA = this.plugins.anchor.createAnchor.call(this, this.context.anchor.caller.link, false);\n\n        if (!this.context.dialog.updateModal) {\n          const selectedFormats = this.getSelectedElements();\n\n          if (selectedFormats.length > 1) {\n            const oFormat = this.util.createElement(selectedFormats[0].nodeName);\n            oFormat.appendChild(oA);\n            if (!this.insertNode(oFormat, null, true)) return;\n          } else {\n            if (!this.insertNode(oA, null, true)) return;\n          }\n\n          this.setRange(oA.childNodes[0], 0, oA.childNodes[0], oA.textContent.length);\n        } else {\n          // set range\n          const textNode = this.context.link._linkAnchor.childNodes[0];\n          this.setRange(textNode, 0, textNode, textNode.textContent.length);\n        }\n      } finally {\n        this.plugins.dialog.close.call(this);\n        this.closeLoading(); // history stack\n\n        this.history.push(false);\n      }\n\n      return false;\n    },\n\n    /**\n     * @Override core\n     */\n    active: function (element) {\n      if (!element) {\n        if (this.controllerArray.indexOf(this.context.link.linkController) > -1) {\n          this.controllersOff();\n        }\n      } else if (this.util.isAnchor(element) && element.getAttribute('data-image-link') === null) {\n        if (this.controllerArray.indexOf(this.context.link.linkController) < 0) {\n          this.plugins.link.call_controller.call(this, element);\n        }\n\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n     * @Override dialog\n     */\n    on: function (update) {\n      this.plugins.anchor.on.call(this, this.context.anchor.caller.link, update);\n    },\n    call_controller: function (selectionATag) {\n      this.editLink = this.context.link._linkAnchor = this.context.anchor.caller.link.linkAnchor = selectionATag;\n      const linkBtn = this.context.link.linkController;\n      const link = linkBtn.querySelector('a');\n      link.href = selectionATag.href;\n      link.title = selectionATag.textContent;\n      link.textContent = selectionATag.textContent;\n      this.util.addClass(selectionATag, 'on');\n      this.setControllerPosition(linkBtn, selectionATag, 'bottom', {\n        left: 0,\n        top: 0\n      });\n      this.controllersOn(linkBtn, selectionATag, 'link', this.util.removeClass.bind(this.util, this.context.link._linkAnchor, 'on'));\n    },\n    onClick_linkController: function (e) {\n      e.stopPropagation();\n      const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n      if (!command) return;\n      e.preventDefault();\n\n      if (/update/.test(command)) {\n        this.plugins.dialog.open.call(this, 'link', true);\n      } else if (/unlink/.test(command)) {\n        const sc = this.util.getChildElement(this.context.link._linkAnchor, function (current) {\n          return current.childNodes.length === 0 || current.nodeType === 3;\n        }, false);\n        const ec = this.util.getChildElement(this.context.link._linkAnchor, function (current) {\n          return current.childNodes.length === 0 || current.nodeType === 3;\n        }, true);\n        this.setRange(sc, 0, ec, ec.textContent.length);\n        this.nodeChange(null, null, ['A'], false);\n      } else {\n        /** delete */\n        this.util.removeItem(this.context.link._linkAnchor);\n        this.context.anchor.caller.link.linkAnchor = null;\n        this.focus(); // history stack\n\n        this.history.push(false);\n      }\n\n      this.controllersOff();\n    },\n\n    /**\n     * @Override dialog\n     */\n    init: function () {\n      this.context.link.linkController.style.display = 'none';\n      this.plugins.anchor.init.call(this, this.context.anchor.caller.link);\n    }\n  };\n  /***/\n},\n/* 29 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony import */\n\n\n  var _modules_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n  /* harmony import */\n\n\n  var _modules_component__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_component__WEBPACK_IMPORTED_MODULE_1__);\n  /* harmony import */\n\n\n  var _modules_resizing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);\n  /* harmony import */\n\n\n  var _modules_resizing__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_modules_resizing__WEBPACK_IMPORTED_MODULE_2__);\n  /* harmony import */\n\n\n  var _modules_fileManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3);\n  /* harmony import */\n\n\n  var _modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_modules_fileManager__WEBPACK_IMPORTED_MODULE_3__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'video',\n    display: 'dialog',\n    add: function (core) {\n      core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_component__WEBPACK_IMPORTED_MODULE_1___default.a, _modules_resizing__WEBPACK_IMPORTED_MODULE_2___default.a, _modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default.a]);\n      const options = core.options;\n      const context = core.context;\n      const contextVideo = context.video = {\n        _infoList: [],\n        // @Override fileManager\n        _infoIndex: 0,\n        // @Override fileManager\n        _uploadFileLength: 0,\n        // @Override fileManager\n        focusElement: null,\n        // @Override dialog // This element has focus when the dialog is opened.\n        sizeUnit: options._videoSizeUnit,\n        _align: 'none',\n        _floatClassRegExp: '__se__float\\\\-[a-z]+',\n        _youtubeQuery: options.youtubeQuery,\n        _videoRatio: options.videoRatio * 100 + '%',\n        _defaultRatio: options.videoRatio * 100 + '%',\n        _linkValue: '',\n        // @require @Override component\n        _element: null,\n        _cover: null,\n        _container: null,\n        // @Override resizing properties\n        inputX: null,\n        inputY: null,\n        _element_w: 1,\n        _element_h: 1,\n        _element_l: 0,\n        _element_t: 0,\n        _defaultSizeX: '100%',\n        _defaultSizeY: options.videoRatio * 100 + '%',\n        _origin_w: options.videoWidth === '100%' ? '' : options.videoWidth,\n        _origin_h: options.videoHeight === '56.25%' ? '' : options.videoHeight,\n        _proportionChecked: true,\n        _resizing: options.videoResizing,\n        _resizeDotHide: !options.videoHeightShow,\n        _rotation: options.videoRotation,\n        _onlyPercentage: options.videoSizeOnlyPercentage,\n        _ratio: false,\n        _ratioX: 1,\n        _ratioY: 1,\n        _captionShow: false\n      };\n      /** video dialog */\n\n      let video_dialog = this.setDialog(core);\n      contextVideo.modal = video_dialog;\n      contextVideo.videoInputFile = video_dialog.querySelector('._se_video_file');\n      contextVideo.videoUrlFile = video_dialog.querySelector('.se-input-url');\n      contextVideo.focusElement = contextVideo.videoUrlFile || contextVideo.videoInputFile;\n      contextVideo.preview = video_dialog.querySelector('.se-link-preview');\n      /** add event listeners */\n\n      video_dialog.querySelector('form').addEventListener('submit', this.submit.bind(core));\n      if (contextVideo.videoInputFile) video_dialog.querySelector('.se-dialog-files-edge-button').addEventListener('click', this._removeSelectedFiles.bind(contextVideo.videoInputFile, contextVideo.videoUrlFile, contextVideo.preview));\n      if (contextVideo.videoInputFile && contextVideo.videoUrlFile) contextVideo.videoInputFile.addEventListener('change', this._fileInputChange.bind(contextVideo));\n      if (contextVideo.videoUrlFile) contextVideo.videoUrlFile.addEventListener('input', this._onLinkPreview.bind(contextVideo.preview, contextVideo, options.linkProtocol));\n      contextVideo.proportion = {};\n      contextVideo.videoRatioOption = {};\n      contextVideo.inputX = {};\n      contextVideo.inputY = {};\n\n      if (options.videoResizing) {\n        contextVideo.proportion = video_dialog.querySelector('._se_video_check_proportion');\n        contextVideo.videoRatioOption = video_dialog.querySelector('.se-video-ratio');\n        contextVideo.inputX = video_dialog.querySelector('._se_video_size_x');\n        contextVideo.inputY = video_dialog.querySelector('._se_video_size_y');\n        contextVideo.inputX.value = options.videoWidth;\n        contextVideo.inputY.value = options.videoHeight;\n        contextVideo.inputX.addEventListener('keyup', this.setInputSize.bind(core, 'x'));\n        contextVideo.inputY.addEventListener('keyup', this.setInputSize.bind(core, 'y'));\n        contextVideo.inputX.addEventListener('change', this.setRatio.bind(core));\n        contextVideo.inputY.addEventListener('change', this.setRatio.bind(core));\n        contextVideo.proportion.addEventListener('change', this.setRatio.bind(core));\n        contextVideo.videoRatioOption.addEventListener('change', this.setVideoRatio.bind(core));\n        video_dialog.querySelector('.se-dialog-btn-revert').addEventListener('click', this.sizeRevert.bind(core));\n      }\n      /** append html */\n\n\n      context.dialog.modal.appendChild(video_dialog);\n      /** empty memory */\n\n      video_dialog = null;\n    },\n\n    /** dialog */\n    setDialog: function (core) {\n      const option = core.options;\n      const lang = core.lang;\n      const dialog = core.util.createElement('DIV');\n      dialog.className = 'se-dialog-content';\n      dialog.style.display = 'none';\n      let html = '' + '<form method=\"post\" enctype=\"multipart/form-data\">' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.videoBox.title + '</span>' + '</div>' + '<div class=\"se-dialog-body\">';\n\n      if (option.videoFileInput) {\n        html += '' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.videoBox.file + '</label>' + '<div class=\"se-dialog-form-files\">' + '<input class=\"se-input-form _se_video_file\" type=\"file\" accept=\"' + option.videoAccept + '\"' + (option.videoMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' + '<button type=\"button\" data-command=\"filesRemove\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\">' + core.icons.cancel + '</button>' + '</div>' + '</div>';\n      }\n\n      if (option.videoUrlInput) {\n        html += '' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.videoBox.url + '</label>' + '<input class=\"se-input-form se-input-url\" type=\"text\" />' + '<pre class=\"se-link-preview\"></pre>' + '</div>';\n      }\n\n      if (option.videoResizing) {\n        const ratioList = option.videoRatioList || [{\n          name: '16:9',\n          value: 0.5625\n        }, {\n          name: '4:3',\n          value: 0.75\n        }, {\n          name: '21:9',\n          value: 0.4285\n        }];\n        const ratio = option.videoRatio;\n        const onlyPercentage = option.videoSizeOnlyPercentage;\n        const onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : '';\n        const heightDisplay = !option.videoHeightShow ? ' style=\"display: none !important;\"' : '';\n        const ratioDisplay = !option.videoRatioShow ? ' style=\"display: none !important;\"' : '';\n        const onlyWidthDisplay = !onlyPercentage && !option.videoHeightShow && !option.videoRatioShow ? ' style=\"display: none !important;\"' : '';\n        html += '' + '<div class=\"se-dialog-form\">' + '<div class=\"se-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.width + '</label>' + '<label class=\"se-dialog-size-x\">&nbsp;</label>' + '<label class=\"size-h\"' + heightDisplay + '>' + lang.dialogBox.height + '</label>' + '<label class=\"size-h\"' + ratioDisplay + '>(' + lang.dialogBox.ratio + ')</label>' + '</div>' + '<input class=\"se-input-control _se_video_size_x\" placeholder=\"100%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + '/>' + '<label class=\"se-dialog-size-x\"' + onlyWidthDisplay + '>' + (onlyPercentage ? '%' : 'x') + '</label>' + '<input class=\"se-input-control _se_video_size_y\" placeholder=\"' + option.videoRatio * 100 + '%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + heightDisplay + '/>' + '<select class=\"se-input-select se-video-ratio\" title=\"' + lang.dialogBox.ratio + '\"' + ratioDisplay + '>';\n        if (!heightDisplay) html += '<option value=\"\"> - </option>';\n\n        for (let i = 0, len = ratioList.length; i < len; i++) {\n          html += '<option value=\"' + ratioList[i].value + '\"' + (ratio.toString() === ratioList[i].value.toString() ? ' selected' : '') + '>' + ratioList[i].name + '</option>';\n        }\n\n        html += '</select>' + '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"se-btn se-dialog-btn-revert\" style=\"float: right;\">' + core.icons.revert + '</button>' + '</div>' + '<div class=\"se-dialog-form se-dialog-form-footer\"' + onlyPercentDisplay + onlyWidthDisplay + '>' + '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_video_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + '</label>' + '</div>';\n      }\n\n      html += '' + '</div>' + '<div class=\"se-dialog-footer\">' + '<div>' + '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + '</label>' + '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + '</label>' + '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + '</label>' + '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + '</label>' + '</div>' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n      dialog.innerHTML = html;\n      return dialog;\n    },\n    _fileInputChange: function () {\n      if (!this.videoInputFile.value) {\n        this.videoUrlFile.removeAttribute('disabled');\n        this.preview.style.textDecoration = '';\n      } else {\n        this.videoUrlFile.setAttribute('disabled', true);\n        this.preview.style.textDecoration = 'line-through';\n      }\n    },\n    _removeSelectedFiles: function (urlInput, preview) {\n      this.value = '';\n\n      if (urlInput) {\n        urlInput.removeAttribute('disabled');\n        preview.style.textDecoration = '';\n      }\n    },\n    _onLinkPreview: function (context, protocol, e) {\n      const value = e.target.value.trim();\n\n      if (/^<iframe.*\\/iframe>$/.test(value)) {\n        context._linkValue = value;\n        this.textContent = '<IFrame :src=\"..\"></IFrame>';\n      } else {\n        context._linkValue = this.textContent = !value ? '' : protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0 ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\n      }\n    },\n    _setTagAttrs: function (element) {\n      element.setAttribute('controls', true);\n      const attrs = this.options.videoTagAttrs;\n      if (!attrs) return;\n\n      for (let key in attrs) {\n        if (!this.util.hasOwn(attrs, key)) continue;\n        element.setAttribute(key, attrs[key]);\n      }\n    },\n    createVideoTag: function () {\n      const videoTag = this.util.createElement('VIDEO');\n\n      this.plugins.video._setTagAttrs.call(this, videoTag);\n\n      return videoTag;\n    },\n    _setIframeAttrs: function (element) {\n      element.frameBorder = '0';\n      element.allowFullscreen = true;\n      const attrs = this.options.videoIframeAttrs;\n      if (!attrs) return;\n\n      for (let key in attrs) {\n        if (!this.util.hasOwn(attrs, key)) continue;\n        element.setAttribute(key, attrs[key]);\n      }\n    },\n    createIframeTag: function () {\n      const iframeTag = this.util.createElement('IFRAME');\n\n      this.plugins.video._setIframeAttrs.call(this, iframeTag);\n\n      return iframeTag;\n    },\n\n    /**\n     * @Override @Required fileManager\n     */\n    fileTags: ['iframe', 'video'],\n\n    /**\n     * @Override core, resizing, fileManager\n     * @description It is called from core.selectComponent.\n     * @param {Element} element Target element\n     */\n    select: function (element) {\n      this.plugins.video.onModifyMode.call(this, element, this.plugins.resizing.call_controller_resize.call(this, element, 'video'));\n    },\n\n    /**\n     * @Override fileManager, resizing\n     */\n    destroy: function (element) {\n      const frame = element || this.context.video._element;\n      const container = this.context.video._container;\n      const dataIndex = frame.getAttribute('data-index') * 1;\n      let focusEl = container.previousElementSibling || container.nextElementSibling;\n      const emptyDiv = container.parentNode;\n      this.util.removeItem(container);\n      this.plugins.video.init.call(this);\n      this.controllersOff();\n      if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) {\n        return current.childNodes.length === 0;\n      }, null); // focus\n\n      this.focusEdge(focusEl); // event\n\n      this.plugins.fileManager.deleteInfo.call(this, 'video', dataIndex, this.functions.onVideoUpload); // history stack\n\n      this.history.push(false);\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    on: function (update) {\n      const contextVideo = this.context.video;\n\n      if (!update) {\n        contextVideo.inputX.value = contextVideo._origin_w = this.options.videoWidth === contextVideo._defaultSizeX ? '' : this.options.videoWidth;\n        contextVideo.inputY.value = contextVideo._origin_h = this.options.videoHeight === contextVideo._defaultSizeY ? '' : this.options.videoHeight;\n        contextVideo.proportion.disabled = true;\n        if (contextVideo.videoInputFile && this.options.videoMultipleFile) contextVideo.videoInputFile.setAttribute('multiple', 'multiple');\n      } else {\n        if (contextVideo.videoInputFile && this.options.videoMultipleFile) contextVideo.videoInputFile.removeAttribute('multiple');\n      }\n\n      if (contextVideo._resizing) {\n        this.plugins.video.setVideoRatioSelect.call(this, contextVideo._origin_h || contextVideo._defaultRatio);\n      }\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    open: function () {\n      this.plugins.dialog.open.call(this, 'video', 'video' === this.currentControllerName);\n    },\n    setVideoRatio: function (e) {\n      const contextVideo = this.context.video;\n      const value = e.target.options[e.target.selectedIndex].value;\n      contextVideo._defaultSizeY = contextVideo._videoRatio = !value ? contextVideo._defaultSizeY : value * 100 + '%';\n      contextVideo.inputY.placeholder = !value ? '' : value * 100 + '%';\n      contextVideo.inputY.value = '';\n    },\n\n    /**\n     * @Override resizing\n     * @param {String} xy 'x': width, 'y': height\n     * @param {KeyboardEvent} e Event object\n     */\n    setInputSize: function (xy, e) {\n      if (e && e.keyCode === 32) {\n        e.preventDefault();\n        return;\n      }\n\n      const contextVideo = this.context.video;\n\n      this.plugins.resizing._module_setInputSize.call(this, contextVideo, xy);\n\n      if (xy === 'y') {\n        this.plugins.video.setVideoRatioSelect.call(this, e.target.value || contextVideo._defaultRatio);\n      }\n    },\n\n    /**\n     * @Override resizing\n     */\n    setRatio: function () {\n      this.plugins.resizing._module_setRatio.call(this, this.context.video);\n    },\n    submit: function (e) {\n      const contextVideo = this.context.video;\n      const videoPlugin = this.plugins.video;\n      e.preventDefault();\n      e.stopPropagation();\n      contextVideo._align = contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"]:checked').value;\n\n      try {\n        if (contextVideo.videoInputFile && contextVideo.videoInputFile.files.length > 0) {\n          this.showLoading();\n          videoPlugin.submitAction.call(this, this.context.video.videoInputFile.files);\n        } else if (contextVideo.videoUrlFile && contextVideo._linkValue.length > 0) {\n          this.showLoading();\n          videoPlugin.setup_url.call(this);\n        }\n      } catch (error) {\n        this.closeLoading();\n        throw Error('[SUNEDITOR.video.submit.fail] cause : \"' + error.message + '\"');\n      } finally {\n        this.plugins.dialog.close.call(this);\n      }\n\n      return false;\n    },\n    submitAction: function (fileList) {\n      if (fileList.length === 0) return;\n      let fileSize = 0;\n      let files = [];\n\n      for (let i = 0, len = fileList.length; i < len; i++) {\n        if (/video/i.test(fileList[i].type)) {\n          files.push(fileList[i]);\n          fileSize += fileList[i].size;\n        }\n      }\n\n      const limitSize = this.options.videoUploadSizeLimit;\n\n      if (limitSize > 0) {\n        let infoSize = 0;\n        const videosInfo = this.context.video._infoList;\n\n        for (let i = 0, len = videosInfo.length; i < len; i++) {\n          infoSize += videosInfo[i].size * 1;\n        }\n\n        if (fileSize + infoSize > limitSize) {\n          this.closeLoading();\n          const err = '[SUNEDITOR.videoUpload.fail] Size of uploadable total videos: ' + limitSize / 1000 + 'KB';\n\n          if (typeof this.functions.onVideoUploadError !== 'function' || this.functions.onVideoUploadError(err, {\n            'limitSize': limitSize,\n            'currentSize': infoSize,\n            'uploadSize': fileSize\n          }, this)) {\n            this.functions.noticeOpen(err);\n          }\n\n          return;\n        }\n      }\n\n      const contextVideo = this.context.video;\n      contextVideo._uploadFileLength = files.length;\n      const info = {\n        inputWidth: contextVideo.inputX.value,\n        inputHeight: contextVideo.inputY.value,\n        align: contextVideo._align,\n        isUpdate: this.context.dialog.updateModal,\n        element: contextVideo._element\n      };\n\n      if (typeof this.functions.onVideoUploadBefore === 'function') {\n        const result = this.functions.onVideoUploadBefore(files, info, this, function (data) {\n          if (data && this._w.Array.isArray(data.result)) {\n            this.plugins.video.register.call(this, info, data);\n          } else {\n            this.plugins.video.upload.call(this, info, data);\n          }\n        }.bind(this));\n        if (typeof result === 'undefined') return;\n\n        if (!result) {\n          this.closeLoading();\n          return;\n        }\n\n        if (typeof result === 'object' && result.length > 0) files = result;\n      }\n\n      this.plugins.video.upload.call(this, info, files);\n    },\n    error: function (message, response) {\n      this.closeLoading();\n\n      if (typeof this.functions.onVideoUploadError !== 'function' || this.functions.onVideoUploadError(message, response, this)) {\n        this.functions.noticeOpen(message);\n        throw Error('[SUNEDITOR.plugin.video.error] response: ' + message);\n      }\n    },\n    upload: function (info, files) {\n      if (!files) {\n        this.closeLoading();\n        return;\n      }\n\n      if (typeof files === 'string') {\n        this.plugins.video.error.call(this, files, null);\n        return;\n      }\n\n      const videoUploadUrl = this.options.videoUploadUrl;\n      const filesLen = this.context.dialog.updateModal ? 1 : files.length; // server upload\n\n      if (typeof videoUploadUrl === 'string' && videoUploadUrl.length > 0) {\n        const formData = new FormData();\n\n        for (let i = 0; i < filesLen; i++) {\n          formData.append('file-' + i, files[i]);\n        }\n\n        this.plugins.fileManager.upload.call(this, videoUploadUrl, this.options.videoUploadHeader, formData, this.plugins.video.callBack_videoUpload.bind(this, info), this.functions.onVideoUploadError);\n      } else {\n        throw Error('[SUNEDITOR.videoUpload.fail] cause : There is no \"videoUploadUrl\" option.');\n      }\n    },\n    callBack_videoUpload: function (info, xmlHttp) {\n      if (typeof this.functions.videoUploadHandler === 'function') {\n        this.functions.videoUploadHandler(xmlHttp, info, this);\n      } else {\n        const response = JSON.parse(xmlHttp.responseText);\n\n        if (response.errorMessage) {\n          this.plugins.video.error.call(this, response.errorMessage, response);\n        } else {\n          this.plugins.video.register.call(this, info, response);\n        }\n      }\n    },\n    register: function (info, response) {\n      const fileList = response.result;\n      const videoTag = this.plugins.video.createVideoTag.call(this);\n\n      for (let i = 0, len = fileList.length, file; i < len; i++) {\n        file = {\n          name: fileList[i].name,\n          size: fileList[i].size\n        };\n        this.plugins.video.create_video.call(this, info.isUpdate ? info.element : videoTag.cloneNode(false), fileList[i].url, info.inputWidth, info.inputHeight, info.align, file, info.isUpdate);\n      }\n\n      this.closeLoading();\n    },\n    setup_url: function () {\n      try {\n        const contextVideo = this.context.video;\n        let url = contextVideo._linkValue;\n        if (url.length === 0) return false;\n        /** iframe source */\n\n        if (/^<iframe.*\\/iframe>$/.test(url)) {\n          const oIframe = new this._w.DOMParser().parseFromString(url, 'text/html').querySelector('iframe');\n          url = oIframe.src;\n          if (url.length === 0) return false;\n        }\n        /** youtube */\n\n\n        if (/youtu\\.?be/.test(url)) {\n          if (!/^http/.test(url)) url = 'https://' + url;\n          url = url.replace('watch?v=', '');\n\n          if (!/^\\/\\/.+\\/embed\\//.test(url)) {\n            url = url.replace(url.match(/\\/\\/.+\\//)[0], '//www.youtube.com/embed/').replace('&', '?&');\n          }\n\n          if (contextVideo._youtubeQuery.length > 0) {\n            if (/\\?/.test(url)) {\n              const splitUrl = url.split('?');\n              url = splitUrl[0] + '?' + contextVideo._youtubeQuery + '&' + splitUrl[1];\n            } else {\n              url += '?' + contextVideo._youtubeQuery;\n            }\n          }\n        } else if (/vimeo\\.com/.test(url)) {\n          if (url.endsWith('/')) {\n            url = url.slice(0, -1);\n          }\n\n          url = 'https://player.vimeo.com/video/' + url.slice(url.lastIndexOf('/') + 1);\n        }\n\n        this.plugins.video.create_video.call(this, this.plugins.video.createIframeTag.call(this), url, contextVideo.inputX.value, contextVideo.inputY.value, contextVideo._align, null, this.context.dialog.updateModal);\n      } catch (error) {\n        throw Error('[SUNEDITOR.video.upload.fail] cause : \"' + error.message + '\"');\n      } finally {\n        this.closeLoading();\n      }\n    },\n    create_video: function (oFrame, src, width, height, align, file, isUpdate) {\n      this.context.resizing._resize_plugin = 'video';\n      const contextVideo = this.context.video;\n      let cover = null;\n      let container = null;\n      let init = false;\n      /** update */\n\n      if (isUpdate) {\n        oFrame = contextVideo._element;\n\n        if (oFrame.src !== src) {\n          init = true;\n          const isYoutube = /youtu\\.?be/.test(src);\n          const isVimeo = /vimeo\\.com/.test(src);\n\n          if ((isYoutube || isVimeo) && !/^iframe$/i.test(oFrame.nodeName)) {\n            const newTag = this.plugins.video.createIframeTag.call(this);\n            newTag.src = src;\n            oFrame.parentNode.replaceChild(newTag, oFrame);\n            contextVideo._element = oFrame = newTag;\n          } else if (!isYoutube && !isVimeo && !/^videoo$/i.test(oFrame.nodeName)) {\n            const newTag = this.plugins.video.createVideoTag.call(this);\n            newTag.src = src;\n            oFrame.parentNode.replaceChild(newTag, oFrame);\n            contextVideo._element = oFrame = newTag;\n          } else {\n            oFrame.src = src;\n          }\n        }\n\n        container = contextVideo._container;\n        cover = this.util.getParentElement(oFrame, 'FIGURE');\n      }\n      /** create */\n      else {\n          init = true;\n          oFrame.src = src;\n          contextVideo._element = oFrame;\n          cover = this.plugins.component.set_cover.call(this, oFrame);\n          container = this.plugins.component.set_container.call(this, cover, 'se-video-container');\n        }\n      /** rendering */\n\n\n      contextVideo._cover = cover;\n      contextVideo._container = container;\n\n      const inputUpdate = this.plugins.resizing._module_getSizeX.call(this, contextVideo) !== (width || contextVideo._defaultSizeX) || this.plugins.resizing._module_getSizeY.call(this, contextVideo) !== (height || contextVideo._videoRatio);\n\n      const changeSize = !isUpdate || inputUpdate;\n\n      if (contextVideo._resizing) {\n        this.context.video._proportionChecked = contextVideo.proportion.checked;\n        oFrame.setAttribute('data-proportion', contextVideo._proportionChecked);\n      } // size\n\n\n      let isPercent = false;\n\n      if (changeSize) {\n        isPercent = this.plugins.video.applySize.call(this);\n      } // align\n\n\n      if (!(isPercent && align === 'center')) {\n        this.plugins.video.setAlign.call(this, null, oFrame, cover, container);\n      }\n\n      let changed = true;\n\n      if (!isUpdate) {\n        changed = this.insertComponent(container, false, true, !this.options.mediaAutoSelect);\n\n        if (!this.options.mediaAutoSelect) {\n          const line = this.appendFormatTag(container, null);\n          this.setRange(line, 0, line, 0);\n        }\n      } else if (contextVideo._resizing && this.context.resizing._rotateVertical && changeSize) {\n        this.plugins.resizing.setTransformSize.call(this, oFrame, null, null);\n      }\n\n      if (changed) {\n        if (init) {\n          this.plugins.fileManager.setInfo.call(this, 'video', oFrame, this.functions.onVideoUpload, file, true);\n        }\n\n        if (isUpdate) {\n          this.selectComponent(oFrame, 'video'); // history stack\n\n          this.history.push(false);\n        }\n      }\n\n      this.context.resizing._resize_plugin = '';\n    },\n    _update_videoCover: function (oFrame) {\n      if (!oFrame) return;\n      const contextVideo = this.context.video;\n      if (/^video$/i.test(oFrame.nodeName)) this.plugins.video._setTagAttrs.call(this, oFrame);else this.plugins.video._setIframeAttrs.call(this, oFrame);\n      const existElement = this.util.getParentElement(oFrame, this.util.isMediaComponent) || this.util.getParentElement(oFrame, function (current) {\n        return this.isWysiwygDiv(current.parentNode);\n      }.bind(this.util));\n      const prevFrame = oFrame;\n      contextVideo._element = oFrame = oFrame.cloneNode(true);\n      const cover = contextVideo._cover = this.plugins.component.set_cover.call(this, oFrame);\n      const container = contextVideo._container = this.plugins.component.set_container.call(this, cover, 'se-video-container');\n\n      try {\n        const figcaption = existElement.querySelector('figcaption');\n        let caption = null;\n\n        if (!!figcaption) {\n          caption = this.util.createElement('DIV');\n          caption.innerHTML = figcaption.innerHTML;\n          this.util.removeItem(figcaption);\n        } // size\n\n\n        const size = (oFrame.getAttribute('data-size') || oFrame.getAttribute('data-origin') || '').split(',');\n        this.plugins.video.applySize.call(this, size[0] || prevFrame.style.width || prevFrame.width || '', size[1] || prevFrame.style.height || prevFrame.height || ''); // align\n\n        const format = this.util.getFormatElement(prevFrame);\n        if (format) contextVideo._align = format.style.textAlign || format.style.float;\n        this.plugins.video.setAlign.call(this, null, oFrame, cover, container);\n\n        if (this.util.isFormatElement(existElement) && existElement.childNodes.length > 0) {\n          existElement.parentNode.insertBefore(container, existElement);\n          this.util.removeItem(prevFrame); // clean format tag\n\n          this.util.removeEmptyNode(existElement, null);\n          if (existElement.children.length === 0) existElement.innerHTML = this.util.htmlRemoveWhiteSpace(existElement.innerHTML);\n        } else {\n          existElement.parentNode.replaceChild(container, existElement);\n        }\n\n        if (!!caption) existElement.parentNode.insertBefore(caption, container.nextElementSibling);\n      } catch (error) {\n        console.warn('[SUNEDITOR.video.error] Maybe the video tag is nested.', error);\n      }\n\n      this.plugins.fileManager.setInfo.call(this, 'video', oFrame, this.functions.onVideoUpload, null, true);\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    onModifyMode: function (element, size) {\n      const contextVideo = this.context.video;\n      contextVideo._element = element;\n      contextVideo._cover = this.util.getParentElement(element, 'FIGURE');\n      contextVideo._container = this.util.getParentElement(element, this.util.isMediaComponent);\n      contextVideo._align = element.style.float || element.getAttribute('data-align') || 'none';\n      element.style.float = '';\n\n      if (size) {\n        contextVideo._element_w = size.w;\n        contextVideo._element_h = size.h;\n        contextVideo._element_t = size.t;\n        contextVideo._element_l = size.l;\n      }\n\n      let origin = contextVideo._element.getAttribute('data-size') || contextVideo._element.getAttribute('data-origin');\n\n      let w, h;\n\n      if (origin) {\n        origin = origin.split(',');\n        w = origin[0];\n        h = origin[1];\n      } else if (size) {\n        w = size.w;\n        h = size.h;\n      }\n\n      contextVideo._origin_w = w || element.style.width || element.width || '';\n      contextVideo._origin_h = h || element.style.height || element.height || '';\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    openModify: function (notOpen) {\n      const contextVideo = this.context.video;\n      if (contextVideo.videoUrlFile) contextVideo._linkValue = contextVideo.preview.textContent = contextVideo.videoUrlFile.value = contextVideo._element.src || (contextVideo._element.querySelector('source') || '').src || '';\n      contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"' + contextVideo._align + '\"]').checked = true;\n\n      if (contextVideo._resizing) {\n        this.plugins.resizing._module_setModifyInputSize.call(this, contextVideo, this.plugins.video);\n\n        const y = contextVideo._videoRatio = this.plugins.resizing._module_getSizeY.call(this, contextVideo);\n\n        const ratioSelected = this.plugins.video.setVideoRatioSelect.call(this, y);\n        if (!ratioSelected) contextVideo.inputY.value = contextVideo._onlyPercentage ? this.util.getNumber(y, 2) : y;\n      }\n\n      if (!notOpen) this.plugins.dialog.open.call(this, 'video', true);\n    },\n    setVideoRatioSelect: function (value) {\n      let ratioSelected = false;\n      const contextVideo = this.context.video;\n      const ratioOptions = contextVideo.videoRatioOption.options;\n      if (/%$/.test(value) || contextVideo._onlyPercentage) value = this.util.getNumber(value, 2) / 100 + '';else if (!this.util.isNumber(value) || value * 1 >= 1) value = '';\n      contextVideo.inputY.placeholder = '';\n\n      for (let i = 0, len = ratioOptions.length; i < len; i++) {\n        if (ratioOptions[i].value === value) {\n          ratioSelected = ratioOptions[i].selected = true;\n          contextVideo.inputY.placeholder = !value ? '' : value * 100 + '%';\n        } else ratioOptions[i].selected = false;\n      }\n\n      return ratioSelected;\n    },\n\n    /**\n     * @Override fileManager\n     */\n    checkFileInfo: function () {\n      this.plugins.fileManager.checkInfo.call(this, 'video', ['iframe', 'video'], this.functions.onVideoUpload, this.plugins.video._update_videoCover.bind(this), true);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    resetFileInfo: function () {\n      this.plugins.fileManager.resetInfo.call(this, 'video', this.functions.onVideoUpload);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    applySize: function (w, h) {\n      const contextVideo = this.context.video;\n      if (!w) w = contextVideo.inputX.value || this.options.videoWidth;\n      if (!h) h = contextVideo.inputY.value || this.options.videoHeight;\n\n      if (contextVideo._onlyPercentage || /%$/.test(w) || !w) {\n        this.plugins.video.setPercentSize.call(this, w || '100%', h || (/%$/.test(contextVideo._videoRatio) ? contextVideo._videoRatio : contextVideo._defaultRatio));\n        return true;\n      } else if ((!w || w === 'auto') && (!h || h === 'auto')) {\n        this.plugins.video.setAutoSize.call(this);\n      } else {\n        this.plugins.video.setSize.call(this, w, h || contextVideo._videoRatio || contextVideo._defaultRatio, false);\n      }\n\n      return false;\n    },\n\n    /**\n     * @Override resizing\n     */\n    sizeRevert: function () {\n      this.plugins.resizing._module_sizeRevert.call(this, this.context.video);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setSize: function (w, h, notResetPercentage, direction) {\n      const contextVideo = this.context.video;\n      const onlyW = /^(rw|lw)$/.test(direction);\n      const onlyH = /^(th|bh)$/.test(direction);\n      if (!onlyH) w = this.util.getNumber(w, 0);\n      if (!onlyW) h = this.util.isNumber(h) ? h + contextVideo.sizeUnit : !h ? '' : h;\n      if (!onlyH) contextVideo._element.style.width = w ? w + contextVideo.sizeUnit : '';\n      if (!onlyW) contextVideo._cover.style.paddingBottom = contextVideo._cover.style.height = h;\n\n      if (!onlyH && !/%$/.test(w)) {\n        contextVideo._cover.style.width = '';\n        contextVideo._container.style.width = '';\n      }\n\n      if (!onlyW && !/%$/.test(h)) {\n        contextVideo._element.style.height = h;\n      } else {\n        contextVideo._element.style.height = '';\n      }\n\n      if (!notResetPercentage) contextVideo._element.removeAttribute('data-percentage'); // save current size\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setAutoSize: function () {\n      this.plugins.video.setPercentSize.call(this, 100, this.context.video._defaultRatio);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setOriginSize: function (dataSize) {\n      const contextVideo = this.context.video;\n\n      contextVideo._element.removeAttribute('data-percentage');\n\n      this.plugins.resizing.resetTransform.call(this, contextVideo._element);\n      this.plugins.video.cancelPercentAttr.call(this);\n      const originSize = ((dataSize ? contextVideo._element.getAttribute('data-size') : '') || contextVideo._element.getAttribute('data-origin') || '').split(',');\n\n      if (originSize) {\n        const w = originSize[0];\n        const h = originSize[1];\n\n        if (contextVideo._onlyPercentage || /%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h))) {\n          this.plugins.video.setPercentSize.call(this, w, h);\n        } else {\n          this.plugins.video.setSize.call(this, w, h);\n        } // save current size\n\n\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n      }\n    },\n\n    /**\n     * @Override resizing\n     */\n    setPercentSize: function (w, h) {\n      const contextVideo = this.context.video;\n      h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + '%' : h : this.util.isNumber(h) ? h + contextVideo.sizeUnit : h || contextVideo._defaultRatio;\n      contextVideo._container.style.width = this.util.isNumber(w) ? w + '%' : w;\n      contextVideo._container.style.height = '';\n      contextVideo._cover.style.width = '100%';\n      contextVideo._cover.style.height = h;\n      contextVideo._cover.style.paddingBottom = h;\n      contextVideo._element.style.width = '100%';\n      contextVideo._element.style.height = '100%';\n      contextVideo._element.style.maxWidth = '';\n      if (contextVideo._align === 'center') this.plugins.video.setAlign.call(this, null, null, null, null);\n\n      contextVideo._element.setAttribute('data-percentage', w + ',' + h); // save current size\n\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n    },\n\n    /**\n     * @Override resizing\n     */\n    cancelPercentAttr: function () {\n      const contextVideo = this.context.video;\n      contextVideo._cover.style.width = '';\n      contextVideo._cover.style.height = '';\n      contextVideo._cover.style.paddingBottom = '';\n      contextVideo._container.style.width = '';\n      contextVideo._container.style.height = '';\n      this.util.removeClass(contextVideo._container, this.context.video._floatClassRegExp);\n      this.util.addClass(contextVideo._container, '__se__float-' + contextVideo._align);\n      if (contextVideo._align === 'center') this.plugins.video.setAlign.call(this, null, null, null, null);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setAlign: function (align, element, cover, container) {\n      const contextVideo = this.context.video;\n      if (!align) align = contextVideo._align;\n      if (!element) element = contextVideo._element;\n      if (!cover) cover = contextVideo._cover;\n      if (!container) container = contextVideo._container;\n\n      if (align && align !== 'none') {\n        cover.style.margin = 'auto';\n      } else {\n        cover.style.margin = '0';\n      }\n\n      if (/%$/.test(element.style.width) && align === 'center') {\n        container.style.minWidth = '100%';\n        cover.style.width = container.style.width;\n        cover.style.height = cover.style.height;\n        cover.style.paddingBottom = !/%$/.test(cover.style.height) ? cover.style.height : this.util.getNumber(this.util.getNumber(cover.style.height, 2) / 100 * this.util.getNumber(cover.style.width, 2), 2) + '%';\n      } else {\n        container.style.minWidth = '';\n        cover.style.width = this.context.resizing._rotateVertical ? element.style.height || element.offsetHeight : element.style.width || '100%';\n        cover.style.paddingBottom = cover.style.height;\n      }\n\n      if (!this.util.hasClass(container, '__se__float-' + align)) {\n        this.util.removeClass(container, contextVideo._floatClassRegExp);\n        this.util.addClass(container, '__se__float-' + align);\n      }\n\n      element.setAttribute('data-align', align);\n    },\n\n    /**\n     * @Override dialog\n     */\n    init: function () {\n      const contextVideo = this.context.video;\n      if (contextVideo.videoInputFile) contextVideo.videoInputFile.value = '';\n      if (contextVideo.videoUrlFile) contextVideo._linkValue = contextVideo.preview.textContent = contextVideo.videoUrlFile.value = '';\n\n      if (contextVideo.videoInputFile && contextVideo.videoUrlFile) {\n        contextVideo.videoUrlFile.removeAttribute('disabled');\n        contextVideo.preview.style.textDecoration = '';\n      }\n\n      contextVideo._origin_w = this.options.videoWidth;\n      contextVideo._origin_h = this.options.videoHeight;\n      contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"none\"]').checked = true;\n\n      if (contextVideo._resizing) {\n        contextVideo.inputX.value = this.options.videoWidth === contextVideo._defaultSizeX ? '' : this.options.videoWidth;\n        contextVideo.inputY.value = this.options.videoHeight === contextVideo._defaultSizeY ? '' : this.options.videoHeight;\n        contextVideo.proportion.checked = true;\n        contextVideo.proportion.disabled = true;\n        this.plugins.video.setVideoRatioSelect.call(this, contextVideo._defaultRatio);\n      }\n    }\n  };\n  /***/\n},\n/* 30 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony import */\n\n\n  var _modules_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n  /* harmony import */\n\n\n  var _modules_component__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_component__WEBPACK_IMPORTED_MODULE_1__);\n  /* harmony import */\n\n\n  var _modules_fileManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3);\n  /* harmony import */\n\n\n  var _modules_fileManager__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_modules_fileManager__WEBPACK_IMPORTED_MODULE_2__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'audio',\n    display: 'dialog',\n    add: function (core) {\n      core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_component__WEBPACK_IMPORTED_MODULE_1___default.a, _modules_fileManager__WEBPACK_IMPORTED_MODULE_2___default.a]);\n      const context = core.context;\n      const contextAudio = context.audio = {\n        _infoList: [],\n        // @Override fileManager\n        _infoIndex: 0,\n        // @Override fileManager\n        _uploadFileLength: 0,\n        // @Override fileManager\n        focusElement: null,\n        // @Override dialog // This element has focus when the dialog is opened.\n        targetSelect: null,\n        _origin_w: core.options.audioWidth,\n        _origin_h: core.options.audioHeight,\n        _linkValue: '',\n        // @require @Override component\n        _element: null,\n        _cover: null,\n        _container: null\n      };\n      /** dialog */\n\n      let audio_dialog = this.setDialog(core);\n      contextAudio.modal = audio_dialog;\n      contextAudio.audioInputFile = audio_dialog.querySelector('._se_audio_files');\n      contextAudio.audioUrlFile = audio_dialog.querySelector('.se-input-url');\n      contextAudio.focusElement = contextAudio.audioInputFile || contextAudio.audioUrlFile;\n      contextAudio.preview = audio_dialog.querySelector('.se-link-preview');\n      /** controller */\n\n      let audio_controller = this.setController(core);\n      contextAudio.controller = audio_controller;\n      /** add event listeners */\n\n      audio_dialog.querySelector('form').addEventListener('submit', this.submit.bind(core));\n      if (contextAudio.audioInputFile) audio_dialog.querySelector('.se-dialog-files-edge-button').addEventListener('click', this._removeSelectedFiles.bind(contextAudio.audioInputFile, contextAudio.audioUrlFile, contextAudio.preview));\n      if (contextAudio.audioInputFile && contextAudio.audioUrlFile) contextAudio.audioInputFile.addEventListener('change', this._fileInputChange.bind(contextAudio));\n      audio_controller.addEventListener('click', this.onClick_controller.bind(core));\n      if (contextAudio.audioUrlFile) contextAudio.audioUrlFile.addEventListener('input', this._onLinkPreview.bind(contextAudio.preview, contextAudio, core.options.linkProtocol));\n      /** append html */\n\n      context.dialog.modal.appendChild(audio_dialog);\n      /** append controller */\n\n      context.element.relative.appendChild(audio_controller);\n      /** empty memory */\n\n      audio_dialog = null, audio_controller = null;\n    },\n\n    /** HTML - dialog */\n    setDialog: function (core) {\n      const option = core.options;\n      const lang = core.lang;\n      const dialog = core.util.createElement('DIV');\n      dialog.className = 'se-dialog-content';\n      dialog.style.display = 'none';\n      let html = '' + '<form method=\"post\" enctype=\"multipart/form-data\">' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.audioBox.title + '</span>' + '</div>' + '<div class=\"se-dialog-body\">';\n\n      if (option.audioFileInput) {\n        html += '' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.audioBox.file + '</label>' + '<div class=\"se-dialog-form-files\">' + '<input class=\"se-input-form _se_audio_files\" type=\"file\" accept=\"' + option.audioAccept + '\"' + (option.audioMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' + '<button type=\"button\" data-command=\"filesRemove\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\">' + core.icons.cancel + '</button>' + '</div>' + '</div>';\n      }\n\n      if (option.audioUrlInput) {\n        html += '' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.audioBox.url + '</label>' + '<input class=\"se-input-form se-input-url\" type=\"text\" />' + '<pre class=\"se-link-preview\"></pre>' + '</div>';\n      }\n\n      html += '' + '</div>' + '<div class=\"se-dialog-footer\">' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n      dialog.innerHTML = html;\n      return dialog;\n    },\n\n    /** HTML - controller */\n    setController: function (core) {\n      const lang = core.lang;\n      const icons = core.icons;\n      const link_btn = core.util.createElement('DIV');\n      link_btn.className = 'se-controller se-controller-link';\n      link_btn.innerHTML = '' + '<div class=\"se-arrow se-arrow-up\"></div>' + '<div class=\"link-content\">' + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-tooltip\">' + icons.edit + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-tooltip\">' + icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>' + '</div>';\n      return link_btn;\n    },\n    // Disable url input when uploading files\n    _fileInputChange: function () {\n      if (!this.audioInputFile.value) {\n        this.audioUrlFile.removeAttribute('disabled');\n        this.preview.style.textDecoration = '';\n      } else {\n        this.audioUrlFile.setAttribute('disabled', true);\n        this.preview.style.textDecoration = 'line-through';\n      }\n    },\n    // Disable url input when uploading files\n    _removeSelectedFiles: function (urlInput, preview) {\n      this.value = '';\n\n      if (urlInput) {\n        urlInput.removeAttribute('disabled');\n        preview.style.textDecoration = '';\n      }\n    },\n    // create new audio tag\n    _createAudioTag: function () {\n      const oAudio = this.util.createElement('AUDIO');\n\n      this.plugins.audio._setTagAttrs.call(this, oAudio);\n\n      const w = this.context.audio._origin_w;\n      const h = this.context.audio._origin_h;\n      oAudio.setAttribute('origin-size', w + ',' + h);\n      oAudio.style.cssText = (w ? 'width:' + w + '; ' : '') + (h ? 'height:' + h + ';' : '');\n      return oAudio;\n    },\n    _setTagAttrs: function (element) {\n      element.setAttribute('controls', true);\n      const attrs = this.options.audioTagAttrs;\n      if (!attrs) return;\n\n      for (let key in attrs) {\n        if (!this.util.hasOwn(attrs, key)) continue;\n        element.setAttribute(key, attrs[key]);\n      }\n    },\n    _onLinkPreview: function (context, protocol, e) {\n      const value = e.target.value.trim();\n      context._linkValue = this.textContent = !value ? '' : protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0 ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\n    },\n\n    /**\n     * @Required @Override fileManager\n     */\n    fileTags: ['audio'],\n\n    /**\n     * @Override core, fileManager, resizing\n     * @description It is called from core.selectComponent.\n     * @param {Element} element Target element\n     */\n    select: function (element) {\n      this.plugins.audio.onModifyMode.call(this, element);\n    },\n\n    /**\n     * @Override fileManager, resizing \n     */\n    destroy: function (element) {\n      element = element || this.context.audio._element;\n      const container = this.util.getParentElement(element, this.util.isComponent) || element;\n      const dataIndex = element.getAttribute('data-index') * 1;\n      const focusEl = container.previousElementSibling || container.nextElementSibling;\n      const emptyDiv = container.parentNode;\n      this.util.removeItem(container);\n      this.plugins.audio.init.call(this);\n      this.controllersOff();\n      if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) {\n        return current.childNodes.length === 0;\n      }, null); // focus\n\n      this.focusEdge(focusEl); // fileManager event\n\n      this.plugins.fileManager.deleteInfo.call(this, 'audio', dataIndex, this.functions.onAudioUpload); // history stack\n\n      this.history.push(false);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    checkFileInfo: function () {\n      this.plugins.fileManager.checkInfo.call(this, 'audio', ['audio'], this.functions.onAudioUpload, this.plugins.audio.updateCover.bind(this), false);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    resetFileInfo: function () {\n      this.plugins.fileManager.resetInfo.call(this, 'audio', this.functions.onAudioUpload);\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    on: function (update) {\n      const contextAudio = this.context.audio;\n\n      if (!update) {\n        this.plugins.audio.init.call(this);\n        if (contextAudio.audioInputFile && this.options.audioMultipleFile) contextAudio.audioInputFile.setAttribute('multiple', 'multiple');\n      } else if (contextAudio._element) {\n        this.context.dialog.updateModal = true;\n        contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = contextAudio._element.src;\n        if (contextAudio.audioInputFile && this.options.audioMultipleFile) contextAudio.audioInputFile.removeAttribute('multiple');\n      } else {\n        if (contextAudio.audioInputFile && this.options.audioMultipleFile) contextAudio.audioInputFile.removeAttribute('multiple');\n      }\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    open: function () {\n      this.plugins.dialog.open.call(this, 'audio', 'audio' === this.currentControllerName);\n    },\n    submit: function (e) {\n      const contextAudio = this.context.audio;\n      e.preventDefault();\n      e.stopPropagation();\n\n      try {\n        if (contextAudio.audioInputFile && contextAudio.audioInputFile.files.length > 0) {\n          this.showLoading();\n          this.plugins.audio.submitAction.call(this, contextAudio.audioInputFile.files);\n        } else if (contextAudio.audioUrlFile && contextAudio._linkValue.length > 0) {\n          this.showLoading();\n          this.plugins.audio.setupUrl.call(this, contextAudio._linkValue);\n        }\n      } catch (error) {\n        this.closeLoading();\n        throw Error('[SUNEDITOR.audio.submit.fail] cause : \"' + error.message + '\"');\n      } finally {\n        this.plugins.dialog.close.call(this);\n      }\n\n      return false;\n    },\n    submitAction: function (fileList) {\n      if (fileList.length === 0) return;\n      let fileSize = 0;\n      let files = [];\n\n      for (let i = 0, len = fileList.length; i < len; i++) {\n        if (/audio/i.test(fileList[i].type)) {\n          files.push(fileList[i]);\n          fileSize += fileList[i].size;\n        }\n      }\n\n      const limitSize = this.options.audioUploadSizeLimit;\n\n      if (limitSize > 0) {\n        let infoSize = 0;\n        const audiosInfo = this.context.audio._infoList;\n\n        for (let i = 0, len = audiosInfo.length; i < len; i++) {\n          infoSize += audiosInfo[i].size * 1;\n        }\n\n        if (fileSize + infoSize > limitSize) {\n          this.closeLoading();\n          const err = '[SUNEDITOR.audioUpload.fail] Size of uploadable total audios: ' + limitSize / 1000 + 'KB';\n\n          if (typeof this.functions.onAudioUploadError !== 'function' || this.functions.onAudioUploadError(err, {\n            'limitSize': limitSize,\n            'currentSize': infoSize,\n            'uploadSize': fileSize\n          }, this)) {\n            this.functions.noticeOpen(err);\n          }\n\n          return;\n        }\n      }\n\n      const contextAudio = this.context.audio;\n      contextAudio._uploadFileLength = files.length;\n      const info = {\n        isUpdate: this.context.dialog.updateModal,\n        element: contextAudio._element\n      };\n\n      if (typeof this.functions.onAudioUploadBefore === 'function') {\n        const result = this.functions.onAudioUploadBefore(files, info, this, function (data) {\n          if (data && this._w.Array.isArray(data.result)) {\n            this.plugins.audio.register.call(this, info, data);\n          } else {\n            this.plugins.audio.upload.call(this, info, data);\n          }\n        }.bind(this));\n        if (typeof result === 'undefined') return;\n\n        if (!result) {\n          this.closeLoading();\n          return;\n        }\n\n        if (typeof result === 'object' && result.length > 0) files = result;\n      }\n\n      this.plugins.audio.upload.call(this, info, files);\n    },\n    error: function (message, response) {\n      this.closeLoading();\n\n      if (typeof this.functions.onAudioUploadError !== 'function' || this.functions.onAudioUploadError(message, response, this)) {\n        this.functions.noticeOpen(message);\n        throw Error('[SUNEDITOR.plugin.audio.exception] response: ' + message);\n      }\n    },\n    upload: function (info, files) {\n      if (!files) {\n        this.closeLoading();\n        return;\n      }\n\n      if (typeof files === 'string') {\n        this.plugins.audio.error.call(this, files, null);\n        return;\n      }\n\n      const audioUploadUrl = this.options.audioUploadUrl;\n      const filesLen = this.context.dialog.updateModal ? 1 : files.length; // create formData\n\n      const formData = new FormData();\n\n      for (let i = 0; i < filesLen; i++) {\n        formData.append('file-' + i, files[i]);\n      } // server upload\n\n\n      this.plugins.fileManager.upload.call(this, audioUploadUrl, this.options.audioUploadHeader, formData, this.plugins.audio.callBack_upload.bind(this, info), this.functions.onAudioUploadError);\n    },\n    callBack_upload: function (info, xmlHttp) {\n      if (typeof this.functions.audioUploadHandler === 'function') {\n        this.functions.audioUploadHandler(xmlHttp, info, this);\n      } else {\n        const response = JSON.parse(xmlHttp.responseText);\n\n        if (response.errorMessage) {\n          this.plugins.audio.error.call(this, response.errorMessage, response);\n        } else {\n          this.plugins.audio.register.call(this, info, response);\n        }\n      }\n    },\n    register: function (info, response) {\n      const fileList = response.result;\n\n      for (let i = 0, len = fileList.length, file, oAudio; i < len; i++) {\n        if (info.isUpdate) oAudio = info.element;else oAudio = this.plugins.audio._createAudioTag.call(this);\n        file = {\n          name: fileList[i].name,\n          size: fileList[i].size\n        };\n        this.plugins.audio.create_audio.call(this, oAudio, fileList[i].url, file, info.isUpdate);\n      }\n\n      this.closeLoading();\n    },\n    setupUrl: function (src) {\n      try {\n        if (src.length === 0) return false;\n        this.plugins.audio.create_audio.call(this, this.plugins.audio._createAudioTag.call(this), src, null, this.context.dialog.updateModal);\n      } catch (error) {\n        throw Error('[SUNEDITOR.audio.audio.fail] cause : \"' + error.message + '\"');\n      } finally {\n        this.closeLoading();\n      }\n    },\n    create_audio: function (element, src, file, isUpdate) {\n      const contextAudio = this.context.audio; // create new tag\n\n      if (!isUpdate) {\n        element.src = src;\n        const cover = this.plugins.component.set_cover.call(this, element);\n        const container = this.plugins.component.set_container.call(this, cover, '');\n\n        if (!this.insertComponent(container, false, true, !this.options.mediaAutoSelect)) {\n          this.focus();\n          return;\n        }\n\n        if (!this.options.mediaAutoSelect) {\n          const line = this.appendFormatTag(container, null);\n          this.setRange(line, 0, line, 0);\n        }\n      } // update\n      else {\n          if (contextAudio._element) element = contextAudio._element;\n\n          if (element && element.src !== src) {\n            element.src = src;\n            this.selectComponent(element, 'audio');\n          } else {\n            this.selectComponent(element, 'audio');\n            return;\n          }\n        }\n\n      this.plugins.fileManager.setInfo.call(this, 'audio', element, this.functions.onAudioUpload, file, false);\n      if (isUpdate) this.history.push(false);\n    },\n    updateCover: function (element) {\n      const contextAudio = this.context.audio;\n\n      this.plugins.audio._setTagAttrs.call(this, element); // find component element\n\n\n      const existElement = this.util.getParentElement(element, this.util.isMediaComponent) || this.util.getParentElement(element, function (current) {\n        return this.isWysiwygDiv(current.parentNode);\n      }.bind(this.util)); // clone element\n\n      const prevElement = element;\n      contextAudio._element = element = element.cloneNode(false);\n      const cover = this.plugins.component.set_cover.call(this, element);\n      const container = this.plugins.component.set_container.call(this, cover, 'se-audio-container');\n\n      try {\n        if (this.util.isFormatElement(existElement) && existElement.childNodes.length > 0) {\n          existElement.parentNode.insertBefore(container, existElement);\n          this.util.removeItem(prevElement); // clean format tag\n\n          this.util.removeEmptyNode(existElement, null);\n          if (existElement.children.length === 0) existElement.innerHTML = this.util.htmlRemoveWhiteSpace(existElement.innerHTML);\n        } else {\n          existElement.parentNode.replaceChild(container, existElement);\n        }\n      } catch (error) {\n        console.warn('[SUNEDITOR.audio.error] Maybe the audio tag is nested.', error);\n      }\n\n      this.plugins.fileManager.setInfo.call(this, 'audio', element, this.functions.onAudioUpload, null, false);\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    onModifyMode: function (selectionTag) {\n      const contextAudio = this.context.audio;\n      this.setControllerPosition(contextAudio.controller, selectionTag, 'bottom', {\n        left: 0,\n        top: 0\n      });\n      this.controllersOn(contextAudio.controller, selectionTag, this.plugins.audio.onControllerOff.bind(this, selectionTag), 'audio');\n      this.util.addClass(selectionTag, 'active');\n      contextAudio._element = selectionTag;\n      contextAudio._cover = this.util.getParentElement(selectionTag, 'FIGURE');\n      contextAudio._container = this.util.getParentElement(selectionTag, this.util.isComponent);\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    openModify: function (notOpen) {\n      if (this.context.audio.audioUrlFile) {\n        const contextAudio = this.context.audio;\n        contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = contextAudio._element.src;\n      }\n\n      if (!notOpen) this.plugins.dialog.open.call(this, 'audio', true);\n    },\n    onClick_controller: function (e) {\n      e.stopPropagation();\n      const command = e.target.getAttribute('data-command');\n      if (!command) return;\n      e.preventDefault();\n\n      if (/update/.test(command)) {\n        this.plugins.audio.openModify.call(this, false);\n      } else {\n        /** delete */\n        this.plugins.audio.destroy.call(this, this.context.audio._element);\n      }\n\n      this.controllersOff();\n    },\n    onControllerOff: function (selectionTag) {\n      this.util.removeClass(selectionTag, 'active');\n      this.context.audio.controller.style.display = 'none';\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    init: function () {\n      if (this.context.dialog.updateModal) return;\n      const contextAudio = this.context.audio;\n      if (contextAudio.audioInputFile) contextAudio.audioInputFile.value = '';\n      if (contextAudio.audioUrlFile) contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = '';\n\n      if (contextAudio.audioInputFile && contextAudio.audioUrlFile) {\n        contextAudio.audioUrlFile.removeAttribute('disabled');\n        contextAudio.preview.style.textDecoration = '';\n      }\n\n      contextAudio._element = null;\n    }\n  };\n  /***/\n},\n/* 31 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * \n   * Danish translation by davidkonrad at github or gmail\n   *\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'da',\n      toolbar: {\n        default: 'Default',\n        save: 'Gem',\n        font: 'Skrifttype',\n        formats: 'Format',\n        fontSize: 'Skriftstrrelse',\n        bold: 'Fed',\n        underline: 'Understreget',\n        italic: 'Skrskrift',\n        strike: 'Overstreget',\n        subscript: 'Snket skrift',\n        superscript: 'Hvet skrift',\n        removeFormat: 'Fjern formatering',\n        fontColor: 'Skriftfarve',\n        hiliteColor: 'Baggrundsfarve',\n        indent: 'Ryk ind',\n        outdent: 'Ryk ud',\n        align: 'Justering',\n        alignLeft: 'Venstrejustering',\n        alignRight: 'Hjrejustering',\n        alignCenter: 'Midterjustering',\n        alignJustify: 'Tilpas margin',\n        list: 'Lister',\n        orderList: 'Nummereret liste',\n        unorderList: 'Uordnet liste',\n        horizontalRule: 'Horisontal linie',\n        hr_solid: 'Almindelig',\n        hr_dotted: 'Punkteret',\n        hr_dashed: 'Streget',\n        table: 'Tabel',\n        link: 'Link',\n        math: 'Math',\n        image: 'Billede',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'Fuld skrm',\n        showBlocks: 'Vis blokke',\n        codeView: 'Vis koder',\n        undo: 'Undo',\n        redo: 'Redo',\n        preview: 'Preview',\n        print: 'Print',\n        tag_p: 'Paragraph',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Overskrift',\n        tag_blockquote: 'Citer',\n        tag_pre: 'Code',\n        template: 'Schablone',\n        lineHeight: 'Linjehjde',\n        paragraphStyle: 'Afsnitstil',\n        textStyle: 'Tekststil',\n        imageGallery: 'Billedgalleri',\n        mention: 'Nvne'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Indst link',\n          url: 'URL til link',\n          text: 'Tekst for link',\n          newWindowCheck: 'ben i nyt faneblad',\n          downloadLinkCheck: 'Download link',\n          bookmark: 'Bogmrke'\n        },\n        mathBox: {\n          title: 'Math',\n          inputLabel: 'Matematisk notation',\n          fontSizeLabel: 'Skriftstrrelse',\n          previewLabel: 'Preview'\n        },\n        imageBox: {\n          title: 'Indst billede',\n          file: 'Indst fra fil',\n          url: 'Indst fra URL',\n          altText: 'Alternativ tekst'\n        },\n        videoBox: {\n          title: 'Indst Video',\n          file: 'Indst fra fil',\n          url: 'Indlejr video / YouTube,Vimeo'\n        },\n        audioBox: {\n          title: 'Indst Audio',\n          file: 'Indst fra fil',\n          url: 'Indst fra URL'\n        },\n        browser: {\n          tags: 'Tags',\n          search: 'Sg'\n        },\n        caption: 'Indst beskrivelse',\n        close: 'Luk',\n        submitButton: 'Gennemfr',\n        revertButton: 'Gendan',\n        proportion: 'Bevar proportioner',\n        basic: 'Basis',\n        left: 'Venstre',\n        right: 'Hjre',\n        center: 'Center',\n        width: 'Bredde',\n        height: 'Hjde',\n        size: 'Strrelse',\n        ratio: 'Forhold'\n      },\n      controller: {\n        edit: 'Rediger',\n        unlink: 'Fjern link',\n        remove: 'Fjern',\n        insertRowAbove: 'Indst rkke foroven',\n        insertRowBelow: 'Indst rkke nedenfor',\n        deleteRow: 'Slet rkke',\n        insertColumnBefore: 'Indst kolonne fr',\n        insertColumnAfter: 'Indst kolonne efter',\n        deleteColumn: 'Slet kolonne',\n        fixedColumnWidth: 'Fast sjlebredde',\n        resize100: 'Forstr 100%',\n        resize75: 'Forstr 75%',\n        resize50: 'Forstr 50%',\n        resize25: 'Forstr 25%',\n        autoSize: 'Auto strrelse',\n        mirrorHorizontal: 'Spejling, horisontal',\n        mirrorVertical: 'Spejling, vertikal',\n        rotateLeft: 'Roter til venstre',\n        rotateRight: 'Toter til hjre',\n        maxSize: 'Max strrelse',\n        minSize: 'Min strrelse',\n        tableHeader: 'Tabel overskrift',\n        mergeCells: 'Sammenlg celler (merge)',\n        splitCells: 'Opdel celler',\n        HorizontalSplit: 'Opdel horisontalt',\n        VerticalSplit: 'Opdel vertikalt'\n      },\n      menu: {\n        spaced: 'Brev Afstand',\n        bordered: 'Afgrnsningslinje',\n        neon: 'Neon',\n        translucent: 'Gennemsigtig',\n        shadow: 'Skygge',\n        code: 'Code'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'da', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 32 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2019 @Gundolf68\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'de',\n      toolbar: {\n        default: 'Standard',\n        save: 'Speichern',\n        font: 'Schriftart',\n        formats: 'Format',\n        fontSize: 'Schriftgre',\n        bold: 'Fett',\n        underline: 'Unterstrichen',\n        italic: 'Kursiv',\n        strike: 'Durchgestrichen',\n        subscript: 'Tiefgestellt',\n        superscript: 'Hochgestellt',\n        removeFormat: 'Format entfernen',\n        fontColor: 'Schriftfarbe',\n        hiliteColor: 'Farbe fr Hervorhebungen',\n        indent: 'Einzug vergrern',\n        outdent: 'Einzug verkleinern',\n        align: 'Ausrichtung',\n        alignLeft: 'Links ausrichten',\n        alignRight: 'Rechts ausrichten',\n        alignCenter: 'Zentriert ausrichten',\n        alignJustify: 'Blocksatz',\n        list: 'Liste',\n        orderList: 'Nummerierte Liste',\n        unorderList: 'Aufzhlung',\n        horizontalRule: 'Horizontale Linie',\n        hr_solid: 'Strich',\n        hr_dotted: 'Gepunktet',\n        hr_dashed: 'Gestrichelt',\n        table: 'Tabelle',\n        link: 'Link',\n        math: 'Mathematik',\n        image: 'Bild',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'Vollbild',\n        showBlocks: 'Blockformatierungen anzeigen',\n        codeView: 'Quelltext anzeigen',\n        undo: 'Rckgngig',\n        redo: 'Wiederholen',\n        preview: 'Vorschau',\n        print: 'Drucken',\n        tag_p: 'Absatz',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Header',\n        tag_blockquote: 'Zitat',\n        tag_pre: 'Quellcode',\n        template: 'Vorlage',\n        lineHeight: 'Zeilenhhe',\n        paragraphStyle: 'Absatzstil',\n        textStyle: 'Textstil',\n        imageGallery: 'Bildergalerie',\n        mention: 'Erwhnen'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Link einfgen',\n          url: 'Link-URL',\n          text: 'Link-Text',\n          newWindowCheck: 'In neuem Fenster anzeigen',\n          downloadLinkCheck: 'Download-Link',\n          bookmark: 'Lesezeichen'\n        },\n        mathBox: {\n          title: 'Mathematik',\n          inputLabel: 'Mathematische Notation',\n          fontSizeLabel: 'Schriftgre',\n          previewLabel: 'Vorschau'\n        },\n        imageBox: {\n          title: 'Bild einfgen',\n          file: 'Datei auswhlen',\n          url: 'Bild-URL',\n          altText: 'Alternativer Text'\n        },\n        videoBox: {\n          title: 'Video enfgen',\n          file: 'Datei auswhlen',\n          url: 'Video-URL, YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Audio enfgen',\n          file: 'Datei auswhlen',\n          url: 'Audio-URL'\n        },\n        browser: {\n          tags: 'Stichworte',\n          search: 'Suche'\n        },\n        caption: 'Beschreibung eingeben',\n        close: 'Schlieen',\n        submitButton: 'bernehmen',\n        revertButton: 'Rckgngig',\n        proportion: 'Seitenverhltnis beibehalten',\n        basic: 'Standard',\n        left: 'Links',\n        right: 'Rechts',\n        center: 'Zentriert',\n        width: 'Breite',\n        height: 'Hhe',\n        size: 'Gre',\n        ratio: 'Verhltnis'\n      },\n      controller: {\n        edit: 'Bearbeiten',\n        unlink: 'Link entfernen',\n        remove: 'Lschen',\n        insertRowAbove: 'Zeile oberhalb einfgen',\n        insertRowBelow: 'Zeile unterhalb einfgen',\n        deleteRow: 'Zeile lschen',\n        insertColumnBefore: 'Spalte links einfgen',\n        insertColumnAfter: 'Spalte rechts einfgen',\n        deleteColumn: 'Spalte lschen',\n        fixedColumnWidth: 'Feste Spaltenbreite',\n        resize100: 'Zoom 100%',\n        resize75: 'Zoom 75%',\n        resize50: 'Zoom 50%',\n        resize25: 'Zoom 25%',\n        autoSize: 'Automatische Grenanpassung',\n        mirrorHorizontal: 'Horizontal spiegeln',\n        mirrorVertical: 'Vertikal spiegeln',\n        rotateLeft: 'Nach links drehen',\n        rotateRight: 'Nach rechts drehen',\n        maxSize: 'Maximale Gre',\n        minSize: 'Mindestgre',\n        tableHeader: 'Tabellenberschrift',\n        mergeCells: 'Zellen verbinden',\n        splitCells: 'Zellen teilen',\n        HorizontalSplit: 'Horizontal teilen',\n        VerticalSplit: 'Vertikal teilen'\n      },\n      menu: {\n        spaced: 'Buchstabenabstand',\n        bordered: 'Umrandet',\n        neon: 'Neon',\n        translucent: 'Durchscheinend',\n        shadow: 'Schatten',\n        code: 'Quellcode'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'de', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 33 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'es',\n      toolbar: {\n        default: 'Valor por defecto',\n        save: 'Guardar',\n        font: 'Fuente',\n        formats: 'Formato',\n        fontSize: 'Tamao de fuente',\n        bold: 'Negrita',\n        underline: 'Subrayado',\n        italic: 'Cursiva',\n        strike: 'Tachado',\n        subscript: 'Subndice',\n        superscript: 'Superndice',\n        removeFormat: 'Eliminar formato',\n        fontColor: 'Color de fuente',\n        hiliteColor: 'Color de resaltado',\n        indent: 'Ms tabulacin',\n        outdent: 'Menos tabulacin',\n        align: 'Alinear',\n        alignLeft: 'Alinear a la izquierda',\n        alignRight: 'Alinear a la derecha',\n        alignCenter: 'Alinear al centro',\n        alignJustify: 'Justificar',\n        list: 'Lista',\n        orderList: 'Lista ordenada',\n        unorderList: 'Lista desordenada',\n        horizontalRule: 'Horizontal line',\n        hr_solid: 'Lnea horizontal solida',\n        hr_dotted: 'Lnea horizontal punteada',\n        hr_dashed: 'Lnea horizontal discontinua',\n        table: 'Tabla',\n        link: 'Link',\n        math: 'Matemticas',\n        image: 'Imagen',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'Pantalla completa',\n        showBlocks: 'Ver bloques',\n        codeView: 'Ver cdigo fuente',\n        undo: 'UndoDeshacer ltima accin',\n        redo: 'Rehacer ltima accin',\n        preview: 'Vista previa',\n        print: 'Imprimir',\n        tag_p: 'Prrafo',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Header',\n        tag_blockquote: 'Cita',\n        tag_pre: 'Cdigo',\n        template: 'Plantilla',\n        lineHeight: 'Altura de la lnea',\n        paragraphStyle: 'Estilo del parrafo',\n        textStyle: 'Estilo del texto',\n        imageGallery: 'Galera de imgenes',\n        mention: 'Mencionar'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Insertar Link',\n          url: 'Hacia que URL lleva el link?',\n          text: 'Texto para mostrar',\n          newWindowCheck: 'Abrir en una nueva ventana',\n          downloadLinkCheck: 'Enlace de descarga',\n          bookmark: 'Marcador'\n        },\n        mathBox: {\n          title: 'Matemticas',\n          inputLabel: 'Notacin Matemtica',\n          fontSizeLabel: 'Tamao de fuente',\n          previewLabel: 'Vista previa'\n        },\n        imageBox: {\n          title: 'Insertar imagen',\n          file: 'Seleccionar desde los archivos',\n          url: 'URL de la imagen',\n          altText: 'Texto alternativo'\n        },\n        videoBox: {\n          title: 'Insertar Video',\n          file: 'Seleccionar desde los archivos',\n          url: 'URL del vdeo? Youtube/Vimeo'\n        },\n        audioBox: {\n          title: 'Insertar Audio',\n          file: 'Seleccionar desde los archivos',\n          url: 'URL de la audio'\n        },\n        browser: {\n          tags: 'Etiquetas',\n          search: 'Buscar'\n        },\n        caption: 'Insertar descripcin',\n        close: 'Cerrar',\n        submitButton: 'Enviar',\n        revertButton: 'revertir',\n        proportion: 'Restringir las proporciones',\n        basic: 'Basico',\n        left: 'Izquierda',\n        right: 'derecha',\n        center: 'Centro',\n        width: 'Ancho',\n        height: 'Alto',\n        size: 'Tamao',\n        ratio: 'Proporcin'\n      },\n      controller: {\n        edit: 'Editar',\n        unlink: 'Desvincular',\n        remove: 'RemoveQuitar',\n        insertRowAbove: 'Insertar fila arriba',\n        insertRowBelow: 'Insertar fila debajo',\n        deleteRow: 'Eliminar fila',\n        insertColumnBefore: 'Insertar columna antes',\n        insertColumnAfter: 'Insertar columna despus',\n        deleteColumn: 'Eliminar columna',\n        fixedColumnWidth: 'Ancho de columna fijo',\n        resize100: 'Redimensionar 100%',\n        resize75: 'Redimensionar 75%',\n        resize50: 'Redimensionar 50%',\n        resize25: 'Redimensionar 25%',\n        autoSize: 'Tamao automtico',\n        mirrorHorizontal: 'Espejo, Horizontal',\n        mirrorVertical: 'Espejo, Vertical',\n        rotateLeft: 'Girar a la izquierda',\n        rotateRight: 'Girar a la derecha',\n        maxSize: 'Tamao mximo',\n        minSize: 'Tamao minmo',\n        tableHeader: 'Encabezado de tabla',\n        mergeCells: 'Combinar celdas',\n        splitCells: 'Dividir celdas',\n        HorizontalSplit: 'Divisin horizontal',\n        VerticalSplit: 'Divisin vertical'\n      },\n      menu: {\n        spaced: 'Espaciado',\n        bordered: 'Bordeado',\n        neon: 'Nen',\n        translucent: 'Translcido',\n        shadow: 'Sombreado',\n        code: 'Cdigo'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'es', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 34 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2019 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'fr',\n      toolbar: {\n        default: 'Dfaut',\n        save: 'Sauvegarder',\n        font: 'Police',\n        formats: 'Formats',\n        fontSize: 'Taille',\n        bold: 'Gras',\n        underline: 'Soulign',\n        italic: 'Italique',\n        strike: 'Barr',\n        subscript: 'Indice',\n        superscript: 'Exposant',\n        removeFormat: 'ffacer  le Formatage',\n        fontColor: 'Couleur du texte',\n        hiliteColor: 'Couleur en arrire plan',\n        indent: 'Indenter',\n        outdent: 'Dsindenter',\n        align: 'Alignenement',\n        alignLeft: ' gauche',\n        alignRight: ' droite',\n        alignCenter: 'Centr',\n        alignJustify: 'Justifi',\n        list: 'Liste',\n        orderList: 'Ordonne',\n        unorderList: 'Non-ordonne',\n        horizontalRule: 'Ligne horizontale',\n        hr_solid: 'Solide',\n        hr_dotted: 'Points',\n        hr_dashed: 'Tirets',\n        table: 'Table',\n        link: 'Lien',\n        math: 'Math',\n        image: 'Image',\n        video: 'Video',\n        audio: 'l\\'audio',\n        fullScreen: 'Plein cran',\n        showBlocks: 'Voir les blocs',\n        codeView: 'Voir le code',\n        undo: 'Annuler',\n        redo: 'Rtablir',\n        preview: 'Previsualiser',\n        print: 'Imprimer',\n        tag_p: 'Paragraphe',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Titre',\n        tag_blockquote: 'Citation',\n        tag_pre: 'Code',\n        template: 'Template',\n        lineHeight: 'Hauteur de la ligne',\n        paragraphStyle: 'Style de paragraphe',\n        textStyle: 'Style de texte',\n        imageGallery: 'Galerie d\\'images',\n        mention: 'Mention'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Insrer un lien',\n          url: 'Adresse URL du lien',\n          text: 'Texte  afficher',\n          newWindowCheck: 'Ouvrir dans une nouvelle fentre',\n          downloadLinkCheck: 'Lien de tlchargement',\n          bookmark: 'Signet'\n        },\n        mathBox: {\n          title: 'Math',\n          inputLabel: 'Notation mathmatique',\n          fontSizeLabel: 'Taille',\n          previewLabel: 'Previsualiser'\n        },\n        imageBox: {\n          title: 'Insrer une image',\n          file: 'Slectionner le fichier',\n          url: 'Adresse URL du fichier',\n          altText: 'Texte Alternatif'\n        },\n        videoBox: {\n          title: 'Insrer une Vido',\n          file: 'Slectionner le fichier',\n          url: 'URL dintgration du mdia, YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Insertar une l\\'audio',\n          file: 'Slectionner le fichier',\n          url: 'Adresse URL du fichier'\n        },\n        browser: {\n          tags: 'Mots cls',\n          search: 'Chercher'\n        },\n        caption: 'Insrer une description',\n        close: 'Fermer',\n        submitButton: 'Appliquer',\n        revertButton: 'Revenir en arrire',\n        proportion: 'Maintenir le rapport hauteur/largeur',\n        basic: 'Basique',\n        left: 'Gauche',\n        right: 'Droite',\n        center: 'Centr',\n        width: 'Largeur',\n        height: 'Hauteur',\n        size: 'La taille',\n        ratio: 'Rapport'\n      },\n      controller: {\n        edit: 'Modifier',\n        unlink: 'Supprimer un lien',\n        remove: 'Effacer',\n        insertRowAbove: 'Insrer une ligne en dessous',\n        insertRowBelow: 'Insrer une ligne au dessus',\n        deleteRow: 'Effacer la ligne',\n        insertColumnBefore: 'Insrer une colonne avant',\n        insertColumnAfter: 'Insrer une colonne aprs',\n        deleteColumn: 'Effacer la colonne',\n        fixedColumnWidth: 'Largeur de colonne fixe',\n        resize100: 'Redimensionner  100%',\n        resize75: 'Redimensionner  75%',\n        resize50: 'Redimensionner  50%',\n        resize25: 'Redimensionner  25%',\n        autoSize: 'Taille automatique',\n        mirrorHorizontal: 'Mirroir, Horizontal',\n        mirrorVertical: 'Mirroir, Vertical',\n        rotateLeft: 'Rotation  gauche',\n        rotateRight: 'Rotation  droite',\n        maxSize: 'Taille max',\n        minSize: 'Taille min',\n        tableHeader: 'En-tte de table',\n        mergeCells: 'Fusionner les cellules',\n        splitCells: 'Diviser les Cellules',\n        HorizontalSplit: 'Scission horizontale',\n        VerticalSplit: 'Scission verticale'\n      },\n      menu: {\n        spaced: 'Espacement',\n        bordered: 'Ligne de dmarcation',\n        neon: 'Non',\n        translucent: 'Translucide',\n        shadow: 'L\\'ombre',\n        code: 'Code'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'fr', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 35 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2019 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'ja',\n      toolbar: {\n        default: '',\n        save: '',\n        font: '',\n        formats: '',\n        fontSize: '',\n        bold: '',\n        underline: '',\n        italic: '',\n        strike: '',\n        subscript: '',\n        superscript: '',\n        removeFormat: '',\n        fontColor: '',\n        hiliteColor: '',\n        indent: '',\n        outdent: '',\n        align: '',\n        alignLeft: '',\n        alignRight: '',\n        alignCenter: '',\n        alignJustify: '',\n        list: '',\n        orderList: '',\n        unorderList: '',\n        horizontalRule: '',\n        hr_solid: '',\n        hr_dotted: '',\n        hr_dashed: '',\n        table: '',\n        link: '',\n        math: '',\n        image: '',\n        video: '',\n        audio: '',\n        fullScreen: '',\n        showBlocks: '',\n        codeView: 'HTML',\n        undo: '',\n        redo: '',\n        preview: '',\n        print: '',\n        tag_p: '',\n        tag_div: 'DIV',\n        tag_h: '',\n        tag_blockquote: '',\n        tag_pre: '',\n        template: '',\n        lineHeight: '',\n        paragraphStyle: '',\n        textStyle: '',\n        imageGallery: '',\n        mention: ''\n      },\n      dialogBox: {\n        linkBox: {\n          title: '',\n          url: '',\n          text: '',\n          newWindowCheck: '',\n          downloadLinkCheck: '',\n          bookmark: ''\n        },\n        mathBox: {\n          title: '',\n          inputLabel: '',\n          fontSizeLabel: '',\n          previewLabel: ''\n        },\n        imageBox: {\n          title: '',\n          file: '',\n          url: '',\n          altText: ''\n        },\n        videoBox: {\n          title: '',\n          file: '',\n          url: ', YouTube/Vimeo'\n        },\n        audioBox: {\n          title: '',\n          file: '',\n          url: ''\n        },\n        browser: {\n          tags: '',\n          search: ''\n        },\n        caption: '',\n        close: '',\n        submitButton: '',\n        revertButton: '',\n        proportion: '',\n        basic: '',\n        left: '',\n        right: '',\n        center: '',\n        width: '',\n        height: '',\n        size: '',\n        ratio: ''\n      },\n      controller: {\n        edit: '',\n        unlink: '',\n        remove: '',\n        insertRowAbove: '',\n        insertRowBelow: '',\n        deleteRow: '',\n        insertColumnBefore: '',\n        insertColumnAfter: '',\n        deleteColumn: '',\n        fixedColumnWidth: '',\n        resize100: '100 ',\n        resize75: '75 ',\n        resize50: '50 ',\n        resize25: '25 ',\n        autoSize: '',\n        mirrorHorizontal: '',\n        mirrorVertical: '',\n        rotateLeft: '',\n        rotateRight: '',\n        maxSize: '',\n        minSize: '',\n        tableHeader: '',\n        mergeCells: '',\n        splitCells: '',\n        HorizontalSplit: '',\n        VerticalSplit: ''\n      },\n      menu: {\n        spaced: '',\n        bordered: '',\n        neon: '',\n        translucent: '',\n        shadow: '',\n        code: ''\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'ja', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 36 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'ko',\n      toolbar: {\n        default: '',\n        save: '',\n        font: '',\n        formats: ' ',\n        fontSize: '',\n        bold: '',\n        underline: '',\n        italic: '',\n        strike: '',\n        subscript: ' ',\n        superscript: ' ',\n        removeFormat: ' ',\n        fontColor: '',\n        hiliteColor: '',\n        indent: '',\n        outdent: '',\n        align: '',\n        alignLeft: ' ',\n        alignRight: ' ',\n        alignCenter: ' ',\n        alignJustify: ' ',\n        list: '',\n        orderList: ' ',\n        unorderList: ' ',\n        horizontalRule: '  ',\n        hr_solid: '',\n        hr_dotted: '',\n        hr_dashed: '',\n        table: '',\n        link: '',\n        math: '',\n        image: '',\n        video: '',\n        audio: '',\n        fullScreen: ' ',\n        showBlocks: ' ',\n        codeView: 'HTML ',\n        undo: ' ',\n        redo: ' ',\n        preview: '',\n        print: '',\n        tag_p: '',\n        tag_div: ' (DIV)',\n        tag_h: '',\n        tag_blockquote: '',\n        tag_pre: '',\n        template: '',\n        lineHeight: ' ',\n        paragraphStyle: ' ',\n        textStyle: ' ',\n        imageGallery: ' ',\n        mention: ''\n      },\n      dialogBox: {\n        linkBox: {\n          title: ' ',\n          url: ' ',\n          text: ' ',\n          newWindowCheck: ' ',\n          downloadLinkCheck: ' ',\n          bookmark: ''\n        },\n        mathBox: {\n          title: '',\n          inputLabel: ' ',\n          fontSizeLabel: ' ',\n          previewLabel: ''\n        },\n        imageBox: {\n          title: ' ',\n          file: ' ',\n          url: ' ',\n          altText: ' '\n        },\n        videoBox: {\n          title: ' ',\n          file: ' ',\n          url: '  , /'\n        },\n        audioBox: {\n          title: ' ',\n          file: ' ',\n          url: '  '\n        },\n        browser: {\n          tags: '',\n          search: ''\n        },\n        caption: ' ',\n        close: '',\n        submitButton: '',\n        revertButton: '',\n        proportion: ' ',\n        basic: '',\n        left: '',\n        right: '',\n        center: '',\n        width: '',\n        height: '',\n        size: '',\n        ratio: ''\n      },\n      controller: {\n        edit: '',\n        unlink: ' ',\n        remove: '',\n        insertRowAbove: '  ',\n        insertRowBelow: '  ',\n        deleteRow: ' ',\n        insertColumnBefore: '  ',\n        insertColumnAfter: '  ',\n        deleteColumn: ' ',\n        fixedColumnWidth: '   ',\n        resize100: '100% ',\n        resize75: '75% ',\n        resize50: '50% ',\n        resize25: '25% ',\n        autoSize: ' ',\n        mirrorHorizontal: ' ',\n        mirrorVertical: ' ',\n        rotateLeft: ' ',\n        rotateRight: ' ',\n        maxSize: '',\n        minSize: '',\n        tableHeader: ' ',\n        mergeCells: ' ',\n        splitCells: ' ',\n        HorizontalSplit: ' ',\n        VerticalSplit: ' '\n      },\n      menu: {\n        spaced: ' ',\n        bordered: '',\n        neon: '',\n        translucent: '',\n        shadow: '',\n        code: ''\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'ko', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 37 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * Brazilian Portuguese translation by lpeil github\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'pt_br',\n      toolbar: {\n        default: 'Padro',\n        save: 'Salvar',\n        font: 'Fonte',\n        formats: 'Formatos',\n        fontSize: 'Tamanho',\n        bold: 'Negrito',\n        underline: 'Sublinhado',\n        italic: 'Itlico',\n        strike: 'Riscado',\n        subscript: 'Subescrito',\n        superscript: 'Sobrescrito',\n        removeFormat: 'Remover Formatao',\n        fontColor: 'Cor da Fonte',\n        hiliteColor: 'Cor de destaque',\n        indent: 'Recuo',\n        outdent: 'Avanar',\n        align: 'Alinhar',\n        alignLeft: 'Alinhar  esquerda',\n        alignRight: 'Alinhar  direita',\n        alignCenter: 'Alinhar ao centro',\n        alignJustify: 'Alinhat justificado',\n        list: 'Lista',\n        orderList: 'Lista ordenada',\n        unorderList: 'Lista desordenada',\n        horizontalRule: 'Linha horizontal',\n        hr_solid: 'solida',\n        hr_dotted: 'pontilhada',\n        hr_dashed: 'tracejada',\n        table: 'Tabela',\n        link: 'Link',\n        math: 'Matemtica',\n        image: 'Imagem',\n        video: 'Vdeo',\n        audio: 'udio',\n        fullScreen: 'Tela cheia',\n        showBlocks: 'Mostrar blocos',\n        codeView: 'Mostrar cdigos',\n        undo: 'Voltar',\n        redo: 'Refazer',\n        preview: 'Prever',\n        print: 'imprimir',\n        tag_p: 'Paragrfo',\n        tag_div: '(DIV) Normal',\n        tag_h: 'Cabealho',\n        tag_blockquote: 'Citar',\n        tag_pre: 'Cdigo',\n        template: 'Modelo',\n        lineHeight: 'Altura da linha',\n        paragraphStyle: 'Estilo do pargrafo',\n        textStyle: 'Estilo do texto',\n        imageGallery: 'Galeria de imagens',\n        mention: 'Meno'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Inserir link',\n          url: 'URL para link',\n          text: 'Texto  mostrar',\n          newWindowCheck: 'Abrir em nova guia',\n          downloadLinkCheck: 'Link para Download',\n          bookmark: 'marca pginas'\n        },\n        mathBox: {\n          title: 'Matemtica',\n          inputLabel: 'Notao matemtica',\n          fontSizeLabel: 'Tamanho',\n          previewLabel: 'Prever'\n        },\n        imageBox: {\n          title: 'Inserir imagens',\n          file: 'Selecionar arquivos',\n          url: 'URL da imagem',\n          altText: 'Texto alternativo'\n        },\n        videoBox: {\n          title: 'Inserir vdeo',\n          file: 'Selecionar arquivos',\n          url: 'URL do YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Inserir audio',\n          file: 'Selecionar arquivos',\n          url: 'URL da audio'\n        },\n        browser: {\n          tags: 'Tag',\n          search: 'Procurar'\n        },\n        caption: 'Inserir descrio',\n        close: 'Fechar',\n        submitButton: 'Enviar',\n        revertButton: 'Reverter',\n        proportion: 'restringir propores',\n        basic: 'Bsico',\n        left: 'Esquerda',\n        right: 'Direita',\n        center: 'Centro',\n        width: 'Largura',\n        height: 'Altura',\n        size: 'Tamanho',\n        ratio: 'Propores'\n      },\n      controller: {\n        edit: 'Editar',\n        unlink: 'Retirar link',\n        remove: 'Remover',\n        insertRowAbove: 'Inserir linha acima',\n        insertRowBelow: 'Inserir linha abaixo',\n        deleteRow: 'Deletar linha',\n        insertColumnBefore: 'Inserir coluna antes',\n        insertColumnAfter: 'Inserir coluna depois',\n        deleteColumn: 'Deletar coluna',\n        fixedColumnWidth: 'Largura fixa da coluna',\n        resize100: 'Redimensionar para 100%',\n        resize75: 'Redimensionar para 75%',\n        resize50: 'Redimensionar para 50%',\n        resize25: 'Redimensionar para 25%',\n        autoSize: 'Tamanho automtico',\n        mirrorHorizontal: 'Espelho, Horizontal',\n        mirrorVertical: 'Espelho, Vertical',\n        rotateLeft: 'Girar para esquerda',\n        rotateRight: 'Girar para direita',\n        maxSize: 'Tam max',\n        minSize: 'Tam min',\n        tableHeader: 'Cabealho da tabela',\n        mergeCells: 'Mesclar clulas',\n        splitCells: 'Dividir clulas',\n        HorizontalSplit: 'Diviso horizontal',\n        VerticalSplit: 'Diviso vertical'\n      },\n      menu: {\n        spaced: 'Espaado',\n        bordered: 'Com borda',\n        neon: 'Non',\n        translucent: 'Translcido',\n        shadow: 'Sombreado',\n        code: 'Cdigo'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'pt_br', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 38 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'ru',\n      toolbar: {\n        default: ' ',\n        save: '',\n        font: '',\n        formats: ' ',\n        fontSize: ' ',\n        bold: '',\n        underline: '',\n        italic: '',\n        strike: '',\n        subscript: ' ',\n        superscript: ' ',\n        removeFormat: ' ',\n        fontColor: ' ',\n        hiliteColor: ' ',\n        indent: ' ',\n        outdent: ' ',\n        align: '',\n        alignLeft: '',\n        alignRight: '',\n        alignCenter: ' ',\n        alignJustify: ' ',\n        list: '',\n        orderList: '',\n        unorderList: '',\n        horizontalRule: ' ',\n        hr_solid: '',\n        hr_dotted: '',\n        hr_dashed: '',\n        table: '',\n        link: '',\n        math: '',\n        image: '',\n        video: '',\n        audio: '',\n        fullScreen: ' ',\n        showBlocks: ' ',\n        codeView: ' HTML',\n        undo: '',\n        redo: '',\n        preview: ' ',\n        print: '',\n        tag_p: '',\n        tag_div: '',\n        tag_h: '',\n        tag_blockquote: '',\n        tag_pre: '',\n        template: '',\n        lineHeight: ' ',\n        paragraphStyle: ' ',\n        textStyle: ' ',\n        imageGallery: '',\n        mention: ''\n      },\n      dialogBox: {\n        linkBox: {\n          title: ' ',\n          url: '',\n          text: '',\n          newWindowCheck: '   ',\n          downloadLinkCheck: '  ',\n          bookmark: ''\n        },\n        mathBox: {\n          title: '',\n          inputLabel: ' ',\n          fontSizeLabel: '',\n          previewLabel: ' '\n        },\n        imageBox: {\n          title: ' ',\n          file: ' ',\n          url: ' ',\n          altText: '  '\n        },\n        videoBox: {\n          title: ' ',\n          file: ' ',\n          url: '  , Youtube,Vimeo'\n        },\n        audioBox: {\n          title: ' ',\n          file: ' ',\n          url: ' '\n        },\n        browser: {\n          tags: '',\n          search: ''\n        },\n        caption: ' ',\n        close: '',\n        submitButton: '',\n        revertButton: '',\n        proportion: ' ',\n        basic: ' ',\n        left: '',\n        right: '',\n        center: ' ',\n        width: '',\n        height: '',\n        size: '',\n        ratio: ''\n      },\n      controller: {\n        edit: '',\n        unlink: ' ',\n        remove: '',\n        insertRowAbove: '  ',\n        insertRowBelow: '  ',\n        deleteRow: ' ',\n        insertColumnBefore: '  ',\n        insertColumnAfter: '  ',\n        deleteColumn: ' ',\n        fixedColumnWidth: '  ',\n        resize100: ' 100%',\n        resize75: ' 75%',\n        resize50: ' 50%',\n        resize25: ' 25%',\n        autoSize: ' ',\n        mirrorHorizontal: '  ',\n        mirrorVertical: '  ',\n        rotateLeft: '   ',\n        rotateRight: '   ',\n        maxSize: '   ',\n        minSize: '  ',\n        tableHeader: ' ',\n        mergeCells: ' ',\n        splitCells: ' ',\n        HorizontalSplit: ' ',\n        VerticalSplit: ' '\n      },\n      menu: {\n        spaced: '',\n        bordered: ' ',\n        neon: '',\n        translucent: '',\n        shadow: '',\n        code: ''\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'ru', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 39 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2019 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'zh_cn',\n      toolbar: {\n        default: '',\n        save: '',\n        font: '',\n        formats: '',\n        fontSize: '',\n        bold: '',\n        underline: '',\n        italic: '',\n        strike: '',\n        subscript: '',\n        superscript: '',\n        removeFormat: '',\n        fontColor: '',\n        hiliteColor: '',\n        indent: '',\n        outdent: '',\n        align: '',\n        alignLeft: '',\n        alignRight: '',\n        alignCenter: '',\n        alignJustify: '',\n        list: '',\n        orderList: '',\n        unorderList: '',\n        horizontalRule: '',\n        hr_solid: '',\n        hr_dotted: '',\n        hr_dashed: '',\n        table: '',\n        link: '',\n        math: '',\n        image: '',\n        video: '',\n        audio: '',\n        fullScreen: '',\n        showBlocks: '',\n        codeView: '',\n        undo: '',\n        redo: '',\n        preview: '',\n        print: '',\n        tag_p: '',\n        tag_div: ' (DIV)',\n        tag_h: '',\n        tag_blockquote: '',\n        tag_pre: '',\n        template: '',\n        lineHeight: '',\n        paragraphStyle: '',\n        textStyle: '',\n        imageGallery: '',\n        mention: ''\n      },\n      dialogBox: {\n        linkBox: {\n          title: '',\n          url: '',\n          text: '',\n          newWindowCheck: '',\n          downloadLinkCheck: '',\n          bookmark: ''\n        },\n        mathBox: {\n          title: '',\n          inputLabel: '',\n          fontSizeLabel: '',\n          previewLabel: ''\n        },\n        imageBox: {\n          title: '',\n          file: '',\n          url: '',\n          altText: ''\n        },\n        videoBox: {\n          title: '',\n          file: '',\n          url: ', Youtube,Vimeo'\n        },\n        audioBox: {\n          title: '',\n          file: '',\n          url: ''\n        },\n        browser: {\n          tags: '',\n          search: ''\n        },\n        caption: '',\n        close: '',\n        submitButton: '',\n        revertButton: '',\n        proportion: '',\n        basic: '',\n        left: '',\n        right: '',\n        center: '',\n        width: '',\n        height: '',\n        size: '',\n        ratio: ''\n      },\n      controller: {\n        edit: '',\n        unlink: '',\n        remove: '',\n        insertRowAbove: '',\n        insertRowBelow: '',\n        deleteRow: '',\n        insertColumnBefore: '',\n        insertColumnAfter: '',\n        deleteColumn: '',\n        fixedColumnWidth: '',\n        resize100: ' 100%',\n        resize75: ' 75%',\n        resize50: ' 50%',\n        resize25: ' 25%',\n        mirrorHorizontal: '',\n        mirrorVertical: '',\n        rotateLeft: '',\n        rotateRight: '',\n        maxSize: '',\n        minSize: '',\n        tableHeader: '',\n        mergeCells: '',\n        splitCells: '',\n        HorizontalSplit: '',\n        VerticalSplit: ''\n      },\n      menu: {\n        spaced: '',\n        bordered: '',\n        neon: '',\n        translucent: '',\n        shadow: '',\n        code: ''\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'zh_cn', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 40 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'ro',\n      toolbar: {\n        default: 'Default',\n        save: 'Salveaz',\n        font: 'Font',\n        formats: 'Format',\n        fontSize: 'Dimensiune',\n        bold: 'ngroat',\n        underline: 'Subliniat',\n        italic: 'nclinat',\n        strike: 'Tiat',\n        subscript: 'Subscript',\n        superscript: 'Superscript',\n        removeFormat: 'terge formatare',\n        fontColor: 'Culoare font',\n        hiliteColor: 'Culoare de evideniere',\n        indent: 'Indenteaz',\n        outdent: 'Fr indentare',\n        align: 'Aliniere',\n        alignLeft: 'Aliniere la stnga',\n        alignRight: 'Aliniere la dreapta',\n        alignCenter: 'Aliniere la centru',\n        alignJustify: 'Aliniere stnga - dreapta',\n        list: 'List',\n        orderList: 'List ordonat',\n        unorderList: 'List neordonat',\n        horizontalRule: 'Linie orizontal',\n        hr_solid: 'Solid',\n        hr_dotted: 'Punctat',\n        hr_dashed: 'Punctate',\n        table: 'Tabel',\n        link: 'Link',\n        math: 'Matematic',\n        image: 'Imagine',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'Tot ecranul',\n        showBlocks: 'Arat blocuri',\n        codeView: 'Vizualizare cod',\n        undo: 'Anuleaz',\n        redo: 'Ref',\n        preview: 'Previzualizare',\n        print: 'printeaz',\n        tag_p: 'Paragraf',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Antet',\n        tag_blockquote: 'Quote',\n        tag_pre: 'Citat',\n        template: 'Template',\n        lineHeight: 'nlime linie',\n        paragraphStyle: 'Stil paragraf',\n        textStyle: 'Stil text',\n        imageGallery: 'Galerie de imagini',\n        mention: 'Mentiune'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Insereaz Link',\n          url: 'Adres link',\n          text: 'Text de afiat',\n          newWindowCheck: 'Deschide n fereastr nou',\n          downloadLinkCheck: 'Link de descrcare',\n          bookmark: 'Marcaj'\n        },\n        mathBox: {\n          title: 'Matematic',\n          inputLabel: 'Notaie matematic',\n          fontSizeLabel: 'Dimensiune font',\n          previewLabel: 'Previzualizare'\n        },\n        imageBox: {\n          title: 'Insereaz imagine',\n          file: 'Selecteaz',\n          url: 'URL imagine',\n          altText: 'text alternativ'\n        },\n        videoBox: {\n          title: 'Insereaz video',\n          file: 'Selecteaz',\n          url: 'Include URL, youtube/vimeo'\n        },\n        audioBox: {\n          title: 'Insereaz Audio',\n          file: 'Selecteaz',\n          url: 'URL Audio'\n        },\n        browser: {\n          tags: 'Etichete',\n          search: 'Cutareim'\n        },\n        caption: 'Insereaz descriere',\n        close: 'nchide',\n        submitButton: 'Salveaz',\n        revertButton: 'Revenire',\n        proportion: 'Constrnge proporiile',\n        basic: 'De baz',\n        left: 'Stnga',\n        right: 'Dreapta',\n        center: 'Centru',\n        width: 'Lime',\n        height: 'nlime',\n        size: 'Dimensiune',\n        ratio: 'Ratie'\n      },\n      controller: {\n        edit: 'Editeaz',\n        unlink: 'Scoate link',\n        remove: 'Elimin',\n        insertRowAbove: 'Insereaz rnd deasupra',\n        insertRowBelow: 'Insereaz rnd dedesupt',\n        deleteRow: 'terge linie',\n        insertColumnBefore: 'Insereaz coloan nainte',\n        insertColumnAfter: 'Insereaz coloan dup',\n        deleteColumn: 'terge coloan',\n        fixedColumnWidth: 'Lime fix coloan',\n        resize100: 'Redimensionare 100%',\n        resize75: 'Redimensionare 75%',\n        resize50: 'Redimensionare 50%',\n        resize25: 'Redimensionare 25%',\n        autoSize: 'Dimensiune automat',\n        mirrorHorizontal: 'Oglind, orizontal',\n        mirrorVertical: 'Oglind, vertical',\n        rotateLeft: 'Rotete la stnga',\n        rotateRight: 'Rotete la dreapta',\n        maxSize: 'Dimensiune maxim',\n        minSize: 'Dimensiune minim',\n        tableHeader: 'Antet tabel',\n        mergeCells: 'mbin celule',\n        splitCells: 'Divizeaz celule',\n        HorizontalSplit: 'Despicare orizontal',\n        VerticalSplit: 'Despicare vertical'\n      },\n      menu: {\n        spaced: 'Spaiat',\n        bordered: 'Mrginit',\n        neon: 'Neon',\n        translucent: 'Translucent',\n        shadow: 'Umbr',\n        code: 'Citat'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'ro', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 41 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'pl',\n      toolbar: {\n        default: 'Domylne',\n        save: 'Zapisz',\n        font: 'Czcionka',\n        formats: 'Formaty',\n        fontSize: 'Rozmiar',\n        bold: 'Pogrubienie',\n        underline: 'Podkrelenie',\n        italic: 'Kursywa',\n        strike: 'Przekrelenie',\n        subscript: 'Indeks dolny',\n        superscript: 'Indeks grny',\n        removeFormat: 'Wyczy formatowanie',\n        fontColor: 'Kolor tekstu',\n        hiliteColor: 'Kolor ta tekstu',\n        indent: 'Zwiksz wcicie',\n        outdent: 'Zmniejsz wcicie',\n        align: 'Wyrwnaj',\n        alignLeft: 'Do lewej',\n        alignRight: 'Do prawej',\n        alignCenter: 'Do rodka',\n        alignJustify: 'Wyjustuj',\n        list: 'Lista',\n        orderList: 'Lista numerowana',\n        unorderList: 'Lista wypunktowana',\n        horizontalRule: 'Pozioma linia',\n        hr_solid: 'Ciga',\n        hr_dotted: 'Kropkowana',\n        hr_dashed: 'Przerywana',\n        table: 'Tabela',\n        link: 'Odnonik',\n        math: 'Matematyczne',\n        image: 'Obraz',\n        video: 'Wideo',\n        audio: 'Audio',\n        fullScreen: 'Peny ekran',\n        showBlocks: 'Poka bloki',\n        codeView: 'Widok kodu',\n        undo: 'Cofnij',\n        redo: 'Ponw',\n        preview: 'Podgld',\n        print: 'Drukuj',\n        tag_p: 'Akapit',\n        tag_div: 'Blok (DIV)',\n        tag_h: 'Nagwek H',\n        tag_blockquote: 'Cytat',\n        tag_pre: 'Kod',\n        template: 'Szablon',\n        lineHeight: 'Odstp midzy wierszami',\n        paragraphStyle: 'Styl akapitu',\n        textStyle: 'Styl tekstu',\n        imageGallery: 'Galeria obrazw',\n        mention: 'Wzmianka'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Wstaw odnonik',\n          url: 'Adres URL',\n          text: 'Tekst do wywietlenia',\n          newWindowCheck: 'Otwrz w nowym oknie',\n          downloadLinkCheck: 'Link do pobrania',\n          bookmark: 'Zakadka'\n        },\n        mathBox: {\n          title: 'Matematyczne',\n          inputLabel: 'Zapis matematyczny',\n          fontSizeLabel: 'Rozmiar czcionki',\n          previewLabel: 'Podgld'\n        },\n        imageBox: {\n          title: 'Wstaw obraz',\n          file: 'Wybierz plik',\n          url: 'Adres URL obrazka',\n          altText: 'Tekst alternatywny'\n        },\n        videoBox: {\n          title: 'Wstaw wideo',\n          file: 'Wybierz plik',\n          url: 'Adres URL video, np. YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Wstaw audio',\n          file: 'Wybierz plik',\n          url: 'Adres URL audio'\n        },\n        browser: {\n          tags: 'Tagi',\n          search: 'Szukaj'\n        },\n        caption: 'Wstaw opis',\n        close: 'Zamknij',\n        submitButton: 'Zatwierd',\n        revertButton: 'Cofnij zmiany',\n        proportion: 'Ogranicz proporcje',\n        basic: 'Bez wyrwnania',\n        left: 'Do lewej',\n        right: 'Do prawej',\n        center: 'Do rodka',\n        width: 'Szeroko',\n        height: 'Wysoko',\n        size: 'Rozmiar',\n        ratio: 'Proporcje'\n      },\n      controller: {\n        edit: 'Edycja',\n        unlink: 'Usu odnonik',\n        remove: 'Usu',\n        insertRowAbove: 'Wstaw wiersz powyej',\n        insertRowBelow: 'Wstaw wiersz poniej',\n        deleteRow: 'Usu wiersz',\n        insertColumnBefore: 'Wstaw kolumn z lewej',\n        insertColumnAfter: 'Wstaw kolumn z prawej',\n        deleteColumn: 'Usu kolumn',\n        fixedColumnWidth: 'Staa szeroko kolumny',\n        resize100: 'Zmie rozmiar - 100%',\n        resize75: 'Zmie rozmiar - 75%',\n        resize50: 'Zmie rozmiar - 50%',\n        resize25: 'Zmie rozmiar - 25%',\n        autoSize: 'Rozmiar automatyczny',\n        mirrorHorizontal: 'Odbicie lustrzane w poziomie',\n        mirrorVertical: 'Odbicie lustrzane w pionie',\n        rotateLeft: 'Obr w lewo',\n        rotateRight: 'Obr w prawo',\n        maxSize: 'Maksymalny rozmiar',\n        minSize: 'Minimalny rozmiar',\n        tableHeader: 'Nagwek tabeli',\n        mergeCells: 'Scal komrki',\n        splitCells: 'Podziel komrki',\n        HorizontalSplit: 'Podzia poziomy',\n        VerticalSplit: 'Podzia pionowy'\n      },\n      menu: {\n        spaced: 'Rozstawiony',\n        bordered: 'Z obwdk',\n        neon: 'Neon',\n        translucent: 'Pprzezroczysty',\n        shadow: 'Cie',\n        code: 'Kod'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'pl', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 42 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'ckb',\n      toolbar: {\n        default: '',\n        save: '',\n        font: '',\n        formats: 'Formats',\n        fontSize: '',\n        bold: '',\n        underline: '  ',\n        italic: '',\n        strike: '  ',\n        subscript: '',\n        superscript: '',\n        removeFormat: ' ',\n        fontColor: ' ',\n        hiliteColor: ' ',\n        indent: ' ',\n        outdent: ' ',\n        align: '',\n        alignLeft: ' ',\n        alignRight: ' ',\n        alignCenter: '',\n        alignJustify: '  ',\n        list: '',\n        orderList: ' ',\n        unorderList: ' ',\n        horizontalRule: ' ',\n        hr_solid: '',\n        hr_dotted: ' ',\n        hr_dashed: ' ',\n        table: '',\n        link: '',\n        math: '',\n        image: '',\n        video: '',\n        audio: '',\n        fullScreen: '  ',\n        showBlocks: ' ',\n        codeView: ' ',\n        undo: '   ',\n        redo: '',\n        preview: '',\n        print: '',\n        tag_p: '',\n        tag_div: '  (DIV)',\n        tag_h: '',\n        tag_blockquote: '',\n        tag_pre: '',\n        template: '',\n        lineHeight: ' ',\n        paragraphStyle: ' ',\n        textStyle: ' ',\n        imageGallery: ' ',\n        mention: ' '\n      },\n      dialogBox: {\n        linkBox: {\n          title: ' ',\n          url: '',\n          text: ' ',\n          newWindowCheck: '   ',\n          downloadLinkCheck: ' ',\n          bookmark: ''\n        },\n        mathBox: {\n          title: '',\n          inputLabel: ' ',\n          fontSizeLabel: ' ',\n          previewLabel: ''\n        },\n        imageBox: {\n          title: ' ',\n          file: ' ',\n          url: ' ',\n          altText: ' '\n        },\n        videoBox: {\n          title: ' ',\n          file: ' ',\n          url: 'YouTube/Vimeo    '\n        },\n        audioBox: {\n          title: ' ',\n          file: ' ',\n          url: ' '\n        },\n        browser: {\n          tags: '',\n          search: ''\n        },\n        caption: ' ',\n        close: '',\n        submitButton: '',\n        revertButton: '   ',\n        proportion: '   ',\n        basic: '',\n        left: '',\n        right: '',\n        center: '',\n        width: '',\n        height: '',\n        size: '',\n        ratio: ''\n      },\n      controller: {\n        edit: '',\n        unlink: ' ',\n        remove: '',\n        insertRowAbove: '   ',\n        insertRowBelow: '   ',\n        deleteRow: ' ',\n        insertColumnBefore: '   ',\n        insertColumnAfter: '   ',\n        deleteColumn: ' ',\n        fixedColumnWidth: '  ',\n        resize100: '   %',\n        resize75: '   %',\n        resize50: '   %',\n        resize25: '   %',\n        autoSize: ' ',\n        mirrorHorizontal: '   ',\n        mirrorVertical: '   ',\n        rotateLeft: '  ',\n        rotateRight: '  ',\n        maxSize: ' ',\n        minSize: ' ',\n        tableHeader: ' ',\n        mergeCells: ' ',\n        splitCells: '  ',\n        HorizontalSplit: ' ',\n        VerticalSplit: ' '\n      },\n      menu: {\n        spaced: ' ',\n        bordered: ' ',\n        neon: '',\n        translucent: '  ',\n        shadow: '',\n        code: ''\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'ckb', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 43 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'lv',\n      toolbar: {\n        default: 'Noklusjuma',\n        save: 'Saglabt',\n        font: 'Fonts',\n        formats: 'Formti',\n        fontSize: 'Fonta lielums',\n        bold: 'Treknraksts',\n        underline: 'Pasvtrot',\n        italic: 'Slpraksts',\n        strike: 'Prsvtrojums',\n        subscript: 'Apakraksts',\n        superscript: 'Augraksts',\n        removeFormat: 'Noemt formtu',\n        fontColor: 'Fonta krsa',\n        hiliteColor: 'Teksta iezmanas krsa',\n        indent: 'Palielint atkpi',\n        outdent: 'Samazint atkpi',\n        align: 'Izldzint',\n        alignLeft: 'Ldzint pa kreisi',\n        alignRight: 'Ldzint pa labi',\n        alignCenter: 'Centrt',\n        alignJustify: 'Taisnot',\n        list: 'Saraksts',\n        orderList: 'Numercija',\n        unorderList: 'Aizzimes',\n        horizontalRule: 'Horizontla lnija',\n        hr_solid: 'Ciets',\n        hr_dotted: 'Punkti',\n        hr_dashed: 'Braa',\n        table: 'Tabula',\n        link: 'Saite',\n        math: 'Matemtika',\n        image: 'Attls',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'Pilnekrna rems',\n        showBlocks: 'Pardit blokus',\n        codeView: 'Koda skats',\n        undo: 'Atsaukt',\n        redo: 'Atkrtot',\n        preview: 'Priekskatjums',\n        print: 'Drukt',\n        tag_p: 'Paragrfs',\n        tag_div: 'Normli (DIV)',\n        tag_h: 'Galvene',\n        tag_blockquote: 'Citts',\n        tag_pre: 'Kods',\n        template: 'Veidne',\n        lineHeight: 'Lnijas augstums',\n        paragraphStyle: 'Paragrfa stils',\n        textStyle: 'Teksta stils',\n        imageGallery: 'Attlu galerija',\n        mention: 'Piemint'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Ievietot saiti',\n          url: 'Saites URL',\n          text: 'Pardmais teksts',\n          newWindowCheck: 'Atvrt jaun log',\n          downloadLinkCheck: 'Lejupieldes saite',\n          bookmark: 'Grmatzme'\n        },\n        mathBox: {\n          title: 'Matemtika',\n          inputLabel: 'Matemtisk notcija',\n          fontSizeLabel: 'Fonta lielums',\n          previewLabel: 'Priekskatjums'\n        },\n        imageBox: {\n          title: 'Ievietot attlu',\n          file: 'Izvlieties no failiem',\n          url: 'Attla URL',\n          altText: 'Alternatvs teksts'\n        },\n        videoBox: {\n          title: 'Ievietot video',\n          file: 'Izvlieties no failiem',\n          url: 'Multivides iegulanas URL, YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Ievietot audio',\n          file: 'Izvlieties no failiem',\n          url: 'Audio URL'\n        },\n        browser: {\n          tags: 'Tagi',\n          search: 'Meklt'\n        },\n        caption: 'Ievietot aprakstu',\n        close: 'Aizvrt',\n        submitButton: 'Iesniegt',\n        revertButton: 'Atjaunot',\n        proportion: 'Ierobeo proporcijas',\n        basic: 'Nav iesaiojuma',\n        left: 'Pa kreisi',\n        right: 'Labaj pus',\n        center: 'Centrs',\n        width: 'Platums',\n        height: 'Augstums',\n        size: 'Izmrs',\n        ratio: 'Attiecba'\n      },\n      controller: {\n        edit: 'Redit',\n        unlink: 'Atsaistt',\n        remove: 'Noemt',\n        insertRowAbove: 'Ievietot rindu virs',\n        insertRowBelow: 'Ievietot rindu zemk',\n        deleteRow: 'Dzst rindu',\n        insertColumnBefore: 'Ievietot kolonnu pirms',\n        insertColumnAfter: 'Ievietot kolonnu aiz',\n        deleteColumn: 'Dzst kolonnu',\n        fixColumnWidth: 'Fiksts kolonnas platums',\n        resize100: 'Maint izmru 100%',\n        resize75: 'Maint izmru 75%',\n        resize50: 'Maint izmru 50%',\n        resize25: 'Maint izmru 25%',\n        autoSize: 'Automtiskais izmrs',\n        mirrorHorizontal: 'Spogulis, horizontls',\n        mirrorVertical: 'Spogulis, vertikls',\n        rotateLeft: 'Pagriezt pa kreisi',\n        rotateRight: 'Pagriezt pa labi',\n        maxSize: 'Maksimlais izmrs',\n        minSize: 'Minimlais izmrs',\n        tableHeader: 'Tabulas galvene',\n        mergeCells: 'Apvienot nas',\n        splitCells: 'Sadalt nas',\n        HorizontalSplit: 'Horizontls sadaljums',\n        VerticalSplit: 'Vertikls sadaljums'\n      },\n      menu: {\n        spaced: 'Ar atstarpi',\n        bordered: 'Robeojs',\n        neon: 'Neona',\n        translucent: 'Caurspdgs',\n        shadow: 'na',\n        code: 'Kods'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'lv', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 44 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * \n   * Swedish translation by olehrb at github or gmail\n   *\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'se',\n      toolbar: {\n        default: 'Default',\n        save: 'Spara',\n        font: 'Typsnitt',\n        formats: 'Format',\n        fontSize: 'Textstorlek',\n        bold: 'Fet',\n        underline: 'Understruket',\n        italic: 'Kursiv',\n        strike: 'verstruket',\n        subscript: 'Snkt skrift',\n        superscript: 'Hjd skrift',\n        removeFormat: 'Ta bort formattering',\n        fontColor: 'Textfrg',\n        hiliteColor: 'Bakgrundsfrg',\n        indent: 'Minska indrag',\n        outdent: 'ka indrag',\n        align: 'Justering',\n        alignLeft: 'Vnsterjustering',\n        alignRight: 'Hgerjustering',\n        alignCenter: 'Mittenjusteirng',\n        alignJustify: 'Justera indrag',\n        list: 'Listor',\n        orderList: 'Numrerad lista',\n        unorderList: 'Oordnad lista',\n        horizontalRule: 'Horisontell linje',\n        hr_solid: 'Solid',\n        hr_dotted: 'Punkter',\n        hr_dashed: 'Prickad',\n        table: 'Tabell',\n        link: 'Lnk',\n        math: 'Math',\n        image: 'Bild',\n        video: 'Video',\n        audio: 'Ljud',\n        fullScreen: 'Helskrm',\n        showBlocks: 'Visa block',\n        codeView: 'Visa koder',\n        undo: 'ngra',\n        redo: 'Gr om',\n        preview: 'Preview',\n        print: 'Print',\n        tag_p: 'Paragraf',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Rubrik',\n        tag_blockquote: 'Citer',\n        tag_pre: 'Kod',\n        template: 'Mall',\n        lineHeight: 'Linjehjd',\n        paragraphStyle: 'Stil p stycke',\n        textStyle: 'Textstil',\n        imageGallery: 'Bildgalleri',\n        mention: 'Namn'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Lgg till lnk',\n          url: 'URL till lnk',\n          text: 'Lnktext',\n          newWindowCheck: 'ppna i nytt fnster',\n          downloadLinkCheck: 'Nedladdningslnk',\n          bookmark: 'Bokmrke'\n        },\n        mathBox: {\n          title: 'Math',\n          inputLabel: 'Matematisk notation',\n          fontSizeLabel: 'Textstorlek',\n          previewLabel: 'Preview'\n        },\n        imageBox: {\n          title: 'Lgg till bild',\n          file: 'Lgg till frn fil',\n          url: 'Lgg till frn URL',\n          altText: 'Alternativ text'\n        },\n        videoBox: {\n          title: 'Lgg till video',\n          file: 'Lgg till frn fil',\n          url: 'Bdda in video / YouTube,Vimeo'\n        },\n        audioBox: {\n          title: 'Lgg till ljud',\n          file: 'Lgg till frn fil',\n          url: 'Lgg till frn URL'\n        },\n        browser: {\n          tags: 'Tags',\n          search: 'Sk'\n        },\n        caption: 'Lgg till beskrivning',\n        close: 'Stng',\n        submitButton: 'Skicka',\n        revertButton: 'terg',\n        proportion: 'Spara proportioner',\n        basic: 'Basic',\n        left: 'Vnster',\n        right: 'Hger',\n        center: 'Center',\n        width: 'Bredd',\n        height: 'Hjd',\n        size: 'Storlek',\n        ratio: 'Frhllande'\n      },\n      controller: {\n        edit: 'Redigera',\n        unlink: 'Ta bort lnk',\n        remove: 'Ta bort',\n        insertRowAbove: 'Lgg till rad ver',\n        insertRowBelow: 'Lgg till rad under',\n        deleteRow: 'Ta bort rad',\n        insertColumnBefore: 'Lgg till kolumn fre',\n        insertColumnAfter: 'Lgg till kolumn efter',\n        deleteColumn: 'Ta bort kolumner',\n        fixedColumnWidth: 'Fast kolumnbredd',\n        resize100: 'Frstora 100%',\n        resize75: 'Frstora 75%',\n        resize50: 'Frstora 50%',\n        resize25: 'Frstora 25%',\n        autoSize: 'Autostorlek',\n        mirrorHorizontal: 'Spegling, horisontell',\n        mirrorVertical: 'Spegling, vertikal',\n        rotateLeft: 'Rotera till vnster',\n        rotateRight: 'Rotera till hger',\n        maxSize: 'Maxstorlek',\n        minSize: 'Minsta storlek',\n        tableHeader: 'Rubrik tabell',\n        mergeCells: 'Sammanfoga celler (merge)',\n        splitCells: 'Separera celler',\n        HorizontalSplit: 'Separera horisontalt',\n        VerticalSplit: 'Separera vertikalt'\n      },\n      menu: {\n        spaced: 'Avstnd',\n        bordered: 'Avgrnsningslinje',\n        neon: 'Neon',\n        translucent: 'Genomskinlig',\n        shadow: 'Skugga',\n        code: 'Kod'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'se', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 45 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== \"undefined\" ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: \"ua\",\n      toolbar: {\n        default: \" \",\n        save: \"\",\n        font: \"\",\n        formats: \" \",\n        fontSize: \" \",\n        bold: \"\",\n        underline: \"\",\n        italic: \"\",\n        strike: \"\",\n        subscript: \" \",\n        superscript: \" \",\n        removeFormat: \" \",\n        fontColor: \" \",\n        hiliteColor: \" \",\n        indent: \" \",\n        outdent: \" \",\n        align: \"\",\n        alignLeft: \"  \",\n        alignRight: \"  \",\n        alignCenter: \" \",\n        alignJustify: \" \",\n        list: \"\",\n        orderList: \"\",\n        unorderList: \"\",\n        horizontalRule: \" \",\n        hr_solid: \"\",\n        hr_dotted: \"\",\n        hr_dashed: \"\",\n        table: \"\",\n        link: \"\",\n        math: \"\",\n        image: \"\",\n        video: \"\",\n        audio: \"\",\n        fullScreen: \" \",\n        showBlocks: \" \",\n        codeView: \"  HTML\",\n        undo: \"\",\n        redo: \" \",\n        preview: \" \",\n        print: \"\",\n        tag_p: \"\",\n        tag_div: \"\",\n        tag_h: \"\",\n        tag_blockquote: \"\",\n        tag_pre: \"\",\n        template: \"\",\n        lineHeight: \" \",\n        paragraphStyle: \" \",\n        textStyle: \" \",\n        imageGallery: \"\",\n        mention: \"\"\n      },\n      dialogBox: {\n        linkBox: {\n          title: \" \",\n          url: \"\",\n          text: \"\",\n          newWindowCheck: \"   \",\n          downloadLinkCheck: '  ',\n          bookmark: ''\n        },\n        mathBox: {\n          title: \"\",\n          inputLabel: \" \",\n          fontSizeLabel: \" \",\n          previewLabel: \" \"\n        },\n        imageBox: {\n          title: \" \",\n          file: \" \",\n          url: \"  \",\n          altText: \"  \"\n        },\n        videoBox: {\n          title: \" \",\n          file: \" \",\n          url: \"  , Youtube, Vimeo\"\n        },\n        audioBox: {\n          title: \" \",\n          file: \" \",\n          url: \"  \"\n        },\n        browser: {\n          tags: \"\",\n          search: \"\"\n        },\n        caption: \" \",\n        close: \"\",\n        submitButton: \"\",\n        revertButton: \"\",\n        proportion: \" \",\n        basic: \" \",\n        left: \"\",\n        right: \"\",\n        center: \" \",\n        width: \"\",\n        height: \"\",\n        size: \"\",\n        ratio: \"\"\n      },\n      controller: {\n        edit: \"\",\n        unlink: \" \",\n        remove: \"\",\n        insertRowAbove: \"  \",\n        insertRowBelow: \"  \",\n        deleteRow: \" \",\n        insertColumnBefore: \"  \",\n        insertColumnAfter: \"  \",\n        deleteColumn: \" \",\n        fixedColumnWidth: \"  \",\n        resize100: \" 100%\",\n        resize75: \" 75%\",\n        resize50: \" 50%\",\n        resize25: \" 25%\",\n        autoSize: \" \",\n        mirrorHorizontal: \"  \",\n        mirrorVertical: \"  \",\n        rotateLeft: \"   \",\n        rotateRight: \"   \",\n        maxSize: \"   \",\n        minSize: \"  \",\n        tableHeader: \" \",\n        mergeCells: \"' \",\n        splitCells: \" \",\n        HorizontalSplit: \" \",\n        VerticalSplit: \" \"\n      },\n      menu: {\n        spaced: \"\",\n        bordered: \" \",\n        neon: \"\",\n        translucent: \"\",\n        shadow: \"\",\n        code: \"\"\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, \"SUNEDITOR_LANG\", {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, \"ua\", {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 46 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'he',\n      toolbar: {\n        default: ' ',\n        save: '',\n        font: '',\n        formats: '',\n        fontSize: '',\n        bold: '',\n        underline: ' ',\n        italic: '',\n        strike: ' ',\n        subscript: '',\n        superscript: '',\n        removeFormat: ' ',\n        fontColor: ' ',\n        hiliteColor: '  ',\n        indent: ' ',\n        outdent: ' ',\n        align: '',\n        alignLeft: ' ',\n        alignRight: ' ',\n        alignCenter: '',\n        alignJustify: '  ',\n        list: '',\n        orderList: '',\n        unorderList: '',\n        horizontalRule: ' ',\n        hr_solid: '',\n        hr_dotted: '',\n        hr_dashed: '',\n        table: '',\n        link: '',\n        math: '',\n        image: '',\n        video: '',\n        audio: '',\n        fullScreen: ' ',\n        showBlocks: ' ',\n        codeView: ' ',\n        undo: '',\n        redo: '',\n        preview: ' ',\n        print: '',\n        tag_p: '',\n        tag_div: ' (DIV)',\n        tag_h: '',\n        tag_blockquote: '',\n        tag_pre: '',\n        template: '',\n        lineHeight: ' ',\n        paragraphStyle: ' ',\n        textStyle: ' ',\n        imageGallery: ' ',\n        mention: ''\n      },\n      dialogBox: {\n        linkBox: {\n          title: ' ',\n          url: ' ',\n          text: '',\n          newWindowCheck: '  ',\n          downloadLinkCheck: ' ',\n          bookmark: ''\n        },\n        mathBox: {\n          title: '',\n          inputLabel: ' ',\n          fontSizeLabel: ' ',\n          previewLabel: ' '\n        },\n        imageBox: {\n          title: ' ',\n          file: ' ',\n          url: ' URL ',\n          altText: ' ( alt)'\n        },\n        videoBox: {\n          title: ' ',\n          file: ' ',\n          url: '  YouTube/Vimeo'\n        },\n        audioBox: {\n          title: ' ',\n          file: ' ',\n          url: ' URL '\n        },\n        browser: {\n          tags: '',\n          search: ''\n        },\n        caption: ' ',\n        close: '',\n        submitButton: '',\n        revertButton: '',\n        proportion: ' ',\n        basic: '',\n        left: '',\n        right: '',\n        center: '',\n        width: '',\n        height: '',\n        size: '',\n        ratio: ''\n      },\n      controller: {\n        edit: '',\n        unlink: ' ',\n        remove: '',\n        insertRowAbove: '  ',\n        insertRowBelow: '  ',\n        deleteRow: ' ',\n        insertColumnBefore: '  ',\n        insertColumnAfter: '  ',\n        deleteColumn: ' ',\n        fixedColumnWidth: '  ',\n        resize100: ' ',\n        resize75: ' 75%',\n        resize50: ' 50%',\n        resize25: ' 25%',\n        autoSize: ' ',\n        mirrorHorizontal: ' ',\n        mirrorVertical: ' ',\n        rotateLeft: ' ',\n        rotateRight: ' ',\n        maxSize: ' ',\n        minSize: ' ',\n        tableHeader: ' ',\n        mergeCells: ' ',\n        splitCells: ' ',\n        HorizontalSplit: ' ',\n        VerticalSplit: ' '\n      },\n      menu: {\n        spaced: '',\n        bordered: ' ',\n        neon: '',\n        translucent: ' ',\n        shadow: '',\n        code: ''\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'he', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 47 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  var ReactPropTypesSecret = __webpack_require__(48);\n\n  function emptyFunction() {}\n\n  function emptyFunctionWithReset() {}\n\n  emptyFunctionWithReset.resetWarningCache = emptyFunction;\n\n  module.exports = function () {\n    function shim(props, propName, componentName, location, propFullName, secret) {\n      if (secret === ReactPropTypesSecret) {\n        // It is still safe when called from React.\n        return;\n      }\n\n      var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n      err.name = 'Invariant Violation';\n      throw err;\n    }\n\n    ;\n    shim.isRequired = shim;\n\n    function getShim() {\n      return shim;\n    }\n\n    ; // Important!\n    // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n    var ReactPropTypes = {\n      array: shim,\n      bool: shim,\n      func: shim,\n      number: shim,\n      object: shim,\n      string: shim,\n      symbol: shim,\n      any: shim,\n      arrayOf: getShim,\n      element: shim,\n      elementType: shim,\n      instanceOf: getShim,\n      node: shim,\n      objectOf: getShim,\n      oneOf: getShim,\n      oneOfType: getShim,\n      shape: getShim,\n      exact: getShim,\n      checkPropTypes: emptyFunctionWithReset,\n      resetWarningCache: emptyFunction\n    };\n    ReactPropTypes.PropTypes = ReactPropTypes;\n    return ReactPropTypes;\n  };\n  /***/\n\n},\n/* 48 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n  module.exports = ReactPropTypesSecret;\n  /***/\n},\n/* 49 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\"; // ESM COMPAT FLAG\n\n  __webpack_require__.r(__webpack_exports__); // EXPORTS\n\n\n  __webpack_require__.d(__webpack_exports__, \"buttonList\", function () {\n    return (\n      /* reexport */\n      buttonList_namespaceObject\n    );\n  }); // NAMESPACE OBJECT: ./misc/buttonList.js\n\n\n  var buttonList_namespaceObject = {};\n\n  __webpack_require__.r(buttonList_namespaceObject);\n\n  __webpack_require__.d(buttonList_namespaceObject, \"basic\", function () {\n    return basic;\n  });\n\n  __webpack_require__.d(buttonList_namespaceObject, \"complex\", function () {\n    return complex;\n  });\n\n  __webpack_require__.d(buttonList_namespaceObject, \"formatting\", function () {\n    return formatting;\n  });\n\n  __webpack_require__.d(buttonList_namespaceObject, \"default\", function () {\n    return misc_buttonList;\n  }); // CONCATENATED MODULE: ./misc/buttonList.js\n\n\n  var basic = [[\"font\", \"fontSize\"], [\"fontColor\"], [\"horizontalRule\"], [\"link\", \"image\"]];\n  var complex = [[\"undo\", \"redo\"], [\"font\", \"fontSize\", \"formatBlock\"], [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"], [\"removeFormat\"], \"/\", [\"fontColor\", \"hiliteColor\"], [\"outdent\", \"indent\"], [\"align\", \"horizontalRule\", \"list\", \"table\"], [\"link\", \"image\", \"video\"], [\"fullScreen\", \"showBlocks\", \"codeView\"], [\"preview\", \"print\"], [\"save\", \"template\"]];\n  var formatting = [[\"undo\", \"redo\"], [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"], [\"removeFormat\"], [\"outdent\", \"indent\"], [\"fullScreen\", \"showBlocks\", \"codeView\"], [\"preview\", \"print\"]];\n  /* harmony default export */\n\n  var misc_buttonList = {\n    basic,\n    complex,\n    formatting\n  }; // EXTERNAL MODULE: external \"react\"\n\n  var external_react_ = __webpack_require__(8);\n\n  var external_react_default = /*#__PURE__*/__webpack_require__.n(external_react_); // CONCATENATED MODULE: ./node_modules/suneditor/src/assets/defaultIcons.js\n\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2020 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  var defaultIcons = {\n    // rtl icon\n    rtl: {\n      italic: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.5 15.8\" xml:space=\"preserve\"><g><path d=\"M0.3,0.1c0.3,0,0.5,0,0.7,0c1,0.1,1.7,0.1,2.2,0.1H4L7.2,0l0.2,1.1H7c-0.5,0-1,0.1-1.5,0.3v0.4l0.3,1.9L6,4.4L6.3,6 l0.1,0.4l0.1,0.5c0.1,0.2,0.1,0.4,0.2,0.7s0.1,0.6,0.2,0.9L7,9.1l0.6,2.8l0.3,1.4c0.1,0.4,0.2,0.7,0.4,1c0.4,0.2,0.8,0.3,1.2,0.4 l0.8,0.2l0.2,0.9l-1.1,0c-0.9-0.1-1.5-0.1-1.8-0.1h-2c-0.9,0.1-1.4,0.2-1.5,0.2c-0.1,0-0.2,0-0.3,0H3.4c-0.1,0-0.2,0-0.2,0 l-0.1-0.4c0-0.2-0.1-0.4-0.1-0.6l0.7-0.1c0.4,0,0.8-0.1,1.2-0.2c0-0.1,0-0.2,0-0.3l-0.1-0.5l-0.4-2.4L4,9.6L3.4,6.4 C3.2,5.7,3,4.7,2.7,3.3c0-0.3-0.1-0.5-0.1-0.8C2.5,2.1,2.4,1.9,2.3,1.6C2,1.4,1.6,1.3,1.3,1.2C0.9,1.2,0.5,1.1,0.2,0.9L0,0.4L0,0 L0.3,0.1L0.3,0.1z\"/></g></svg>',\n      indent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 12.4\" xml:space=\"preserve\"><g><g><path d=\"M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z\"/></g><path d=\"M13.1,3.5L15.7,6c0.1,0.1,0.1,0.3,0,0.4l-2.5,2.5C13.1,9,13,9,12.9,9c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2V3.7 c0-0.1,0-0.2,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C13,3.4,13.1,3.4,13.1,3.5z\"/></g></svg>',\n      outdent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 12.4\" xml:space=\"preserve\"><g><g><path d=\"M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z\"/></g><path d=\"M15.5,3.4c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2v5.1c0,0.1,0,0.1-0.1,0.2C15.6,9,15.5,9,15.5,9 c-0.1,0-0.1,0-0.2-0.1l-2.5-2.5c-0.1-0.1-0.1-0.3,0-0.4l2.5-2.5C15.3,3.4,15.4,3.4,15.5,3.4z\"/></g></svg>',\n      list_bullets: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 12.4\" xml:space=\"preserve\"><g><path d=\"M12.4,10.7c0,0.9,0.8,1.7,1.7,1.7c0.9,0,1.7-0.8,1.7-1.7C15.7,9.8,15,9,14.1,9c-0.4,0-0.9,0.2-1.2,0.5 C12.5,9.8,12.4,10.2,12.4,10.7C12.4,10.7,12.4,10.7,12.4,10.7z M12.4,6.2c0,0.9,0.8,1.7,1.7,1.7c0.4,0,0.9-0.2,1.2-0.5 c0.3-0.3,0.4-0.7,0.4-1.1c0-0.9-0.7-1.7-1.6-1.7C13.1,4.6,12.4,5.3,12.4,6.2C12.4,6.2,12.4,6.2,12.4,6.2z M0,9.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1l10.7,0c0,0,0,0,0,0c0.1,0,0.3-0.1,0.3-0.3V9.8c0-0.1,0-0.1-0.1-0.2 C11.1,9.6,11,9.6,11,9.6l-10.7,0c-0.1,0-0.1,0-0.2,0.1C0,9.7,0,9.8,0,9.8L0,9.8z M12.9,2.9c0.3,0.3,0.7,0.5,1.2,0.5 c0.4,0,0.9-0.2,1.2-0.5c0.7-0.7,0.7-1.7,0-2.4C14.9,0.2,14.5,0,14.1,0c-0.4,0-0.9,0.2-1.2,0.5c-0.3,0.3-0.5,0.7-0.5,1.2 C12.4,2.1,12.5,2.6,12.9,2.9z M0,5.3V7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.1,0,0.2-0.1 c0.1-0.1,0.1-0.1,0.1-0.2V5.3c0,0,0,0,0,0c0-0.1-0.1-0.3-0.3-0.3H0.3c-0.1,0-0.1,0-0.2,0.1C0,5.2,0,5.3,0,5.3L0,5.3z M0,0.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1h10.7c0.1,0,0.1,0,0.2-0.1c0,0,0.1-0.1,0.1-0.2V0.8c0-0.1,0-0.1-0.1-0.2 c0-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.1,0-0.2,0.1C0,0.7,0,0.8,0,0.8L0,0.8z\"/></g></svg>',\n      list_number: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.7\" xml:space=\"preserve\"><g><path d=\"M0,11.5l0,1.7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2v-1.7 c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.2,0-0.2,0.1C0,11.4,0,11.4,0,11.5L0,11.5z M0,8.7c0,0.1,0,0.1,0.1,0.2 C0.1,8.9,0.2,9,0.3,9H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V7c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1l-10.7,0 c-0.1,0-0.2,0-0.2,0.1C0,6.8,0,6.9,0,7C0,7,0,8.7,0,8.7z M0,2.5v1.7c0,0.1,0,0.1,0.1,0.2c0,0,0.1,0.1,0.2,0.1l10.7,0 c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V2.4c0-0.1,0-0.1-0.1-0.2c-0.1,0-0.1,0-0.2,0H0.3c-0.1,0-0.1,0-0.2,0 C0,2.3,0,2.4,0,2.5L0,2.5z\"/></g><path d=\"M15.6,14.2c0-0.3-0.1-0.6-0.3-0.8c-0.2-0.2-0.4-0.4-0.7-0.4l0.9-1v-0.8h-2.9v1.3h0.9v-0.5h0.9l0,0c-0.1,0.1-0.2,0.2-0.3,0.3 s-0.2,0.3-0.4,0.5l-0.3,0.3l0.2,0.5c0.6,0,0.9,0.1,0.9,0.5c0,0.1-0.1,0.3-0.2,0.4c-0.1,0.1-0.3,0.1-0.4,0.1c-0.3,0-0.7-0.1-0.9-0.3 l-0.5,0.8c0.4,0.4,0.9,0.6,1.5,0.6c0.4,0,0.9-0.1,1.2-0.4C15.5,15.1,15.6,14.7,15.6,14.2z\"/><path d=\"M15.6,8.7h-0.9v0.5h-1.1c0-0.2,0.2-0.4,0.4-0.5c0.2-0.2,0.4-0.3,0.7-0.4c0.3-0.2,0.5-0.3,0.7-0.6c0.2-0.2,0.3-0.5,0.3-0.8 c0-0.4-0.2-0.8-0.5-1c-0.6-0.4-1.4-0.5-2-0.1c-0.3,0.2-0.5,0.4-0.6,0.7L13.3,7c0.1-0.3,0.4-0.5,0.7-0.5c0.1,0,0.3,0,0.3,0.1 c0.1,0.1,0.1,0.2,0.1,0.3c0,0.2-0.1,0.3-0.2,0.4c-0.2,0.1-0.3,0.3-0.5,0.4c-0.2,0.1-0.4,0.3-0.6,0.4c-0.2,0.2-0.4,0.4-0.5,0.6 c-0.1,0.2-0.2,0.5-0.2,0.8c0,0.2,0,0.3,0,0.5h3.2L15.6,8.7L15.6,8.7z\"/><path d=\"M15.6,3.6h-1V0h-0.9l-1.2,1.1l0.6,0.7c0.2-0.1,0.3-0.3,0.4-0.5l0,0v2.2h-0.9v0.9h3L15.6,3.6L15.6,3.6z\"/></svg>',\n      link: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.7\" xml:space=\"preserve\"><g><path d=\"M7.4,9.9l3.1,3.1c0.3,0.3,0.8,0.5,1.3,0.5c0.5,0,0.9-0.2,1.3-0.5c0,0,0,0,0,0c0.7-0.7,0.7-1.9,0-2.6L9.9,7.3 c0-0.1,0-0.2,0-0.3C9.9,7,10,7,10.1,7l2.2-0.2c0.1,0,0.1,0,0.2,0.1l2.1,2.1c0.4,0.4,0.7,0.8,0.9,1.3c0.2,0.5,0.3,1,0.3,1.5 c0,0.5-0.1,1-0.3,1.5c-0.8,2-3.2,3-5.2,2.2c-0.5-0.2-0.9-0.5-1.3-0.9l-2.1-2.1c-0.1,0-0.1-0.1-0.1-0.2L7,10.1C7,10,7,9.9,7.1,9.9 C7.2,9.8,7.3,9.9,7.4,9.9z M1.2,1.1C1.6,0.7,2,0.4,2.5,0.3c1-0.4,2.1-0.4,3.1,0C6,0.4,6.5,0.7,6.8,1.1L9,3.2C9,3.3,9.1,3.3,9,3.4 L8.8,5.6c0,0.1-0.1,0.2-0.2,0.2c-0.1,0.1-0.2,0.1-0.3,0L5.3,2.7C5,2.3,4.5,2.1,4,2.1c-0.5,0-0.9,0.2-1.3,0.5c0,0,0,0,0,0 C2,3.4,2,4.5,2.7,5.2l3.1,3.2c0.1,0.1,0.1,0.2,0,0.3c0,0.1-0.1,0.1-0.2,0.1L3.5,9C3.4,9,3.4,9,3.3,8.9L1.2,6.8c0,0,0,0,0,0 C-0.4,5.2-0.4,2.7,1.2,1.1L1.2,1.1z M14.3,6h-2.6c0,0,0,0,0,0c-0.1,0-0.2-0.1-0.2-0.2c0-0.1,0-0.2,0.1-0.3l2.5-0.7 c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0.1,0.1,0.2l0.1,0.8c0,0.1,0,0.1-0.1,0.2C14.5,6,14.4,6,14.3,6L14.3,6z M10.2,4.1 c0,0.1-0.1,0.2-0.2,0.2l0,0c0,0,0,0,0,0C9.8,4.2,9.7,4.1,9.8,4L9.7,1.4c0-0.1,0-0.1,0.1-0.2c0.1,0,0.1,0,0.2,0h0.8 c0.1,0,0.1,0,0.2,0.1c0,0.1,0,0.1,0,0.2L10.2,4.1L10.2,4.1z M1.5,9.7h1.3h1.3c0.1,0,0.2,0.1,0.2,0.2c0,0.1,0,0.2-0.1,0.3l-2.5,0.6 H1.6c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.1-0.2L1.2,9.9c0-0.1,0-0.1,0.1-0.2c0-0.1,0.1-0.1,0.2-0.1L1.5,9.7z M5.6,11.6 C5.6,11.6,5.6,11.6,5.6,11.6c0-0.1,0.1-0.2,0.3-0.1c0,0,0,0,0,0c0.1,0,0.2,0.1,0.2,0.2v2.6c0,0.1,0,0.1-0.1,0.2 c0,0-0.1,0.1-0.2,0.1L5,14.5c-0.1,0-0.1,0-0.2-0.1c0-0.1,0-0.1,0-0.2L5.6,11.6L5.6,11.6z\"/></g></svg>',\n      unlink: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.7\" xml:space=\"preserve\"><g><path d=\"M14.6,14.6c1.6-1.6,1.6-4.1,0-5.7l0,0l-3.1-3.1l-1.2,1.6l2.9,2.9c0.4,0.4,0.6,0.9,0.6,1.5c0,1.1-0.9,2.1-2.1,2.1l0,0 c-0.6,0-1.1-0.2-1.5-0.6l-0.4-0.4l-1.7,1l0.8,0.8C10.4,16.2,13,16.2,14.6,14.6L14.6,14.6L14.6,14.6z M3.6,6C3,5.9,2.6,5.5,2.3,5 S1.9,4,2.1,3.4C2.3,2.9,2.6,2.5,3,2.2C3.5,2,4.1,1.9,4.6,2l3.3,1.4l0.5-2L5.1,0.1C4-0.1,2.9,0,2,0.5C1.1,1.1,0.4,1.9,0.2,3 C-0.1,4,0,5.1,0.6,6C1.1,6.9,1.9,7.6,3,7.8l5.4,2l0.5-2L6.2,6.9L3.6,6z\"/></g></svg>'\n    },\n    // common, ltr icon\n    redo: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.59 14.18\"><g><path d=\"M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z\" transform=\"translate(-4.48 -4.54)\"/></g></svg>',\n    undo: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.59 14.18\"><g><path d=\"M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z\" transform=\"translate(-4.49 -4.53)\"/></g></svg>',\n    bold: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.76 15.75\"><g><path d=\"M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z\" transform=\"translate(-6.4 -3.75)\"/></g></svg>',\n    underline: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 9.78 15.74\"><g><path d=\"M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z\" transform=\"translate(-7.38 -3.76)\"/></g></svg>',\n    italic: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.49 15.76\"><g><path d=\"M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z\" transform=\"translate(-7.04 -3.76)\"/></g></svg>',\n    strike: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.9\"><g><path d=\"M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z\" transform=\"translate(-4.41 -4.17)\"/></g></svg>',\n    subscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 14.61\"><g><path d=\"M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z\" transform=\"translate(-4.4 -4.33)\"/></g></svg>',\n    superscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.42\"><g><path d=\"M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z\" transform=\"translate(-4.4 -3.91)\"/></g></svg>',\n    erase: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.76\"><g><path d=\"M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z\" transform=\"translate(-4.41 -4.75)\"/></g></svg>',\n    indent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.36\"><g><path d=\"M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n    outdent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.36\"><g><path d=\"M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n    expansion: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    reduction: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n    code_view: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 11.8\"><g><path d=\"M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z\" transform=\"translate(-4.41 -5.73)\"/></g></svg>',\n    preview: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.65 15.66\"><g><path d=\"M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z\" transform=\"translate(-4.45 -3.8)\"/></g></svg>',\n    print: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16.05 16.04\"><g><path d=\"M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z\" transform=\"translate(-4.25 -3.61)\"/></g></svg>',\n    template: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.27 15.64\"><g><path d=\"M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z\" transform=\"translate(-5.14 -3.77)\"/><path d=\"M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z\" transform=\"translate(-5.14 -3.77)\"/></g></svg>',\n    line_height: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 13.56\"><g><path d=\"M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z\" transform=\"translate(-4.4 -4.86)\"/></g></svg>',\n    paragraph_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.81 15.74\"><g><path d=\"M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z\" transform=\"translate(-6.37 -3.76)\"/></g></svg>',\n    text_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.76 15.74\"><g><path d=\"M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z\" transform=\"translate(-5.4 -3.76)\"/></g></svg>',\n    save: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    blockquote: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 475.082 475.081\"><g><path d=\"M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z\"/><path d=\"M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z\"/></g></svg>',\n    arrow_down: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 8.67\"><g><path d=\"M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z\" transform=\"translate(-4.41 -7.29)\"/></g></svg>',\n    align_justify: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n    align_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n    align_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n    align_center: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n    font_color: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.61\"><g><path d=\"M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z\" transform=\"translate(-4.41 -4.32)\"/></g></svg>',\n    highlight_color: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.66 15.74\"><g><path d=\"M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\n    list_bullets: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.37\"><g><path d=\"M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n    list_number: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.69 15.74\"><g><path d=\"M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z\" transform=\"translate(-4.43 -3.76)\"/></g></svg>',\n    table: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    horizontal_rule: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 2.24\"><g><path d=\"M20.15,12.75V10.51H4.41v2.24H20.15Z\" transform=\"translate(-4.41 -10.51)\"/></g></svg>',\n    show_blocks: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.66 15.67\"><g><path d=\"M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z\" transform=\"translate(-4.44 -3.79)\"/></g></svg>',\n    cancel: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    image: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.77\"><g><path d=\"M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z\" transform=\"translate(-4.4 -3.75)\"/></g></svg>',\n    video: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.55\"><g><path d=\"M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z\" transform=\"translate(-4.41 -4.35)\"/></g></svg>',\n    link: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.72\"><g><path d=\"M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\n    math: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.81 15.73\"><g><path d=\"M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z\" transform=\"translate(-6.38 -3.77)\"/></g></svg>',\n    unlink: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.72\"><g><path d=\"M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    table_header: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.74\"><g><path d=\"M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n    merge_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 15.74\"><g><path d=\"M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n    split_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.74\"><g><path d=\"M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n    caption: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.79\"><g><path d=\"M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z\" transform=\"translate(-4.41 -4.73)\"/></g></svg>',\n    edit: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.73\"><g><path d=\"M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\n    delete: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 15.74\"><g><path d=\"M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    modify: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.74\"><g><path d=\"M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\n    revert: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 14.69\"><g><path d=\"M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z\" transform=\"translate(-4.4 -4.28)\"/></g></svg>',\n    auto_size: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    insert_row_below: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z\"/><path d=\"M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z\"/></g></svg>',\n    insert_row_above: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z\"/><path d=\"M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z\"/></g></svg>',\n    insert_column_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z\"/><path d=\"M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z\"/></g></svg>',\n    insert_column_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z\"/><path d=\"M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z\"/></g></svg>',\n    delete_row: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 13.83\"><g><path d=\"M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z\" transform=\"translate(-4.4 -4.71)\"/></g></svg>',\n    delete_column: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.81 15.74\"><g><path d=\"M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z\" transform=\"translate(-5.37 -3.76)\"/></g></svg>',\n    fixed_column_width: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z\" /></svg>',\n    rotate_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z\"/><path d=\"M2.2,11.5L2.2,11.5L2.2,11.5z\"/><path d=\"M5.9,3.6L5.9,3.6L5.9,3.6z\"/><path d=\"M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z\"/><path d=\"M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z\"/><path d=\"M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z\"/><path d=\"M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z\"/><path d=\"M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z\"/><path d=\"M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z\"/><path d=\"M11.4,14.7L11.4,14.7L11.4,14.7z\"/><path d=\"M9.5,15.3L9.5,15.3L9.5,15.3z\"/><path d=\"M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z\"/><path d=\"M6.8,15.5L6.8,15.5L6.8,15.5z\"/></g></svg>',\n    rotate_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M9.9,15.3L9.9,15.3L9.9,15.3z\"/><path d=\"M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z\"/><path d=\"M6.5,14.4L6.5,14.4L6.5,14.4z\"/><path d=\"M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z\"/><path d=\"M9,15.5L9,15.5L9,15.5z\"/><path d=\"M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z\"/><path d=\"M9,14.5L9,14.5L9,14.5z\"/><path d=\"M9.6,14.4L9.6,14.4L9.6,14.4z\"/><path d=\"M11.7,14L11.7,14L11.7,14z\"/><path d=\"M15.6,7.4L15.6,7.4L15.6,7.4z\"/><path d=\"M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z\"/><path d=\"M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z\"/><path d=\"M14.6,7.4L14.6,7.4L14.6,7.4z\"/><path d=\"M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z\"/><path d=\"M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z\"/><path d=\"M12.1,13.8L12.1,13.8L12.1,13.8z\"/><path d=\"M11.9,13.3L11.9,13.3L11.9,13.3z\"/><path d=\"M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z\"/></g></svg>',\n    mirror_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.75 15.74\"><g><path d=\"M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z\" transform=\"translate(-4.9 -3.76)\"/></g></svg>',\n    mirror_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.75\"><g><path d=\"M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z\" transform=\"translate(-4.41 -4.25)\"/></g></svg>',\n    checked: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 12.1\"><g><path d=\"M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z\" transform=\"translate(-4.38 -5.58)\"/></g></svg>',\n    line_break: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z\"/></svg>',\n    audio: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z\" /></svg>',\n    image_gallery: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"30 30 150 150\"><g><path d=\"M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z\"/></g></svg>',\n    bookmark: '<svg viewBox=\"0 0 24 24\"><path d=\"M17,3H7A2,2 0 0,0 5,5V21L12,18L19,21V5C19,3.89 18.1,3 17,3Z\" /></svg>',\n    download: '<svg viewBox=\"0 0 24 24\"><path d=\"M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z\" /></svg>',\n    // More icons\n    more_text: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"10 10 180 180\"><g><path d=\"M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n    more_paragraph: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"10 10 180 180\"><g><path d=\"M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n    more_plus: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"35 30 140 140\"><g><path d=\"M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n    more_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 3.58\"><g><path d=\"M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z\" transform=\"translate(-4.39 -9.84)\"/></g></svg>',\n    more_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 3.94 15.75\"><g><path d=\"M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z\" transform=\"translate(-10.31 -3.75)\"/></g></svg>',\n    // Not currently used\n    attachment: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 8.38 15.68\"><g><path d=\"M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z\" transform=\"translate(-8.08 -3.78)\"/></g></svg>',\n    map: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.7 15.62\"><g><path d=\"M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z\" transform=\"translate(-6.2 -3.76)\"/></g></svg>',\n    magic_stick: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 15.75\"><g><path d=\"M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z\" transform=\"translate(-4.41 -3.74)\"/></g></svg>',\n    empty_file: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12.78 15.75\"><g><path d=\"M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z\" transform=\"translate(-5.89 -3.76)\"/></g></svg>'\n  }; // EXTERNAL MODULE: ./node_modules/suneditor/src/lang/en.js\n\n  var en = __webpack_require__(4);\n\n  var en_default = /*#__PURE__*/__webpack_require__.n(en); // CONCATENATED MODULE: ./node_modules/suneditor/src/lib/util.js\n\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /**\r\n   * @description utility function\r\n   */\n\n\n  const util_util = {\n    _d: null,\n    _w: null,\n    isIE: null,\n    isIE_Edge: null,\n    isOSX_IOS: null,\n    _propertiesInit: function () {\n      if (this._d) return;\n      this._d = document;\n      this._w = window;\n      this.isIE = navigator.userAgent.indexOf('Trident') > -1;\n      this.isIE_Edge = navigator.userAgent.indexOf('Trident') > -1 || navigator.appVersion.indexOf('Edge') > -1;\n      this.isOSX_IOS = /(Mac|iPhone|iPod|iPad)/.test(navigator.platform);\n    },\n    _allowedEmptyNodeList: '.se-component, pre, blockquote, hr, li, table, img, iframe, video, audio, canvas',\n\n    /**\r\n     * @description HTML Reserved Word Converter.\r\n     * @param {String} contents \r\n     * @returns {String} HTML string\r\n     * @private\r\n     */\n    _HTMLConvertor: function (contents) {\n      const ec = {\n        '&': '&amp;',\n        '\\u00A0': '&nbsp;',\n        '\\'': '&apos;',\n        '\"': '&quot;',\n        '<': '&lt;',\n        '>': '&gt;'\n      };\n      return contents.replace(/&|\\u00A0|'|\"|<|>/g, function (m) {\n        return typeof ec[m] === 'string' ? ec[m] : m;\n      });\n    },\n\n    /**\r\n     * @description Unicode Character 'ZERO WIDTH SPACE' (\\u200B)\r\n     */\n    zeroWidthSpace: String.fromCharCode(8203),\n\n    /**\r\n     * @description Regular expression to find 'zero width space' (/\\u200B/g)\r\n     */\n    zeroWidthRegExp: new RegExp(String.fromCharCode(8203), 'g'),\n\n    /**\r\n     * @description Regular expression to find only 'zero width space' (/^\\u200B+$/)\r\n     */\n    onlyZeroWidthRegExp: new RegExp('^' + String.fromCharCode(8203) + '+$'),\n\n    /**\r\n     * @description A method that checks If the text is blank or to see if it contains 'ZERO WIDTH SPACE' or empty (util.zeroWidthSpace)\r\n     * @param {String|Node} text String value or Node\r\n     * @returns {Boolean}\r\n     */\n    onlyZeroWidthSpace: function (text) {\n      if (typeof text !== 'string') text = text.textContent;\n      return text === '' || this.onlyZeroWidthRegExp.test(text);\n    },\n\n    /**\r\n     * @description Gets XMLHttpRequest object\r\n     * @returns {XMLHttpRequest|ActiveXObject}\r\n     */\n    getXMLHttpRequest: function () {\n      /** IE */\n      if (this._w.ActiveXObject) {\n        try {\n          return new ActiveXObject('Msxml2.XMLHTTP');\n        } catch (e) {\n          try {\n            return new ActiveXObject('Microsoft.XMLHTTP');\n          } catch (e1) {\n            return null;\n          }\n        }\n      }\n      /** netscape */\n      else if (this._w.XMLHttpRequest) {\n          return new XMLHttpRequest();\n        }\n        /** fail */\n        else {\n            return null;\n          }\n    },\n\n    /**\r\n     * @description Create Element node\r\n     * @param {String} elementName Element name\r\n     * @returns {Element}\r\n     */\n    createElement: function (elementName) {\n      return this._d.createElement(elementName);\n    },\n\n    /**\r\n     * @description Create text node\r\n     * @param {String} text text contents\r\n     * @returns {Node}\r\n     */\n    createTextNode: function (text) {\n      return this._d.createTextNode(text || '');\n    },\n\n    /**\r\n     * @description The editor checks tags by string.\r\n     * If there is \"<\" or \">\" in the attribute of tag, HTML is broken when checking the tag.\r\n     * When using an attribute with \"<\" or \">\", use \"HTMLEncoder\" to save. (ex: math(katex))\r\n     * @param {String} contents HTML or Text string\r\n     * @returns {String}\r\n     */\n    HTMLEncoder: function (contents) {\n      const ec = {\n        '<': '$lt;',\n        '>': '$gt;'\n      };\n      return contents.replace(/<|>/g, function (m) {\n        return typeof ec[m] === 'string' ? ec[m] : m;\n      });\n    },\n\n    /**\r\n     * @description The editor checks tags by string.\r\n     * If there is \"<\" or \">\" in the attribute of tag, HTML is broken when checking the tag.\r\n     * Decoder of data stored as \"HTMLEncoder\" (ex: math(katex))\r\n     * @param {String} contents HTML or Text string\r\n     * @returns {String}\r\n     */\n    HTMLDecoder: function (contents) {\n      const ec = {\n        '$lt;': '<',\n        '$gt;': '>'\n      };\n      return contents.replace(/\\$lt;|\\$gt;/g, function (m) {\n        return typeof ec[m] === 'string' ? ec[m] : m;\n      });\n    },\n\n    /**\r\n     * @description This method run Object.prototype.hasOwnProperty.call(obj, key)\r\n     * @param {Object} obj Object\r\n     * @param {String} key obj.key\r\n     * @returns {Boolean}\r\n     */\n    hasOwn: function (obj, key) {\n      return this._hasOwn.call(obj, key);\n    },\n    _hasOwn: Object.prototype.hasOwnProperty,\n\n    /**\r\n     * @deprecated\r\n     * @description Get the the tag path of the arguments value\r\n     * If not found, return the first found value\r\n     * @param {Array} nameArray File name array\r\n     * @param {String} extension js, css\r\n     * @returns {String}\r\n     */\n    getIncludePath: function (nameArray, extension) {\n      let path = '';\n      const pathList = [];\n      const tagName = extension === 'js' ? 'script' : 'link';\n      const src = extension === 'js' ? 'src' : 'href';\n      let fileName = '(?:';\n\n      for (let i = 0, len = nameArray.length; i < len; i++) {\n        fileName += nameArray[i] + (i < len - 1 ? '|' : ')');\n      }\n\n      const regExp = new this._w.RegExp('(^|.*[\\\\/])' + fileName + '(\\\\.[^\\\\/]+)?\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\n      const extRegExp = new this._w.RegExp('.+\\\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\n\n      for (let c = this._d.getElementsByTagName(tagName), i = 0; i < c.length; i++) {\n        if (extRegExp.test(c[i][src])) {\n          pathList.push(c[i]);\n        }\n      }\n\n      for (let i = 0; i < pathList.length; i++) {\n        let editorTag = pathList[i][src].match(regExp);\n\n        if (editorTag) {\n          path = editorTag[0];\n          break;\n        }\n      }\n\n      if (path === '') path = pathList.length > 0 ? pathList[0][src] : '';\n      -1 === path.indexOf(':/') && '//' !== path.slice(0, 2) && (path = 0 === path.indexOf('/') ? location.href.match(/^.*?:\\/\\/[^\\/]*/)[0] + path : location.href.match(/^[^\\?]*\\/(?:)/)[0] + path);\n      if (!path) throw '[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +' + name + ', extension: ' + extension + ')';\n      return path;\n    },\n\n    /**\r\n     * @deprecated\r\n     * @description Returns the CSS text that has been applied to the current page.\r\n     * @param {Document|null} doc To get the CSS text of an document(core._wd). If null get the current document.\r\n     * @returns {String} Styles string\r\n     */\n    getPageStyle: function (doc) {\n      let cssText = '';\n      const sheets = (doc || this._d).styleSheets;\n\n      for (let i = 0, len = sheets.length, rules; i < len; i++) {\n        try {\n          rules = sheets[i].cssRules;\n        } catch (e) {\n          continue;\n        }\n\n        if (rules) {\n          for (let c = 0, cLen = rules.length; c < cLen; c++) {\n            cssText += rules[c].cssText;\n          }\n        }\n      }\n\n      return cssText;\n    },\n\n    /**\r\n     * @description Get the argument iframe's document object\r\n     * @param {Element} iframe Iframe element (context.element.wysiwygFrame)\r\n     * @returns {Document}\r\n     */\n    getIframeDocument: function (iframe) {\n      let wDocument = iframe.contentWindow || iframe.contentDocument;\n      if (wDocument.document) wDocument = wDocument.document;\n      return wDocument;\n    },\n\n    /**\r\n     * @description Get attributes of argument element to string ('class=\"---\" name=\"---\" ')\r\n     * @param {Element} element Element object\r\n     * @param {Array|null} exceptAttrs Array of attribute names to exclude from the result\r\n     * @returns {String}\r\n     */\n    getAttributesToString: function (element, exceptAttrs) {\n      if (!element.attributes) return '';\n      const attrs = element.attributes;\n      let attrString = '';\n\n      for (let i = 0, len = attrs.length; i < len; i++) {\n        if (exceptAttrs && exceptAttrs.indexOf(attrs[i].name) > -1) continue;\n        attrString += attrs[i].name + '=\"' + attrs[i].value + '\" ';\n      }\n\n      return attrString;\n    },\n\n    /**\r\n     * @descriptionGets Get the length in bytes of a string.\r\n     * referencing code: \"https://github.com/shaan1974/myrdin/blob/master/expressions/string.js#L11\"\r\n     * @param {String} text String text\r\n     * @returns {Number}\r\n     */\n    getByteLength: function (text) {\n      if (!text || !text.toString) return 0;\n      text = text.toString();\n      const encoder = this._w.encodeURIComponent;\n      let cr, cl;\n\n      if (this.isIE_Edge) {\n        cl = this._w.unescape(encoder(text)).length;\n        cr = 0;\n\n        if (encoder(text).match(/(%0A|%0D)/gi) !== null) {\n          cr = encoder(text).match(/(%0A|%0D)/gi).length;\n        }\n\n        return cl + cr;\n      } else {\n        cl = new this._w.TextEncoder('utf-8').encode(text).length;\n        cr = 0;\n\n        if (encoder(text).match(/(%0A|%0D)/gi) !== null) {\n          cr = encoder(text).match(/(%0A|%0D)/gi).length;\n        }\n\n        return cl + cr;\n      }\n    },\n\n    /**\r\n     * @description It is judged whether it is the edit region top div element or iframe's body tag.\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isWysiwygDiv: function (element) {\n      return element && element.nodeType === 1 && (this.hasClass(element, 'se-wrapper-wysiwyg') || /^BODY$/i.test(element.nodeName));\n    },\n\n    /**\r\n     * @description It is judged whether it is the contenteditable property is false.\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isNonEditable: function (element) {\n      return element && element.nodeType === 1 && element.getAttribute('contenteditable') === 'false';\n    },\n\n    /**\r\n     * @description It is judged whether it is a node related to the text style.\r\n     * (strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isTextStyleElement: function (element) {\n      return element && element.nodeType !== 3 && /^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)$/i.test(element.nodeName);\n    },\n\n    /**\r\n     * @description It is judged whether it is the format element (P, DIV, H[1-6], PRE, LI | class=\"__se__format__replace_xxx\")\r\n     * Format element also contain \"free format Element\"\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isFormatElement: function (element) {\n      return element && element.nodeType === 1 && (/^(P|DIV|H[1-6]|PRE|LI|TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__replace_.+(\\\\s|$)|(\\\\s|^)__se__format__free_.+(\\\\s|$)')) && !this.isComponent(element) && !this.isWysiwygDiv(element);\n    },\n\n    /**\r\n     * @description It is judged whether it is the range format element. (BLOCKQUOTE, OL, UL, FIGCAPTION, TABLE, THEAD, TBODY, TR, TH, TD | class=\"__se__format__range_xxx\")\r\n     * Range format element is wrap the \"format element\" and \"component\"\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isRangeFormatElement: function (element) {\n      return element && element.nodeType === 1 && (/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__range_.+(\\\\s|$)'));\n    },\n\n    /**\r\n     * @description It is judged whether it is the closure range format element. (TH, TD | class=\"__se__format__range__closure_xxx\")\r\n     * Closure range format elements is included in the range format element.\r\n     *  - Closure range format element is wrap the \"format element\" and \"component\"\r\n     *  You cannot exit this format with the Enter key or Backspace key.\r\n     *  Use it only in special cases. ([ex] format of table cells)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isClosureRangeFormatElement: function (element) {\n      return element && element.nodeType === 1 && (/^(TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__range__closure_.+(\\\\s|$)'));\n    },\n\n    /**\r\n     * @description It is judged whether it is the free format element. (PRE | class=\"__se__format__free_xxx\")\r\n     * Free format elements is included in the format element.\r\n     * Free format elements's line break is \"BR\" tag.\r\n     *  Entering the Enter key in the space on the last line ends \"Free Format\" and appends \"Format\".\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isFreeFormatElement: function (element) {\n      return element && element.nodeType === 1 && (/^PRE$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__free_.+(\\\\s|$)')) && !this.isComponent(element) && !this.isWysiwygDiv(element);\n    },\n\n    /**\r\n     * @description It is judged whether it is the closure free format element. (class=\"__se__format__free__closure_xxx\")\r\n     * Closure free format elements is included in the free format element.\r\n     *  - Closure free format elements's line break is \"BR\" tag.\r\n     *  You cannot exit this format with the Enter key or Backspace key.\r\n     *  Use it only in special cases. ([ex] format of table cells)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isClosureFreeFormatElement: function (element) {\n      return element && element.nodeType === 1 && this.hasClass(element, '(\\\\s|^)__se__format__free__closure_.+(\\\\s|$)');\n    },\n\n    /**\r\n     * @description It is judged whether it is the component[img, iframe, video, audio, table] cover(class=\"se-component\") and table, hr\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isComponent: function (element) {\n      return element && (/se-component/.test(element.className) || /^(TABLE|HR)$/.test(element.nodeName));\n    },\n\n    /**\r\n     * @description Checks for \"__se__uneditable\" in the class list.\r\n     * Components with class \"__se__uneditable\" cannot be modified.\r\n     * @param {Element} element The element to check\r\n     * @returns {Boolean}\r\n     */\n    isUneditableComponent: function (element) {\n      return element && this.hasClass(element, '__se__uneditable');\n    },\n\n    /**\r\n     * @description It is judged whether it is the component [img, iframe] cover(class=\"se-component\")\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isMediaComponent: function (element) {\n      return element && /se-component/.test(element.className);\n    },\n\n    /**\r\n     * @description It is judged whether it is the not checking node. (class=\"katex\", \"__se__tag\")\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isNotCheckingNode: function (element) {\n      return element && /katex|__se__tag/.test(element.className);\n    },\n\n    /**\r\n     * @description If a parent node that contains an argument node finds a format node (util.isFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\n    getFormatElement: function (element, validation) {\n      if (!element) return null;\n\n      if (!validation) {\n        validation = function () {\n          return true;\n        };\n      }\n\n      while (element) {\n        if (this.isWysiwygDiv(element)) return null;\n        if (this.isRangeFormatElement(element)) element.firstElementChild;\n        if (this.isFormatElement(element) && validation(element)) return element;\n        element = element.parentNode;\n      }\n\n      return null;\n    },\n\n    /**\r\n     * @description If a parent node that contains an argument node finds a format node (util.isRangeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\n    getRangeFormatElement: function (element, validation) {\n      if (!element) return null;\n\n      if (!validation) {\n        validation = function () {\n          return true;\n        };\n      }\n\n      while (element) {\n        if (this.isWysiwygDiv(element)) return null;\n        if (this.isRangeFormatElement(element) && !/^(THEAD|TBODY|TR)$/i.test(element.nodeName) && validation(element)) return element;\n        element = element.parentNode;\n      }\n\n      return null;\n    },\n\n    /**\r\n     * @description If a parent node that contains an argument node finds a free format node (util.isFreeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\n    getFreeFormatElement: function (element, validation) {\n      if (!element) return null;\n\n      if (!validation) {\n        validation = function () {\n          return true;\n        };\n      }\n\n      while (element) {\n        if (this.isWysiwygDiv(element)) return null;\n        if (this.isFreeFormatElement(element) && validation(element)) return element;\n        element = element.parentNode;\n      }\n\n      return null;\n    },\n\n    /**\r\n     * @description If a parent node that contains an argument node finds a closure free format node (util.isClosureFreeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\n    getClosureFreeFormatElement: function (element, validation) {\n      if (!element) return null;\n\n      if (!validation) {\n        validation = function () {\n          return true;\n        };\n      }\n\n      while (element) {\n        if (this.isWysiwygDiv(element)) return null;\n        if (this.isClosureFreeFormatElement(element) && validation(element)) return element;\n        element = element.parentNode;\n      }\n\n      return null;\n    },\n\n    /**\r\n     * @description Add style and className of copyEl to originEl\r\n     * @param {Element} originEl Origin element\r\n     * @param {Element} copyEl Element to copy\r\n     */\n    copyTagAttributes: function (originEl, copyEl) {\n      if (copyEl.style.cssText) {\n        originEl.style.cssText += copyEl.style.cssText;\n      }\n\n      const classes = copyEl.classList;\n\n      for (let i = 0, len = classes.length; i < len; i++) {\n        this.addClass(originEl, classes[i]);\n      }\n\n      if (!originEl.style.cssText) originEl.removeAttribute('style');\n      if (!originEl.className.trim()) originEl.removeAttribute('class');\n    },\n\n    /**\r\n     * @description Copy and apply attributes of format tag that should be maintained. (style, class) Ignore \"__se__format__\" class\r\n     * @param {Element} originEl Origin element\r\n     * @param {Element} copyEl Element to copy\r\n     */\n    copyFormatAttributes: function (originEl, copyEl) {\n      copyEl = copyEl.cloneNode(false);\n      copyEl.className = copyEl.className.replace(/(\\s|^)__se__format__[^\\s]+/g, '');\n      this.copyTagAttributes(originEl, copyEl);\n    },\n\n    /**\r\n     * @description Get the item from the array that matches the condition.\r\n     * @param {Array|HTMLCollection|NodeList} array Array to get item\r\n     * @param {Function|null} validation Conditional function\r\n     * @param {Boolean} multi If true, returns all items that meet the criteria otherwise, returns an empty array.\r\n     * If false, returns only one item that meet the criteria otherwise return null.\r\n     * @returns {Array|Node|null}\r\n     */\n    getArrayItem: function (array, validation, multi) {\n      if (!array || array.length === 0) return null;\n\n      validation = validation || function () {\n        return true;\n      };\n\n      const arr = [];\n\n      for (let i = 0, len = array.length, a; i < len; i++) {\n        a = array[i];\n\n        if (validation(a)) {\n          if (!multi) return a;else arr.push(a);\n        }\n      }\n\n      return !multi ? null : arr;\n    },\n\n    /**\r\n     * @description Get the index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} element The element to find index\r\n     * @returns {Number}\r\n     */\n    getArrayIndex: function (array, element) {\n      let idx = -1;\n\n      for (let i = 0, len = array.length; i < len; i++) {\n        if (array[i] === element) {\n          idx = i;\n          break;\n        }\n      }\n\n      return idx;\n    },\n\n    /**\r\n     * @description Get the next index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} item The element to find index\r\n     * @returns {Number}\r\n     */\n    nextIdx: function (array, item) {\n      let idx = this.getArrayIndex(array, item);\n      if (idx === -1) return -1;\n      return idx + 1;\n    },\n\n    /**\r\n     * @description Get the previous index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array Element array\r\n     * @param {Node} item The element to find index\r\n     * @returns {Number}\r\n     */\n    prevIdx: function (array, item) {\n      let idx = this.getArrayIndex(array, item);\n      if (idx === -1) return -1;\n      return idx - 1;\n    },\n\n    /**\r\n     * @description Returns the index compared to other sibling nodes.\r\n     * @param {Node} node The Node to find index\r\n     * @returns {Number}\r\n     */\n    getPositionIndex: function (node) {\n      let idx = 0;\n\n      while (node = node.previousSibling) {\n        idx += 1;\n      }\n\n      return idx;\n    },\n\n    /**\r\n     * @description Returns the position of the \"node\" in the \"parentNode\" in a numerical array.\r\n     * ex) <p><span>aa</span><span>bb</span></p> : getNodePath(node: \"bb\", parentNode: \"<P>\") -> [1, 0]\r\n     * @param {Node} node The Node to find position path\r\n     * @param {Node|null} parentNode Parent node. If null, wysiwyg div area\r\n     * @param {Object|null} _newOffsets If you send an object of the form \"{s: 0, e: 0}\", the text nodes that are attached together are merged into one, centered on the \"node\" argument.\r\n     * \"_newOffsets.s\" stores the length of the combined characters after \"node\" and \"_newOffsets.e\" stores the length of the combined characters before \"node\".\r\n     * Do not use unless absolutely necessary.\r\n     * @returns {Array}\r\n     */\n    getNodePath: function (node, parentNode, _newOffsets) {\n      const path = [];\n      let finds = true;\n      this.getParentElement(node, function (el) {\n        if (el === parentNode) finds = false;\n\n        if (finds && !this.isWysiwygDiv(el)) {\n          // merge text nodes\n          if (_newOffsets && el.nodeType === 3) {\n            let temp = null,\n                tempText = null;\n            _newOffsets.s = _newOffsets.e = 0;\n            let previous = el.previousSibling;\n\n            while (previous && previous.nodeType === 3) {\n              tempText = previous.textContent.replace(this.zeroWidthRegExp, '');\n              _newOffsets.s += tempText.length;\n              el.textContent = tempText + el.textContent;\n              temp = previous;\n              previous = previous.previousSibling;\n              this.removeItem(temp);\n            }\n\n            let next = el.nextSibling;\n\n            while (next && next.nodeType === 3) {\n              tempText = next.textContent.replace(this.zeroWidthRegExp, '');\n              _newOffsets.e += tempText.length;\n              el.textContent += tempText;\n              temp = next;\n              next = next.nextSibling;\n              this.removeItem(temp);\n            }\n          } // index push\n\n\n          path.push(el);\n        }\n\n        return false;\n      }.bind(this));\n      return path.map(this.getPositionIndex).reverse();\n    },\n\n    /**\r\n     * @description Returns the node in the location of the path array obtained from \"util.getNodePath\".\r\n     * @param {Array} offsets Position array, array obtained from \"util.getNodePath\"\r\n     * @param {Node} parentNode Base parent element\r\n     * @returns {Node}\r\n     */\n    getNodeFromPath: function (offsets, parentNode) {\n      let current = parentNode;\n      let nodes;\n\n      for (let i = 0, len = offsets.length; i < len; i++) {\n        nodes = current.childNodes;\n        if (nodes.length === 0) break;\n\n        if (nodes.length <= offsets[i]) {\n          current = nodes[nodes.length - 1];\n        } else {\n          current = nodes[offsets[i]];\n        }\n      }\n\n      return current;\n    },\n\n    /**\r\n     * @description Compares the style and class for equal values.\r\n     * Returns true if both are text nodes.\r\n     * @param {Node} a Node to compare\r\n     * @param {Node} b Node to compare\r\n     * @returns {Boolean}\r\n     */\n    isSameAttributes: function (a, b) {\n      if (a.nodeType === 3 && b.nodeType === 3) return true;\n      if (a.nodeType === 3 || b.nodeType === 3) return false;\n      const style_a = a.style;\n      const style_b = b.style;\n      let compStyle = 0;\n\n      for (let i = 0, len = style_a.length; i < len; i++) {\n        if (style_a[style_a[i]] === style_b[style_a[i]]) compStyle++;\n      }\n\n      const class_a = a.classList;\n      const class_b = b.classList;\n      const reg = this._w.RegExp;\n      let compClass = 0;\n\n      for (let i = 0, len = class_a.length; i < len; i++) {\n        if (reg('(\\s|^)' + class_a[i] + '(\\s|$)').test(class_b.value)) compClass++;\n      }\n\n      return compStyle === style_b.length && compStyle === style_a.length && compClass === class_b.length && compClass === class_a.length;\n    },\n\n    /**\r\n     * @description Check the line element(util.isFormatElement) is empty.\r\n     * @param {Element} element Format element node\r\n     * @returns {Boolean}\r\n     */\n    isEmptyLine: function (element) {\n      return !element || !element.parentNode || !element.querySelector('IMG, IFRAME, AUDIO, VIDEO, CANVAS, TABLE') && this.onlyZeroWidthSpace(element.textContent);\n    },\n\n    /**\r\n     * @description Check the node is a list (ol, ul)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isList: function (node) {\n      return node && /^(OL|UL)$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a list cell (li)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isListCell: function (node) {\n      return node && /^LI$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a table (table, thead, tbody, tr, th, td)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isTable: function (node) {\n      return node && /^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a table cell (td, th)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isCell: function (node) {\n      return node && /^(TD|TH)$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a break node (BR)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isBreak: function (node) {\n      return node && /^BR$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a anchor node (A)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isAnchor: function (node) {\n      return node && /^A$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a media node (img, iframe, audio, video, canvas)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isMedia: function (node) {\n      return node && /^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Checks for numeric (with decimal point).\r\n     * @param {String|Number} text Text string or number\r\n     * @returns {Boolean}\r\n     */\n    isNumber: function (text) {\n      return !!text && /^-?\\d+(\\.\\d+)?$/.test(text + '');\n    },\n\n    /**\r\n     * @description Get a number.\r\n     * @param {String|Number} text Text string or number\r\n     * @param {Number} maxDec Maximum number of decimal places (-1 : Infinity)\r\n     * @returns {Number}\r\n     */\n    getNumber: function (text, maxDec) {\n      if (!text) return 0;\n      let number = (text + '').match(/-?\\d+(\\.\\d+)?/);\n      if (!number || !number[0]) return 0;\n      number = number[0];\n      return maxDec < 0 ? number * 1 : maxDec === 0 ? this._w.Math.round(number * 1) : (number * 1).toFixed(maxDec) * 1;\n    },\n\n    /**\r\n     * @description Get all \"children\" of the argument value element (Without text nodes)\r\n     * @param {Element} element element to get child node\r\n     * @param {Function|null} validation Conditional function\r\n     * @returns {Array}\r\n     */\n    getListChildren: function (element, validation) {\n      const children = [];\n      if (!element || !element.children || element.children.length === 0) return children;\n\n      validation = validation || function () {\n        return true;\n      };\n\n      (function recursionFunc(current) {\n        if (element !== current && validation(current)) {\n          children.push(current);\n        }\n\n        if (!!current.children) {\n          for (let i = 0, len = current.children.length; i < len; i++) {\n            recursionFunc(current.children[i]);\n          }\n        }\n      })(element);\n\n      return children;\n    },\n\n    /**\r\n     * @description Get all \"childNodes\" of the argument value element (Include text nodes)\r\n     * @param {Node} element element to get child node\r\n     * @param {Function|null} validation Conditional function\r\n     * @returns {Array}\r\n     */\n    getListChildNodes: function (element, validation) {\n      const children = [];\n      if (!element || element.childNodes.length === 0) return children;\n\n      validation = validation || function () {\n        return true;\n      };\n\n      (function recursionFunc(current) {\n        if (element !== current && validation(current)) {\n          children.push(current);\n        }\n\n        for (let i = 0, len = current.childNodes.length; i < len; i++) {\n          recursionFunc(current.childNodes[i]);\n        }\n      })(element);\n\n      return children;\n    },\n\n    /**\r\n     * @description Returns the number of parents nodes.\r\n     * \"0\" when the parent node is the WYSIWYG area.\r\n     * \"-1\" when the element argument is the WYSIWYG area.\r\n     * @param {Node} element The element to check\r\n     * @returns {Number}\r\n     */\n    getElementDepth: function (element) {\n      if (!element || this.isWysiwygDiv(element)) return -1;\n      let depth = 0;\n      element = element.parentNode;\n\n      while (element && !this.isWysiwygDiv(element)) {\n        depth += 1;\n        element = element.parentNode;\n      }\n\n      return depth;\n    },\n\n    /**\r\n     * @description Compares two elements to find a common ancestor, and returns the order of the two elements.\r\n     * @param {Node} a Node to compare.\r\n     * @param {Node} b Node to compare.\r\n     * @returns {Object} { ancesstor, a, b, result: (a > b ? 1 : a < b ? -1 : 0) };\r\n     */\n    compareElements: function (a, b) {\n      let aNode = a,\n          bNode = b;\n\n      while (aNode && bNode && aNode.parentNode !== bNode.parentNode) {\n        aNode = aNode.parentNode;\n        bNode = bNode.parentNode;\n      }\n\n      if (!aNode || !bNode) return {\n        ancestor: null,\n        a: a,\n        b: b,\n        result: 0\n      };\n      const children = aNode.parentNode.childNodes;\n      const aIndex = this.getArrayIndex(children, aNode);\n      const bIndex = this.getArrayIndex(children, bNode);\n      return {\n        ancestor: aNode.parentNode,\n        a: aNode,\n        b: bNode,\n        result: aIndex > bIndex ? 1 : aIndex < bIndex ? -1 : 0\n      };\n    },\n\n    /**\r\n     * @description Get the parent element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element Reference element\r\n     * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\n    getParentElement: function (element, query) {\n      let check;\n\n      if (typeof query === 'function') {\n        check = query;\n      } else {\n        let attr;\n\n        if (/^\\./.test(query)) {\n          attr = 'className';\n          query = query.split('.')[1];\n        } else if (/^#/.test(query)) {\n          attr = 'id';\n          query = '^' + query.split('#')[1] + '$';\n        } else if (/^:/.test(query)) {\n          attr = 'name';\n          query = '^' + query.split(':')[1] + '$';\n        } else {\n          attr = 'nodeName';\n          query = '^' + query + '$';\n        }\n\n        const regExp = new this._w.RegExp(query, 'i');\n\n        check = function (el) {\n          return regExp.test(el[attr]);\n        };\n      }\n\n      while (element && !check(element)) {\n        if (this.isWysiwygDiv(element)) {\n          return null;\n        }\n\n        element = element.parentNode;\n      }\n\n      return element;\n    },\n\n    /**\r\n     * @description Get the child element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element Reference element\r\n     * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n     * @param {Boolean} last If true returns the last node among the found child nodes. (default: first node)\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\n    getChildElement: function (element, query, last) {\n      let check;\n\n      if (typeof query === 'function') {\n        check = query;\n      } else {\n        let attr;\n\n        if (/^\\./.test(query)) {\n          attr = 'className';\n          query = query.split('.')[1];\n        } else if (/^#/.test(query)) {\n          attr = 'id';\n          query = '^' + query.split('#')[1] + '$';\n        } else if (/^:/.test(query)) {\n          attr = 'name';\n          query = '^' + query.split(':')[1] + '$';\n        } else {\n          attr = 'nodeName';\n          query = '^' + (query === 'text' ? '#' + query : query) + '$';\n        }\n\n        const regExp = new this._w.RegExp(query, 'i');\n\n        check = function (el) {\n          return regExp.test(el[attr]);\n        };\n      }\n\n      const childList = this.getListChildNodes(element, function (current) {\n        return check(current);\n      });\n      return childList[last ? childList.length - 1 : 0];\n    },\n\n    /**\r\n     * @description 1. The first node of all the child nodes of the \"first\" element is returned.\r\n     * 2. The last node of all the child nodes of the \"last\" element is returned.\r\n     * 3. When there is no \"last\" element, the first and last nodes of all the children of the \"first\" element are returned.\r\n     * { sc: \"first\", ec: \"last\" }\r\n     * @param {Node} first First element\r\n     * @param {Node|null} last Last element\r\n     * @returns {Object}\r\n     */\n    getEdgeChildNodes: function (first, last) {\n      if (!first) return;\n      if (!last) last = first;\n\n      while (first && first.nodeType === 1 && first.childNodes.length > 0 && !this.isBreak(first)) first = first.firstChild;\n\n      while (last && last.nodeType === 1 && last.childNodes.length > 0 && !this.isBreak(last)) last = last.lastChild;\n\n      return {\n        sc: first,\n        ec: last || first\n      };\n    },\n\n    /**\r\n     * @description Returns the position of the left and top of argument. {left:0, top:0}\r\n     * @param {Node} element Target node\r\n     * @param {Element|null} wysiwygFrame When use iframe option, iframe object should be sent (context.element.wysiwygFrame)\r\n     * @returns {Object}\r\n     */\n    getOffset: function (element, wysiwygFrame) {\n      let offsetLeft = 0;\n      let offsetTop = 0;\n      let offsetElement = element.nodeType === 3 ? element.parentElement : element;\n      const wysiwyg = this.getParentElement(element, this.isWysiwygDiv.bind(this));\n\n      while (offsetElement && !this.hasClass(offsetElement, 'se-container') && offsetElement !== wysiwyg) {\n        offsetLeft += offsetElement.offsetLeft;\n        offsetTop += offsetElement.offsetTop;\n        offsetElement = offsetElement.offsetParent;\n      }\n\n      const iframe = wysiwygFrame && /iframe/i.test(wysiwygFrame.nodeName);\n      return {\n        left: offsetLeft + (iframe ? wysiwygFrame.parentElement.offsetLeft : 0),\n        top: offsetTop - (wysiwyg ? wysiwyg.scrollTop : 0) + (iframe ? wysiwygFrame.parentElement.offsetTop : 0)\n      };\n    },\n\n    /**\r\n     * @description It compares the start and end indexes of \"a\" and \"b\" and returns the number of overlapping indexes in the range.\r\n     * ex) 1, 5, 4, 6 => \"2\" (4 ~ 5)\r\n     * @param {Number} aStart Start index of \"a\"\r\n     * @param {Number} aEnd End index of \"a\"\r\n     * @param {Number} bStart Start index of \"b\"\r\n     * @param {Number} bEnd Start index of \"b\"\r\n     * @returns {Number}\r\n     */\n    getOverlapRangeAtIndex: function (aStart, aEnd, bStart, bEnd) {\n      if (aStart <= bEnd ? aEnd < bStart : aEnd > bStart) return 0;\n      const overlap = (aStart > bStart ? aStart : bStart) - (aEnd < bEnd ? aEnd : bEnd);\n      return (overlap < 0 ? overlap * -1 : overlap) + 1;\n    },\n\n    /**\r\n     * @description Set the text content value of the argument value element\r\n     * @param {Node} element Element to replace text content\r\n     * @param {String} txt Text to be applied\r\n     */\n    changeTxt: function (element, txt) {\n      if (!element || !txt) return;\n      element.textContent = txt;\n    },\n\n    /**\r\n     * @description Replace element\r\n     * @param {Element} element Target element\r\n     * @param {String|Element} newElement String or element of the new element to apply\r\n     */\n    changeElement: function (element, newElement) {\n      if (typeof newElement === 'string') {\n        if (element.outerHTML) {\n          element.outerHTML = newElement;\n        } else {\n          const doc = this.createElement('DIV');\n          doc.innerHTML = newElement;\n          newElement = doc.firstChild;\n          element.parentNode.replaceChild(newElement, element);\n        }\n      } else if (newElement.nodeType === 1) {\n        element.parentNode.replaceChild(newElement, element);\n      }\n    },\n\n    /**\r\n     * @description Set style, if all styles are deleted, the style properties are deleted.\r\n     * @param {Element} element Element to set style\r\n     * @param {String} styleName Style attribute name (marginLeft, textAlign...)\r\n     * @param {String|Number} value Style value\r\n     */\n    setStyle: function (element, styleName, value) {\n      element.style[styleName] = value;\n\n      if (!value && !element.style.cssText) {\n        element.removeAttribute('style');\n      }\n    },\n\n    /**\r\n     * @description Determine whether any of the matched elements are assigned the given class\r\n     * @param {Element} element Elements to search class name\r\n     * @param {String} className Class name to search for\r\n     * @returns {Boolean}\r\n     */\n    hasClass: function (element, className) {\n      if (!element) return;\n      return new this._w.RegExp(className).test(element.className);\n    },\n\n    /**\r\n     * @description Append the className value of the argument value element\r\n     * @param {Element} element Elements to add class name\r\n     * @param {String} className Class name to be add\r\n     */\n    addClass: function (element, className) {\n      if (!element) return;\n      const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n      if (check.test(element.className)) return;\n      element.className += (element.className.length > 0 ? ' ' : '') + className;\n    },\n\n    /**\r\n     * @description Delete the className value of the argument value element\r\n     * @param {Element} element Elements to remove class name\r\n     * @param {String} className Class name to be remove\r\n     */\n    removeClass: function (element, className) {\n      if (!element) return;\n      const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n      element.className = element.className.replace(check, ' ').trim();\n      if (!element.className.trim()) element.removeAttribute('class');\n    },\n\n    /**\r\n     * @description Argument value If there is no class name, insert it and delete the class name if it exists\r\n     * @param {Element} element Elements to replace class name\r\n     * @param {String} className Class name to be change\r\n     * @returns {Boolean|undefined}\r\n     */\n    toggleClass: function (element, className) {\n      if (!element) return;\n      let result = false;\n      const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n\n      if (check.test(element.className)) {\n        element.className = element.className.replace(check, ' ').trim();\n      } else {\n        element.className += ' ' + className;\n        result = true;\n      }\n\n      if (!element.className.trim()) element.removeAttribute('class');\n      return result;\n    },\n\n    /**\r\n     * @description In the predefined code view mode, the buttons except the executable button are changed to the 'disabled' state.\r\n     * core.codeViewDisabledButtons (An array of buttons whose class name is not \"se-code-view-enabled\")\r\n     * core.resizingDisabledButtons (An array of buttons whose class name is not \"se-resizing-enabled\")\r\n     * @param {Boolean} disabled Disabled value\r\n     * @param {Array|HTMLCollection|NodeList} buttonList Button array\r\n     */\n    setDisabledButtons: function (disabled, buttonList) {\n      for (let i = 0, len = buttonList.length; i < len; i++) {\n        buttonList[i].disabled = disabled;\n      }\n    },\n\n    /**\r\n     * @description Delete argumenu value element\r\n     * @param {Node} item Node to be remove\r\n     */\n    removeItem: function (item) {\n      if (!item) return;\n      if (typeof item.remove === 'function') item.remove();else if (item.parentNode) item.parentNode.removeChild(item);\n    },\n\n    /**\r\n     * @description Delete all parent nodes that match the condition.\r\n     * Returns an {sc: previousSibling, ec: nextSibling}(the deleted node reference) or null.\r\n     * @param {Node} item Node to be remove\r\n     * @param {Function|null} validation Validation function. default(Deleted if it only have breakLine and blanks)\r\n     * @param {Element|null} stopParent Stop when the parent node reaches stopParent\r\n     * @returns {Object|null} {sc: previousSibling, ec: nextSibling}\r\n     */\n    removeItemAllParents: function (item, validation, stopParent) {\n      if (!item) return null;\n      let cc = null;\n\n      if (!validation) {\n        validation = function (current) {\n          if (current === stopParent || this.isComponent(current)) return false;\n          const text = current.textContent.trim();\n          return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\n        }.bind(this);\n      }\n\n      (function recursionFunc(element) {\n        if (!util_util.isWysiwygDiv(element)) {\n          const parent = element.parentNode;\n\n          if (parent && validation(element)) {\n            cc = {\n              sc: element.previousElementSibling,\n              ec: element.nextElementSibling\n            };\n            util_util.removeItem(element);\n            recursionFunc(parent);\n          }\n        }\n      })(item);\n\n      return cc;\n    },\n\n    /**\r\n     * @description Detach Nested all nested lists under the \"baseNode\".\r\n     * Returns a list with nested removed.\r\n     * @param {Node} baseNode Element on which to base.\r\n     * @param {Boolean} all If true, it also detach all nested lists of a returned list.\r\n     * @returns {Element}\r\n     */\n    detachNestedList: function (baseNode, all) {\n      const rNode = this._deleteNestedList(baseNode);\n\n      let rangeElement, cNodes;\n\n      if (rNode) {\n        rangeElement = rNode.cloneNode(false);\n        cNodes = rNode.childNodes;\n        const index = this.getPositionIndex(baseNode);\n\n        while (cNodes[index]) {\n          rangeElement.appendChild(cNodes[index]);\n        }\n      } else {\n        rangeElement = baseNode;\n      }\n\n      let rChildren;\n\n      if (!all) {\n        const depth = this.getElementDepth(baseNode) + 2;\n        rChildren = this.getListChildren(baseNode, function (current) {\n          return this.isListCell(current) && !current.previousElementSibling && this.getElementDepth(current) === depth;\n        }.bind(this));\n      } else {\n        rChildren = this.getListChildren(rangeElement, function (current) {\n          return this.isListCell(current) && !current.previousElementSibling;\n        }.bind(this));\n      }\n\n      for (let i = 0, len = rChildren.length; i < len; i++) {\n        this._deleteNestedList(rChildren[i]);\n      }\n\n      if (rNode) {\n        rNode.parentNode.insertBefore(rangeElement, rNode.nextSibling);\n        if (cNodes && cNodes.length === 0) this.removeItem(rNode);\n      }\n\n      return rangeElement === baseNode ? rangeElement.parentNode : rangeElement;\n    },\n\n    /**\r\n     * @description Sub function of util.detachNestedList method.\r\n     * @private\r\n     */\n    _deleteNestedList: function (baseNode) {\n      const baseParent = baseNode.parentNode;\n      let sibling = baseParent;\n      let parent = sibling.parentNode;\n      let liSibling, liParent, child, index, c;\n\n      while (this.isListCell(parent)) {\n        index = this.getPositionIndex(baseNode);\n        liSibling = parent.nextElementSibling;\n        liParent = parent.parentNode;\n        child = sibling;\n\n        while (child) {\n          sibling = sibling.nextSibling;\n\n          if (this.isList(child)) {\n            c = child.childNodes;\n\n            while (c[index]) {\n              liParent.insertBefore(c[index], liSibling);\n            }\n\n            if (c.length === 0) this.removeItem(child);\n          } else {\n            liParent.appendChild(child);\n          }\n\n          child = sibling;\n        }\n\n        sibling = liParent;\n        parent = liParent.parentNode;\n      }\n\n      if (baseParent.children.length === 0) this.removeItem(baseParent);\n      return liParent;\n    },\n\n    /**\r\n     * @description Split all tags based on \"baseNode\"\r\n     * Returns the last element of the splited tag.\r\n     * @param {Node} baseNode Element or text node on which to base\r\n     * @param {Number|null} offset Text offset of \"baseNode\" (Only valid when \"baseNode\" is a text node)\r\n     * @param {Number} depth The nesting depth of the element being split. (default: 0)\r\n     * @returns {Element}\r\n     */\n    splitElement: function (baseNode, offset, depth) {\n      const bp = baseNode.parentNode;\n      let index = 0,\n          newEl,\n          children,\n          temp;\n      let next = true;\n      if (!depth || depth < 0) depth = 0;\n\n      if (baseNode.nodeType === 3) {\n        index = this.getPositionIndex(baseNode);\n\n        if (offset >= 0) {\n          baseNode.splitText(offset);\n          const after = this.getNodeFromPath([index + 1], bp);\n          if (this.onlyZeroWidthSpace(after)) after.data = this.zeroWidthSpace;\n        }\n      } else if (baseNode.nodeType === 1) {\n        if (!baseNode.previousSibling) {\n          if (this.getElementDepth(baseNode) === depth) next = false;\n        } else {\n          baseNode = baseNode.previousSibling;\n        }\n      }\n\n      let depthEl = baseNode;\n\n      while (this.getElementDepth(depthEl) > depth) {\n        index = this.getPositionIndex(depthEl) + 1;\n        depthEl = depthEl.parentNode;\n        temp = newEl;\n        newEl = depthEl.cloneNode(false);\n        children = depthEl.childNodes;\n\n        if (temp) {\n          if (this.isListCell(newEl) && this.isList(temp) && temp.firstElementChild) {\n            newEl.innerHTML = temp.firstElementChild.innerHTML;\n            util_util.removeItem(temp.firstElementChild);\n            if (temp.children.length > 0) newEl.appendChild(temp);\n          } else {\n            newEl.appendChild(temp);\n          }\n        }\n\n        while (children[index]) {\n          newEl.appendChild(children[index]);\n        }\n      }\n\n      if (depthEl.childNodes.length <= 1 && (!depthEl.firstChild || depthEl.firstChild.textContent.length === 0)) depthEl.innerHTML = '<br>';\n      const pElement = depthEl.parentNode;\n      if (next) depthEl = depthEl.nextSibling;\n      if (!newEl) return depthEl;\n      this.mergeSameTags(newEl, null, false);\n      this.mergeNestedTags(newEl, function (current) {\n        return this.isList(current);\n      }.bind(this));\n      if (newEl.childNodes.length > 0) pElement.insertBefore(newEl, depthEl);else newEl = depthEl;\n      if (bp.childNodes.length === 0) this.removeItem(bp);\n      return newEl;\n    },\n\n    /**\r\n     * @description Use with \"npdePath (util.getNodePath)\" to merge the same attributes and tags if they are present and modify the nodepath.\r\n     * If \"offset\" has been changed, it will return as much \"offset\" as it has been modified.\r\n     * An array containing change offsets is returned in the order of the \"nodePathArray\" array.\r\n     * @param {Element} element Element\r\n     * @param {Array|null} nodePathArray Array of NodePath object ([util.getNodePath(), ..])\r\n     * @param {Boolean} onlyText If true, non-text nodes(!util._isIgnoreNodeChange) like 'span', 'strong'.. are ignored.\r\n     * @returns {Array} [offset, ..]\r\n     */\n    mergeSameTags: function (element, nodePathArray, onlyText) {\n      const inst = this;\n      const nodePathLen = nodePathArray ? nodePathArray.length : 0;\n      let offsets = null;\n\n      if (nodePathLen) {\n        offsets = this._w.Array.apply(null, new this._w.Array(nodePathLen)).map(this._w.Number.prototype.valueOf, 0);\n      }\n\n      (function recursionFunc(current, depth, depthIndex) {\n        const children = current.childNodes;\n\n        for (let i = 0, len = children.length, child, next; i < len; i++) {\n          child = children[i];\n          next = children[i + 1];\n          if (!child) break;\n\n          if (onlyText && inst._isIgnoreNodeChange(child) || !onlyText && (inst.isTable(child) || inst.isListCell(child) || inst.isFormatElement(child) && !inst.isFreeFormatElement(child))) {\n            if (inst.isTable(child) || inst.isListCell(child)) {\n              recursionFunc(child, depth + 1, i);\n            }\n\n            continue;\n          }\n\n          if (len === 1 && current.nodeName === child.nodeName && current.parentNode) {\n            // update nodePath\n            if (nodePathLen) {\n              let path, c, p, cDepth, spliceDepth;\n\n              for (let n = 0; n < nodePathLen; n++) {\n                path = nodePathArray[n];\n\n                if (path && path[depth] === i) {\n                  c = child, p = current, cDepth = depth, spliceDepth = true;\n\n                  while (cDepth >= 0) {\n                    if (inst.getArrayIndex(p.childNodes, c) !== path[cDepth]) {\n                      spliceDepth = false;\n                      break;\n                    }\n\n                    c = child.parentNode;\n                    p = c.parentNode;\n                    cDepth--;\n                  }\n\n                  if (spliceDepth) {\n                    path.splice(depth, 1);\n                    path[depth] = i;\n                  }\n                }\n              }\n            } // merge tag\n\n\n            inst.copyTagAttributes(child, current);\n            current.parentNode.insertBefore(child, current);\n            inst.removeItem(current);\n          }\n\n          if (!next) {\n            if (child.nodeType === 1) recursionFunc(child, depth + 1, i);\n            break;\n          }\n\n          if (child.nodeName === next.nodeName && inst.isSameAttributes(child, next) && child.href === next.href) {\n            const childs = child.childNodes;\n            let childLength = 0;\n\n            for (let n = 0, nLen = childs.length; n < nLen; n++) {\n              if (childs[n].textContent.length > 0) childLength++;\n            }\n\n            const l = child.lastChild;\n            const r = next.firstChild;\n            let addOffset = 0;\n\n            if (l && r) {\n              const textOffset = l.nodeType === 3 && r.nodeType === 3;\n              addOffset = l.textContent.length;\n              let tempL = l.previousSibling;\n\n              while (tempL && tempL.nodeType === 3) {\n                addOffset += tempL.textContent.length;\n                tempL = tempL.previousSibling;\n              }\n\n              if (childLength > 0 && l.nodeType === 3 && r.nodeType === 3 && (l.textContent.length > 0 || r.textContent.length > 0)) childLength--;\n\n              if (nodePathLen) {\n                let path = null;\n\n                for (let n = 0; n < nodePathLen; n++) {\n                  path = nodePathArray[n];\n\n                  if (path && path[depth] > i) {\n                    if (depth > 0 && path[depth - 1] !== depthIndex) continue;\n                    path[depth] -= 1;\n\n                    if (path[depth + 1] >= 0 && path[depth] === i) {\n                      path[depth + 1] += childLength;\n\n                      if (textOffset) {\n                        if (l && l.nodeType === 3 && r && r.nodeType === 3) {\n                          offsets[n] += addOffset;\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n\n            if (child.nodeType === 3) {\n              addOffset = child.textContent.length;\n              child.textContent += next.textContent;\n\n              if (nodePathLen) {\n                let path = null;\n\n                for (let n = 0; n < nodePathLen; n++) {\n                  path = nodePathArray[n];\n\n                  if (path && path[depth] > i) {\n                    if (depth > 0 && path[depth - 1] !== depthIndex) continue;\n                    path[depth] -= 1;\n\n                    if (path[depth + 1] >= 0 && path[depth] === i) {\n                      path[depth + 1] += childLength;\n                      offsets[n] += addOffset;\n                    }\n                  }\n                }\n              }\n            } else {\n              child.innerHTML += next.innerHTML;\n            }\n\n            inst.removeItem(next);\n            i--;\n          } else if (child.nodeType === 1) {\n            recursionFunc(child, depth + 1, i);\n          }\n        }\n      })(element, 0, 0);\n\n      return offsets;\n    },\n\n    /**\r\n     * @description Remove nested tags without other child nodes.\r\n     * @param {Element} element Element object\r\n     * @param {Function|String|null} validation Validation function / String(\"tag1|tag2..\") / If null, all tags are applicable.\r\n     */\n    mergeNestedTags: function (element, validation) {\n      if (typeof validation === 'string') {\n        validation = function (current) {\n          return this.test(current.tagName);\n        }.bind(new this._w.RegExp('^(' + (validation ? validation : '.+') + ')$', 'i'));\n      } else if (typeof validation !== 'function') {\n        validation = function () {\n          return true;\n        };\n      }\n\n      (function recursionFunc(current) {\n        let children = current.children;\n\n        if (children.length === 1 && children[0].nodeName === current.nodeName && validation(current)) {\n          const temp = children[0];\n          children = temp.children;\n\n          while (children[0]) {\n            current.appendChild(children[0]);\n          }\n\n          current.removeChild(temp);\n        }\n\n        for (let i = 0, len = current.children.length; i < len; i++) {\n          recursionFunc(current.children[i]);\n        }\n      })(element);\n    },\n\n    /**\r\n     * @description Delete a empty child node of argument element\r\n     * @param {Element} element Element node\r\n     * @param {Node|null} notRemoveNode Do not remove node\r\n     */\n    removeEmptyNode: function (element, notRemoveNode) {\n      const inst = this;\n\n      if (notRemoveNode) {\n        notRemoveNode = inst.getParentElement(notRemoveNode, function (current) {\n          return element === current.parentElement;\n        });\n      }\n\n      (function recursionFunc(current) {\n        if (inst._notTextNode(current) || current === notRemoveNode || inst.isNonEditable(current)) return 0;\n\n        if (current !== element && inst.onlyZeroWidthSpace(current.textContent) && (!current.firstChild || !inst.isBreak(current.firstChild)) && !current.querySelector(inst._allowedEmptyNodeList)) {\n          if (current.parentNode) {\n            current.parentNode.removeChild(current);\n            return -1;\n          }\n        } else {\n          const children = current.children;\n\n          for (let i = 0, len = children.length, r = 0; i < len; i++) {\n            if (!children[i + r] || inst.isComponent(children[i + r])) continue;\n            r += recursionFunc(children[i + r]);\n          }\n        }\n\n        return 0;\n      })(element);\n\n      if (element.childNodes.length === 0) element.innerHTML = '<br>';\n    },\n\n    /**\r\n     * @description Remove whitespace between tags in HTML string.\r\n     * @param {String} html HTML string\r\n     * @returns {String}\r\n     */\n    htmlRemoveWhiteSpace: function (html) {\n      if (!html) return '';\n      return html.trim().replace(/<\\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)[^>^<]+>\\s+(?=<)/ig, function (m) {\n        return m.trim();\n      });\n    },\n\n    /**\r\n     * @description Sort a element array by depth of element.\r\n     * @param {Array} array Array object\r\n     * @param {Boolean} des true: descending order / false: ascending order\r\n     */\n    sortByDepth: function (array, des) {\n      const t = !des ? -1 : 1;\n      const f = t * -1;\n      array.sort(function (a, b) {\n        if (!this.isListCell(a) || !this.isListCell(b)) return 0;\n        a = this.getElementDepth(a);\n        b = this.getElementDepth(b);\n        return a > b ? t : a < b ? f : 0;\n      }.bind(this));\n    },\n\n    /**\r\n     * @description Nodes that need to be added without modification when changing text nodes\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\n    _isIgnoreNodeChange: function (element) {\n      return element && element.nodeType !== 3 && (this.isNonEditable(element) || !this.isTextStyleElement(element));\n    },\n\n    /**\r\n     * @description Nodes that must remain undetached when changing text nodes (A, Label, Code, Span:font-size)\r\n     * @param {Node|String} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\n    _isMaintainedNode: function (element) {\n      return element && element.nodeType !== 3 && /^(a|label|code)$/i.test(typeof element === 'string' ? element : element.nodeName);\n    },\n\n    /**\r\n     * @description Node with font-size style\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\n    _isSizeNode: function (element) {\n      return element && element.nodeType !== 3 && this.isTextStyleElement(element) && !!element.style.fontSize;\n    },\n\n    /**\r\n     * @description Nodes without text\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\n    _notTextNode: function (element) {\n      return element && element.nodeType !== 3 && (this.isComponent(element) || /^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof element === 'string' ? element : element.nodeName));\n    },\n\n    /**\r\n     * @description Check disallowed tags\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\n    _disallowedTags: function (element) {\n      return /^(meta|script|link|style|[a-z]+\\:[a-z]+)$/i.test(element.nodeName);\n    },\n\n    /**\r\n     * @description Create whitelist RegExp object.\r\n     * Return RegExp format: new RegExp(\"<\\\\/?\\\\b(?!\" + list + \")\\\\b[^>^<]*+>\", \"gi\")\r\n     * @param {String} list Tags list (\"br|p|div|pre...\")\r\n     * @returns {RegExp}\r\n     */\n    createTagsWhitelist: function (list) {\n      return new RegExp('<\\\\/?\\\\b(?!\\\\b' + list.replace(/\\|/g, '\\\\b|\\\\b') + '\\\\b)[^>]*>', 'gi');\n    },\n\n    /**\r\n     * @description Fix tags that do not fit the editor format.\r\n     * @param {Element} documentFragment Document fragment \"DOCUMENT_FRAGMENT_NODE\" (nodeType === 11)\r\n     * @param {RegExp} htmlCheckWhitelistRegExp Editor tags whitelist (core._htmlCheckWhitelistRegExp)\r\n     * @private\r\n     */\n    _consistencyCheckOfHTML: function (documentFragment, htmlCheckWhitelistRegExp) {\n      /**\r\n       * It is can use \".children(util.getListChildren)\" to exclude text nodes, but \"documentFragment.children\" is not supported in IE.\r\n       * So check the node type and exclude the text no (current.nodeType !== 1)\r\n       */\n      const removeTags = [],\n            emptyTags = [],\n            wrongList = [],\n            withoutFormatCells = []; // wrong position\n\n      const wrongTags = this.getListChildNodes(documentFragment, function (current) {\n        if (current.nodeType !== 1) return false; // white list\n\n        if (!htmlCheckWhitelistRegExp.test(current.nodeName) && current.childNodes.length === 0 && this.isNotCheckingNode(current)) {\n          removeTags.push(current);\n          return false;\n        }\n\n        const nrtag = !this.getParentElement(current, this.isNotCheckingNode); // empty tags\n\n        if (!this.isTable(current) && !this.isListCell(current) && (this.isFormatElement(current) || this.isRangeFormatElement(current) || this.isTextStyleElement(current)) && current.childNodes.length === 0 && nrtag) {\n          emptyTags.push(current);\n          return false;\n        } // wrong list\n\n\n        if (this.isList(current.parentNode) && !this.isList(current) && !this.isListCell(current)) {\n          wrongList.push(current);\n          return false;\n        } // table cells\n\n\n        if (this.isCell(current)) {\n          const fel = current.firstElementChild;\n\n          if (!this.isFormatElement(fel) && !this.isRangeFormatElement(fel) && !this.isComponent(fel)) {\n            withoutFormatCells.push(current);\n            return false;\n          }\n        }\n\n        const result = current.parentNode !== documentFragment && (this.isFormatElement(current) || this.isComponent(current) || this.isList(current)) && !this.isRangeFormatElement(current.parentNode) && !this.isListCell(current.parentNode) && !this.getParentElement(current, this.isComponent) && nrtag;\n        return result;\n      }.bind(this));\n\n      for (let i = 0, len = removeTags.length; i < len; i++) {\n        this.removeItem(removeTags[i]);\n      }\n\n      const checkTags = [];\n\n      for (let i = 0, len = wrongTags.length, t, p; i < len; i++) {\n        t = wrongTags[i];\n        p = t.parentNode;\n        if (!p || !p.parentNode) continue;\n        p.parentNode.insertBefore(t, p);\n        checkTags.push(p);\n      }\n\n      for (let i = 0, len = checkTags.length, t; i < len; i++) {\n        t = checkTags[i];\n\n        if (this.onlyZeroWidthSpace(t.textContent.trim())) {\n          this.removeItem(t);\n        }\n      }\n\n      for (let i = 0, len = emptyTags.length; i < len; i++) {\n        this.removeItem(emptyTags[i]);\n      }\n\n      for (let i = 0, len = wrongList.length, t, tp, children, p; i < len; i++) {\n        t = wrongList[i];\n        tp = this.createElement('LI');\n        children = t.childNodes;\n\n        while (children[0]) {\n          tp.appendChild(children[0]);\n        }\n\n        p = t.parentNode;\n        if (!p) continue;\n        p.insertBefore(tp, t);\n        this.removeItem(t);\n      }\n\n      for (let i = 0, len = withoutFormatCells.length, t, f; i < len; i++) {\n        t = withoutFormatCells[i];\n        f = this.createElement('DIV');\n        f.innerHTML = t.textContent.trim().length === 0 && t.children.length === 0 ? '<br>' : t.innerHTML;\n        t.innerHTML = f.outerHTML;\n      }\n    },\n    _setDefaultOptionStyle: function (options, defaultStyle) {\n      let optionStyle = '';\n      if (options.height) optionStyle += 'height:' + options.height + ';';\n      if (options.minHeight) optionStyle += 'min-height:' + options.minHeight + ';';\n      if (options.maxHeight) optionStyle += 'max-height:' + options.maxHeight + ';';\n      if (options.position) optionStyle += 'position:' + options.position + ';';\n      if (options.width) optionStyle += 'width:' + options.width + ';';\n      if (options.minWidth) optionStyle += 'min-width:' + options.minWidth + ';';\n      if (options.maxWidth) optionStyle += 'max-width:' + options.maxWidth + ';';\n      let top = '',\n          frame = '',\n          editor = '';\n      defaultStyle = optionStyle + defaultStyle;\n      const styleArr = defaultStyle.split(';');\n\n      for (let i = 0, len = styleArr.length, s; i < len; i++) {\n        s = styleArr[i].trim();\n        if (!s) continue;\n\n        if (/^(min-|max-)?width\\s*:/.test(s) || /^(z-index|position)\\s*:/.test(s)) {\n          top += s + ';';\n          continue;\n        }\n\n        if (/^(min-|max-)?height\\s*:/.test(s)) {\n          if (/^height/.test(s) && s.split(':')[1].trim() === 'auto') {\n            options.height = 'auto';\n          }\n\n          frame += s + ';';\n          continue;\n        }\n\n        editor += s + ';';\n      }\n\n      return {\n        top: top,\n        frame: frame,\n        editor: editor\n      };\n    },\n    _setIframeDocument: function (frame, options) {\n      frame.setAttribute('scrolling', 'auto');\n      frame.contentDocument.head.innerHTML = '' + '<meta charset=\"utf-8\" />' + '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' + this._setIframeCssTags(options);\n      frame.contentDocument.body.className = options._editableClass;\n      frame.contentDocument.body.setAttribute('contenteditable', true);\n    },\n    _setIframeCssTags: function (options) {\n      const linkNames = options.iframeCSSFileName;\n      const wRegExp = this._w.RegExp;\n      let tagString = '';\n\n      for (let f = 0, len = linkNames.length, path; f < len; f++) {\n        path = [];\n\n        if (/(^https?:\\/\\/)|(^data:text\\/css,)/.test(linkNames[f])) {\n          path.push(linkNames[f]);\n        } else {\n          const CSSFileName = new wRegExp('(^|.*[\\\\/])' + linkNames[f] + '(\\\\..+)?\\\\.css(?:\\\\?.*|;.*)?$', 'i');\n\n          for (let c = document.getElementsByTagName('link'), i = 0, len = c.length, styleTag; i < len; i++) {\n            styleTag = c[i].href.match(CSSFileName);\n            if (styleTag) path.push(styleTag[0]);\n          }\n        }\n\n        if (!path || path.length === 0) throw '[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property \"iframeCSSFileName\" before creating editor instances.';\n\n        for (let i = 0, len = path.length; i < len; i++) {\n          tagString += '<link href=\"' + path[i] + '\" rel=\"stylesheet\">';\n        }\n      }\n\n      return tagString + (options.height === 'auto' ? '<style>\\n/** Iframe height auto */\\nbody{height: min-content; overflow: hidden;}\\n</style>' : '');\n    }\n  };\n  /* harmony default export */\n\n  var lib_util = util_util; // CONCATENATED MODULE: ./node_modules/suneditor/src/lib/constructor.js\n\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n  var lib_constructor = {\n    /**\r\n     * @description document create\r\n     * @param {Element} element Textarea\r\n     * @param {Object} options Options\r\n     * @returns {Object}\r\n     */\n    init: function (element, options) {\n      if (typeof options !== 'object') options = {};\n      const doc = document;\n      /** --- init options --- */\n\n      this._initOptions(element, options); // suneditor div\n\n\n      const top_div = doc.createElement('DIV');\n      top_div.className = 'sun-editor' + (options.rtl ? ' se-rtl' : '');\n      if (element.id) top_div.id = 'suneditor_' + element.id; // relative div\n\n      const relative = doc.createElement('DIV');\n      relative.className = 'se-container'; // toolbar\n\n      const tool_bar = this._createToolBar(doc, options.buttonList, options.plugins, options);\n\n      tool_bar.element.style.visibility = 'hidden';\n      if (tool_bar.pluginCallButtons.math) this._checkKatexMath(options.katex);\n      const arrow = doc.createElement('DIV');\n      arrow.className = 'se-arrow'; // sticky toolbar dummy\n\n      const sticky_dummy = doc.createElement('DIV');\n      sticky_dummy.className = 'se-toolbar-sticky-dummy'; // inner editor div\n\n      const editor_div = doc.createElement('DIV');\n      editor_div.className = 'se-wrapper';\n      /** --- init elements and create bottom bar --- */\n\n      const initElements = this._initElements(options, top_div, tool_bar.element, arrow);\n\n      const bottomBar = initElements.bottomBar;\n      const wysiwyg_div = initElements.wysiwygFrame;\n      const placeholder_span = initElements.placeholder;\n      let textarea = initElements.codeView; // resizing bar\n\n      const resizing_bar = bottomBar.resizingBar;\n      const navigation = bottomBar.navigation;\n      const char_wrapper = bottomBar.charWrapper;\n      const char_counter = bottomBar.charCounter; // loading box\n\n      const loading_box = doc.createElement('DIV');\n      loading_box.className = 'se-loading-box sun-editor-common';\n      loading_box.innerHTML = '<div class=\"se-loading-effect\"></div>'; // enter line\n\n      const line_breaker = doc.createElement('DIV');\n      line_breaker.className = 'se-line-breaker';\n      line_breaker.innerHTML = '<button class=\"se-btn\">' + options.icons.line_break + '</button>';\n      const line_breaker_t = doc.createElement('DIV');\n      line_breaker_t.className += 'se-line-breaker-component';\n      const line_breaker_b = line_breaker_t.cloneNode(true);\n      line_breaker_t.innerHTML = line_breaker_b.innerHTML = options.icons.line_break; // resize operation background\n\n      const resize_back = doc.createElement('DIV');\n      resize_back.className = 'se-resizing-back'; // toolbar container\n\n      const toolbarContainer = options.toolbarContainer;\n\n      if (toolbarContainer) {\n        toolbarContainer.appendChild(tool_bar.element);\n      }\n      /** append html */\n\n\n      editor_div.appendChild(textarea);\n      if (placeholder_span) editor_div.appendChild(placeholder_span);\n      if (!toolbarContainer) relative.appendChild(tool_bar.element);\n      relative.appendChild(sticky_dummy);\n      relative.appendChild(editor_div);\n      relative.appendChild(resize_back);\n      relative.appendChild(loading_box);\n      relative.appendChild(line_breaker);\n      relative.appendChild(line_breaker_t);\n      relative.appendChild(line_breaker_b);\n      if (resizing_bar) relative.appendChild(resizing_bar);\n      top_div.appendChild(relative);\n      textarea = this._checkCodeMirror(options, textarea);\n      return {\n        constructed: {\n          _top: top_div,\n          _relative: relative,\n          _toolBar: tool_bar.element,\n          _menuTray: tool_bar._menuTray,\n          _editorArea: editor_div,\n          _wysiwygArea: wysiwyg_div,\n          _codeArea: textarea,\n          _placeholder: placeholder_span,\n          _resizingBar: resizing_bar,\n          _navigation: navigation,\n          _charWrapper: char_wrapper,\n          _charCounter: char_counter,\n          _loading: loading_box,\n          _lineBreaker: line_breaker,\n          _lineBreaker_t: line_breaker_t,\n          _lineBreaker_b: line_breaker_b,\n          _resizeBack: resize_back,\n          _stickyDummy: sticky_dummy,\n          _arrow: arrow\n        },\n        options: options,\n        plugins: tool_bar.plugins,\n        pluginCallButtons: tool_bar.pluginCallButtons,\n        _responsiveButtons: tool_bar.responsiveButtons\n      };\n    },\n\n    /**\r\n     * @description Check the CodeMirror option to apply the CodeMirror and return the CodeMirror element.\r\n     * @param {Object} options options\r\n     * @param {Element} textarea textarea element\r\n     * @private\r\n     */\n    _checkCodeMirror: function (options, textarea) {\n      if (options.codeMirror) {\n        const cmOptions = [{\n          mode: 'htmlmixed',\n          htmlMode: true,\n          lineNumbers: true,\n          lineWrapping: true\n        }, options.codeMirror.options || {}].reduce(function (init, option) {\n          for (let key in option) {\n            if (lib_util.hasOwn(option, key)) init[key] = option[key];\n          }\n\n          return init;\n        }, {});\n\n        if (options.height === 'auto') {\n          cmOptions.viewportMargin = Infinity;\n          cmOptions.height = 'auto';\n        }\n\n        const cm = options.codeMirror.src.fromTextArea(textarea, cmOptions);\n        cm.display.wrapper.style.cssText = textarea.style.cssText;\n        options.codeMirrorEditor = cm;\n        textarea = cm.display.wrapper;\n        textarea.className += ' se-wrapper-code-mirror';\n      }\n\n      return textarea;\n    },\n\n    /**\r\n     * @description Check for a katex object.\r\n     * @param {Object} katex katex object\r\n     * @private\r\n     */\n    _checkKatexMath: function (katex) {\n      if (!katex) throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a \"katex\" object to the options.');\n      const katexOptions = [{\n        throwOnError: false\n      }, katex.options || {}].reduce(function (init, option) {\n        for (let key in option) {\n          if (lib_util.hasOwn(option, key)) init[key] = option[key];\n        }\n\n        return init;\n      }, {});\n      katex.options = katexOptions;\n    },\n\n    /**\r\n     * @description Add or reset options\r\n     * @param {Object} mergeOptions New options property\r\n     * @param {Object} context Context object of core\r\n     * @param {Object} originOptions Origin options\r\n     * @returns {Object} pluginCallButtons\r\n     * @private\r\n     */\n    _setOptions: function (mergeOptions, context, originOptions) {\n      this._initOptions(context.element.originElement, mergeOptions);\n\n      const el = context.element;\n      const relative = el.relative;\n      const editorArea = el.editorArea;\n      const isNewToolbarContainer = mergeOptions.toolbarContainer && mergeOptions.toolbarContainer !== originOptions.toolbarContainer;\n      const isNewToolbar = mergeOptions.lang !== originOptions.lang || mergeOptions.buttonList !== originOptions.buttonList || mergeOptions.mode !== originOptions.mode || isNewToolbarContainer;\n\n      const tool_bar = this._createToolBar(document, isNewToolbar ? mergeOptions.buttonList : originOptions.buttonList, mergeOptions.plugins, mergeOptions);\n\n      if (tool_bar.pluginCallButtons.math) this._checkKatexMath(mergeOptions.katex);\n      const arrow = document.createElement('DIV');\n      arrow.className = 'se-arrow';\n\n      if (isNewToolbar) {\n        tool_bar.element.style.visibility = 'hidden'; // toolbar container\n\n        if (isNewToolbarContainer) {\n          mergeOptions.toolbarContainer.appendChild(tool_bar.element);\n          el.toolbar.parentElement.removeChild(el.toolbar);\n        } else {\n          el.toolbar.parentElement.replaceChild(tool_bar.element, el.toolbar);\n        }\n\n        el.toolbar = tool_bar.element;\n        el._menuTray = tool_bar._menuTray;\n        el._arrow = arrow;\n      }\n\n      const initElements = this._initElements(mergeOptions, el.topArea, isNewToolbar ? tool_bar.element : el.toolbar, arrow);\n\n      const bottomBar = initElements.bottomBar;\n      const wysiwygFrame = initElements.wysiwygFrame;\n      const placeholder_span = initElements.placeholder;\n      let code = initElements.codeView;\n      if (el.resizingBar) relative.removeChild(el.resizingBar);\n      if (bottomBar.resizingBar) relative.appendChild(bottomBar.resizingBar);\n      editorArea.innerHTML = '';\n      editorArea.appendChild(code);\n      if (placeholder_span) editorArea.appendChild(placeholder_span);\n      code = this._checkCodeMirror(mergeOptions, code);\n      el.resizingBar = bottomBar.resizingBar;\n      el.navigation = bottomBar.navigation;\n      el.charWrapper = bottomBar.charWrapper;\n      el.charCounter = bottomBar.charCounter;\n      el.wysiwygFrame = wysiwygFrame;\n      el.code = code;\n      el.placeholder = placeholder_span;\n      if (mergeOptions.rtl) lib_util.addClass(el.topArea, 'se-rtl');else lib_util.removeClass(el.topArea, 'se-rtl');\n      return {\n        callButtons: tool_bar.pluginCallButtons,\n        plugins: tool_bar.plugins,\n        toolbar: tool_bar\n      };\n    },\n\n    /**\r\n     * @description Initialize property of suneditor elements\r\n     * @param {Object} options Options\r\n     * @param {Element} topDiv Suneditor top div\r\n     * @param {Element} toolBar Tool bar\r\n     * @param {Element} toolBarArrow Tool bar arrow (balloon editor)\r\n     * @returns {Object} Bottom bar elements (resizingBar, navigation, charWrapper, charCounter)\r\n     * @private\r\n     */\n    _initElements: function (options, topDiv, toolBar, toolBarArrow) {\n      /** top div */\n      topDiv.style.cssText = options._editorStyles.top;\n      /** toolbar */\n\n      if (/inline/i.test(options.mode)) {\n        toolBar.className += ' se-toolbar-inline';\n        toolBar.style.width = options.toolbarWidth;\n      } else if (/balloon/i.test(options.mode)) {\n        toolBar.className += ' se-toolbar-balloon';\n        toolBar.style.width = options.toolbarWidth;\n        toolBar.appendChild(toolBarArrow);\n      }\n      /** editor */\n      // wysiwyg div or iframe\n\n\n      const wysiwygDiv = document.createElement(!options.iframe ? 'DIV' : 'IFRAME');\n      wysiwygDiv.className = 'se-wrapper-inner se-wrapper-wysiwyg';\n\n      if (!options.iframe) {\n        wysiwygDiv.setAttribute('contenteditable', true);\n        wysiwygDiv.setAttribute('scrolling', 'auto');\n        wysiwygDiv.className += ' ' + options._editableClass;\n        wysiwygDiv.style.cssText = options._editorStyles.frame + options._editorStyles.editor;\n      } else {\n        wysiwygDiv.allowFullscreen = true;\n        wysiwygDiv.frameBorder = 0;\n        wysiwygDiv.style.cssText = options._editorStyles.frame;\n      } // textarea for code view\n\n\n      const textarea = document.createElement('TEXTAREA');\n      textarea.className = 'se-wrapper-inner se-wrapper-code';\n      textarea.style.cssText = options._editorStyles.frame;\n      textarea.style.display = 'none';\n      if (options.height === 'auto') textarea.style.overflow = 'hidden';\n      /** resize bar */\n\n      let resizingBar = null;\n      let navigation = null;\n      let charWrapper = null;\n      let charCounter = null;\n\n      if (options.resizingBar) {\n        resizingBar = document.createElement('DIV');\n        resizingBar.className = 'se-resizing-bar sun-editor-common';\n        /** navigation */\n\n        navigation = document.createElement('DIV');\n        navigation.className = 'se-navigation sun-editor-common';\n        resizingBar.appendChild(navigation);\n        /** char counter */\n\n        if (options.charCounter) {\n          charWrapper = document.createElement('DIV');\n          charWrapper.className = 'se-char-counter-wrapper';\n\n          if (options.charCounterLabel) {\n            const charLabel = document.createElement('SPAN');\n            charLabel.className = 'se-char-label';\n            charLabel.textContent = options.charCounterLabel;\n            charWrapper.appendChild(charLabel);\n          }\n\n          charCounter = document.createElement('SPAN');\n          charCounter.className = 'se-char-counter';\n          charCounter.textContent = '0';\n          charWrapper.appendChild(charCounter);\n\n          if (options.maxCharCount > 0) {\n            const char_max = document.createElement('SPAN');\n            char_max.textContent = ' / ' + options.maxCharCount;\n            charWrapper.appendChild(char_max);\n          }\n\n          resizingBar.appendChild(charWrapper);\n        }\n      }\n\n      let placeholder = null;\n\n      if (options.placeholder) {\n        placeholder = document.createElement('SPAN');\n        placeholder.className = 'se-placeholder';\n        placeholder.innerText = options.placeholder;\n      }\n\n      return {\n        bottomBar: {\n          resizingBar: resizingBar,\n          navigation: navigation,\n          charWrapper: charWrapper,\n          charCounter: charCounter\n        },\n        wysiwygFrame: wysiwygDiv,\n        codeView: textarea,\n        placeholder: placeholder\n      };\n    },\n\n    /**\r\n     * @description Initialize options\r\n     * @param {Element} element Options object\r\n     * @param {Object} options Options object\r\n     * @private\r\n     */\n    _initOptions: function (element, options) {\n      /** Values */\n      options.lang = options.lang || en_default.a;\n      options.defaultTag = typeof options.defaultTag === 'string' ? options.defaultTag : 'p';\n      const textTags = options.textTags = [{\n        bold: 'STRONG',\n        underline: 'U',\n        italic: 'EM',\n        strike: 'DEL',\n        sub: 'SUB',\n        sup: 'SUP'\n      }, options.textTags || {}].reduce(function (_default, _new) {\n        for (let key in _new) {\n          _default[key] = _new[key];\n        }\n\n        return _default;\n      }, {});\n      options._textTagsMap = {\n        'strong': textTags.bold,\n        'b': textTags.bold,\n        'u': textTags.underline,\n        'ins': textTags.underline,\n        'em': textTags.italic,\n        'i': textTags.italic,\n        'del': textTags.strike,\n        'strike': textTags.strike,\n        's': textTags.strike,\n        'sub': textTags.sub,\n        'sup': textTags.sup\n      };\n      options.value = typeof options.value === 'string' ? options.value : null;\n      options.historyStackDelayTime = typeof options.historyStackDelayTime === 'number' ? options.historyStackDelayTime : 400;\n      /** Whitelist */\n\n      const whitelist = 'br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path';\n      options._defaultTagsWhitelist = typeof options._defaultTagsWhitelist === 'string' ? options._defaultTagsWhitelist : whitelist;\n      options._editorTagsWhitelist = this._setWhitelist(options._defaultTagsWhitelist + (typeof options.addTagsWhitelist === 'string' && options.addTagsWhitelist.length > 0 ? '|' + options.addTagsWhitelist : ''), options.tagsBlacklist);\n      options.pasteTagsWhitelist = this._setWhitelist(typeof options.pasteTagsWhitelist === 'string' ? options.pasteTagsWhitelist : options._editorTagsWhitelist, options.pasteTagsBlacklist);\n      options.attributesWhitelist = !options.attributesWhitelist || typeof options.attributesWhitelist !== 'object' ? null : options.attributesWhitelist;\n      /** Layout */\n\n      options.mode = options.mode || 'classic'; // classic, inline, balloon, balloon-always\n\n      options.rtl = !!options.rtl;\n      options._editableClass = 'sun-editor-editable' + (options.rtl ? ' se-rtl' : '');\n      options._printClass = typeof options._printClass === 'string' ? options._printClass : null;\n      options.toolbarWidth = options.toolbarWidth ? lib_util.isNumber(options.toolbarWidth) ? options.toolbarWidth + 'px' : options.toolbarWidth : 'auto';\n      options.toolbarContainer = typeof options.toolbarContainer === 'string' ? document.querySelector(options.toolbarContainer) : options.toolbarContainer;\n      options.stickyToolbar = /balloon/i.test(options.mode) || !!options.toolbarContainer ? -1 : options.stickyToolbar === undefined ? 0 : /^\\d+/.test(options.stickyToolbar) ? lib_util.getNumber(options.stickyToolbar, 0) : -1;\n      options.fullScreenOffset = options.fullScreenOffset === undefined ? 0 : /^\\d+/.test(options.fullScreenOffset) ? lib_util.getNumber(options.fullScreenOffset, 0) : 0;\n      options.iframe = options.fullPage || options.iframe;\n      options.fullPage = !!options.fullPage;\n      options.iframeCSSFileName = options.iframe ? typeof options.iframeCSSFileName === 'string' ? [options.iframeCSSFileName] : options.iframeCSSFileName || ['suneditor'] : null;\n      options.previewTemplate = typeof options.previewTemplate === 'string' ? options.previewTemplate : null;\n      options.printTemplate = typeof options.printTemplate === 'string' ? options.printTemplate : null;\n      /** CodeMirror object */\n\n      options.codeMirror = options.codeMirror ? options.codeMirror.src ? options.codeMirror : {\n        src: options.codeMirror\n      } : null;\n      /** katex object (Math plugin) */\n\n      options.katex = options.katex ? options.katex.src ? options.katex : {\n        src: options.katex\n      } : null;\n      options.mathFontSize = !!options.mathFontSize ? options.mathFontSize : [{\n        text: '1',\n        value: '1em'\n      }, {\n        text: '1.5',\n        value: '1.5em'\n      }, {\n        text: '2',\n        value: '2em'\n      }, {\n        text: '2.5',\n        value: '2.5em'\n      }];\n      /** Display */\n\n      options.position = typeof options.position === 'string' ? options.position : null;\n      options.display = options.display || (element.style.display === 'none' || !element.style.display ? 'block' : element.style.display);\n      options.popupDisplay = options.popupDisplay || 'full';\n      /** Bottom resizing bar */\n\n      options.resizingBar = options.resizingBar === undefined ? /inline|balloon/i.test(options.mode) ? false : true : options.resizingBar;\n      options.showPathLabel = !options.resizingBar ? false : typeof options.showPathLabel === 'boolean' ? options.showPathLabel : true;\n      /** Character count */\n\n      options.charCounter = options.maxCharCount > 0 ? true : typeof options.charCounter === 'boolean' ? options.charCounter : false;\n      options.charCounterType = typeof options.charCounterType === 'string' ? options.charCounterType : 'char';\n      options.charCounterLabel = typeof options.charCounterLabel === 'string' ? options.charCounterLabel.trim() : null;\n      options.maxCharCount = lib_util.isNumber(options.maxCharCount) && options.maxCharCount > -1 ? options.maxCharCount * 1 : null;\n      /** Width size */\n\n      options.width = options.width ? lib_util.isNumber(options.width) ? options.width + 'px' : options.width : element.clientWidth ? element.clientWidth + 'px' : '100%';\n      options.minWidth = (lib_util.isNumber(options.minWidth) ? options.minWidth + 'px' : options.minWidth) || '';\n      options.maxWidth = (lib_util.isNumber(options.maxWidth) ? options.maxWidth + 'px' : options.maxWidth) || '';\n      /** Height size */\n\n      options.height = options.height ? lib_util.isNumber(options.height) ? options.height + 'px' : options.height : element.clientHeight ? element.clientHeight + 'px' : 'auto';\n      options.minHeight = (lib_util.isNumber(options.minHeight) ? options.minHeight + 'px' : options.minHeight) || '';\n      options.maxHeight = (lib_util.isNumber(options.maxHeight) ? options.maxHeight + 'px' : options.maxHeight) || '';\n      /** Editing area default style */\n\n      options.defaultStyle = typeof options.defaultStyle === 'string' ? options.defaultStyle : '';\n      /** Defining menu items */\n\n      options.font = !options.font ? null : options.font;\n      options.fontSize = !options.fontSize ? null : options.fontSize;\n      options.formats = !options.formats ? null : options.formats;\n      options.colorList = !options.colorList ? null : options.colorList;\n      options.lineHeights = !options.lineHeights ? null : options.lineHeights;\n      options.paragraphStyles = !options.paragraphStyles ? null : options.paragraphStyles;\n      options.textStyles = !options.textStyles ? null : options.textStyles;\n      options.fontSizeUnit = typeof options.fontSizeUnit === 'string' ? options.fontSizeUnit.trim() || 'px' : 'px';\n      /** Image */\n\n      options.imageResizing = options.imageResizing === undefined ? true : options.imageResizing;\n      options.imageHeightShow = options.imageHeightShow === undefined ? true : !!options.imageHeightShow;\n      options.imageWidth = !options.imageWidth ? 'auto' : lib_util.isNumber(options.imageWidth) ? options.imageWidth + 'px' : options.imageWidth;\n      options.imageHeight = !options.imageHeight ? 'auto' : lib_util.isNumber(options.imageHeight) ? options.imageHeight + 'px' : options.imageHeight;\n      options.imageSizeOnlyPercentage = !!options.imageSizeOnlyPercentage;\n      options._imageSizeUnit = options.imageSizeOnlyPercentage ? '%' : 'px';\n      options.imageRotation = options.imageRotation !== undefined ? options.imageRotation : !(options.imageSizeOnlyPercentage || !options.imageHeightShow);\n      options.imageFileInput = options.imageFileInput === undefined ? true : options.imageFileInput;\n      options.imageUrlInput = options.imageUrlInput === undefined || !options.imageFileInput ? true : options.imageUrlInput;\n      options.imageUploadHeader = options.imageUploadHeader || null;\n      options.imageUploadUrl = typeof options.imageUploadUrl === 'string' ? options.imageUploadUrl : null;\n      options.imageUploadSizeLimit = /\\d+/.test(options.imageUploadSizeLimit) ? lib_util.getNumber(options.imageUploadSizeLimit, 0) : null;\n      options.imageMultipleFile = !!options.imageMultipleFile;\n      options.imageAccept = typeof options.imageAccept !== 'string' || options.imageAccept.trim() === \"*\" ? 'image/*' : options.imageAccept.trim() || 'image/*';\n      /** Image - image gallery */\n\n      options.imageGalleryUrl = typeof options.imageGalleryUrl === 'string' ? options.imageGalleryUrl : null;\n      options.imageGalleryHeader = options.imageGalleryHeader || null;\n      /** Video */\n\n      options.videoResizing = options.videoResizing === undefined ? true : options.videoResizing;\n      options.videoHeightShow = options.videoHeightShow === undefined ? true : !!options.videoHeightShow;\n      options.videoRatioShow = options.videoRatioShow === undefined ? true : !!options.videoRatioShow;\n      options.videoWidth = !options.videoWidth || !lib_util.getNumber(options.videoWidth, 0) ? '' : lib_util.isNumber(options.videoWidth) ? options.videoWidth + 'px' : options.videoWidth;\n      options.videoHeight = !options.videoHeight || !lib_util.getNumber(options.videoHeight, 0) ? '' : lib_util.isNumber(options.videoHeight) ? options.videoHeight + 'px' : options.videoHeight;\n      options.videoSizeOnlyPercentage = !!options.videoSizeOnlyPercentage;\n      options._videoSizeUnit = options.videoSizeOnlyPercentage ? '%' : 'px';\n      options.videoRotation = options.videoRotation !== undefined ? options.videoRotation : !(options.videoSizeOnlyPercentage || !options.videoHeightShow);\n      options.videoRatio = lib_util.getNumber(options.videoRatio, 4) || 0.5625;\n      options.videoRatioList = !options.videoRatioList ? null : options.videoRatioList;\n      options.youtubeQuery = (options.youtubeQuery || '').replace('?', '');\n      options.videoFileInput = !!options.videoFileInput;\n      options.videoUrlInput = options.videoUrlInput === undefined || !options.videoFileInput ? true : options.videoUrlInput;\n      options.videoUploadHeader = options.videoUploadHeader || null;\n      options.videoUploadUrl = typeof options.videoUploadUrl === 'string' ? options.videoUploadUrl : null;\n      options.videoUploadSizeLimit = /\\d+/.test(options.videoUploadSizeLimit) ? lib_util.getNumber(options.videoUploadSizeLimit, 0) : null;\n      options.videoMultipleFile = !!options.videoMultipleFile;\n      options.videoTagAttrs = options.videoTagAttrs || null;\n      options.videoIframeAttrs = options.videoIframeAttrs || null;\n      options.videoAccept = typeof options.videoAccept !== 'string' || options.videoAccept.trim() === \"*\" ? 'video/*' : options.videoAccept.trim() || 'video/*';\n      /** Audio */\n\n      options.audioWidth = !options.audioWidth ? '' : lib_util.isNumber(options.audioWidth) ? options.audioWidth + 'px' : options.audioWidth;\n      options.audioHeight = !options.audioHeight ? '' : lib_util.isNumber(options.audioHeight) ? options.audioHeight + 'px' : options.audioHeight;\n      options.audioFileInput = !!options.audioFileInput;\n      options.audioUrlInput = options.audioUrlInput === undefined || !options.audioFileInput ? true : options.audioUrlInput;\n      options.audioUploadHeader = options.audioUploadHeader || null;\n      options.audioUploadUrl = typeof options.audioUploadUrl === 'string' ? options.audioUploadUrl : null;\n      options.audioUploadSizeLimit = /\\d+/.test(options.audioUploadSizeLimit) ? lib_util.getNumber(options.audioUploadSizeLimit, 0) : null;\n      options.audioMultipleFile = !!options.audioMultipleFile;\n      options.audioTagAttrs = options.audioTagAttrs || null;\n      options.audioAccept = typeof options.audioAccept !== 'string' || options.audioAccept.trim() === \"*\" ? 'audio/*' : options.audioAccept.trim() || 'audio/*';\n      /** Table */\n\n      options.tableCellControllerPosition = typeof options.tableCellControllerPosition === 'string' ? options.tableCellControllerPosition.toLowerCase() : 'cell';\n      /** Link */\n\n      options.linkProtocol = typeof options.linkProtocol === 'string' ? options.linkProtocol : null;\n      options.linkRel = Array.isArray(options.linkRel) ? options.linkRel : [];\n      options.linkRelDefault = options.linkRelDefault || {};\n      /** Key actions */\n\n      options.tabDisable = !!options.tabDisable;\n      options.shortcutsDisable = Array.isArray(options.shortcutsDisable) ? options.shortcutsDisable : [];\n      options.shortcutsHint = options.shortcutsHint === undefined ? true : !!options.shortcutsHint;\n      /** Defining save button */\n\n      options.callBackSave = !options.callBackSave ? null : options.callBackSave;\n      /** Templates Array */\n\n      options.templates = !options.templates ? null : options.templates;\n      /** ETC */\n\n      options.placeholder = typeof options.placeholder === 'string' ? options.placeholder : null;\n      options.mediaAutoSelect = options.mediaAutoSelect === undefined ? true : !!options.mediaAutoSelect;\n      /** Buttons */\n\n      options.buttonList = !!options.buttonList ? options.buttonList : [['undo', 'redo'], ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'], ['removeFormat'], ['outdent', 'indent'], ['fullScreen', 'showBlocks', 'codeView'], ['preview', 'print']];\n      /** RTL - buttons */\n\n      if (options.rtl) {\n        options.buttonList = options.buttonList.reverse();\n      }\n      /** --- Define icons --- */\n      // custom icons\n\n\n      options.icons = !options.icons || typeof options.icons !== 'object' ? defaultIcons : [defaultIcons, options.icons].reduce(function (_default, _new) {\n        for (let key in _new) {\n          if (lib_util.hasOwn(_new, key)) _default[key] = _new[key];\n        }\n\n        return _default;\n      }, {}); // rtl icons\n\n      options.icons = !options.rtl ? options.icons : [options.icons, options.icons.rtl].reduce(function (_default, _new) {\n        for (let key in _new) {\n          if (lib_util.hasOwn(_new, key)) _default[key] = _new[key];\n        }\n\n        return _default;\n      }, {});\n      /** _init options */\n\n      options._editorStyles = lib_util._setDefaultOptionStyle(options, options.defaultStyle);\n    },\n    _setWhitelist: function (whitelist, blacklist) {\n      if (typeof blacklist !== 'string') return whitelist;\n      blacklist = blacklist.split('|');\n      whitelist = whitelist.split('|');\n\n      for (let i = 0, len = blacklist.length, index; i < len; i++) {\n        index = whitelist.indexOf(blacklist[i]);\n        if (index > -1) whitelist.splice(index, 1);\n      }\n\n      return whitelist.join('|');\n    },\n\n    /**\r\n     * @description Suneditor's Default button list\r\n     * @param {Object} options options\r\n     * @private\r\n     */\n    _defaultButtons: function (options) {\n      const icons = options.icons;\n      const lang = options.lang;\n      const cmd = lib_util.isOSX_IOS ? '' : 'CTRL';\n      const addShift = lib_util.isOSX_IOS ? '' : '+SHIFT';\n      const shortcutsDisable = !options.shortcutsHint ? ['bold', 'strike', 'underline', 'italic', 'undo', 'indent', 'save'] : options.shortcutsDisable;\n      const indentKey = options.rtl ? ['[', ']'] : [']', '['];\n      return {\n        /** default command */\n        bold: ['_se_command_bold', lang.toolbar.bold + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('bold') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">B</span>') + '</span>', 'bold', '', icons.bold],\n        underline: ['_se_command_underline', lang.toolbar.underline + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('underline') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">U</span>') + '</span>', 'underline', '', icons.underline],\n        italic: ['_se_command_italic', lang.toolbar.italic + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('italic') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">I</span>') + '</span>', 'italic', '', icons.italic],\n        strike: ['_se_command_strike', lang.toolbar.strike + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('strike') > -1 ? '' : cmd + addShift + '+<span class=\"se-shortcut-key\">S</span>') + '</span>', 'strike', '', icons.strike],\n        subscript: ['_se_command_subscript', lang.toolbar.subscript, 'SUB', '', icons.subscript],\n        superscript: ['_se_command_superscript', lang.toolbar.superscript, 'SUP', '', icons.superscript],\n        removeFormat: ['', lang.toolbar.removeFormat, 'removeFormat', '', icons.erase],\n        indent: ['_se_command_indent', lang.toolbar.indent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[0] + '</span>') + '</span>', 'indent', '', icons.outdent],\n        outdent: ['_se_command_outdent', lang.toolbar.outdent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[1] + '</span>') + '</span>', 'outdent', '', icons.indent],\n        fullScreen: ['se-code-view-enabled se-resizing-enabled _se_command_fullScreen', lang.toolbar.fullScreen, 'fullScreen', '', icons.expansion],\n        showBlocks: ['_se_command_showBlocks', lang.toolbar.showBlocks, 'showBlocks', '', icons.show_blocks],\n        codeView: ['se-code-view-enabled se-resizing-enabled _se_command_codeView', lang.toolbar.codeView, 'codeView', '', icons.code_view],\n        undo: ['_se_command_undo se-resizing-enabled', lang.toolbar.undo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'undo', '', icons.undo],\n        redo: ['_se_command_redo se-resizing-enabled', lang.toolbar.redo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Y</span> / ' + cmd + addShift + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'redo', '', icons.redo],\n        preview: ['se-resizing-enabled', lang.toolbar.preview, 'preview', '', icons.preview],\n        print: ['se-resizing-enabled', lang.toolbar.print, 'print', '', icons.print],\n        save: ['_se_command_save se-resizing-enabled', lang.toolbar.save + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('save') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">S</span>') + '</span>', 'save', '', icons.save],\n\n        /** plugins - command */\n        blockquote: ['', lang.toolbar.tag_blockquote, 'blockquote', 'command', icons.blockquote],\n\n        /** plugins - submenu */\n        font: ['se-btn-select se-btn-tool-font', lang.toolbar.font, 'font', 'submenu', '<span class=\"txt\">' + lang.toolbar.font + '</span>' + icons.arrow_down],\n        formatBlock: ['se-btn-select se-btn-tool-format', lang.toolbar.formats, 'formatBlock', 'submenu', '<span class=\"txt\">' + lang.toolbar.formats + '</span>' + icons.arrow_down],\n        fontSize: ['se-btn-select se-btn-tool-size', lang.toolbar.fontSize, 'fontSize', 'submenu', '<span class=\"txt\">' + lang.toolbar.fontSize + '</span>' + icons.arrow_down],\n        fontColor: ['', lang.toolbar.fontColor, 'fontColor', 'submenu', icons.font_color],\n        hiliteColor: ['', lang.toolbar.hiliteColor, 'hiliteColor', 'submenu', icons.highlight_color],\n        align: ['se-btn-align', lang.toolbar.align, 'align', 'submenu', options.rtl ? icons.align_right : icons.align_left],\n        list: ['', lang.toolbar.list, 'list', 'submenu', icons.list_number],\n        horizontalRule: ['btn_line', lang.toolbar.horizontalRule, 'horizontalRule', 'submenu', icons.horizontal_rule],\n        table: ['', lang.toolbar.table, 'table', 'submenu', icons.table],\n        lineHeight: ['', lang.toolbar.lineHeight, 'lineHeight', 'submenu', icons.line_height],\n        template: ['', lang.toolbar.template, 'template', 'submenu', icons.template],\n        paragraphStyle: ['', lang.toolbar.paragraphStyle, 'paragraphStyle', 'submenu', icons.paragraph_style],\n        textStyle: ['', lang.toolbar.textStyle, 'textStyle', 'submenu', icons.text_style],\n\n        /** plugins - dialog */\n        link: ['', lang.toolbar.link, 'link', 'dialog', icons.link],\n        image: ['', lang.toolbar.image, 'image', 'dialog', icons.image],\n        video: ['', lang.toolbar.video, 'video', 'dialog', icons.video],\n        audio: ['', lang.toolbar.audio, 'audio', 'dialog', icons.audio],\n        math: ['', lang.toolbar.math, 'math', 'dialog', icons.math],\n\n        /** plugins - fileBrowser */\n        imageGallery: ['', lang.toolbar.imageGallery, 'imageGallery', 'fileBrowser', icons.image_gallery]\n      };\n    },\n\n    /**\r\n     * @description Create a group div containing each module\r\n     * @returns {Object}\r\n     * @private\r\n     */\n    _createModuleGroup: function () {\n      const oDiv = lib_util.createElement('DIV');\n      oDiv.className = 'se-btn-module se-btn-module-border';\n      const oUl = lib_util.createElement('UL');\n      oUl.className = 'se-menu-list';\n      oDiv.appendChild(oUl);\n      return {\n        'div': oDiv,\n        'ul': oUl\n      };\n    },\n\n    /**\r\n     * @description Create a button element\r\n     * @param {string} buttonClass className in button\r\n     * @param {string} title Title in button\r\n     * @param {string} dataCommand The data-command property of the button\r\n     * @param {string} dataDisplay The data-display property of the button ('dialog', 'submenu', 'command')\r\n     * @param {string} innerHTML Html in button\r\n     * @param {string} _disabled Button disabled\r\n     * @param {Object} _icons Icons\r\n     * @returns {Object}\r\n     * @private\r\n     */\n    _createButton: function (buttonClass, title, dataCommand, dataDisplay, innerHTML, _disabled, _icons) {\n      const oLi = lib_util.createElement('LI');\n      const oButton = lib_util.createElement('BUTTON');\n      oButton.setAttribute('type', 'button');\n      oButton.setAttribute('class', 'se-btn' + (buttonClass ? ' ' + buttonClass : '') + ' se-tooltip');\n      oButton.setAttribute('data-command', dataCommand);\n      oButton.setAttribute('data-display', dataDisplay);\n      oButton.setAttribute('tabindex', '-1');\n      if (!innerHTML) innerHTML = '<span class=\"se-icon-text\">!</span>';\n\n      if (/^default\\./i.test(innerHTML)) {\n        innerHTML = _icons[innerHTML.replace(/^default\\./i, '')];\n      }\n\n      if (/^text\\./i.test(innerHTML)) {\n        innerHTML = innerHTML.replace(/^text\\./i, '');\n        oButton.className += ' se-btn-more-text';\n      }\n\n      innerHTML += '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + (title || dataCommand) + '</span></span>';\n      if (_disabled) oButton.setAttribute('disabled', true);\n      oButton.innerHTML = innerHTML;\n      oLi.appendChild(oButton);\n      return {\n        'li': oLi,\n        'button': oButton\n      };\n    },\n\n    /**\r\n     * @description Create editor HTML\r\n     * @param {Array} doc document object\r\n     * @param {Array} buttonList option.buttonList\r\n     * @param {Array|Object|null} _plugins Plugins\r\n     * @param {Array} options options\r\n     * @returns {Object} { element: (Element) Toolbar element, plugins: (Array|null) Plugins Array, pluginCallButtons: (Object), responsiveButtons: (Array) }\r\n     * @private\r\n     */\n    _createToolBar: function (doc, buttonList, _plugins, options) {\n      const separator_vertical = doc.createElement('DIV');\n      separator_vertical.className = 'se-toolbar-separator-vertical';\n      const tool_bar = doc.createElement('DIV');\n      tool_bar.className = 'se-toolbar sun-editor-common';\n\n      const _buttonTray = doc.createElement('DIV');\n\n      _buttonTray.className = 'se-btn-tray';\n      tool_bar.appendChild(_buttonTray);\n      /** create button list */\n\n      buttonList = JSON.parse(JSON.stringify(buttonList));\n      const icons = options.icons;\n\n      const defaultButtonList = this._defaultButtons(options);\n\n      const pluginCallButtons = {};\n      const responsiveButtons = [];\n      const plugins = {};\n\n      if (_plugins) {\n        const pluginsValues = _plugins.length ? _plugins : Object.keys(_plugins).map(function (name) {\n          return _plugins[name];\n        });\n\n        for (let i = 0, len = pluginsValues.length, p; i < len; i++) {\n          p = pluginsValues[i].default || pluginsValues[i];\n          plugins[p.name] = p;\n        }\n      }\n\n      let module = null;\n      let button = null;\n      let moduleElement = null;\n      let buttonElement = null;\n      let pluginName = '';\n      let vertical = false;\n      const moreLayer = lib_util.createElement('DIV');\n      moreLayer.className = 'se-toolbar-more-layer';\n\n      buttonGroupLoop: for (let i = 0, more, moreContainer, moreCommand, buttonGroup, align; i < buttonList.length; i++) {\n        more = false;\n        align = '';\n        buttonGroup = buttonList[i];\n        moduleElement = this._createModuleGroup(); // button object\n\n        if (typeof buttonGroup === 'object') {\n          // buttons loop\n          for (let j = 0, moreButton; j < buttonGroup.length; j++) {\n            button = buttonGroup[j];\n            moreButton = false;\n\n            if (/^\\%\\d+/.test(button) && j === 0) {\n              buttonGroup[0] = button.replace(/[^\\d]/g, '');\n              responsiveButtons.push(buttonGroup);\n              buttonList.splice(i--, 1);\n              continue buttonGroupLoop;\n            }\n\n            if (typeof button === 'object') {\n              if (typeof button.add === 'function') {\n                pluginName = button.name;\n                module = defaultButtonList[pluginName];\n                plugins[pluginName] = button;\n              } else {\n                pluginName = button.name;\n                module = [button.buttonClass, button.title, button.name, button.dataDisplay, button.innerHTML, button._disabled];\n              }\n            } else {\n              // align\n              if (/^\\-/.test(button)) {\n                align = button.substr(1);\n                moduleElement.div.style.float = align;\n                continue;\n              } // more button\n\n\n              if (/^\\:/.test(button)) {\n                moreButton = true;\n                const matched = button.match(/^\\:([^\\-]+)\\-([^\\-]+)\\-([^\\-]+)/);\n                moreCommand = '__se__' + matched[1].trim();\n                const title = matched[2].trim();\n                const innerHTML = matched[3].trim();\n                module = ['se-btn-more', title, moreCommand, 'MORE', innerHTML];\n              } // buttons\n              else {\n                  module = defaultButtonList[button];\n                }\n\n              pluginName = button;\n\n              if (!module) {\n                const custom = plugins[pluginName];\n                if (!custom) throw Error('[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. [' + pluginName + ']');\n                module = [custom.buttonClass, custom.title, custom.name, custom.display, custom.innerHTML, custom._disabled];\n              }\n            }\n\n            buttonElement = this._createButton(module[0], module[1], module[2], module[3], module[4], module[5], icons);\n            (more ? moreContainer : moduleElement.ul).appendChild(buttonElement.li);\n\n            if (plugins[pluginName]) {\n              pluginCallButtons[pluginName] = buttonElement.button;\n            } // more button\n\n\n            if (moreButton) {\n              more = true;\n              moreContainer = lib_util.createElement('DIV');\n              moreContainer.className = 'se-more-layer ' + moreCommand;\n              moreContainer.innerHTML = '<div class=\"se-more-form\"><ul class=\"se-menu-list\"' + (align ? ' style=\"float: ' + align + ';\"' : '') + '></ul></div>';\n              moreLayer.appendChild(moreContainer);\n              moreContainer = moreContainer.firstElementChild.firstElementChild;\n            }\n          }\n\n          if (vertical) {\n            const sv = separator_vertical.cloneNode(false);\n\n            _buttonTray.appendChild(sv);\n          }\n\n          _buttonTray.appendChild(moduleElement.div);\n\n          vertical = true;\n        }\n        /** line break  */\n        else if (/^\\/$/.test(buttonGroup)) {\n            const enterDiv = doc.createElement('DIV');\n            enterDiv.className = 'se-btn-module-enter';\n\n            _buttonTray.appendChild(enterDiv);\n\n            vertical = false;\n          }\n      }\n\n      switch (_buttonTray.children.length) {\n        case 0:\n          _buttonTray.style.display = 'none';\n          break;\n\n        case 1:\n          lib_util.removeClass(_buttonTray.firstElementChild, 'se-btn-module-border');\n          break;\n\n        default:\n          if (options.rtl) {\n            const sv = separator_vertical.cloneNode(false);\n            sv.style.float = _buttonTray.lastElementChild.style.float;\n\n            _buttonTray.appendChild(sv);\n          }\n\n      }\n\n      if (responsiveButtons.length > 0) responsiveButtons.unshift(buttonList);\n      if (moreLayer.children.length > 0) _buttonTray.appendChild(moreLayer); // menu tray\n\n      const _menuTray = doc.createElement('DIV');\n\n      _menuTray.className = 'se-menu-tray';\n      tool_bar.appendChild(_menuTray); // cover\n\n      const tool_cover = doc.createElement('DIV');\n      tool_cover.className = 'se-toolbar-cover';\n      tool_bar.appendChild(tool_cover);\n      return {\n        'element': tool_bar,\n        'plugins': plugins,\n        'pluginCallButtons': pluginCallButtons,\n        'responsiveButtons': responsiveButtons,\n        '_menuTray': _menuTray,\n        '_buttonTray': _buttonTray\n      };\n    }\n  }; // CONCATENATED MODULE: ./node_modules/suneditor/src/lib/context.js\n\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /**\r\n   * @description Elements and variables you should have\r\n   * @param {Element} element textarea element\r\n   * @param {object} cons Toolbar element you created\r\n   * @param {JSON|Object} options Inserted options\r\n   * @returns {Object} {Elements, variables of the editor, option}\r\n   * @private\r\n   */\n\n  const _Context = function (element, cons, options) {\n    return {\n      element: {\n        originElement: element,\n        topArea: cons._top,\n        relative: cons._relative,\n        toolbar: cons._toolBar,\n        _buttonTray: cons._toolBar.querySelector('.se-btn-tray'),\n        _menuTray: cons._menuTray,\n        resizingBar: cons._resizingBar,\n        navigation: cons._navigation,\n        charWrapper: cons._charWrapper,\n        charCounter: cons._charCounter,\n        editorArea: cons._editorArea,\n        wysiwygFrame: cons._wysiwygArea,\n        wysiwyg: cons._wysiwygArea,\n        // if (options.iframe) cons._wysiwygArea.contentDocument.body\n        code: cons._codeArea,\n        placeholder: cons._placeholder,\n        loading: cons._loading,\n        lineBreaker: cons._lineBreaker,\n        lineBreaker_t: cons._lineBreaker_t,\n        lineBreaker_b: cons._lineBreaker_b,\n        resizeBackground: cons._resizeBack,\n        _stickyDummy: cons._stickyDummy,\n        _arrow: cons._arrow\n      },\n      tool: {\n        cover: cons._toolBar.querySelector('.se-toolbar-cover'),\n        bold: cons._toolBar.querySelector('._se_command_bold'),\n        underline: cons._toolBar.querySelector('._se_command_underline'),\n        italic: cons._toolBar.querySelector('._se_command_italic'),\n        strike: cons._toolBar.querySelector('._se_command_strike'),\n        subscript: cons._toolBar.querySelector('._se_command_subscript'),\n        superscript: cons._toolBar.querySelector('._se_command_superscript'),\n        undo: cons._toolBar.querySelector('._se_command_undo'),\n        redo: cons._toolBar.querySelector('._se_command_redo'),\n        save: cons._toolBar.querySelector('._se_command_save'),\n        outdent: cons._toolBar.querySelector('._se_command_outdent'),\n        indent: cons._toolBar.querySelector('._se_command_indent'),\n        fullScreen: cons._toolBar.querySelector('._se_command_fullScreen'),\n        showBlocks: cons._toolBar.querySelector('._se_command_showBlocks'),\n        codeView: cons._toolBar.querySelector('._se_command_codeView')\n      },\n      options: options,\n      option: options\n    };\n  };\n  /* harmony default export */\n\n\n  var lib_context = _Context; // CONCATENATED MODULE: ./node_modules/suneditor/src/lib/history.js\n\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2019 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n  var lib_history = function (core, change) {\n    const _w = core._w;\n    const util = core.util;\n    const delayTime = core.options.historyStackDelayTime;\n    let editor = core.context.element;\n    let undo = core.context.tool.undo;\n    let redo = core.context.tool.redo;\n    let pushDelay = null;\n    let stackIndex = 0;\n    let stack = [];\n\n    function setContentsFromStack() {\n      const item = stack[stackIndex];\n      editor.wysiwyg.innerHTML = item.contents;\n      core.setRange(util.getNodeFromPath(item.s.path, editor.wysiwyg), item.s.offset, util.getNodeFromPath(item.e.path, editor.wysiwyg), item.e.offset);\n      core.focus();\n\n      if (stackIndex === 0) {\n        if (undo) undo.setAttribute('disabled', true);\n        if (redo) redo.removeAttribute('disabled');\n      } else if (stackIndex === stack.length - 1) {\n        if (undo) undo.removeAttribute('disabled');\n        if (redo) redo.setAttribute('disabled', true);\n      } else {\n        if (undo) undo.removeAttribute('disabled');\n        if (redo) redo.removeAttribute('disabled');\n      }\n\n      core.controllersOff();\n\n      core._checkComponents();\n\n      core._setCharCount();\n\n      core._resourcesStateChange(); // onChange\n\n\n      change();\n    }\n\n    function pushStack() {\n      core._checkComponents();\n\n      const current = core.getContents(true);\n      if (!current || !!stack[stackIndex] && current === stack[stackIndex].contents) return;\n      stackIndex++;\n      const range = core._variable._range;\n\n      if (stack.length > stackIndex) {\n        stack = stack.slice(0, stackIndex);\n        if (redo) redo.setAttribute('disabled', true);\n      }\n\n      if (!range) {\n        stack[stackIndex] = {\n          contents: current,\n          s: {\n            path: [0, 0],\n            offset: [0, 0]\n          },\n          e: {\n            path: 0,\n            offset: 0\n          }\n        };\n      } else {\n        stack[stackIndex] = {\n          contents: current,\n          s: {\n            path: util.getNodePath(range.startContainer, null, null),\n            offset: range.startOffset\n          },\n          e: {\n            path: util.getNodePath(range.endContainer, null, null),\n            offset: range.endOffset\n          }\n        };\n      }\n\n      if (stackIndex === 1 && undo) undo.removeAttribute('disabled');\n\n      core._setCharCount(); // onChange\n\n\n      change();\n    }\n\n    return {\n      /**\n       * @description History stack\n       */\n      stack: stack,\n\n      /**\n       * @description Saving the current status to the history object stack\n       * If \"delay\" is true, it will be saved after (options.historyStackDelayTime || 400) miliseconds\n       * If the function is called again with the \"delay\" argument true before it is saved, the delay time is renewal\n       * You can specify the delay time by sending a number.\n       * @param {Boolean|Number} delay If true, Add stack without delay time.\n       */\n      push: function (delay) {\n        _w.setTimeout(core._resourcesStateChange.bind(core));\n\n        const time = typeof delay === 'number' ? delay > 0 ? delay : 0 : !delay ? 0 : delayTime;\n\n        if (!time || pushDelay) {\n          _w.clearTimeout(pushDelay);\n\n          if (!time) {\n            pushStack();\n            return;\n          }\n        }\n\n        pushDelay = _w.setTimeout(function () {\n          _w.clearTimeout(pushDelay);\n\n          pushDelay = null;\n          pushStack();\n        }, time);\n      },\n\n      /**\n       * @description Undo function\n       */\n      undo: function () {\n        if (stackIndex > 0) {\n          stackIndex--;\n          setContentsFromStack();\n        }\n      },\n\n      /**\n       * @description Redo function\n       */\n      redo: function () {\n        if (stack.length - 1 > stackIndex) {\n          stackIndex++;\n          setContentsFromStack();\n        }\n      },\n\n      /**\n       * @description Go to the history stack for that index.\n       * If \"index\" is -1, go to the last stack\n       * @param {Number} index Stack index\n       */\n      go: function (index) {\n        stackIndex = index < 0 ? stack.length - 1 : index;\n        setContentsFromStack();\n      },\n\n      /**\n       * @description Reset the history object\n       */\n      reset: function (ignoreChangeEvent) {\n        if (undo) undo.setAttribute('disabled', true);\n        if (redo) redo.setAttribute('disabled', true);\n        core._variable.isChanged = false;\n        if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\n        stack.splice(0);\n        stackIndex = 0; // pushStack\n\n        stack[stackIndex] = {\n          contents: core.getContents(true),\n          s: {\n            path: [0, 0],\n            offset: 0\n          },\n          e: {\n            path: [0, 0],\n            offset: 0\n          }\n        };\n        if (!ignoreChangeEvent) change();\n      },\n\n      /**\n       * @description Reset the disabled state of the buttons to fit the current stack.\n       * @private\n       */\n      _resetCachingButton: function () {\n        editor = core.context.element;\n        undo = core.context.tool.undo;\n        redo = core.context.tool.redo;\n\n        if (stackIndex === 0) {\n          if (undo) undo.setAttribute('disabled', true);\n          if (redo && stackIndex === stack.length - 1) redo.setAttribute('disabled', true);\n          core._variable.isChanged = false;\n          if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\n        } else if (stackIndex === stack.length - 1) {\n          if (redo) redo.setAttribute('disabled', true);\n        }\n      },\n\n      /**\n       * @description Remove all stacks and remove the timeout function.\n       * @private\n       */\n      _destroy: function () {\n        if (pushDelay) _w.clearTimeout(pushDelay);\n        stack = null;\n      }\n    };\n  }; // CONCATENATED MODULE: ./node_modules/suneditor/src/plugins/modules/_notice.js\n\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  var _notice = {\n    name: 'notice',\n\n    /**\n     * @description Constructor\n     * @param {Object} core Core object \n     */\n    add: function (core) {\n      const context = core.context;\n      context.notice = {};\n      /** dialog */\n\n      let notice_div = core.util.createElement('DIV');\n      let notice_span = core.util.createElement('SPAN');\n      let notice_button = core.util.createElement('BUTTON');\n      notice_div.className = 'se-notice';\n      notice_button.className = 'close';\n      notice_button.setAttribute('aria-label', 'Close');\n      notice_button.setAttribute('title', core.lang.dialogBox.close);\n      notice_button.innerHTML = core.icons.cancel;\n      notice_div.appendChild(notice_span);\n      notice_div.appendChild(notice_button);\n      context.notice.modal = notice_div;\n      context.notice.message = notice_span;\n      /** add event listeners */\n\n      notice_button.addEventListener('click', this.onClick_cancel.bind(core));\n      /** append html */\n\n      context.element.editorArea.appendChild(notice_div);\n      /** empty memory */\n\n      notice_div = null;\n    },\n\n    /**\n     * @description Event when clicking the cancel button\n     * @param {MouseEvent} e Event object\n     */\n    onClick_cancel: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.plugins.notice.close.call(this);\n    },\n\n    /**\n     * @description  Open the notice panel\n     * @param {String} text Notice message\n     */\n    open: function (text) {\n      this.context.notice.message.textContent = text;\n      this.context.notice.modal.style.display = 'block';\n    },\n\n    /**\n     * @description  Open the notice panel\n     */\n    close: function () {\n      this.context.notice.modal.style.display = 'none';\n    }\n  }; // CONCATENATED MODULE: ./node_modules/suneditor/src/lib/core.js\n\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /**\r\n   * @description SunEditor constuctor function.\r\n   * create core object and event registration.\r\n   * core, event, functions\r\n   * @param {Object} context\r\n   * @param {Object} pluginCallButtons\r\n   * @param {Object} plugins \r\n   * @param {Object} lang\r\n   * @param {Object} options\r\n   * @param {Object} _responsiveButtons\r\n   * @returns {Object} functions Object\r\n   */\n\n  /* harmony default export */\n\n  var lib_core = function (context, pluginCallButtons, plugins, lang, options, _responsiveButtons) {\n    const _d = context.element.originElement.ownerDocument || document;\n\n    const _w = _d.defaultView || window;\n\n    const util = lib_util;\n    const icons = options.icons;\n    /**\r\n     * @description editor core object\r\n     * should always bind this object when registering an event in the plug-in.\r\n     */\n\n    const core = {\n      _d: _d,\n      _w: _w,\n      _parser: new _w.DOMParser(),\n\n      /**\r\n       * @description Document object of the iframe if created as an iframe || _d\r\n       * @private\r\n       */\n      _wd: null,\n\n      /**\r\n       * @description Window object of the iframe if created as an iframe || _w\r\n       * @private\r\n       */\n      _ww: null,\n\n      /**\r\n       * @description Closest ShadowRoot to editor if found\r\n       * @private\r\n       */\n      _shadowRoot: null,\n\n      /**\r\n       * @description Block controller mousedown events in \"shadowRoot\" environment\r\n       * @private\r\n       */\n      _shadowRootControllerEventTarget: null,\n\n      /**\r\n       * @description Util object\r\n       */\n      util: util,\n\n      /**\r\n       * @description Functions object\r\n       */\n      functions: null,\n\n      /**\r\n       * @description Editor options\r\n       */\n      options: null,\n\n      /**\r\n       * @description Computed style of the wysiwyg area (window.getComputedStyle(context.element.wysiwyg))\r\n       */\n      wwComputedStyle: _w.getComputedStyle(context.element.wysiwyg),\n\n      /**\r\n       * @description Notice object\r\n       */\n      notice: _notice,\n\n      /**\r\n       * @description Default icons object\r\n       */\n      icons: icons,\n\n      /**\r\n       * @description History object for undo, redo\r\n       */\n      history: null,\n\n      /**\r\n       * @description Elements and user options parameters of the suneditor\r\n       */\n      context: context,\n\n      /**\r\n       * @description Plugin buttons\r\n       */\n      pluginCallButtons: pluginCallButtons,\n\n      /**\r\n       * @description Loaded plugins\r\n       */\n      plugins: plugins || {},\n\n      /**\r\n       * @description Whether the plugin is initialized\r\n       */\n      initPlugins: {},\n\n      /**\r\n       * @description Object for managing submenu elements\r\n       * @private\r\n       */\n      _targetPlugins: {},\n\n      /**\r\n       * @description Save rendered submenus and containers\r\n       * @private\r\n       */\n      _menuTray: {},\n\n      /**\r\n       * @description loaded language\r\n       */\n      lang: lang,\n\n      /**\r\n       * @description The selection node (core.getSelectionNode()) to which the effect was last applied\r\n       */\n      effectNode: null,\n\n      /**\r\n       * @description submenu element\r\n       */\n      submenu: null,\n\n      /**\r\n       * @description container element\r\n       */\n      container: null,\n\n      /**\r\n       * @description current subment name\r\n       * @private\r\n       */\n      _submenuName: '',\n\n      /**\r\n       * @description binded submenuOff method\r\n       * @private\r\n       */\n      _bindedSubmenuOff: null,\n\n      /**\r\n       * @description binded containerOff method\r\n       * @private\r\n       */\n      _bindedContainerOff: null,\n\n      /**\r\n       * @description active button element in submenu\r\n       */\n      submenuActiveButton: null,\n\n      /**\r\n       * @description active button element in container\r\n       */\n      containerActiveButton: null,\n\n      /**\r\n       * @description The elements array to be processed unvisible when the controllersOff function is executed (resizing, link modified button, table controller)\r\n       */\n      controllerArray: [],\n\n      /**\r\n       * @description The name of the plugin that called the currently active controller\r\n       */\n      currentControllerName: '',\n\n      /**\r\n       * @description The target element of current controller\r\n       */\n      currentControllerTarget: null,\n\n      /**\r\n       * @description The file component object of current selected file tag (getFileComponent)\r\n       */\n      currentFileComponentInfo: null,\n\n      /**\r\n       * @description An array of buttons whose class name is not \"se-code-view-enabled\"\r\n       */\n      codeViewDisabledButtons: null,\n\n      /**\r\n       * @description An array of buttons whose class name is not \"se-resizing-enabled\"\r\n       */\n      resizingDisabledButtons: null,\n\n      /**\r\n       * @description active more layer element in submenu\r\n       * @private\r\n       */\n      _moreLayerActiveButton: null,\n\n      /**\r\n       * @description Tag whitelist RegExp object used in \"_consistencyCheckOfHTML\" method\r\n       * ^(options._editorTagsWhitelist)$\r\n       * @private\r\n       */\n      _htmlCheckWhitelistRegExp: null,\n\n      /**\r\n       * @description RegExp when using check disallowd tags. (b, i, ins, strike, s)\r\n       * @private\r\n       */\n      _disallowedTextTagsRegExp: null,\n\n      /**\r\n       * @description Editor tags whitelist (RegExp object)\r\n       * util.createTagsWhitelist(options._editorTagsWhitelist)\r\n       */\n      editorTagsWhitelistRegExp: null,\n\n      /**\r\n       * @description Tag whitelist when pasting (RegExp object)\r\n       * util.createTagsWhitelist(options.pasteTagsWhitelist)\r\n       */\n      pasteTagsWhitelistRegExp: null,\n\n      /**\r\n       * @description Boolean value of whether the editor has focus\r\n       */\n      hasFocus: false,\n\n      /**\r\n       * @description Boolean value of whether the editor is disabled\r\n       */\n      isDisabled: false,\n\n      /**\r\n       * @description Attributes whitelist used by the cleanHTML method\r\n       * @private\r\n       */\n      _attributesWhitelistRegExp: null,\n\n      /**\r\n       * @description Attributes of tags whitelist used by the cleanHTML method\r\n       * @private\r\n       */\n      _attributesTagsWhitelist: null,\n\n      /**\r\n       * @description binded controllersOff method\r\n       * @private\r\n       */\n      _bindControllersOff: null,\n\n      /**\r\n       * @description Is inline mode?\r\n       * @private\r\n       */\n      _isInline: null,\n\n      /**\r\n       * @description Is balloon|balloon-always mode?\r\n       * @private\r\n       */\n      _isBalloon: null,\n\n      /**\r\n       * @description Is balloon-always mode?\r\n       * @private\r\n       */\n      _isBalloonAlways: null,\n\n      /**\r\n       * @description Required value when using inline mode to sticky toolbar\r\n       * @private\r\n       */\n      _inlineToolbarAttr: {\n        top: '',\n        width: '',\n        isShow: false\n      },\n\n      /**\r\n       * @description Variable that controls the \"blur\" event in the editor of inline or balloon mode when the focus is moved to submenu\r\n       * @private\r\n       */\n      _notHideToolbar: false,\n\n      /**\r\n       * @description Variable value that sticky toolbar mode\r\n       * @private\r\n       */\n      _sticky: false,\n\n      /**\r\n       * @description Variables for controlling focus and blur events\r\n       * @private\r\n       */\n      _antiBlur: false,\n\n      /**\r\n       * @description Component line breaker element\r\n       * @private\r\n       */\n      _lineBreaker: null,\n      _lineBreakerButton: null,\n\n      /**\r\n       * @description If true, (initialize, reset) all indexes of image, video information\r\n       * @private\r\n       */\n      _componentsInfoInit: true,\n      _componentsInfoReset: false,\n\n      /**\r\n       * @description Plugins array with \"active\" method.\r\n       * \"activePlugins\" runs the \"add\" method when creating the editor.\r\n       */\n      activePlugins: null,\n\n      /**\r\n       * @description Information of tags that should maintain HTML structure, style, class name, etc. (In use by \"math\" plugin)\r\n       * When inserting \"html\" such as paste, it is executed on the \"html\" to be inserted. (core.cleanHTML)\r\n       * Basic Editor Actions:\r\n       * 1. All classes not starting with \"__se__\" or \"se-\" in the editor are removed.\r\n       * 2. The style of all tags except the \"span\" tag is removed from the editor.\r\n       * \"managedTagsInfo\" structure ex:\r\n       * managedTagsInfo: {\r\n       *   query: '.__se__xxx, se-xxx'\r\n       *   map: {\r\n       *     '__se__xxx': method.bind(core),\r\n       *     'se-xxx': method.bind(core),\r\n       *   }\r\n       * }\r\n       * @example\r\n       * Define in the following return format in the \"managedTagInfo\" function of the plugin.\r\n       * managedTagInfo() => {\r\n       *  return {\r\n       *    className: 'string', // Class name to identify the tag. (\"__se__xxx\", \"se-xxx\")\r\n       *    // Change the html of the \"element\". (\"element\" is the element found with \"className\".)\r\n       *    // \"method\" is executed by binding \"core\".\r\n       *    method: function (element) {\r\n       *      // this === core\r\n       *      element.innerHTML = // (rendered html);\r\n       *    }\r\n       *  }\r\n       * }\r\n       */\n      managedTagsInfo: null,\n\n      /**\r\n       * @description cashing: options.charCounterType === 'byte-html'\r\n       * @private\r\n       */\n      _charTypeHTML: false,\n\n      /**\r\n       * @description Array of \"checkFileInfo\" functions with the core bound\r\n       * (Plugins with \"checkFileInfo\" and \"resetFileInfo\" methods)\r\n       * \"fileInfoPlugins\" runs the \"add\" method when creating the editor.\r\n       * \"checkFileInfo\" method is always call just before the \"change\" event.\r\n       * @private\r\n       */\n      _fileInfoPluginsCheck: null,\n\n      /**\r\n       * @description Array of \"resetFileInfo\" functions with the core bound\r\n       * (Plugins with \"checkFileInfo\" and \"resetFileInfo\" methods)\r\n       * \"checkFileInfo\" method is always call just before the \"functions.setOptions\" method.\r\n       * @private\r\n       */\n      _fileInfoPluginsReset: null,\n\n      /**\r\n       * @description Variables for file component management\r\n       * @private\r\n       */\n      _fileManager: {\n        tags: null,\n        regExp: null,\n        queryString: null,\n        pluginRegExp: null,\n        pluginMap: null\n      },\n\n      /**\r\n       * @description Elements that need to change text or className for each selection change\r\n       * After creating the editor, \"activePlugins\" are added.\r\n       * @property {Element} STRONG bold button\r\n       * @property {Element} U underline button\r\n       * @property {Element} EM italic button\r\n       * @property {Element} DEL strike button\r\n       * @property {Element} SUB subscript button\r\n       * @property {Element} SUP superscript button\r\n       * @property {Element} OUTDENT outdent button\r\n       * @property {Element} INDENT indent button\r\n       */\n      commandMap: null,\n\n      /**\r\n       * @description Style button related to edit area\r\n       * @property {Element} fullScreen fullScreen button element\r\n       * @property {Element} showBlocks showBlocks button element\r\n       * @property {Element} codeView codeView button element\r\n       * @private\r\n       */\n      _styleCommandMap: null,\n\n      /**\r\n       * @description Map of default command\r\n       * @private\r\n       */\n      _defaultCommand: {\n        bold: options.textTags.bold,\n        underline: options.textTags.underline,\n        italic: options.textTags.italic,\n        strike: options.textTags.strike,\n        subscript: options.textTags.sub,\n        superscript: options.textTags.sup\n      },\n\n      /**\r\n       * @description Variables used internally in editor operation\r\n       * @property {Boolean} isCodeView State of code view\r\n       * @property {Boolean} isFullScreen State of full screen\r\n       * @property {Number} innerHeight_fullScreen InnerHeight in editor when in full screen\r\n       * @property {Number} resizeClientY Remember the vertical size of the editor before resizing the editor (Used when calculating during resize operation)\r\n       * @property {Number} tabSize Indent size of tab (4)\r\n       * @property {Number} codeIndent Indent size of Code view mode (4)\r\n       * @property {Number} minResizingSize Minimum size of editing area when resized {Number} (.se-wrapper-inner {min-height: 65px;} || 65)\r\n       * @property {Array} currentNodes  An array of the current cursor's node structure\r\n       * @private\r\n       */\n      _variable: {\n        isChanged: false,\n        isCodeView: false,\n        isFullScreen: false,\n        innerHeight_fullScreen: 0,\n        resizeClientY: 0,\n        tabSize: 4,\n        codeIndent: 4,\n        minResizingSize: util.getNumber(context.element.wysiwygFrame.style.minHeight || '65', 0),\n        currentNodes: [],\n        currentNodesMap: [],\n        _range: null,\n        _selectionNode: null,\n        _originCssText: context.element.topArea.style.cssText,\n        _bodyOverflow: '',\n        _editorAreaOriginCssText: '',\n        _wysiwygOriginCssText: '',\n        _codeOriginCssText: '',\n        _fullScreenAttrs: {\n          sticky: false,\n          balloon: false,\n          inline: false\n        },\n        _lineBreakComp: null,\n        _lineBreakDir: ''\n      },\n\n      /**\r\n       * @description If the plugin is not added, add the plugin and call the 'add' function.\r\n       * If the plugin is added call callBack function.\r\n       * @param {String} pluginName The name of the plugin to call\r\n       * @param {function} callBackFunction Function to be executed immediately after module call\r\n       * @param {Element|null} _target Plugin target button (This is not necessary if you have a button list when creating the editor)\r\n       */\n      callPlugin: function (pluginName, callBackFunction, _target) {\n        _target = _target || pluginCallButtons[pluginName];\n\n        if (!this.plugins[pluginName]) {\n          throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:\"' + pluginName + '\")');\n        } else if (!this.initPlugins[pluginName]) {\n          this.plugins[pluginName].add(this, _target);\n          this.initPlugins[pluginName] = true;\n        } else if (typeof this._targetPlugins[pluginName] === 'object' && !!_target) {\n          this.initMenuTarget(pluginName, _target, this._targetPlugins[pluginName]);\n        }\n\n        if (this.plugins[pluginName].active && !this.commandMap[pluginName] && !!_target) {\n          this.commandMap[pluginName] = _target;\n          this.activePlugins.push(pluginName);\n        }\n\n        if (typeof callBackFunction === 'function') callBackFunction();\n      },\n\n      /**\r\n       * @description If the module is not added, add the module and call the 'add' function\r\n       * @param {Array} moduleArray module object's Array [dialog, resizing]\r\n       */\n      addModule: function (moduleArray) {\n        for (let i = 0, len = moduleArray.length, moduleName; i < len; i++) {\n          moduleName = moduleArray[i].name;\n\n          if (!this.plugins[moduleName]) {\n            this.plugins[moduleName] = moduleArray[i];\n          }\n\n          if (!this.initPlugins[moduleName]) {\n            this.initPlugins[moduleName] = true;\n            if (typeof this.plugins[moduleName].add === 'function') this.plugins[moduleName].add(this);\n          }\n        }\n      },\n\n      /**\r\n       * @description Gets the current editor-relative scroll offset.\r\n       * @returns {Object} {top, left}\r\n       */\n      getGlobalScrollOffset: function () {\n        let t = 0,\n            l = 0;\n        let el = context.element.topArea;\n\n        while (el) {\n          t += el.scrollTop;\n          l += el.scrollLeft;\n          el = el.parentElement;\n        }\n\n        el = this._shadowRoot ? this._shadowRoot.host : null;\n\n        while (el) {\n          t += el.scrollTop;\n          l += el.scrollLeft;\n          el = el.parentElement;\n        }\n\n        return {\n          top: t,\n          left: l\n        };\n      },\n\n      /**\r\n       * @description Method for managing submenu element.\r\n       * You must add the \"submenu\" element using the this method at custom plugin.\r\n       * @param {String} pluginName Plugin name\r\n       * @param {Element|null} target Target button\r\n       * @param {Element} menu Submenu element\r\n       */\n      initMenuTarget: function (pluginName, target, menu) {\n        if (!target) {\n          this._targetPlugins[pluginName] = menu;\n        } else {\n          context.element._menuTray.appendChild(menu);\n\n          this._targetPlugins[pluginName] = true;\n          this._menuTray[target.getAttribute('data-command')] = menu;\n        }\n      },\n\n      /**\r\n       * @description Enabled submenu\r\n       * @param {Element} element Submenu's button element to call\r\n       */\n      submenuOn: function (element) {\n        if (this._bindedSubmenuOff) this._bindedSubmenuOff();\n        if (this._bindControllersOff) this.controllersOff();\n        const submenuName = this._submenuName = element.getAttribute('data-command');\n        const menu = this.submenu = this._menuTray[submenuName];\n        this.submenuActiveButton = element;\n\n        this._setMenuPosition(element, menu);\n\n        this._bindedSubmenuOff = this.submenuOff.bind(this);\n        this.addDocEvent('mousedown', this._bindedSubmenuOff, false);\n        if (this.plugins[submenuName].on) this.plugins[submenuName].on.call(this);\n        this._antiBlur = true;\n      },\n\n      /**\r\n       * @description Disable submenu\r\n       */\n      submenuOff: function () {\n        this.removeDocEvent('mousedown', this._bindedSubmenuOff);\n        this._bindedSubmenuOff = null;\n\n        if (this.submenu) {\n          this._submenuName = '';\n          this.submenu.style.display = 'none';\n          this.submenu = null;\n          util.removeClass(this.submenuActiveButton, 'on');\n          this.submenuActiveButton = null;\n          this._notHideToolbar = false;\n        }\n\n        this._antiBlur = false;\n      },\n\n      /**\r\n       * @description Enabled container\r\n       * @param {Element} element Container's button element to call\r\n       */\n      containerOn: function (element) {\n        if (this._bindedContainerOff) this._bindedContainerOff();\n        const containerName = this._containerName = element.getAttribute('data-command');\n        const menu = this.container = this._menuTray[containerName];\n        this.containerActiveButton = element;\n\n        this._setMenuPosition(element, menu);\n\n        this._bindedContainerOff = this.containerOff.bind(this);\n        this.addDocEvent('mousedown', this._bindedContainerOff, false);\n        if (this.plugins[containerName].on) this.plugins[containerName].on.call(this);\n        this._antiBlur = true;\n      },\n\n      /**\r\n       * @description Disable container\r\n       */\n      containerOff: function () {\n        this.removeDocEvent('mousedown', this._bindedContainerOff);\n        this._bindedContainerOff = null;\n\n        if (this.container) {\n          this._containerName = '';\n          this.container.style.display = 'none';\n          this.container = null;\n          util.removeClass(this.containerActiveButton, 'on');\n          this.containerActiveButton = null;\n          this._notHideToolbar = false;\n        }\n\n        this._antiBlur = false;\n      },\n\n      /**\r\n       * @description Set the menu position. (submenu, container)\r\n       * @param {*} element Button element\r\n       * @param {*} menu Menu element\r\n       * @private\r\n       */\n      _setMenuPosition: function (element, menu) {\n        menu.style.visibility = 'hidden';\n        menu.style.display = 'block';\n        menu.style.height = '';\n        util.addClass(element, 'on');\n        const toolbar = this.context.element.toolbar;\n        const toolbarW = toolbar.offsetWidth;\n\n        const toolbarOffset = event._getEditorOffsets(context.element.toolbar);\n\n        const menuW = menu.offsetWidth;\n        const l = element.parentElement.offsetLeft + 3; // rtl\n\n        if (options.rtl) {\n          const elementW = element.offsetWidth;\n          const rtlW = menuW > elementW ? menuW - elementW : 0;\n          const rtlL = rtlW > 0 ? 0 : elementW - menuW;\n          menu.style.left = l - rtlW + rtlL + 'px';\n\n          if (toolbarOffset.left > event._getEditorOffsets(menu).left) {\n            menu.style.left = '0px';\n          }\n        } else {\n          const overLeft = toolbarW <= menuW ? 0 : toolbarW - (l + menuW);\n          if (overLeft < 0) menu.style.left = l + overLeft + 'px';else menu.style.left = l + 'px';\n        } // get element top\n\n\n        let t = 0;\n        let offsetEl = element;\n\n        while (offsetEl && offsetEl !== toolbar) {\n          t += offsetEl.offsetTop;\n          offsetEl = offsetEl.offsetParent;\n        }\n\n        const bt = t;\n\n        if (this._isBalloon) {\n          t += toolbar.offsetTop + element.offsetHeight;\n        } else {\n          t -= element.offsetHeight;\n        } // set menu position\n\n\n        const toolbarTop = toolbarOffset.top;\n        const menuHeight = menu.offsetHeight;\n        const scrollTop = this.getGlobalScrollOffset().top;\n        const menuHeight_bottom = _w.innerHeight - (toolbarTop - scrollTop + bt + element.parentElement.offsetHeight);\n\n        if (menuHeight_bottom < menuHeight) {\n          let menuTop = -1 * (menuHeight - bt + 3);\n          const insTop = toolbarTop - scrollTop + menuTop;\n          const menuHeight_top = menuHeight + (insTop < 0 ? insTop : 0);\n\n          if (menuHeight_top > menuHeight_bottom) {\n            menu.style.height = menuHeight_top + 'px';\n            menuTop = -1 * (menuHeight_top - bt + 3);\n          } else {\n            menu.style.height = menuHeight_bottom + 'px';\n            menuTop = bt + element.parentElement.offsetHeight;\n          }\n\n          menu.style.top = menuTop + 'px';\n        } else {\n          menu.style.top = bt + element.parentElement.offsetHeight + 'px';\n        }\n\n        menu.style.visibility = '';\n      },\n\n      /**\r\n       * @description Show controller at editor area (controller elements, function, \"controller target element(@Required)\", \"controller name(@Required)\", etc..)\r\n       * @param {*} arguments controller elements, functions..\r\n       */\n      controllersOn: function () {\n        if (this._bindControllersOff) this._bindControllersOff();\n        this.controllerArray = [];\n\n        for (let i = 0, arg; i < arguments.length; i++) {\n          arg = arguments[i];\n          if (!arg) continue;\n\n          if (typeof arg === 'string') {\n            this.currentControllerName = arg;\n            continue;\n          }\n\n          if (typeof arg === 'function') {\n            this.controllerArray.push(arg);\n            continue;\n          }\n\n          if (!util.hasClass(arg, 'se-controller')) {\n            this.currentControllerTarget = arg;\n            this.currentFileComponentInfo = this.getFileComponent(arg);\n            continue;\n          }\n\n          if (arg.style) {\n            arg.style.display = 'block';\n\n            if (this._shadowRoot && this._shadowRootControllerEventTarget.indexOf(arg) === -1) {\n              arg.addEventListener('mousedown', function (e) {\n                e.preventDefault();\n                e.stopPropagation();\n              });\n\n              this._shadowRootControllerEventTarget.push(arg);\n            }\n          }\n\n          this.controllerArray.push(arg);\n        }\n\n        this._bindControllersOff = this.controllersOff.bind(this);\n        this.addDocEvent('mousedown', this._bindControllersOff, false);\n        this.addDocEvent('keydown', this._bindControllersOff, false);\n        this._antiBlur = true;\n        if (typeof functions.showController === 'function') functions.showController(this.currentControllerName, this.controllerArray, this);\n      },\n\n      /**\r\n       * @description Hide controller at editor area (link button, image resize button..)\r\n       * @param {KeyboardEvent|MouseEvent|null} e Event object when called from mousedown and keydown events registered in \"core.controllersOn\"\r\n       */\n      controllersOff: function (e) {\n        this._lineBreaker.style.display = 'none';\n        const len = this.controllerArray.length;\n\n        if (e && e.target && len > 0) {\n          for (let i = 0; i < len; i++) {\n            if (typeof this.controllerArray[i].contains === 'function' && this.controllerArray[i].contains(e.target)) return;\n          }\n        }\n\n        if (this._fileManager.pluginRegExp.test(this.currentControllerName) && e && e.type === 'keydown' && e.keyCode !== 27) return;\n        context.element.lineBreaker_t.style.display = context.element.lineBreaker_b.style.display = 'none';\n        this._variable._lineBreakComp = null;\n        this.currentControllerName = '';\n        this.currentControllerTarget = null;\n        this.currentFileComponentInfo = null;\n        this.effectNode = null;\n        if (!this._bindControllersOff) return;\n        this.removeDocEvent('mousedown', this._bindControllersOff);\n        this.removeDocEvent('keydown', this._bindControllersOff);\n        this._bindControllersOff = null;\n\n        if (len > 0) {\n          for (let i = 0; i < len; i++) {\n            if (typeof this.controllerArray[i] === 'function') this.controllerArray[i]();else this.controllerArray[i].style.display = 'none';\n          }\n\n          this.controllerArray = [];\n        }\n\n        this._antiBlur = false;\n      },\n\n      /**\r\n       * @description Specify the position of the controller.\r\n       * @param {Element} controller Controller element.\r\n       * @param {Element} referEl Element that is the basis of the controller's position.\r\n       * @param {String} position Type of position (\"top\" | \"bottom\")\r\n       * When using the \"top\" position, there should not be an arrow on the controller.\r\n       * When using the \"bottom\" position there should be an arrow on the controller.\r\n       * @param {Object} addOffset These are the left and top values that need to be added specially. \r\n       * This argument is required. - {left: 0, top: 0}\r\n       * Please enter the value based on ltr mode.\r\n       * Calculated automatically in rtl mode.\r\n       */\n      setControllerPosition: function (controller, referEl, position, addOffset) {\n        if (options.rtl) addOffset.left *= -1;\n        const offset = util.getOffset(referEl, context.element.wysiwygFrame);\n        controller.style.visibility = 'hidden';\n        controller.style.display = 'block'; // Height value of the arrow element is 11px\n\n        const topMargin = position === 'top' ? -(controller.offsetHeight + 2) : referEl.offsetHeight + 12;\n        controller.style.top = offset.top + topMargin + addOffset.top + 'px';\n        const l = offset.left - context.element.wysiwygFrame.scrollLeft + addOffset.left;\n        const controllerW = controller.offsetWidth;\n        const referElW = referEl.offsetWidth;\n        const allow = util.hasClass(controller.firstElementChild, 'se-arrow') ? controller.firstElementChild : null; // rtl (Width value of the arrow element is 22px)\n\n        if (options.rtl) {\n          const rtlW = controllerW > referElW ? controllerW - referElW : 0;\n          const rtlL = rtlW > 0 ? 0 : referElW - controllerW;\n          controller.style.left = l - rtlW + rtlL + 'px';\n\n          if (rtlW > 0) {\n            if (allow) allow.style.left = (controllerW - 14 < 10 + rtlW ? controllerW - 14 : 10 + rtlW) + 'px';\n          }\n\n          const overSize = context.element.wysiwygFrame.offsetLeft - controller.offsetLeft;\n\n          if (overSize > 0) {\n            controller.style.left = '0px';\n            if (allow) allow.style.left = overSize + 'px';\n          }\n        } else {\n          controller.style.left = l + 'px';\n          const overSize = context.element.wysiwygFrame.offsetWidth - (controller.offsetLeft + controllerW);\n\n          if (overSize < 0) {\n            controller.style.left = controller.offsetLeft + overSize + 'px';\n            if (allow) allow.style.left = 20 - overSize + 'px';\n          } else {\n            if (allow) allow.style.left = '20px';\n          }\n        }\n\n        controller.style.visibility = '';\n      },\n\n      /**\r\n       * @description javascript execCommand\r\n       * @param {String} command javascript execCommand function property\r\n       * @param {Boolean|undefined} showDefaultUI javascript execCommand function property\r\n       * @param {String|undefined} value javascript execCommand function property\r\n       */\n      execCommand: function (command, showDefaultUI, value) {\n        this._wd.execCommand(command, showDefaultUI, command === 'formatBlock' ? '<' + value + '>' : value); // history stack\n\n\n        this.history.push(true);\n      },\n\n      /**\r\n       * @description Focus to wysiwyg area using \"native focus function\"\r\n       */\n      nativeFocus: function () {\n        const caption = util.getParentElement(this.getSelectionNode(), 'figcaption');\n\n        if (caption) {\n          caption.focus();\n        } else {\n          context.element.wysiwyg.focus();\n        }\n\n        this._editorRange();\n      },\n\n      /**\r\n       * @description Focus to wysiwyg area\r\n       */\n      focus: function () {\n        if (context.element.wysiwygFrame.style.display === 'none') return;\n\n        if (options.iframe) {\n          this.nativeFocus();\n        } else {\n          try {\n            const range = this.getRange();\n\n            if (range.startContainer === range.endContainer && util.isWysiwygDiv(range.startContainer)) {\n              const currentNode = range.commonAncestorContainer.children[range.startOffset];\n\n              if (!util.isFormatElement(currentNode) && !util.isComponent(currentNode)) {\n                const format = util.createElement(options.defaultTag);\n                const br = util.createElement('BR');\n                format.appendChild(br);\n                context.element.wysiwyg.insertBefore(format, currentNode);\n                this.setRange(br, 0, br, 0);\n                return;\n              }\n            }\n\n            this.setRange(range.startContainer, range.startOffset, range.endContainer, range.endOffset);\n          } catch (e) {\n            this.nativeFocus();\n          }\n        }\n\n        event._applyTagEffects();\n\n        if (this._isBalloon) event._toggleToolbarBalloon();\n      },\n\n      /**\r\n       * @description If \"focusEl\" is a component, then that component is selected; if it is a format element, the last text is selected\r\n       * If \"focusEdge\" is null, then selected last element\r\n       * @param {Element|null} focusEl Focus element\r\n       */\n      focusEdge: function (focusEl) {\n        if (!focusEl) focusEl = context.element.wysiwyg.lastElementChild;\n        const fileComponentInfo = this.getFileComponent(focusEl);\n\n        if (fileComponentInfo) {\n          this.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\n        } else if (focusEl) {\n          focusEl = util.getChildElement(focusEl, function (current) {\n            return current.childNodes.length === 0 || current.nodeType === 3;\n          }, true);\n          if (!focusEl) this.nativeFocus();else this.setRange(focusEl, focusEl.textContent.length, focusEl, focusEl.textContent.length);\n        } else {\n          this.focus();\n        }\n      },\n\n      /**\r\n       * @description Focusout to wysiwyg area (.blur())\r\n       */\n      blur: function () {\n        if (options.iframe) {\n          context.element.wysiwygFrame.blur();\n        } else {\n          context.element.wysiwyg.blur();\n        }\n      },\n\n      /**\r\n       * @description Set current editor's range object and return.\r\n       * @param {Node} startCon The startContainer property of the selection object.\r\n       * @param {Number} startOff The startOffset property of the selection object.\r\n       * @param {Node} endCon The endContainer property of the selection object.\r\n       * @param {Number} endOff The endOffset property of the selection object.\r\n       * @returns {Object} Range object.\r\n       */\n      setRange: function (startCon, startOff, endCon, endOff) {\n        if (!startCon || !endCon) return;\n        if (startOff > startCon.textContent.length) startOff = startCon.textContent.length;\n        if (endOff > endCon.textContent.length) endOff = endCon.textContent.length;\n\n        if (util.isFormatElement(startCon)) {\n          startCon = startCon.childNodes[startOff] || startCon;\n          startOff = 0;\n        }\n\n        if (util.isFormatElement(endCon)) {\n          endCon = endCon.childNodes[endOff] || endCon;\n          endOff = startOff > 1 ? startOff : 0;\n        }\n\n        const range = this._wd.createRange();\n\n        try {\n          range.setStart(startCon, startOff);\n          range.setEnd(endCon, endOff);\n        } catch (error) {\n          console.warn('[SUNEDITOR.core.focus.error] ' + error);\n          this.nativeFocus();\n          return;\n        }\n\n        const selection = this.getSelection();\n\n        if (selection.removeAllRanges) {\n          selection.removeAllRanges();\n        }\n\n        selection.addRange(range);\n\n        this._editorRange();\n\n        if (options.iframe) this.nativeFocus();\n        return range;\n      },\n\n      /**\r\n       * @description Remove range object and button effect\r\n       */\n      removeRange: function () {\n        this._variable._range = null;\n        this._variable._selectionNode = null;\n        if (this.hasFocus) this.getSelection().removeAllRanges();\n        const commandMap = this.commandMap;\n        const activePlugins = this.activePlugins;\n\n        for (let key in commandMap) {\n          if (!util.hasOwn(commandMap, key)) continue;\n\n          if (activePlugins.indexOf(key) > -1) {\n            plugins[key].active.call(this, null);\n          } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\n            commandMap.OUTDENT.setAttribute('disabled', true);\n          } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\n            commandMap.INDENT.removeAttribute('disabled');\n          } else {\n            util.removeClass(commandMap[key], 'active');\n          }\n        }\n      },\n\n      /**\r\n       * @description Get current editor's range object\r\n       * @returns {Object}\r\n       */\n      getRange: function () {\n        const range = this._variable._range || this._createDefaultRange();\n\n        const selection = this.getSelection();\n        if (range.collapsed === selection.isCollapsed || !context.element.wysiwyg.contains(selection.focusNode)) return range;\n\n        if (selection.rangeCount > 0) {\n          this._variable._range = selection.getRangeAt(0);\n          return this._variable._range;\n        } else {\n          const sc = selection.anchorNode,\n                ec = selection.focusNode,\n                so = selection.anchorOffset,\n                eo = selection.focusOffset;\n          const compareValue = util.compareElements(sc, ec);\n          const rightDir = compareValue.ancestor && (compareValue.result === 0 ? so <= eo : compareValue.result > 1 ? true : false);\n          return this.setRange(rightDir ? sc : ec, rightDir ? so : eo, rightDir ? ec : sc, rightDir ? eo : so);\n        }\n      },\n\n      /**\r\n       * @description If the \"range\" object is a non-editable area, add a line at the top of the editor and update the \"range\" object.\r\n       * Returns a new \"range\" or argument \"range\".\r\n       * @param {Object} range core.getRange()\r\n       * @param {Element|null} container If there is \"container\" argument, it creates a line in front of the container.\r\n       * @returns {Object} range\r\n       */\n      getRange_addLine: function (range, container) {\n        if (this._selectionVoid(range)) {\n          const wysiwyg = context.element.wysiwyg;\n          const op = util.createElement(options.defaultTag);\n          op.innerHTML = '<br>';\n          wysiwyg.insertBefore(op, container && container !== wysiwyg ? container.nextElementSibling : wysiwyg.firstElementChild);\n          this.setRange(op.firstElementChild, 0, op.firstElementChild, 1);\n          range = this._variable._range;\n        }\n\n        return range;\n      },\n\n      /**\r\n       * @description Get window selection obejct\r\n       * @returns {Object}\r\n       */\n      getSelection: function () {\n        return this._shadowRoot && this._shadowRoot.getSelection ? this._shadowRoot.getSelection() : this._ww.getSelection();\n      },\n\n      /**\r\n       * @description Get current select node\r\n       * @returns {Node}\r\n       */\n      getSelectionNode: function () {\n        if (!context.element.wysiwyg.contains(this._variable._selectionNode)) this._editorRange();\n\n        if (!this._variable._selectionNode) {\n          const selectionNode = util.getChildElement(context.element.wysiwyg.firstChild, function (current) {\n            return current.childNodes.length === 0 || current.nodeType === 3;\n          }, false);\n\n          if (!selectionNode) {\n            this._editorRange();\n          } else {\n            this._variable._selectionNode = selectionNode;\n            return selectionNode;\n          }\n        }\n\n        return this._variable._selectionNode;\n      },\n\n      /**\r\n       * @description Saving the range object and the currently selected node of editor\r\n       * @private\r\n       */\n      _editorRange: function () {\n        const selection = this.getSelection();\n        if (!selection) return null;\n        let range = null;\n        let selectionNode = null;\n\n        if (selection.rangeCount > 0) {\n          range = selection.getRangeAt(0);\n        } else {\n          range = this._createDefaultRange();\n        }\n\n        this._variable._range = range;\n\n        if (range.collapsed) {\n          if (util.isWysiwygDiv(range.commonAncestorContainer)) selectionNode = range.commonAncestorContainer.children[range.startOffset] || range.commonAncestorContainer;else selectionNode = range.commonAncestorContainer;\n        } else {\n          selectionNode = selection.extentNode || selection.anchorNode;\n        }\n\n        this._variable._selectionNode = selectionNode;\n      },\n\n      /**\r\n       * @description Return the range object of editor's first child node\r\n       * @returns {Object}\r\n       * @private\r\n       */\n      _createDefaultRange: function () {\n        const wysiwyg = context.element.wysiwyg;\n        wysiwyg.focus();\n\n        const range = this._wd.createRange();\n\n        let focusEl = wysiwyg.firstElementChild;\n\n        if (!focusEl) {\n          focusEl = util.createElement(options.defaultTag);\n          focusEl.innerHTML = '<br>';\n          wysiwyg.appendChild(focusEl);\n        }\n\n        range.setStart(focusEl, 0);\n        range.setEnd(focusEl, 0);\n        return range;\n      },\n\n      /**\r\n       * @description Returns true if there is no valid \"selection\".\r\n       * @param {Object} range core.getRange()\r\n       * @returns {Object} range\r\n       * @private\r\n       */\n      _selectionVoid: function (range) {\n        const comm = range.commonAncestorContainer;\n        return util.isWysiwygDiv(range.startContainer) && util.isWysiwygDiv(range.endContainer) || /FIGURE/i.test(comm.nodeName) || this._fileManager.regExp.test(comm.nodeName) || util.isMediaComponent(comm);\n      },\n\n      /**\r\n       * @description Reset range object to text node selected status.\r\n       * @returns {Boolean} Returns false if there is no valid selection.\r\n       * @private\r\n       */\n      _resetRangeToTextNode: function () {\n        const range = this.getRange();\n        if (this._selectionVoid(range)) return false;\n        let startCon = range.startContainer;\n        let startOff = range.startOffset;\n        let endCon = range.endContainer;\n        let endOff = range.endOffset;\n        let tempCon, tempOffset, tempChild;\n\n        if (util.isFormatElement(startCon)) {\n          startCon = startCon.childNodes[startOff] || startCon.lastChild;\n          startOff = startCon.textContent.length;\n        }\n\n        if (util.isFormatElement(endCon)) {\n          endCon = endCon.childNodes[endOff] || endCon.lastChild;\n          endOff = endCon.textContent.length;\n        } // startContainer\n\n\n        tempCon = util.isWysiwygDiv(startCon) ? context.element.wysiwyg.firstChild : startCon;\n        tempOffset = startOff;\n\n        if (util.isBreak(tempCon) || tempCon.nodeType === 1 && tempCon.childNodes.length > 0) {\n          const onlyBreak = util.isBreak(tempCon);\n\n          if (!onlyBreak) {\n            while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\n              tempCon = tempCon.childNodes[tempOffset] || tempCon.nextElementSibling || tempCon.nextSibling;\n              tempOffset = 0;\n            }\n\n            let format = util.getFormatElement(tempCon, null);\n\n            if (format === util.getRangeFormatElement(format, null)) {\n              format = util.createElement(util.getParentElement(tempCon, util.isCell) ? 'DIV' : options.defaultTag);\n              tempCon.parentNode.insertBefore(format, tempCon);\n              format.appendChild(tempCon);\n            }\n          }\n\n          if (util.isBreak(tempCon)) {\n            const emptyText = util.createTextNode(util.zeroWidthSpace);\n            tempCon.parentNode.insertBefore(emptyText, tempCon);\n            tempCon = emptyText;\n\n            if (onlyBreak) {\n              if (startCon === endCon) {\n                endCon = tempCon;\n                endOff = 1;\n              }\n            }\n          }\n        } // set startContainer\n\n\n        startCon = tempCon;\n        startOff = tempOffset; // endContainer\n\n        tempCon = util.isWysiwygDiv(endCon) ? context.element.wysiwyg.lastChild : endCon;\n        tempOffset = endOff;\n\n        if (util.isBreak(tempCon) || tempCon.nodeType === 1 && tempCon.childNodes.length > 0) {\n          const onlyBreak = util.isBreak(tempCon);\n\n          if (!onlyBreak) {\n            while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\n              tempChild = tempCon.childNodes;\n              if (tempChild.length === 0) break;\n              tempCon = tempChild[tempOffset > 0 ? tempOffset - 1 : tempOffset] || !/FIGURE/i.test(tempChild[0].nodeName) ? tempChild[0] : tempCon.previousElementSibling || tempCon.previousSibling || startCon;\n              tempOffset = tempOffset > 0 ? tempCon.textContent.length : tempOffset;\n            }\n\n            let format = util.getFormatElement(tempCon, null);\n\n            if (format === util.getRangeFormatElement(format, null)) {\n              format = util.createElement(util.isCell(format) ? 'DIV' : options.defaultTag);\n              tempCon.parentNode.insertBefore(format, tempCon);\n              format.appendChild(tempCon);\n            }\n          }\n\n          if (util.isBreak(tempCon)) {\n            const emptyText = util.createTextNode(util.zeroWidthSpace);\n            tempCon.parentNode.insertBefore(emptyText, tempCon);\n            tempCon = emptyText;\n            tempOffset = 1;\n\n            if (onlyBreak && !tempCon.previousSibling) {\n              util.removeItem(endCon);\n            }\n          }\n        } // set endContainer\n\n\n        endCon = tempCon;\n        endOff = tempOffset; // set Range\n\n        this.setRange(startCon, startOff, endCon, endOff);\n        return true;\n      },\n\n      /**\r\n       * @description Returns a \"formatElement\"(util.isFormatElement) array from the currently selected range.\r\n       * @param {Function|null} validation The validation function. (Replaces the default validation function-util.isFormatElement(current))\r\n       * @returns {Array}\r\n       */\n      getSelectedElements: function (validation) {\n        if (!this._resetRangeToTextNode()) return [];\n        let range = this.getRange();\n\n        if (util.isWysiwygDiv(range.startContainer)) {\n          const children = context.element.wysiwyg.children;\n          if (children.length === 0) return [];\n          this.setRange(children[0], 0, children[children.length - 1], children[children.length - 1].textContent.trim().length);\n          range = this.getRange();\n        }\n\n        const startCon = range.startContainer;\n        const endCon = range.endContainer;\n        const commonCon = range.commonAncestorContainer; // get line nodes\n\n        const lineNodes = util.getListChildren(commonCon, function (current) {\n          return validation ? validation(current) : util.isFormatElement(current);\n        });\n        if (!util.isWysiwygDiv(commonCon) && !util.isRangeFormatElement(commonCon)) lineNodes.unshift(util.getFormatElement(commonCon, null));\n        if (startCon === endCon || lineNodes.length === 1) return lineNodes;\n        let startLine = util.getFormatElement(startCon, null);\n        let endLine = util.getFormatElement(endCon, null);\n        let startIdx = null;\n        let endIdx = null;\n\n        const onlyTable = function (current) {\n          return util.isTable(current) ? /^TABLE$/i.test(current.nodeName) : true;\n        };\n\n        let startRangeEl = util.getRangeFormatElement(startLine, onlyTable);\n        let endRangeEl = util.getRangeFormatElement(endLine, onlyTable);\n        if (util.isTable(startRangeEl) && util.isListCell(startRangeEl.parentNode)) startRangeEl = startRangeEl.parentNode;\n        if (util.isTable(endRangeEl) && util.isListCell(endRangeEl.parentNode)) endRangeEl = endRangeEl.parentNode;\n        const sameRange = startRangeEl === endRangeEl;\n\n        for (let i = 0, len = lineNodes.length, line; i < len; i++) {\n          line = lineNodes[i];\n\n          if (startLine === line || !sameRange && line === startRangeEl) {\n            startIdx = i;\n            continue;\n          }\n\n          if (endLine === line || !sameRange && line === endRangeEl) {\n            endIdx = i;\n            break;\n          }\n        }\n\n        if (startIdx === null) startIdx = 0;\n        if (endIdx === null) endIdx = lineNodes.length - 1;\n        return lineNodes.slice(startIdx, endIdx + 1);\n      },\n\n      /**\r\n       * @description Get format elements and components from the selected area. (P, DIV, H[1-6], OL, UL, TABLE..)\r\n       * If some of the component are included in the selection, get the entire that component.\r\n       * @param {Boolean} removeDuplicate If true, if there is a parent and child tag among the selected elements, the child tag is excluded.\r\n       * @returns {Array}\r\n       */\n      getSelectedElementsAndComponents: function (removeDuplicate) {\n        const commonCon = this.getRange().commonAncestorContainer;\n        const myComponent = util.getParentElement(commonCon, util.isComponent);\n        const selectedLines = util.isTable(commonCon) ? this.getSelectedElements(null) : this.getSelectedElements(function (current) {\n          const component = this.getParentElement(current, this.isComponent);\n          return this.isFormatElement(current) && (!component || component === myComponent) || this.isComponent(current) && !this.getFormatElement(current);\n        }.bind(util));\n\n        if (removeDuplicate) {\n          for (let i = 0, len = selectedLines.length; i < len; i++) {\n            for (let j = i - 1; j >= 0; j--) {\n              if (selectedLines[j].contains(selectedLines[i])) {\n                selectedLines.splice(i, 1);\n                i--;\n                len--;\n                break;\n              }\n            }\n          }\n        }\n\n        return selectedLines;\n      },\n\n      /**\r\n       * @description Determine if this offset is the edge offset of container\r\n       * @param {Node} container The node of the selection object. (range.startContainer..)\r\n       * @param {Number} offset The offset of the selection object. (core.getRange().startOffset...)\r\n       * @param {String|undefined} dir Select check point - Both edge, Front edge or End edge. (\"front\": Front edge, \"end\": End edge, undefined: Both edge)\r\n       * @returns {Boolean}\r\n       */\n      isEdgePoint: function (container, offset, dir) {\n        return dir !== 'end' && offset === 0 || (!dir || dir !== 'front') && !container.nodeValue && offset === 1 || (!dir || dir === 'end') && !!container.nodeValue && offset === container.nodeValue.length;\n      },\n\n      /**\r\n       * @description Check if the container and offset values are the edges of the format tag\r\n       * @param {Node} container The node of the selection object. (range.startContainer..)\r\n       * @param {Number} offset The offset of the selection object. (core.getRange().startOffset...)\r\n       * @param {String} dir Select check point - \"front\": Front edge, \"end\": End edge, undefined: Both edge.\r\n       * @returns {Boolean}\r\n       */\n      isEdgeFormat: function (node, offset, dir) {\n        if (!this.isEdgePoint(node, offset, dir)) return false;\n        let result = true;\n        dir = dir === 'front' ? 'previousSibling' : 'nextSibling';\n\n        while (node && !util.isFormatElement(node) && !util.isWysiwygDiv(node)) {\n          if (!node[dir] || util.isBreak(node[dir]) && !node[dir][dir]) {\n            node = node.parentNode;\n          } else {\n            result = false;\n            node = null;\n          }\n        }\n\n        return result;\n      },\n\n      /**\r\n       * @description Show loading box\r\n       */\n      showLoading: function () {\n        context.element.loading.style.display = 'block';\n      },\n\n      /**\r\n       * @description Close loading box\r\n       */\n      closeLoading: function () {\n        context.element.loading.style.display = 'none';\n      },\n\n      /**\r\n       * @description Append format element to sibling node of argument element.\r\n       * If the \"formatNodeName\" argument value is present, the tag of that argument value is inserted,\r\n       * If not, the currently selected format tag is inserted.\r\n       * @param {Element} element Insert as siblings of that element\r\n       * @param {String|Element|null} formatNode Node name or node obejct to be inserted\r\n       * @returns {Element}\r\n       */\n      appendFormatTag: function (element, formatNode) {\n        const currentFormatEl = util.getFormatElement(this.getSelectionNode(), null);\n        const oFormatName = formatNode ? typeof formatNode === 'string' ? formatNode : formatNode.nodeName : util.isFormatElement(currentFormatEl) && !util.isFreeFormatElement(currentFormatEl) ? currentFormatEl.nodeName : options.defaultTag;\n        const oFormat = util.createElement(oFormatName);\n        oFormat.innerHTML = '<br>';\n\n        if (formatNode && typeof formatNode !== 'string' || !formatNode && util.isFormatElement(currentFormatEl)) {\n          util.copyTagAttributes(oFormat, formatNode || currentFormatEl);\n        }\n\n        if (util.isCell(element)) element.insertBefore(oFormat, element.nextElementSibling);else element.parentNode.insertBefore(oFormat, element.nextElementSibling);\n        return oFormat;\n      },\n\n      /**\r\n       * @description The method to insert a element and return. (used elements : table, hr, image, video)\r\n       * If \"element\" is \"HR\", insert and return the new line.\r\n       * @param {Element} element Element to be inserted\r\n       * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n       * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n       * @param {Boolean} notSelect If true, Do not automatically select the inserted component.\r\n       * @returns {Element}\r\n       */\n      insertComponent: function (element, notHistoryPush, checkCharCount, notSelect) {\n        if (checkCharCount && !this.checkCharCount(element, null)) {\n          return null;\n        }\n\n        const r = this.removeNode();\n        this.getRange_addLine(this.getRange(), r.container);\n        let oNode = null;\n        let selectionNode = this.getSelectionNode();\n        let formatEl = util.getFormatElement(selectionNode, null);\n\n        if (util.isListCell(formatEl)) {\n          this.insertNode(element, selectionNode === formatEl ? null : r.container.nextSibling, false);\n          if (!element.nextSibling) element.parentNode.appendChild(util.createElement('BR'));\n        } else {\n          if (this.getRange().collapsed && (r.container.nodeType === 3 || util.isBreak(r.container))) {\n            const depthFormat = util.getParentElement(r.container, function (current) {\n              return this.isRangeFormatElement(current);\n            }.bind(util));\n            oNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\n            if (oNode) formatEl = oNode.previousSibling;\n          }\n\n          this.insertNode(element, formatEl, false);\n          if (formatEl && util.onlyZeroWidthSpace(formatEl)) util.removeItem(formatEl);\n        }\n\n        this.setRange(element, 0, element, 0);\n\n        if (!notSelect) {\n          const fileComponentInfo = this.getFileComponent(element);\n\n          if (fileComponentInfo) {\n            this.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\n          } else if (oNode) {\n            oNode = util.getEdgeChildNodes(oNode, null).sc || oNode;\n            this.setRange(oNode, 0, oNode, 0);\n          }\n        } // history stack\n\n\n        if (!notHistoryPush) this.history.push(1);\n        return oNode || element;\n      },\n\n      /**\r\n       * @description Gets the file component and that plugin name\r\n       * return: {target, component, pluginName} | null\r\n       * @param {Element} element Target element (figure tag, component div, file tag)\r\n       * @returns {Object|null}\r\n       */\n      getFileComponent: function (element) {\n        if (!this._fileManager.queryString || !element) return null;\n        let target, pluginName;\n\n        if (/^FIGURE$/i.test(element.nodeName) || /se-component/.test(element.className)) {\n          target = element.querySelector(this._fileManager.queryString);\n        }\n\n        if (!target && element.nodeName && this._fileManager.regExp.test(element.nodeName)) {\n          target = element;\n        }\n\n        if (target) {\n          pluginName = this._fileManager.pluginMap[target.nodeName.toLowerCase()];\n\n          if (pluginName) {\n            return {\n              target: target,\n              component: util.getParentElement(target, util.isComponent),\n              pluginName: pluginName\n            };\n          }\n        }\n\n        return null;\n      },\n\n      /**\r\n       * @description The component(image, video) is selected and the resizing module is called.\r\n       * @param {Element} element Element tag (img, iframe, video)\r\n       * @param {String} pluginName Plugin name (image, video)\r\n       */\n      selectComponent: function (element, pluginName) {\n        if (util.isUneditableComponent(util.getParentElement(element, util.isComponent)) || util.isUneditableComponent(element)) return false;\n        if (!this.hasFocus) this.focus();\n        const plugin = this.plugins[pluginName];\n        if (!plugin) return;\n\n        _w.setTimeout(function () {\n          if (typeof plugin.select === 'function') this.callPlugin(pluginName, plugin.select.bind(this, element), null);\n\n          this._setComponentLineBreaker(element);\n        }.bind(this));\n      },\n\n      /**\r\n       * @description Set line breaker of component\r\n       * @param {Element} element Element tag (img, iframe, video)\r\n       * @private\r\n       */\n      _setComponentLineBreaker: function (element) {\n        // line breaker\n        this._lineBreaker.style.display = 'none';\n        const container = util.getParentElement(element, util.isComponent);\n        const t_style = context.element.lineBreaker_t.style;\n        const b_style = context.element.lineBreaker_b.style;\n        const target = this.context.resizing.resizeContainer.style.display === 'block' ? this.context.resizing.resizeContainer : element;\n        const isList = util.isListCell(container.parentNode);\n        let componentTop, wScroll, w; // top\n\n        if (isList ? !container.previousSibling : !util.isFormatElement(container.previousElementSibling)) {\n          this._variable._lineBreakComp = container;\n          wScroll = context.element.wysiwyg.scrollTop;\n          componentTop = util.getOffset(element, context.element.wysiwygFrame).top + wScroll;\n          w = target.offsetWidth / 2 / 2;\n          t_style.top = componentTop - wScroll - 12 + 'px';\n          t_style.left = util.getOffset(target).left + w + 'px';\n          t_style.display = 'block';\n        } else {\n          t_style.display = 'none';\n        } // bottom\n\n\n        if (isList ? !container.nextSibling : !util.isFormatElement(container.nextElementSibling)) {\n          if (!componentTop) {\n            this._variable._lineBreakComp = container;\n            wScroll = context.element.wysiwyg.scrollTop;\n            componentTop = util.getOffset(element, context.element.wysiwygFrame).top + wScroll;\n            w = target.offsetWidth / 2 / 2;\n          }\n\n          b_style.top = componentTop + target.offsetHeight - wScroll - 12 + 'px';\n          b_style.left = util.getOffset(target).left + target.offsetWidth - w - 24 + 'px';\n          b_style.display = 'block';\n        } else {\n          b_style.display = 'none';\n        }\n      },\n\n      /**\r\n       * @description Delete selected node and insert argument value node and return.\r\n       * If the \"afterNode\" exists, it is inserted after the \"afterNode\"\r\n       * Inserting a text node merges with both text nodes on both sides and returns a new \"{ container, startOffset, endOffset }\".\r\n       * @param {Node} oNode Element to be inserted\r\n       * @param {Node|null} afterNode If the node exists, it is inserted after the node\r\n       * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n       * @returns {Object|Node|null}\r\n       */\n      insertNode: function (oNode, afterNode, checkCharCount) {\n        if (checkCharCount && !this.checkCharCount(oNode, null)) {\n          return null;\n        }\n\n        const freeFormat = util.getFreeFormatElement(this.getSelectionNode(), null);\n        const isFormats = !freeFormat && (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode)) || util.isComponent(oNode);\n\n        if (!afterNode && (isFormats || util.isComponent(oNode) || util.isMedia(oNode))) {\n          const r = this.removeNode();\n\n          if (r.container.nodeType === 3 || util.isBreak(r.container)) {\n            const depthFormat = util.getParentElement(r.container, function (current) {\n              return this.isRangeFormatElement(current) || this.isListCell(current);\n            }.bind(util));\n            afterNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\n            if (afterNode) afterNode = afterNode.previousSibling;\n          }\n        }\n\n        const range = !afterNode && !isFormats ? this.getRange_addLine(this.getRange(), null) : this.getRange();\n        const commonCon = range.commonAncestorContainer;\n        const startOff = range.startOffset;\n        const endOff = range.endOffset;\n        const formatRange = range.startContainer === commonCon && util.isFormatElement(commonCon);\n        const startCon = formatRange ? commonCon.childNodes[startOff] || commonCon.childNodes[0] : range.startContainer;\n        const endCon = formatRange ? commonCon.childNodes[endOff] || commonCon.childNodes[commonCon.childNodes.length - 1] : range.endContainer;\n        let parentNode,\n            originAfter = null;\n\n        if (!afterNode) {\n          parentNode = startCon;\n\n          if (startCon.nodeType === 3) {\n            parentNode = startCon.parentNode;\n          }\n          /** No Select range node */\n\n\n          if (range.collapsed) {\n            if (commonCon.nodeType === 3) {\n              if (commonCon.textContent.length > endOff) afterNode = commonCon.splitText(endOff);else afterNode = commonCon.nextSibling;\n            } else {\n              if (!util.isBreak(parentNode)) {\n                let c = parentNode.childNodes[startOff];\n                const focusNode = c && c.nodeType === 3 && util.onlyZeroWidthSpace(c) && util.isBreak(c.nextSibling) ? c.nextSibling : c;\n\n                if (focusNode) {\n                  if (!focusNode.nextSibling) {\n                    parentNode.removeChild(focusNode);\n                    afterNode = null;\n                  } else {\n                    afterNode = util.isBreak(focusNode) && !util.isBreak(oNode) ? focusNode : focusNode.nextSibling;\n                  }\n                } else {\n                  afterNode = null;\n                }\n              } else {\n                afterNode = parentNode;\n                parentNode = parentNode.parentNode;\n              }\n            }\n          } else {\n            /** Select range nodes */\n            const isSameContainer = startCon === endCon;\n\n            if (isSameContainer) {\n              if (this.isEdgePoint(endCon, endOff)) afterNode = endCon.nextSibling;else afterNode = endCon.splitText(endOff);\n              let removeNode = startCon;\n              if (!this.isEdgePoint(startCon, startOff)) removeNode = startCon.splitText(startOff);\n              parentNode.removeChild(removeNode);\n\n              if (parentNode.childNodes.length === 0 && isFormats) {\n                parentNode.innerHTML = '<br>';\n              }\n            } else {\n              const removedTag = this.removeNode();\n              const container = removedTag.container;\n              const prevContainer = removedTag.prevContainer;\n\n              if (container && container.childNodes.length === 0 && isFormats) {\n                if (util.isFormatElement(container)) {\n                  container.innerHTML = '<br>';\n                } else if (util.isRangeFormatElement(container)) {\n                  container.innerHTML = '<' + options.defaultTag + '><br></' + options.defaultTag + '>';\n                }\n              }\n\n              if (!isFormats && prevContainer) {\n                parentNode = prevContainer.nodeType === 3 ? prevContainer.parentNode : prevContainer;\n\n                if (parentNode.contains(container)) {\n                  let sameParent = true;\n                  afterNode = container;\n\n                  while (afterNode.parentNode !== parentNode) {\n                    afterNode = afterNode.parentNode;\n                    sameParent = false;\n                  }\n\n                  if (sameParent && container === prevContainer) afterNode = afterNode.nextSibling;\n                } else {\n                  afterNode = null;\n                }\n              } else {\n                afterNode = isFormats ? endCon : container === prevContainer ? container.nextSibling : container;\n                parentNode = !afterNode || !afterNode.parentNode ? commonCon : afterNode.parentNode;\n              }\n\n              while (afterNode && !util.isFormatElement(afterNode) && afterNode.parentNode !== commonCon) {\n                afterNode = afterNode.parentNode;\n              }\n            }\n          }\n        } // has afterNode\n        else {\n            parentNode = afterNode.parentNode;\n            afterNode = afterNode.nextSibling;\n            originAfter = true;\n          } // --- insert node ---\n\n\n        try {\n          if (util.isWysiwygDiv(afterNode) || parentNode === context.element.wysiwyg.parentNode) {\n            parentNode = context.element.wysiwyg;\n            afterNode = null;\n          }\n\n          if (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode) || !util.isListCell(parentNode) && util.isComponent(oNode)) {\n            const oldParent = parentNode;\n\n            if (util.isList(afterNode)) {\n              parentNode = afterNode;\n              afterNode = null;\n            } else if (util.isListCell(afterNode)) {\n              parentNode = afterNode.previousElementSibling || afterNode;\n            } else if (!originAfter && !afterNode) {\n              const r = this.removeNode();\n              const container = r.container.nodeType === 3 ? util.isListCell(util.getFormatElement(r.container, null)) ? r.container : util.getFormatElement(r.container, null) || r.container.parentNode : r.container;\n              const rangeCon = util.isWysiwygDiv(container) || util.isRangeFormatElement(container);\n              parentNode = rangeCon ? container : container.parentNode;\n              afterNode = rangeCon ? null : container.nextSibling;\n            }\n\n            if (oldParent.childNodes.length === 0 && parentNode !== oldParent) util.removeItem(oldParent);\n          }\n\n          if (isFormats && !freeFormat && !util.isRangeFormatElement(parentNode) && !util.isListCell(parentNode) && !util.isWysiwygDiv(parentNode)) {\n            afterNode = parentNode.nextElementSibling;\n            parentNode = parentNode.parentNode;\n          }\n\n          if (util.isWysiwygDiv(parentNode) && (oNode.nodeType === 3 || util.isBreak(oNode))) {\n            const fNode = util.createElement(options.defaultTag);\n            fNode.appendChild(oNode);\n            oNode = fNode;\n          }\n\n          parentNode.insertBefore(oNode, parentNode === afterNode ? parentNode.lastChild : afterNode);\n        } catch (e) {\n          parentNode.appendChild(oNode);\n        } finally {\n          if ((util.isFormatElement(oNode) || util.isComponent(oNode)) && startCon === endCon) {\n            const cItem = util.getFormatElement(commonCon, null);\n\n            if (cItem && cItem.nodeType === 1 && util.isEmptyLine(cItem)) {\n              util.removeItem(cItem);\n            }\n          }\n\n          if (freeFormat && (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode))) {\n            oNode = this._setIntoFreeFormat(oNode);\n          }\n\n          if (!util.isComponent(oNode)) {\n            let offset = 1;\n\n            if (oNode.nodeType === 3) {\n              const previous = oNode.previousSibling;\n              const next = oNode.nextSibling;\n              const previousText = !previous || previous.nodeType === 1 || util.onlyZeroWidthSpace(previous) ? '' : previous.textContent;\n              const nextText = !next || next.nodeType === 1 || util.onlyZeroWidthSpace(next) ? '' : next.textContent;\n\n              if (previous && previousText.length > 0) {\n                oNode.textContent = previousText + oNode.textContent;\n                util.removeItem(previous);\n              }\n\n              if (next && next.length > 0) {\n                oNode.textContent += nextText;\n                util.removeItem(next);\n              }\n\n              const newRange = {\n                container: oNode,\n                startOffset: previousText.length,\n                endOffset: oNode.textContent.length - nextText.length\n              };\n              this.setRange(oNode, newRange.startOffset, oNode, newRange.endOffset);\n              return newRange;\n            } else if (!util.isBreak(oNode) && util.isFormatElement(parentNode)) {\n              let zeroWidth = null;\n\n              if (!oNode.previousSibling || util.isBreak(oNode.previousSibling)) {\n                zeroWidth = util.createTextNode(util.zeroWidthSpace);\n                oNode.parentNode.insertBefore(zeroWidth, oNode);\n              }\n\n              if (!oNode.nextSibling || util.isBreak(oNode.nextSibling)) {\n                zeroWidth = util.createTextNode(util.zeroWidthSpace);\n                oNode.parentNode.insertBefore(zeroWidth, oNode.nextSibling);\n              }\n\n              if (util._isIgnoreNodeChange(oNode)) {\n                oNode = oNode.nextSibling;\n                offset = 0;\n              }\n            }\n\n            this.setRange(oNode, offset, oNode, offset);\n          } // history stack\n\n\n          this.history.push(true);\n          return oNode;\n        }\n      },\n      _setIntoFreeFormat: function (oNode) {\n        const parentNode = oNode.parentNode;\n        let oNodeChildren, lastONode;\n\n        while (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode)) {\n          oNodeChildren = oNode.childNodes;\n          lastONode = null;\n\n          while (oNodeChildren[0]) {\n            lastONode = oNodeChildren[0];\n\n            if (util.isFormatElement(lastONode) || util.isRangeFormatElement(lastONode)) {\n              this._setIntoFreeFormat(lastONode);\n\n              if (!oNode.parentNode) break;\n              oNodeChildren = oNode.childNodes;\n              continue;\n            }\n\n            parentNode.insertBefore(lastONode, oNode);\n          }\n\n          if (oNode.childNodes.length === 0) util.removeItem(oNode);\n          oNode = util.createElement('BR');\n          parentNode.insertBefore(oNode, lastONode.nextSibling);\n        }\n\n        return oNode;\n      },\n\n      /**\r\n       * @description Delete the currently selected nodes and reset selection range\r\n       * Returns {container: \"the last element after deletion\", offset: \"offset\", prevContainer: \"previousElementSibling Of the deleted area\"}\r\n       * @returns {Object}\r\n       */\n      removeNode: function () {\n        this._resetRangeToTextNode();\n\n        const range = this.getRange();\n        let container,\n            offset = 0;\n        let startCon = range.startContainer;\n        let endCon = range.endContainer;\n        let startOff = range.startOffset;\n        let endOff = range.endOffset;\n        const commonCon = range.commonAncestorContainer.nodeType === 3 && range.commonAncestorContainer.parentNode === startCon.parentNode ? startCon.parentNode : range.commonAncestorContainer;\n\n        if (commonCon === startCon && commonCon === endCon) {\n          startCon = commonCon.children[startOff];\n          endCon = commonCon.children[endOff];\n          startOff = endOff = 0;\n        }\n\n        let beforeNode = null;\n        let afterNode = null;\n        const childNodes = util.getListChildNodes(commonCon, null);\n        let startIndex = util.getArrayIndex(childNodes, startCon);\n        let endIndex = util.getArrayIndex(childNodes, endCon);\n\n        if (childNodes.length > 0 && startIndex > -1 && endIndex > -1) {\n          for (let i = startIndex + 1, startNode = startCon; i >= 0; i--) {\n            if (childNodes[i] === startNode.parentNode && childNodes[i].firstChild === startNode && startOff === 0) {\n              startIndex = i;\n              startNode = startNode.parentNode;\n            }\n          }\n\n          for (let i = endIndex - 1, endNode = endCon; i > startIndex; i--) {\n            if (childNodes[i] === endNode.parentNode && childNodes[i].nodeType === 1) {\n              childNodes.splice(i, 1);\n              endNode = endNode.parentNode;\n              --endIndex;\n            }\n          }\n        } else {\n          if (childNodes.length === 0) {\n            if (util.isFormatElement(commonCon) || util.isRangeFormatElement(commonCon) || util.isWysiwygDiv(commonCon) || util.isBreak(commonCon) || util.isMedia(commonCon)) {\n              return {\n                container: commonCon,\n                offset: 0\n              };\n            } else if (commonCon.nodeType === 3) {\n              return {\n                container: commonCon,\n                offset: endOff\n              };\n            }\n\n            childNodes.push(commonCon);\n            startCon = endCon = commonCon;\n          } else {\n            startCon = endCon = childNodes[0];\n\n            if (util.isBreak(startCon) || util.onlyZeroWidthSpace(startCon)) {\n              return {\n                container: util.isMedia(commonCon) ? commonCon : startCon,\n                offset: 0\n              };\n            }\n          }\n\n          startIndex = endIndex = 0;\n        }\n\n        function remove(item) {\n          const format = util.getFormatElement(item, null);\n          util.removeItem(item);\n\n          if (util.isListCell(format)) {\n            const list = util.getArrayItem(format.children, util.isList, false);\n\n            if (list) {\n              const child = list.firstElementChild;\n              const children = child.childNodes;\n\n              while (children[0]) {\n                format.insertBefore(children[0], list);\n              }\n\n              util.removeItemAllParents(child, null, null);\n            }\n          }\n        }\n\n        for (let i = startIndex; i <= endIndex; i++) {\n          const item = childNodes[i];\n\n          if (item.length === 0 || item.nodeType === 3 && item.data === undefined) {\n            remove(item);\n            continue;\n          }\n\n          if (item === startCon) {\n            if (startCon.nodeType === 1) {\n              if (util.isComponent(startCon)) continue;else beforeNode = util.createTextNode(startCon.textContent);\n            } else {\n              if (item === endCon) {\n                beforeNode = util.createTextNode(startCon.substringData(0, startOff) + endCon.substringData(endOff, endCon.length - endOff));\n                offset = startOff;\n              } else {\n                beforeNode = util.createTextNode(startCon.substringData(0, startOff));\n              }\n            }\n\n            if (beforeNode.length > 0) {\n              startCon.data = beforeNode.data;\n            } else {\n              remove(startCon);\n            }\n\n            if (item === endCon) break;\n            continue;\n          }\n\n          if (item === endCon) {\n            if (endCon.nodeType === 1) {\n              if (util.isComponent(endCon)) continue;else afterNode = util.createTextNode(endCon.textContent);\n            } else {\n              afterNode = util.createTextNode(endCon.substringData(endOff, endCon.length - endOff));\n            }\n\n            if (afterNode.length > 0) {\n              endCon.data = afterNode.data;\n            } else {\n              remove(endCon);\n            }\n\n            continue;\n          }\n\n          remove(item);\n        }\n\n        container = endCon && endCon.parentNode ? endCon : startCon && startCon.parentNode ? startCon : range.endContainer || range.startContainer;\n\n        if (!util.isWysiwygDiv(container) && container.childNodes.length === 0) {\n          const rc = util.removeItemAllParents(container, function (current) {\n            if (this.isComponent(current)) return false;\n            const text = current.textContent;\n            return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\n          }.bind(util), null);\n          if (rc) container = rc.sc || rc.ec || context.element.wysiwyg;\n        } // set range\n\n\n        this.setRange(container, offset, container, offset); // history stack\n\n        this.history.push(true);\n        return {\n          container: container,\n          offset: offset,\n          prevContainer: startCon && startCon.parentNode ? startCon : null\n        };\n      },\n\n      /**\r\n       * @description Appended all selected format Element to the argument element and insert\r\n       * @param {Element} rangeElement Element of wrap the arguments (BLOCKQUOTE...)\r\n       */\n      applyRangeFormatElement: function (rangeElement) {\n        this.getRange_addLine(this.getRange(), null);\n        const rangeLines = this.getSelectedElementsAndComponents(false);\n        if (!rangeLines || rangeLines.length === 0) return;\n\n        linesLoop: for (let i = 0, len = rangeLines.length, line, nested, fEl, lEl, f, l; i < len; i++) {\n          line = rangeLines[i];\n          if (!util.isListCell(line)) continue;\n          nested = line.lastElementChild;\n\n          if (nested && util.isListCell(line.nextElementSibling) && rangeLines.indexOf(line.nextElementSibling) > -1) {\n            lEl = nested.lastElementChild;\n\n            if (rangeLines.indexOf(lEl) > -1) {\n              let list = null;\n\n              while (list = lEl.lastElementChild) {\n                if (util.isList(list)) {\n                  if (rangeLines.indexOf(list.lastElementChild) > -1) {\n                    lEl = list.lastElementChild;\n                  } else {\n                    continue linesLoop;\n                  }\n                }\n              }\n\n              fEl = nested.firstElementChild;\n              f = rangeLines.indexOf(fEl);\n              l = rangeLines.indexOf(lEl);\n              rangeLines.splice(f, l - f + 1);\n              len = rangeLines.length;\n              continue;\n            }\n          }\n        }\n\n        let last = rangeLines[rangeLines.length - 1];\n        let standTag, beforeTag, pElement;\n\n        if (util.isRangeFormatElement(last) || util.isFormatElement(last)) {\n          standTag = last;\n        } else {\n          standTag = util.getRangeFormatElement(last, null) || util.getFormatElement(last, null);\n        }\n\n        if (util.isCell(standTag)) {\n          beforeTag = null;\n          pElement = standTag;\n        } else {\n          beforeTag = standTag.nextSibling;\n          pElement = standTag.parentNode;\n        }\n\n        let parentDepth = util.getElementDepth(standTag);\n        let listParent = null;\n        const lineArr = [];\n\n        const removeItems = function (parent, origin, before) {\n          let cc = null;\n\n          if (parent !== origin && !util.isTable(origin)) {\n            if (origin && util.getElementDepth(parent) === util.getElementDepth(origin)) return before;\n            cc = util.removeItemAllParents(origin, null, parent);\n          }\n\n          return cc ? cc.ec : before;\n        };\n\n        for (let i = 0, len = rangeLines.length, line, originParent, depth, before, nextLine, nextList, nested; i < len; i++) {\n          line = rangeLines[i];\n          originParent = line.parentNode;\n          if (!originParent || rangeElement.contains(originParent)) continue;\n          depth = util.getElementDepth(line);\n\n          if (util.isList(originParent)) {\n            if (listParent === null) {\n              if (nextList) {\n                listParent = nextList;\n                nested = true;\n                nextList = null;\n              } else {\n                listParent = originParent.cloneNode(false);\n              }\n            }\n\n            lineArr.push(line);\n            nextLine = rangeLines[i + 1];\n\n            if (i === len - 1 || nextLine && nextLine.parentNode !== originParent) {\n              // nested list\n              if (nextLine && line.contains(nextLine.parentNode)) {\n                nextList = nextLine.parentNode.cloneNode(false);\n              }\n\n              let list = originParent.parentNode,\n                  p;\n\n              while (util.isList(list)) {\n                p = util.createElement(list.nodeName);\n                p.appendChild(listParent);\n                listParent = p;\n                list = list.parentNode;\n              }\n\n              const edge = this.detachRangeFormatElement(originParent, lineArr, null, true, true);\n\n              if (parentDepth >= depth) {\n                parentDepth = depth;\n                pElement = edge.cc;\n                beforeTag = removeItems(pElement, originParent, edge.ec);\n                if (beforeTag) pElement = beforeTag.parentNode;\n              } else if (pElement === edge.cc) {\n                beforeTag = edge.ec;\n              }\n\n              if (pElement !== edge.cc) {\n                before = removeItems(pElement, edge.cc, before);\n                if (before !== undefined) beforeTag = before;else beforeTag = edge.cc;\n              }\n\n              for (let c = 0, cLen = edge.removeArray.length; c < cLen; c++) {\n                listParent.appendChild(edge.removeArray[c]);\n              }\n\n              if (!nested) rangeElement.appendChild(listParent);\n              if (nextList) edge.removeArray[edge.removeArray.length - 1].appendChild(nextList);\n              listParent = null;\n              nested = false;\n            }\n          } else {\n            if (parentDepth >= depth) {\n              parentDepth = depth;\n              pElement = originParent;\n              beforeTag = line.nextSibling;\n            }\n\n            rangeElement.appendChild(line);\n\n            if (pElement !== originParent) {\n              before = removeItems(pElement, originParent);\n              if (before !== undefined) beforeTag = before;\n            }\n          }\n        }\n\n        this.effectNode = null;\n        util.mergeSameTags(rangeElement, null, false);\n        util.mergeNestedTags(rangeElement, function (current) {\n          return this.isList(current);\n        }.bind(util)); // Nested list\n\n        if (beforeTag && util.getElementDepth(beforeTag) > 0 && (util.isList(beforeTag.parentNode) || util.isList(beforeTag.parentNode.parentNode))) {\n          const depthFormat = util.getParentElement(beforeTag, function (current) {\n            return this.isRangeFormatElement(current) && !this.isList(current);\n          }.bind(util));\n          const splitRange = util.splitElement(beforeTag, null, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\n          splitRange.parentNode.insertBefore(rangeElement, splitRange);\n        } else {\n          // basic\n          pElement.insertBefore(rangeElement, beforeTag);\n          removeItems(rangeElement, beforeTag);\n        }\n\n        const edge = util.getEdgeChildNodes(rangeElement.firstElementChild, rangeElement.lastElementChild);\n\n        if (rangeLines.length > 1) {\n          this.setRange(edge.sc, 0, edge.ec, edge.ec.textContent.length);\n        } else {\n          this.setRange(edge.ec, edge.ec.textContent.length, edge.ec, edge.ec.textContent.length);\n        } // history stack\n\n\n        this.history.push(false);\n      },\n\n      /**\r\n       * @description The elements of the \"selectedFormats\" array are detached from the \"rangeElement\" element. (\"LI\" tags are converted to \"P\" tags)\r\n       * When \"selectedFormats\" is null, all elements are detached and return {cc: parentNode, sc: nextSibling, ec: previousSibling, removeArray: [Array of removed elements]}.\r\n       * @param {Element} rangeElement Range format element (PRE, BLOCKQUOTE, OL, UL...)\r\n       * @param {Array|null} selectedFormats Array of format elements (P, DIV, LI...) to remove.\r\n       * If null, Applies to all elements and return {cc: parentNode, sc: nextSibling, ec: previousSibling}\r\n       * @param {Element|null} newRangeElement The node(rangeElement) to replace the currently wrapped node.\r\n       * @param {Boolean} remove If true, deleted without detached.\r\n       * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n       * @returns {Object}\r\n       */\n      detachRangeFormatElement: function (rangeElement, selectedFormats, newRangeElement, remove, notHistoryPush) {\n        const range = this.getRange();\n        const so = range.startOffset;\n        const eo = range.endOffset;\n        let children = util.getListChildNodes(rangeElement, function (current) {\n          return current.parentNode === rangeElement;\n        });\n        let parent = rangeElement.parentNode;\n        let firstNode = null;\n        let lastNode = null;\n        let rangeEl = rangeElement.cloneNode(false);\n        const removeArray = [];\n        const newList = util.isList(newRangeElement);\n        let insertedNew = false;\n        let reset = false;\n        let moveComplete = false;\n\n        function appendNode(parent, insNode, sibling, originNode) {\n          if (util.onlyZeroWidthSpace(insNode)) insNode.innerHTML = util.zeroWidthSpace;\n\n          if (insNode.nodeType === 3) {\n            parent.insertBefore(insNode, sibling);\n            return insNode;\n          }\n\n          const insChildren = (moveComplete ? insNode : originNode).childNodes;\n          let format = insNode.cloneNode(false);\n          let first = null;\n          let c = null;\n\n          while (insChildren[0]) {\n            c = insChildren[0];\n\n            if (util._notTextNode(c) && !util.isBreak(c) && !util.isListCell(format)) {\n              if (format.childNodes.length > 0) {\n                if (!first) first = format;\n                parent.insertBefore(format, sibling);\n                format = insNode.cloneNode(false);\n              }\n\n              parent.insertBefore(c, sibling);\n              if (!first) first = c;\n            } else {\n              format.appendChild(c);\n            }\n          }\n\n          if (format.childNodes.length > 0) {\n            if (util.isListCell(parent) && util.isListCell(format) && util.isList(sibling)) {\n              if (newList) {\n                first = sibling;\n\n                while (sibling) {\n                  format.appendChild(sibling);\n                  sibling = sibling.nextSibling;\n                }\n\n                parent.parentNode.insertBefore(format, parent.nextElementSibling);\n              } else {\n                const originNext = originNode.nextElementSibling;\n                const detachRange = util.detachNestedList(originNode, false);\n\n                if (rangeElement !== detachRange || originNext !== originNode.nextElementSibling) {\n                  const fChildren = format.childNodes;\n\n                  while (fChildren[0]) {\n                    originNode.appendChild(fChildren[0]);\n                  }\n\n                  rangeElement = detachRange;\n                  reset = true;\n                }\n              }\n            } else {\n              parent.insertBefore(format, sibling);\n            }\n\n            if (!first) first = format;\n          }\n\n          return first;\n        } // detach loop\n\n\n        for (let i = 0, len = children.length, insNode, lineIndex, next; i < len; i++) {\n          insNode = children[i];\n          if (insNode.nodeType === 3 && util.isList(rangeEl)) continue;\n          moveComplete = false;\n\n          if (remove && i === 0) {\n            if (!selectedFormats || selectedFormats.length === len || selectedFormats[0] === insNode) {\n              firstNode = rangeElement.previousSibling;\n            } else {\n              firstNode = rangeEl;\n            }\n          }\n\n          if (selectedFormats) lineIndex = selectedFormats.indexOf(insNode);\n\n          if (selectedFormats && lineIndex === -1) {\n            if (!rangeEl) rangeEl = rangeElement.cloneNode(false);\n            rangeEl.appendChild(insNode);\n          } else {\n            if (selectedFormats) next = selectedFormats[lineIndex + 1];\n\n            if (rangeEl && rangeEl.children.length > 0) {\n              parent.insertBefore(rangeEl, rangeElement);\n              rangeEl = null;\n            }\n\n            if (!newList && util.isListCell(insNode)) {\n              if (next && util.getElementDepth(insNode) !== util.getElementDepth(next) && (util.isListCell(parent) || util.getArrayItem(insNode.children, util.isList, false))) {\n                const insNext = insNode.nextElementSibling;\n                const detachRange = util.detachNestedList(insNode, false);\n\n                if (rangeElement !== detachRange || insNext !== insNode.nextElementSibling) {\n                  rangeElement = detachRange;\n                  reset = true;\n                }\n              } else {\n                const inner = insNode;\n                insNode = util.createElement(remove ? inner.nodeName : util.isList(rangeElement.parentNode) || util.isListCell(rangeElement.parentNode) ? 'LI' : util.isCell(rangeElement.parentNode) ? 'DIV' : options.defaultTag);\n                const isCell = util.isListCell(insNode);\n                const innerChildren = inner.childNodes;\n\n                while (innerChildren[0]) {\n                  if (util.isList(innerChildren[0]) && !isCell) break;\n                  insNode.appendChild(innerChildren[0]);\n                }\n\n                util.copyFormatAttributes(insNode, inner);\n                moveComplete = true;\n              }\n            } else {\n              insNode = insNode.cloneNode(false);\n            }\n\n            if (!reset) {\n              if (!remove) {\n                if (newRangeElement) {\n                  if (!insertedNew) {\n                    parent.insertBefore(newRangeElement, rangeElement);\n                    insertedNew = true;\n                  }\n\n                  insNode = appendNode(newRangeElement, insNode, null, children[i]);\n                } else {\n                  insNode = appendNode(parent, insNode, rangeElement, children[i]);\n                }\n\n                if (!reset) {\n                  if (selectedFormats) {\n                    lastNode = insNode;\n\n                    if (!firstNode) {\n                      firstNode = insNode;\n                    }\n                  } else if (!firstNode) {\n                    firstNode = lastNode = insNode;\n                  }\n                }\n              } else {\n                removeArray.push(insNode);\n                util.removeItem(children[i]);\n              }\n\n              if (reset) {\n                reset = moveComplete = false;\n                children = util.getListChildNodes(rangeElement, function (current) {\n                  return current.parentNode === rangeElement;\n                });\n                rangeEl = rangeElement.cloneNode(false);\n                parent = rangeElement.parentNode;\n                i = -1;\n                len = children.length;\n                continue;\n              }\n            }\n          }\n        }\n\n        const rangeParent = rangeElement.parentNode;\n        let rangeRight = rangeElement.nextSibling;\n\n        if (rangeEl && rangeEl.children.length > 0) {\n          rangeParent.insertBefore(rangeEl, rangeRight);\n        }\n\n        if (newRangeElement) firstNode = newRangeElement.previousSibling;else if (!firstNode) firstNode = rangeElement.previousSibling;\n        rangeRight = rangeElement.nextSibling;\n\n        if (rangeElement.children.length === 0 || rangeElement.textContent.length === 0) {\n          util.removeItem(rangeElement);\n        } else {\n          util.removeEmptyNode(rangeElement, null);\n        }\n\n        let edge = null;\n\n        if (remove) {\n          edge = {\n            cc: rangeParent,\n            sc: firstNode,\n            ec: rangeRight,\n            removeArray: removeArray\n          };\n        } else {\n          if (!firstNode) firstNode = lastNode;\n          if (!lastNode) lastNode = firstNode;\n          const childEdge = util.getEdgeChildNodes(firstNode, lastNode.parentNode ? firstNode : lastNode);\n          edge = {\n            cc: (childEdge.sc || childEdge.ec).parentNode,\n            sc: childEdge.sc,\n            ec: childEdge.ec\n          };\n        }\n\n        this.effectNode = null;\n        if (notHistoryPush) return edge;\n\n        if (!remove && edge) {\n          if (!selectedFormats) {\n            this.setRange(edge.sc, 0, edge.sc, 0);\n          } else {\n            this.setRange(edge.sc, so, edge.ec, eo);\n          }\n        } // history stack\n\n\n        this.history.push(false);\n      },\n\n      /**\r\n       * @description \"selectedFormats\" array are detached from the list element.\r\n       * The return value is applied when the first and last lines of \"selectedFormats\" are \"LI\" respectively.\r\n       * @param {Array} selectedFormats Array of format elements (LI, P...) to remove.\r\n       * @param {Boolean} remove If true, deleted without detached.\r\n       * @returns {Object} {sc: <LI>, ec: <LI>}.\r\n       */\n      detachList: function (selectedFormats, remove) {\n        let rangeArr = {};\n        let listFirst = false;\n        let listLast = false;\n        let first = null;\n        let last = null;\n\n        const passComponent = function (current) {\n          return !this.isComponent(current);\n        }.bind(util);\n\n        for (let i = 0, len = selectedFormats.length, r, o, lastIndex, isList; i < len; i++) {\n          lastIndex = i === len - 1;\n          o = util.getRangeFormatElement(selectedFormats[i], passComponent);\n          isList = util.isList(o);\n\n          if (!r && isList) {\n            r = o;\n            rangeArr = {\n              r: r,\n              f: [util.getParentElement(selectedFormats[i], 'LI')]\n            };\n            if (i === 0) listFirst = true;\n          } else if (r && isList) {\n            if (r !== o) {\n              const edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\n              o = selectedFormats[i].parentNode;\n\n              if (listFirst) {\n                first = edge.sc;\n                listFirst = false;\n              }\n\n              if (lastIndex) last = edge.ec;\n\n              if (isList) {\n                r = o;\n                rangeArr = {\n                  r: r,\n                  f: [util.getParentElement(selectedFormats[i], 'LI')]\n                };\n                if (lastIndex) listLast = true;\n              } else {\n                r = null;\n              }\n            } else {\n              rangeArr.f.push(util.getParentElement(selectedFormats[i], 'LI'));\n              if (lastIndex) listLast = true;\n            }\n          }\n\n          if (lastIndex && util.isList(r)) {\n            const edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\n            if (listLast || len === 1) last = edge.ec;\n            if (listFirst) first = edge.sc || last;\n          }\n        }\n\n        return {\n          sc: first,\n          ec: last\n        };\n      },\n\n      /**\r\n       * @description Add, update, and delete nodes from selected text.\r\n       * 1. If there is a node in the \"appendNode\" argument, a node with the same tags and attributes as \"appendNode\" is added to the selection text.\r\n       * 2. If it is in the same tag, only the tag's attributes are changed without adding a tag.\r\n       * 3. If the \"appendNode\" argument is null, the node of the selection is update or remove without adding a new node.\r\n       * 4. The same style as the style attribute of the \"styleArray\" argument is deleted.\r\n       *    (Styles should be put with attribute names from css. [\"background-color\"])\r\n       * 5. The same class name as the class attribute of the \"styleArray\" argument is deleted.\r\n       *    (The class name is preceded by \".\" [\".className\"])\r\n       * 6. Use a list of styles and classes of \"appendNode\" in \"styleArray\" to avoid duplicate property values.\r\n       * 7. If a node with all styles and classes removed has the same tag name as \"appendNode\" or \"removeNodeArray\", or \"appendNode\" is null, that node is deleted.\r\n       * 8. Regardless of the style and class of the node, the tag with the same name as the \"removeNodeArray\" argument value is deleted.\r\n       * 9. If the \"strictRemove\" argument is true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n       *10. It won't work if the parent node has the same class and same value style.\r\n       *    However, if there is a value in \"removeNodeArray\", it works and the text node is separated even if there is no node to replace.\r\n       * @param {Element|null} appendNode The element to be added to the selection. If it is null, only delete the node.\r\n       * @param {Array|null} styleArray The style or className attribute name Array to check (['font-size'], ['.className'], ['font-family', 'color', '.className']...])\r\n       * @param {Array|null} removeNodeArray An array of node names to remove types from, remove all formats when \"appendNode\" is null and there is an empty array or null value. (['span'], ['strong', 'em'] ...])\r\n       * @param {Boolean|null} strictRemove If true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n       */\n      nodeChange: function (appendNode, styleArray, removeNodeArray, strictRemove) {\n        this._resetRangeToTextNode();\n\n        let range = this.getRange_addLine(this.getRange(), null);\n        styleArray = styleArray && styleArray.length > 0 ? styleArray : false;\n        removeNodeArray = removeNodeArray && removeNodeArray.length > 0 ? removeNodeArray : false;\n        const isRemoveNode = !appendNode;\n        const isRemoveFormat = isRemoveNode && !removeNodeArray && !styleArray;\n        let startCon = range.startContainer;\n        let startOff = range.startOffset;\n        let endCon = range.endContainer;\n        let endOff = range.endOffset;\n\n        if (isRemoveFormat && range.collapsed && util.isFormatElement(startCon.parentNode) && util.isFormatElement(endCon.parentNode) || startCon === endCon && startCon.nodeType === 1 && util.isNonEditable(startCon)) {\n          return;\n        }\n\n        if (range.collapsed && !isRemoveFormat) {\n          if (startCon.nodeType === 1 && !util.isBreak(startCon) && !util.isComponent(startCon)) {\n            let afterNode = null;\n            const focusNode = startCon.childNodes[startOff];\n\n            if (focusNode) {\n              if (!focusNode.nextSibling) {\n                afterNode = null;\n              } else {\n                afterNode = util.isBreak(focusNode) ? focusNode : focusNode.nextSibling;\n              }\n            }\n\n            const zeroWidth = util.createTextNode(util.zeroWidthSpace);\n            startCon.insertBefore(zeroWidth, afterNode);\n            this.setRange(zeroWidth, 1, zeroWidth, 1);\n            range = this.getRange();\n            startCon = range.startContainer;\n            startOff = range.startOffset;\n            endCon = range.endContainer;\n            endOff = range.endOffset;\n          }\n        }\n\n        if (util.isFormatElement(startCon)) {\n          startCon = startCon.childNodes[startOff] || startCon.firstChild;\n          startOff = 0;\n        }\n\n        if (util.isFormatElement(endCon)) {\n          endCon = endCon.childNodes[endOff] || endCon.lastChild;\n          endOff = endCon.textContent.length;\n        }\n\n        if (isRemoveNode) {\n          appendNode = util.createElement('DIV');\n        }\n\n        const wRegExp = _w.RegExp;\n        const newNodeName = appendNode.nodeName;\n        /* checked same style property */\n\n        if (!isRemoveFormat && startCon === endCon && !removeNodeArray && appendNode) {\n          let sNode = startCon;\n          let checkCnt = 0;\n          const checkAttrs = [];\n          const checkStyles = appendNode.style;\n\n          for (let i = 0, len = checkStyles.length; i < len; i++) {\n            checkAttrs.push(checkStyles[i]);\n          }\n\n          const ckeckClasses = appendNode.classList;\n\n          for (let i = 0, len = ckeckClasses.length; i < len; i++) {\n            checkAttrs.push('.' + ckeckClasses[i]);\n          }\n\n          if (checkAttrs.length > 0) {\n            while (!util.isFormatElement(sNode) && !util.isWysiwygDiv(sNode)) {\n              for (let i = 0; i < checkAttrs.length; i++) {\n                if (sNode.nodeType === 1) {\n                  const s = checkAttrs[i];\n                  const classReg = /^\\./.test(s) ? new wRegExp('\\\\s*' + s.replace(/^\\./, '') + '(\\\\s+|$)', 'ig') : false;\n                  const styleCheck = isRemoveNode ? !!sNode.style[s] : !!sNode.style[s] && !!appendNode.style[s] && sNode.style[s] === appendNode.style[s];\n                  const classCheck = classReg === false ? false : isRemoveNode ? !!sNode.className.match(classReg) : !!sNode.className.match(classReg) && !!appendNode.className.match(classReg);\n\n                  if (styleCheck || classCheck) {\n                    checkCnt++;\n                  }\n                }\n              }\n\n              sNode = sNode.parentNode;\n            }\n\n            if (checkCnt >= checkAttrs.length) return;\n          }\n        }\n\n        let start = {},\n            end = {};\n        let newNode,\n            styleRegExp = '',\n            classRegExp = '',\n            removeNodeRegExp = '';\n\n        if (styleArray) {\n          for (let i = 0, len = styleArray.length, s; i < len; i++) {\n            s = styleArray[i];\n\n            if (/^\\./.test(s)) {\n              classRegExp += (classRegExp ? '|' : '\\\\s*(?:') + s.replace(/^\\./, '');\n            } else {\n              styleRegExp += (styleRegExp ? '|' : '(?:;|^|\\\\s)(?:') + s;\n            }\n          }\n\n          if (styleRegExp) {\n            styleRegExp += ')\\\\s*:[^;]*\\\\s*(?:;|$)';\n            styleRegExp = new wRegExp(styleRegExp, 'ig');\n          }\n\n          if (classRegExp) {\n            classRegExp += ')(?=\\\\s+|$)';\n            classRegExp = new wRegExp(classRegExp, 'ig');\n          }\n        }\n\n        if (removeNodeArray) {\n          removeNodeRegExp = '^(?:' + removeNodeArray[0];\n\n          for (let i = 1; i < removeNodeArray.length; i++) {\n            removeNodeRegExp += '|' + removeNodeArray[i];\n          }\n\n          removeNodeRegExp += ')$';\n          removeNodeRegExp = new wRegExp(removeNodeRegExp, 'i');\n        }\n        /** validation check function*/\n\n\n        const wBoolean = _w.Boolean;\n        const _removeCheck = {\n          v: false\n        };\n\n        const validation = function (checkNode) {\n          const vNode = checkNode.cloneNode(false); // all path\n\n          if (vNode.nodeType === 3 || util.isBreak(vNode)) return vNode; // all remove\n\n          if (isRemoveFormat) return null; // remove node check\n\n          const tagRemove = !removeNodeRegExp && isRemoveNode || removeNodeRegExp && removeNodeRegExp.test(vNode.nodeName); // tag remove\n\n          if (tagRemove && !strictRemove) {\n            _removeCheck.v = true;\n            return null;\n          } // style regexp\n\n\n          const originStyle = vNode.style.cssText;\n          let style = '';\n\n          if (styleRegExp && originStyle.length > 0) {\n            style = originStyle.replace(styleRegExp, '').trim();\n            if (style !== originStyle) _removeCheck.v = true;\n          } // class check\n\n\n          const originClasses = vNode.className;\n          let classes = '';\n\n          if (classRegExp && originClasses.length > 0) {\n            classes = originClasses.replace(classRegExp, '').trim();\n            if (classes !== originClasses) _removeCheck.v = true;\n          } // remove only\n\n\n          if (isRemoveNode) {\n            if ((classRegExp || !originClasses) && (styleRegExp || !originStyle) && !style && !classes && tagRemove) {\n              _removeCheck.v = true;\n              return null;\n            }\n          } // change\n\n\n          if (style || classes || vNode.nodeName !== newNodeName || wBoolean(styleRegExp) !== wBoolean(originStyle) || wBoolean(classRegExp) !== wBoolean(originClasses)) {\n            if (styleRegExp && originStyle.length > 0) vNode.style.cssText = style;\n\n            if (!vNode.style.cssText) {\n              vNode.removeAttribute('style');\n            }\n\n            if (classRegExp && originClasses.length > 0) vNode.className = classes.trim();\n\n            if (!vNode.className.trim()) {\n              vNode.removeAttribute('class');\n            }\n\n            if (!vNode.style.cssText && !vNode.className && (vNode.nodeName === newNodeName || tagRemove)) {\n              _removeCheck.v = true;\n              return null;\n            }\n\n            return vNode;\n          }\n\n          _removeCheck.v = true;\n          return null;\n        }; // get line nodes\n\n\n        const lineNodes = this.getSelectedElements(null);\n        range = this.getRange();\n        startCon = range.startContainer;\n        startOff = range.startOffset;\n        endCon = range.endContainer;\n        endOff = range.endOffset;\n\n        if (!util.getFormatElement(startCon, null)) {\n          startCon = util.getChildElement(lineNodes[0], function (current) {\n            return current.nodeType === 3;\n          }, false);\n          startOff = 0;\n        }\n\n        if (!util.getFormatElement(endCon, null)) {\n          endCon = util.getChildElement(lineNodes[lineNodes.length - 1], function (current) {\n            return current.nodeType === 3;\n          }, false);\n          endOff = endCon.textContent.length;\n        }\n\n        const oneLine = util.getFormatElement(startCon, null) === util.getFormatElement(endCon, null);\n        const endLength = lineNodes.length - (oneLine ? 0 : 1); // node Changes\n\n        newNode = appendNode.cloneNode(false);\n\n        const isRemoveAnchor = isRemoveFormat || isRemoveNode && function (arr) {\n          for (let n = 0, len = arr.length; n < len; n++) {\n            if (util._isMaintainedNode(arr[n]) || util._isSizeNode(arr[n])) return true;\n          }\n\n          return false;\n        }(removeNodeArray);\n\n        const isSizeNode = isRemoveNode || util._isSizeNode(newNode);\n\n        const _getMaintainedNode = this._util_getMaintainedNode.bind(util, isRemoveAnchor, isSizeNode);\n\n        const _isMaintainedNode = this._util_isMaintainedNode.bind(util, isRemoveAnchor, isSizeNode); // one line\n\n\n        if (oneLine) {\n          const newRange = this._nodeChange_oneLine(lineNodes[0], newNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, range.collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode);\n\n          start.container = newRange.startContainer;\n          start.offset = newRange.startOffset;\n          end.container = newRange.endContainer;\n          end.offset = newRange.endOffset;\n\n          if (start.container === end.container && util.onlyZeroWidthSpace(start.container)) {\n            start.offset = end.offset = 1;\n          }\n\n          this._setCommonListStyle(newRange.ancestor, null);\n        } else {\n          // multi line \n          // end\n          if (endLength > 0) {\n            newNode = appendNode.cloneNode(false);\n            end = this._nodeChange_endLine(lineNodes[endLength], newNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode);\n          } // mid\n\n\n          for (let i = endLength - 1, newRange; i > 0; i--) {\n            newNode = appendNode.cloneNode(false);\n            newRange = this._nodeChange_middleLine(lineNodes[i], newNode, validation, isRemoveFormat, isRemoveNode, _removeCheck, end.container);\n\n            if (newRange.endContainer) {\n              end.ancestor = null;\n              end.container = newRange.endContainer;\n            }\n\n            this._setCommonListStyle(newRange.ancestor, null);\n          } // start\n\n\n          newNode = appendNode.cloneNode(false);\n          start = this._nodeChange_startLine(lineNodes[0], newNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode, end.container);\n\n          if (start.endContainer) {\n            end.ancestor = null;\n            end.container = start.endContainer;\n          }\n\n          if (endLength <= 0) {\n            end = start;\n          } else if (!end.container) {\n            end.ancestor = null;\n            end.container = start.container;\n            end.offset = start.container.textContent.length;\n          }\n\n          this._setCommonListStyle(start.ancestor, null);\n\n          this._setCommonListStyle(end.ancestor || util.getFormatElement(end.container), null);\n        } // set range\n\n\n        this.controllersOff();\n        this.setRange(start.container, start.offset, end.container, end.offset); // history stack\n\n        this.history.push(false);\n      },\n\n      /**\r\n       * @description If certain styles are applied to all child nodes of the list cell, the style of the list cell is also changed. (bold, color, size)\r\n       * @param {Element} el List cell element. <li>\r\n       * @param {Element|null} child Variable for recursive call. (\"null\" on the first call)\r\n       * @private\r\n       */\n      _setCommonListStyle: function (el, child) {\n        if (!util.isListCell(el)) return;\n        if (!child) el.removeAttribute('style');\n        const children = util.getArrayItem((child || el).childNodes, function (current) {\n          return !util.isBreak(current) && !util.onlyZeroWidthSpace(current.textContent.trim());\n        }, true);\n\n        if (children[0] && children.length === 1) {\n          child = children[0];\n          if (!child || child.nodeType !== 1) return;\n          const childStyle = child.style;\n          const elStyle = el.style; // bold\n\n          if (/STRONG/i.test(child.nodeName)) elStyle.fontWeight = 'bold'; // bold\n          else if (childStyle.fontWeight) elStyle.fontWeight = childStyle.fontWeight; // styles\n\n          if (childStyle.color) elStyle.color = childStyle.color; // color\n\n          if (childStyle.fontSize) elStyle.fontSize = childStyle.fontSize; // size\n\n          this._setCommonListStyle(el, child);\n        }\n      },\n\n      /**\r\n       * @description Strip remove node\r\n       * @param {Node} removeNode The remove node\r\n       * @private\r\n       */\n      _stripRemoveNode: function (removeNode) {\n        const element = removeNode.parentNode;\n        if (!removeNode || removeNode.nodeType === 3 || !element) return;\n        const children = removeNode.childNodes;\n\n        while (children[0]) {\n          element.insertBefore(children[0], removeNode);\n        }\n\n        element.removeChild(removeNode);\n      },\n\n      /**\r\n       * @description Return the parent maintained tag. (bind and use a util object)\r\n       * @param {Element} element Element\r\n       * @returns {Element}\r\n       * @private\r\n       */\n      _util_getMaintainedNode: function (_isRemove, _isSizeNode, element) {\n        if (!element || _isRemove) return null;\n        return this.getParentElement(element, this._isMaintainedNode.bind(this)) || (!_isSizeNode ? this.getParentElement(element, this._isSizeNode.bind(this)) : null);\n      },\n\n      /**\r\n       * @description Check if element is a tag that should be persisted. (bind and use a util object)\r\n       * @param {Element} element Element\r\n       * @returns {Element}\r\n       * @private\r\n       */\n      _util_isMaintainedNode: function (_isRemove, _isSizeNode, element) {\n        if (!element || _isRemove || element.nodeType !== 1) return false;\n\n        const anchor = this._isMaintainedNode(element);\n\n        return this.getParentElement(element, this._isMaintainedNode.bind(this)) ? anchor : anchor || (!_isSizeNode ? this._isSizeNode(element) : false);\n      },\n\n      /**\r\n       * @description wraps text nodes of line selected text.\r\n       * @param {Element} element The node of the line that contains the selected text node.\r\n       * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n       * @param {Function} validation Check if the node should be stripped.\r\n       * @param {Node} startCon The startContainer property of the selection object.\r\n       * @param {Number} startOff The startOffset property of the selection object.\r\n       * @param {Node} endCon The endContainer property of the selection object.\r\n       * @param {Number} endOff The endOffset property of the selection object.\r\n       * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n       * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n       * @param {Boolean} collapsed range.collapsed\r\n       * @returns {{ancestor: *, startContainer: *, startOffset: *, endContainer: *, endOffset: *}}\r\n       * @private\r\n       */\n      _nodeChange_oneLine: function (element, newInnerNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\n        // not add tag\n        let parentCon = startCon.parentNode;\n\n        while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\n          if (parentCon.nodeName === newInnerNode.nodeName) break;\n          parentCon = parentCon.parentNode;\n        }\n\n        if (!isRemoveNode && parentCon === endCon.parentNode && parentCon.nodeName === newInnerNode.nodeName) {\n          if (util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff)) && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\n            const children = parentCon.childNodes;\n            let sameTag = true;\n\n            for (let i = 0, len = children.length, c, s, e, z; i < len; i++) {\n              c = children[i];\n              z = !util.onlyZeroWidthSpace(c);\n\n              if (c === startCon) {\n                s = true;\n                continue;\n              }\n\n              if (c === endCon) {\n                e = true;\n                continue;\n              }\n\n              if (!s && z || s && e && z) {\n                sameTag = false;\n                break;\n              }\n            }\n\n            if (sameTag) {\n              util.copyTagAttributes(parentCon, newInnerNode);\n              return {\n                startContainer: startCon,\n                startOffset: startOff,\n                endContainer: endCon,\n                endOffset: endOff\n              };\n            }\n          }\n        } // add tag\n\n\n        _removeCheck.v = false;\n        const el = element;\n        const nNodeArray = [newInnerNode];\n        const pNode = element.cloneNode(false);\n        const isSameNode = startCon === endCon;\n        let startContainer = startCon;\n        let startOffset = startOff;\n        let endContainer = endCon;\n        let endOffset = endOff;\n        let startPass = false;\n        let endPass = false;\n        let pCurrent, newNode, appendNode, cssText, anchorNode;\n        const wRegExp = _w.RegExp;\n\n        function checkCss(vNode) {\n          const regExp = new wRegExp('(?:;|^|\\\\s)(?:' + cssText + 'null)\\\\s*:[^;]*\\\\s*(?:;|$)', 'ig');\n          let style = '';\n\n          if (regExp && vNode.style.cssText.length > 0) {\n            style = regExp.test(vNode.style.cssText);\n          }\n\n          return !style;\n        }\n\n        (function recursionFunc(current, ancestor) {\n          const childNodes = current.childNodes;\n\n          for (let i = 0, len = childNodes.length, vNode; i < len; i++) {\n            let child = childNodes[i];\n            if (!child) continue;\n            let coverNode = ancestor;\n            let cloneNode; // startContainer\n\n            if (!startPass && child === startContainer) {\n              let line = pNode;\n              anchorNode = _getMaintainedNode(child);\n              const prevNode = util.createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(0, startOffset));\n              const textNode = util.createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(startOffset, isSameNode ? endOffset >= startOffset ? endOffset - startOffset : startContainer.data.length - startOffset : startContainer.data.length - startOffset));\n\n              if (anchorNode) {\n                const a = _getMaintainedNode(ancestor);\n\n                if (a && a.parentNode !== line) {\n                  let m = a;\n                  let p = null;\n\n                  while (m.parentNode !== line) {\n                    ancestor = p = m.parentNode.cloneNode(false);\n\n                    while (m.childNodes[0]) {\n                      p.appendChild(m.childNodes[0]);\n                    }\n\n                    m.appendChild(p);\n                    m = m.parentNode;\n                  }\n\n                  m.parentNode.appendChild(a);\n                }\n\n                anchorNode = anchorNode.cloneNode(false);\n              }\n\n              if (!util.onlyZeroWidthSpace(prevNode)) {\n                ancestor.appendChild(prevNode);\n              }\n\n              const prevAnchorNode = _getMaintainedNode(ancestor);\n\n              if (!!prevAnchorNode) anchorNode = prevAnchorNode;\n              if (anchorNode) line = anchorNode;\n              newNode = child;\n              pCurrent = [];\n              cssText = '';\n\n              while (newNode !== line && newNode !== el && newNode !== null) {\n                vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\n\n                if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\n                  pCurrent.push(vNode);\n                  cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              const childNode = pCurrent.pop() || textNode;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              newInnerNode.appendChild(childNode);\n              line.appendChild(newInnerNode);\n\n              if (anchorNode && !_getMaintainedNode(endContainer)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode);\n              }\n\n              startContainer = textNode;\n              startOffset = 0;\n              startPass = true;\n              if (newNode !== textNode) newNode.appendChild(startContainer);\n              if (!isSameNode) continue;\n            } // endContainer\n\n\n            if (!endPass && child === endContainer) {\n              anchorNode = _getMaintainedNode(child);\n              const afterNode = util.createTextNode(endContainer.nodeType === 1 ? '' : endContainer.substringData(endOffset, endContainer.length - endOffset));\n              const textNode = util.createTextNode(isSameNode || endContainer.nodeType === 1 ? '' : endContainer.substringData(0, endOffset));\n\n              if (anchorNode) {\n                anchorNode = anchorNode.cloneNode(false);\n              } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode);\n              }\n\n              if (!util.onlyZeroWidthSpace(afterNode)) {\n                newNode = child;\n                cssText = '';\n                pCurrent = [];\n                const anchors = [];\n\n                while (newNode !== pNode && newNode !== el && newNode !== null) {\n                  if (newNode.nodeType === 1 && checkCss(newNode)) {\n                    if (_isMaintainedNode(newNode)) anchors.push(newNode.cloneNode(false));else pCurrent.push(newNode.cloneNode(false));\n                    cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\n                  }\n\n                  newNode = newNode.parentNode;\n                }\n\n                pCurrent = pCurrent.concat(anchors);\n                cloneNode = appendNode = newNode = pCurrent.pop() || afterNode;\n\n                while (pCurrent.length > 0) {\n                  newNode = pCurrent.pop();\n                  appendNode.appendChild(newNode);\n                  appendNode = newNode;\n                }\n\n                pNode.appendChild(cloneNode);\n                newNode.textContent = afterNode.data;\n              }\n\n              if (anchorNode && cloneNode) {\n                const afterAnchorNode = _getMaintainedNode(cloneNode);\n\n                if (afterAnchorNode) {\n                  anchorNode = afterAnchorNode;\n                }\n              }\n\n              newNode = child;\n              pCurrent = [];\n              cssText = '';\n\n              while (newNode !== pNode && newNode !== el && newNode !== null) {\n                vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\n\n                if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\n                  pCurrent.push(vNode);\n                  cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              const childNode = pCurrent.pop() || textNode;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (anchorNode) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                newInnerNode.appendChild(childNode);\n                anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\n                pNode.appendChild(anchorNode);\n                nNodeArray.push(newInnerNode);\n                anchorNode = null;\n              } else {\n                newInnerNode.appendChild(childNode);\n              }\n\n              endContainer = textNode;\n              endOffset = textNode.data.length;\n              endPass = true;\n\n              if (!isRemoveFormat && collapsed) {\n                newInnerNode = textNode;\n                textNode.textContent = util.zeroWidthSpace;\n              }\n\n              if (newNode !== textNode) newNode.appendChild(endContainer);\n              continue;\n            } // other\n\n\n            if (startPass) {\n              if (child.nodeType === 1 && !util.isBreak(child)) {\n                if (util._isIgnoreNodeChange(child)) {\n                  pNode.appendChild(child.cloneNode(true));\n\n                  if (!collapsed) {\n                    newInnerNode = newInnerNode.cloneNode(false);\n                    pNode.appendChild(newInnerNode);\n                    nNodeArray.push(newInnerNode);\n                  }\n                } else {\n                  recursionFunc(child, child);\n                }\n\n                continue;\n              }\n\n              newNode = child;\n              pCurrent = [];\n              cssText = '';\n              const anchors = [];\n\n              while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\n                vNode = endPass ? newNode.cloneNode(false) : validation(newNode);\n\n                if (newNode.nodeType === 1 && !util.isBreak(child) && vNode && checkCss(newNode)) {\n                  if (_isMaintainedNode(newNode)) {\n                    if (!anchorNode) anchors.push(vNode);\n                  } else {\n                    pCurrent.push(vNode);\n                  }\n\n                  cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              pCurrent = pCurrent.concat(anchors);\n              const childNode = pCurrent.pop() || child;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode) && !util.onlyZeroWidthSpace(newInnerNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode);\n              }\n\n              if (!endPass && !anchorNode && _isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                const aChildren = childNode.childNodes;\n\n                for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\n                  newInnerNode.appendChild(aChildren[a]);\n                }\n\n                childNode.appendChild(newInnerNode);\n                pNode.appendChild(childNode);\n                nNodeArray.push(newInnerNode);\n                if (newInnerNode.children.length > 0) ancestor = newNode;else ancestor = newInnerNode;\n              } else if (childNode === child) {\n                if (!endPass) ancestor = newInnerNode;else ancestor = pNode;\n              } else if (endPass) {\n                pNode.appendChild(childNode);\n                ancestor = newNode;\n              } else {\n                newInnerNode.appendChild(childNode);\n                ancestor = newNode;\n              }\n\n              if (anchorNode && child.nodeType === 3) {\n                if (_getMaintainedNode(child)) {\n                  const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {\n                    return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;\n                  }.bind(util));\n                  anchorNode.appendChild(ancestorAnchorNode);\n                  newInnerNode = ancestorAnchorNode.cloneNode(false);\n                  nNodeArray.push(newInnerNode);\n                  pNode.appendChild(newInnerNode);\n                } else {\n                  anchorNode = null;\n                }\n              }\n            }\n\n            cloneNode = child.cloneNode(false);\n            ancestor.appendChild(cloneNode);\n            if (child.nodeType === 1 && !util.isBreak(child)) coverNode = cloneNode;\n            recursionFunc(child, coverNode);\n          }\n        })(element, pNode); // not remove tag\n\n\n        if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\n          return {\n            ancestor: element,\n            startContainer: startCon,\n            startOffset: startOff,\n            endContainer: endCon,\n            endOffset: endOff\n          };\n        }\n\n        isRemoveFormat = isRemoveFormat && isRemoveNode;\n\n        if (isRemoveFormat) {\n          for (let i = 0; i < nNodeArray.length; i++) {\n            let removeNode = nNodeArray[i];\n            let textNode, textNode_s, textNode_e;\n\n            if (collapsed) {\n              textNode = util.createTextNode(util.zeroWidthSpace);\n              pNode.replaceChild(textNode, removeNode);\n            } else {\n              const rChildren = removeNode.childNodes;\n              textNode_s = rChildren[0];\n\n              while (rChildren[0]) {\n                textNode_e = rChildren[0];\n                pNode.insertBefore(textNode_e, removeNode);\n              }\n\n              util.removeItem(removeNode);\n            }\n\n            if (i === 0) {\n              if (collapsed) {\n                startContainer = endContainer = textNode;\n              } else {\n                startContainer = textNode_s;\n                endContainer = textNode_e;\n              }\n            }\n          }\n        } else {\n          if (isRemoveNode) {\n            for (let i = 0; i < nNodeArray.length; i++) {\n              this._stripRemoveNode(nNodeArray[i]);\n            }\n          }\n\n          if (collapsed) {\n            startContainer = endContainer = newInnerNode;\n          }\n        }\n\n        util.removeEmptyNode(pNode, newInnerNode);\n\n        if (collapsed) {\n          startOffset = startContainer.textContent.length;\n          endOffset = endContainer.textContent.length;\n        } // endContainer reset\n\n\n        const endConReset = isRemoveFormat || endContainer.textContent.length === 0;\n\n        if (!util.isBreak(endContainer) && endContainer.textContent.length === 0) {\n          util.removeItem(endContainer);\n          endContainer = startContainer;\n        }\n\n        endOffset = endConReset ? endContainer.textContent.length : endOffset; // node change\n\n        const newStartOffset = {\n          s: 0,\n          e: 0\n        };\n        const startPath = util.getNodePath(startContainer, pNode, newStartOffset);\n        const mergeEndCon = !endContainer.parentNode;\n        if (mergeEndCon) endContainer = startContainer;\n        const newEndOffset = {\n          s: 0,\n          e: 0\n        };\n        const endPath = util.getNodePath(endContainer, pNode, !mergeEndCon && !endConReset ? newEndOffset : null);\n        startOffset += newStartOffset.s;\n        endOffset = collapsed ? startOffset : mergeEndCon ? startContainer.textContent.length : endConReset ? endOffset + newStartOffset.s : endOffset + newEndOffset.s; // tag merge\n\n        const newOffsets = util.mergeSameTags(pNode, [startPath, endPath], true);\n        element.parentNode.replaceChild(pNode, element);\n        startContainer = util.getNodeFromPath(startPath, pNode);\n        endContainer = util.getNodeFromPath(endPath, pNode);\n        return {\n          ancestor: pNode,\n          startContainer: startContainer,\n          startOffset: startOffset + newOffsets[0],\n          endContainer: endContainer,\n          endOffset: endOffset + newOffsets[1]\n        };\n      },\n\n      /**\r\n       * @description wraps first line selected text.\r\n       * @param {Element} element The node of the line that contains the selected text node.\r\n       * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n       * @param {Function} validation Check if the node should be stripped.\r\n       * @param {Node} startCon The startContainer property of the selection object.\r\n       * @param {Number} startOff The startOffset property of the selection object.\r\n       * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n       * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n       * @returns {null|Node} If end container is renewed, returned renewed node\r\n       * @returns {Object} { ancestor, container, offset, endContainer }\r\n       * @private\r\n       */\n      _nodeChange_startLine: function (element, newInnerNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode, _endContainer) {\n        // not add tag\n        let parentCon = startCon.parentNode;\n\n        while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\n          if (parentCon.nodeName === newInnerNode.nodeName) break;\n          parentCon = parentCon.parentNode;\n        }\n\n        if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.nextSibling && util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff))) {\n          let sameTag = true;\n          let s = startCon.previousSibling;\n\n          while (s) {\n            if (!util.onlyZeroWidthSpace(s)) {\n              sameTag = false;\n              break;\n            }\n\n            s = s.previousSibling;\n          }\n\n          if (sameTag) {\n            util.copyTagAttributes(parentCon, newInnerNode);\n            return {\n              ancestor: element,\n              container: startCon,\n              offset: startOff\n            };\n          }\n        } // add tag\n\n\n        _removeCheck.v = false;\n        const el = element;\n        const nNodeArray = [newInnerNode];\n        const pNode = element.cloneNode(false);\n        let container = startCon;\n        let offset = startOff;\n        let passNode = false;\n        let pCurrent, newNode, appendNode, anchorNode;\n\n        (function recursionFunc(current, ancestor) {\n          const childNodes = current.childNodes;\n\n          for (let i = 0, len = childNodes.length, vNode, cloneChild; i < len; i++) {\n            const child = childNodes[i];\n            if (!child) continue;\n            let coverNode = ancestor;\n\n            if (passNode && !util.isBreak(child)) {\n              if (child.nodeType === 1) {\n                if (util._isIgnoreNodeChange(child)) {\n                  newInnerNode = newInnerNode.cloneNode(false);\n                  cloneChild = child.cloneNode(true);\n                  pNode.appendChild(cloneChild);\n                  pNode.appendChild(newInnerNode);\n                  nNodeArray.push(newInnerNode); // end container\n\n                  if (_endContainer && child.contains(_endContainer)) {\n                    const endPath = util.getNodePath(_endContainer, child);\n                    _endContainer = util.getNodeFromPath(endPath, cloneChild);\n                  }\n                } else {\n                  recursionFunc(child, child);\n                }\n\n                continue;\n              }\n\n              newNode = child;\n              pCurrent = [];\n              const anchors = [];\n\n              while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\n                vNode = validation(newNode);\n\n                if (newNode.nodeType === 1 && vNode) {\n                  if (_isMaintainedNode(newNode)) {\n                    if (!anchorNode) anchors.push(vNode);\n                  } else {\n                    pCurrent.push(vNode);\n                  }\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              pCurrent = pCurrent.concat(anchors);\n              const isTopNode = pCurrent.length > 0;\n              const childNode = pCurrent.pop() || child;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode);\n              }\n\n              if (!anchorNode && _isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                const aChildren = childNode.childNodes;\n\n                for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\n                  newInnerNode.appendChild(aChildren[a]);\n                }\n\n                childNode.appendChild(newInnerNode);\n                pNode.appendChild(childNode);\n                ancestor = !_isMaintainedNode(newNode) ? newNode : newInnerNode;\n                nNodeArray.push(newInnerNode);\n              } else if (isTopNode) {\n                newInnerNode.appendChild(childNode);\n                ancestor = newNode;\n              } else {\n                ancestor = newInnerNode;\n              }\n\n              if (anchorNode && child.nodeType === 3) {\n                if (_getMaintainedNode(child)) {\n                  const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {\n                    return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;\n                  }.bind(util));\n                  anchorNode.appendChild(ancestorAnchorNode);\n                  newInnerNode = ancestorAnchorNode.cloneNode(false);\n                  nNodeArray.push(newInnerNode);\n                  pNode.appendChild(newInnerNode);\n                } else {\n                  anchorNode = null;\n                }\n              }\n            } // startContainer\n\n\n            if (!passNode && child === container) {\n              let line = pNode;\n              anchorNode = _getMaintainedNode(child);\n              const prevNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\n              const textNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, container.length - offset));\n\n              if (anchorNode) {\n                const a = _getMaintainedNode(ancestor);\n\n                if (a && a.parentNode !== line) {\n                  let m = a;\n                  let p = null;\n\n                  while (m.parentNode !== line) {\n                    ancestor = p = m.parentNode.cloneNode(false);\n\n                    while (m.childNodes[0]) {\n                      p.appendChild(m.childNodes[0]);\n                    }\n\n                    m.appendChild(p);\n                    m = m.parentNode;\n                  }\n\n                  m.parentNode.appendChild(a);\n                }\n\n                anchorNode = anchorNode.cloneNode(false);\n              }\n\n              if (!util.onlyZeroWidthSpace(prevNode)) {\n                ancestor.appendChild(prevNode);\n              }\n\n              const prevAnchorNode = _getMaintainedNode(ancestor);\n\n              if (!!prevAnchorNode) anchorNode = prevAnchorNode;\n              if (anchorNode) line = anchorNode;\n              newNode = ancestor;\n              pCurrent = [];\n\n              while (newNode !== line && newNode !== null) {\n                vNode = validation(newNode);\n\n                if (newNode.nodeType === 1 && vNode) {\n                  pCurrent.push(vNode);\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              const childNode = pCurrent.pop() || ancestor;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (childNode !== ancestor) {\n                newInnerNode.appendChild(childNode);\n                ancestor = newNode;\n              } else {\n                ancestor = newInnerNode;\n              }\n\n              if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\n              line.appendChild(newInnerNode);\n              container = textNode;\n              offset = 0;\n              passNode = true;\n              ancestor.appendChild(container);\n              continue;\n            }\n\n            vNode = !passNode ? child.cloneNode(false) : validation(child);\n\n            if (vNode) {\n              ancestor.appendChild(vNode);\n              if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\n            }\n\n            recursionFunc(child, coverNode);\n          }\n        })(element, pNode); // not remove tag\n\n\n        if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\n          return {\n            ancestor: element,\n            container: startCon,\n            offset: startOff,\n            endContainer: _endContainer\n          };\n        }\n\n        isRemoveFormat = isRemoveFormat && isRemoveNode;\n\n        if (isRemoveFormat) {\n          for (let i = 0; i < nNodeArray.length; i++) {\n            let removeNode = nNodeArray[i];\n            const rChildren = removeNode.childNodes;\n            const textNode = rChildren[0];\n\n            while (rChildren[0]) {\n              pNode.insertBefore(rChildren[0], removeNode);\n            }\n\n            util.removeItem(removeNode);\n            if (i === 0) container = textNode;\n          }\n        } else if (isRemoveNode) {\n          newInnerNode = newInnerNode.firstChild;\n\n          for (let i = 0; i < nNodeArray.length; i++) {\n            this._stripRemoveNode(nNodeArray[i]);\n          }\n        }\n\n        if (!isRemoveFormat && pNode.childNodes.length === 0) {\n          if (element.childNodes) {\n            container = element.childNodes[0];\n          } else {\n            container = util.createTextNode(util.zeroWidthSpace);\n            element.appendChild(container);\n          }\n        } else {\n          util.removeEmptyNode(pNode, newInnerNode);\n\n          if (util.onlyZeroWidthSpace(pNode.textContent)) {\n            container = pNode.firstChild;\n            offset = 0;\n          } // node change\n\n\n          const offsets = {\n            s: 0,\n            e: 0\n          };\n          const path = util.getNodePath(container, pNode, offsets);\n          offset += offsets.s; // tag merge\n\n          const newOffsets = util.mergeSameTags(pNode, [path], true);\n          element.parentNode.replaceChild(pNode, element);\n          container = util.getNodeFromPath(path, pNode);\n          offset += newOffsets[0];\n        }\n\n        return {\n          ancestor: pNode,\n          container: container,\n          offset: offset,\n          endContainer: _endContainer\n        };\n      },\n\n      /**\r\n       * @description wraps mid lines selected text.\r\n       * @param {Element} element The node of the line that contains the selected text node.\r\n       * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n       * @param {Function} validation Check if the node should be stripped.\r\n       * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n       * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n       * @param {Node} _endContainer Offset node of last line already modified (end.container)\r\n       * @returns {Object} { ancestor, endContainer: \"If end container is renewed, returned renewed node\" }\r\n       * @private\r\n       */\n      _nodeChange_middleLine: function (element, newInnerNode, validation, isRemoveFormat, isRemoveNode, _removeCheck, _endContainer) {\n        // not add tag\n        if (!isRemoveNode) {\n          // end container path\n          let endPath = null;\n          if (_endContainer && element.contains(_endContainer)) endPath = util.getNodePath(_endContainer, element);\n          const tempNode = element.cloneNode(true);\n          const newNodeName = newInnerNode.nodeName;\n          const newCssText = newInnerNode.style.cssText;\n          const newClass = newInnerNode.className;\n          let children = tempNode.childNodes;\n          let i = 0,\n              len = children.length;\n\n          for (let child; i < len; i++) {\n            child = children[i];\n            if (child.nodeType === 3) break;\n\n            if (child.nodeName === newNodeName) {\n              child.style.cssText += newCssText;\n              util.addClass(child, newClass);\n            } else if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\n              continue;\n            } else if (len === 1) {\n              children = child.childNodes;\n              len = children.length;\n              i = -1;\n              continue;\n            } else {\n              break;\n            }\n          }\n\n          if (len > 0 && i === len) {\n            element.innerHTML = tempNode.innerHTML;\n            return {\n              ancestor: element,\n              endContainer: endPath ? util.getNodeFromPath(endPath, element) : null\n            };\n          }\n        } // add tag\n\n\n        _removeCheck.v = false;\n        const pNode = element.cloneNode(false);\n        const nNodeArray = [newInnerNode];\n        let noneChange = true;\n\n        (function recursionFunc(current, ancestor) {\n          const childNodes = current.childNodes;\n\n          for (let i = 0, len = childNodes.length, vNode, cloneChild; i < len; i++) {\n            let child = childNodes[i];\n            if (!child) continue;\n            let coverNode = ancestor;\n\n            if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\n              if (newInnerNode.childNodes.length > 0) {\n                pNode.appendChild(newInnerNode);\n                newInnerNode = newInnerNode.cloneNode(false);\n              }\n\n              cloneChild = child.cloneNode(true);\n              pNode.appendChild(cloneChild);\n              pNode.appendChild(newInnerNode);\n              nNodeArray.push(newInnerNode);\n              ancestor = newInnerNode; // end container\n\n              if (_endContainer && child.contains(_endContainer)) {\n                const endPath = util.getNodePath(_endContainer, child);\n                _endContainer = util.getNodeFromPath(endPath, cloneChild);\n              }\n\n              continue;\n            } else {\n              vNode = validation(child);\n\n              if (vNode) {\n                noneChange = false;\n                ancestor.appendChild(vNode);\n                if (child.nodeType === 1) coverNode = vNode;\n              }\n            }\n\n            if (!util.isBreak(child)) recursionFunc(child, coverNode);\n          }\n        })(element, newInnerNode); // not remove tag\n\n\n        if (noneChange || isRemoveNode && !isRemoveFormat && !_removeCheck.v) return {\n          ancestor: element,\n          endContainer: _endContainer\n        };\n        pNode.appendChild(newInnerNode);\n\n        if (isRemoveFormat && isRemoveNode) {\n          for (let i = 0; i < nNodeArray.length; i++) {\n            let removeNode = nNodeArray[i];\n            const rChildren = removeNode.childNodes;\n\n            while (rChildren[0]) {\n              pNode.insertBefore(rChildren[0], removeNode);\n            }\n\n            util.removeItem(removeNode);\n          }\n        } else if (isRemoveNode) {\n          newInnerNode = newInnerNode.firstChild;\n\n          for (let i = 0; i < nNodeArray.length; i++) {\n            this._stripRemoveNode(nNodeArray[i]);\n          }\n        }\n\n        util.removeEmptyNode(pNode, newInnerNode);\n        util.mergeSameTags(pNode, null, true); // node change\n\n        element.parentNode.replaceChild(pNode, element);\n        return {\n          ancestor: pNode,\n          endContainer: _endContainer\n        };\n      },\n\n      /**\r\n       * @description wraps last line selected text.\r\n       * @param {Element} element The node of the line that contains the selected text node.\r\n       * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n       * @param {Function} validation Check if the node should be stripped.\r\n       * @param {Node} endCon The endContainer property of the selection object.\r\n       * @param {Number} endOff The endOffset property of the selection object.\r\n       * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n       * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n       * @returns {Object} { ancestor, container, offset }\r\n       * @private\r\n       */\n      _nodeChange_endLine: function (element, newInnerNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\n        // not add tag\n        let parentCon = endCon.parentNode;\n\n        while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\n          if (parentCon.nodeName === newInnerNode.nodeName) break;\n          parentCon = parentCon.parentNode;\n        }\n\n        if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.previousSibling && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\n          let sameTag = true;\n          let e = endCon.nextSibling;\n\n          while (e) {\n            if (!util.onlyZeroWidthSpace(e)) {\n              sameTag = false;\n              break;\n            }\n\n            e = e.nextSibling;\n          }\n\n          if (sameTag) {\n            util.copyTagAttributes(parentCon, newInnerNode);\n            return {\n              ancestor: element,\n              container: endCon,\n              offset: endOff\n            };\n          }\n        } // add tag\n\n\n        _removeCheck.v = false;\n        const el = element;\n        const nNodeArray = [newInnerNode];\n        const pNode = element.cloneNode(false);\n        let container = endCon;\n        let offset = endOff;\n        let passNode = false;\n        let pCurrent, newNode, appendNode, anchorNode;\n\n        (function recursionFunc(current, ancestor) {\n          const childNodes = current.childNodes;\n\n          for (let i = childNodes.length - 1, vNode; 0 <= i; i--) {\n            const child = childNodes[i];\n            if (!child) continue;\n            let coverNode = ancestor;\n\n            if (passNode && !util.isBreak(child)) {\n              if (child.nodeType === 1) {\n                if (util._isIgnoreNodeChange(child)) {\n                  newInnerNode = newInnerNode.cloneNode(false);\n                  const cloneChild = child.cloneNode(true);\n                  pNode.insertBefore(cloneChild, ancestor);\n                  pNode.insertBefore(newInnerNode, cloneChild);\n                  nNodeArray.push(newInnerNode);\n                } else {\n                  recursionFunc(child, child);\n                }\n\n                continue;\n              }\n\n              newNode = child;\n              pCurrent = [];\n              const anchors = [];\n\n              while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\n                vNode = validation(newNode);\n\n                if (vNode && newNode.nodeType === 1) {\n                  if (_isMaintainedNode(newNode)) {\n                    if (!anchorNode) anchors.push(vNode);\n                  } else {\n                    pCurrent.push(vNode);\n                  }\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              pCurrent = pCurrent.concat(anchors);\n              const isTopNode = pCurrent.length > 0;\n              const childNode = pCurrent.pop() || child;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.insertBefore(newInnerNode, pNode.firstChild);\n                nNodeArray.push(newInnerNode);\n              }\n\n              if (!anchorNode && _isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                const aChildren = childNode.childNodes;\n\n                for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\n                  newInnerNode.appendChild(aChildren[a]);\n                }\n\n                childNode.appendChild(newInnerNode);\n                pNode.insertBefore(childNode, pNode.firstChild);\n                nNodeArray.push(newInnerNode);\n                if (newInnerNode.children.length > 0) ancestor = newNode;else ancestor = newInnerNode;\n              } else if (isTopNode) {\n                newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\n                ancestor = newNode;\n              } else {\n                ancestor = newInnerNode;\n              }\n\n              if (anchorNode && child.nodeType === 3) {\n                if (_getMaintainedNode(child)) {\n                  const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {\n                    return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;\n                  }.bind(util));\n                  anchorNode.appendChild(ancestorAnchorNode);\n                  newInnerNode = ancestorAnchorNode.cloneNode(false);\n                  nNodeArray.push(newInnerNode);\n                  pNode.insertBefore(newInnerNode, pNode.firstChild);\n                } else {\n                  anchorNode = null;\n                }\n              }\n            } // endContainer\n\n\n            if (!passNode && child === container) {\n              anchorNode = _getMaintainedNode(child);\n              const afterNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, container.length - offset));\n              const textNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\n\n              if (anchorNode) {\n                anchorNode = anchorNode.cloneNode(false);\n\n                const a = _getMaintainedNode(ancestor);\n\n                if (a && a.parentNode !== pNode) {\n                  let m = a;\n                  let p = null;\n\n                  while (m.parentNode !== pNode) {\n                    ancestor = p = m.parentNode.cloneNode(false);\n\n                    while (m.childNodes[0]) {\n                      p.appendChild(m.childNodes[0]);\n                    }\n\n                    m.appendChild(p);\n                    m = m.parentNode;\n                  }\n\n                  m.parentNode.insertBefore(a, m.parentNode.firstChild);\n                }\n\n                anchorNode = anchorNode.cloneNode(false);\n              } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode);\n              }\n\n              if (!util.onlyZeroWidthSpace(afterNode)) {\n                ancestor.insertBefore(afterNode, ancestor.firstChild);\n              }\n\n              newNode = ancestor;\n              pCurrent = [];\n\n              while (newNode !== pNode && newNode !== null) {\n                vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\n\n                if (vNode && newNode.nodeType === 1) {\n                  pCurrent.push(vNode);\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              const childNode = pCurrent.pop() || ancestor;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (childNode !== ancestor) {\n                newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\n                ancestor = newNode;\n              } else {\n                ancestor = newInnerNode;\n              }\n\n              if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\n\n              if (anchorNode) {\n                anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\n                pNode.insertBefore(anchorNode, pNode.firstChild);\n                anchorNode = null;\n              } else {\n                pNode.insertBefore(newInnerNode, pNode.firstChild);\n              }\n\n              container = textNode;\n              offset = textNode.data.length;\n              passNode = true;\n              ancestor.insertBefore(container, ancestor.firstChild);\n              continue;\n            }\n\n            vNode = !passNode ? child.cloneNode(false) : validation(child);\n\n            if (vNode) {\n              ancestor.insertBefore(vNode, ancestor.firstChild);\n              if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\n            }\n\n            recursionFunc(child, coverNode);\n          }\n        })(element, pNode); // not remove tag\n\n\n        if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\n          return {\n            ancestor: element,\n            container: endCon,\n            offset: endOff\n          };\n        }\n\n        isRemoveFormat = isRemoveFormat && isRemoveNode;\n\n        if (isRemoveFormat) {\n          for (let i = 0; i < nNodeArray.length; i++) {\n            let removeNode = nNodeArray[i];\n            const rChildren = removeNode.childNodes;\n            let textNode = null;\n\n            while (rChildren[0]) {\n              textNode = rChildren[0];\n              pNode.insertBefore(textNode, removeNode);\n            }\n\n            util.removeItem(removeNode);\n\n            if (i === nNodeArray.length - 1) {\n              container = textNode;\n              offset = textNode.textContent.length;\n            }\n          }\n        } else if (isRemoveNode) {\n          newInnerNode = newInnerNode.firstChild;\n\n          for (let i = 0; i < nNodeArray.length; i++) {\n            this._stripRemoveNode(nNodeArray[i]);\n          }\n        }\n\n        if (!isRemoveFormat && pNode.childNodes.length === 0) {\n          if (element.childNodes) {\n            container = element.childNodes[0];\n          } else {\n            container = util.createTextNode(util.zeroWidthSpace);\n            element.appendChild(container);\n          }\n        } else {\n          if (!isRemoveNode && newInnerNode.textContent.length === 0) {\n            util.removeEmptyNode(pNode, null);\n            return {\n              ancestor: null,\n              container: null,\n              offset: 0\n            };\n          }\n\n          util.removeEmptyNode(pNode, newInnerNode);\n\n          if (util.onlyZeroWidthSpace(pNode.textContent)) {\n            container = pNode.firstChild;\n            offset = container.textContent.length;\n          } else if (util.onlyZeroWidthSpace(container)) {\n            container = newInnerNode;\n            offset = 1;\n          } // node change\n\n\n          const offsets = {\n            s: 0,\n            e: 0\n          };\n          const path = util.getNodePath(container, pNode, offsets);\n          offset += offsets.s; // tag merge\n\n          const newOffsets = util.mergeSameTags(pNode, [path], true);\n          element.parentNode.replaceChild(pNode, element);\n          container = util.getNodeFromPath(path, pNode);\n          offset += newOffsets[0];\n        }\n\n        return {\n          ancestor: pNode,\n          container: container,\n          offset: offset\n        };\n      },\n\n      /**\r\n       * @description Run plugin calls and basic commands.\r\n       * @param {String} command Command string\r\n       * @param {String} display Display type string ('command', 'submenu', 'dialog', 'container')\r\n       * @param {Element} target The element of command button\r\n       */\n      actionCall: function (command, display, target) {\n        // call plugins\n        if (display) {\n          if (/more/i.test(display) && target !== this._moreLayerActiveButton) {\n            const layer = context.element.toolbar.querySelector('.' + command);\n\n            if (layer) {\n              if (this._moreLayerActiveButton) {\n                context.element.toolbar.querySelector('.' + this._moreLayerActiveButton.getAttribute('data-command')).style.display = 'none';\n                util.removeClass(this._moreLayerActiveButton, 'on');\n              }\n\n              util.addClass(target, 'on');\n              this._moreLayerActiveButton = target;\n              layer.style.display = 'block';\n\n              event._showToolbarBalloon();\n\n              event._showToolbarInline();\n            }\n\n            return;\n          } else if (/submenu/.test(display) && (this._menuTray[command] === null || target !== this.submenuActiveButton)) {\n            this.callPlugin(command, this.submenuOn.bind(this, target), target);\n            return;\n          } else if (/dialog/.test(display)) {\n            this.callPlugin(command, this.plugins[command].open.bind(this), target);\n            return;\n          } else if (/command/.test(display)) {\n            this.callPlugin(command, this.plugins[command].action.bind(this), target);\n          } else if (/container/.test(display) && (this._menuTray[command] === null || target !== this.containerActiveButton)) {\n            this.callPlugin(command, this.containerOn.bind(this, target), target);\n            return;\n          } else if (/fileBrowser/.test(display)) {\n            this.callPlugin(command, this.plugins[command].open.bind(this, null), target);\n          }\n        } // default command\n        else if (command) {\n            this.commandHandler(target, command);\n          }\n\n        if (/more/i.test(display)) {\n          const layer = context.element.toolbar.querySelector('.' + this._moreLayerActiveButton.getAttribute('data-command'));\n\n          if (layer) {\n            util.removeClass(this._moreLayerActiveButton, 'on');\n            this._moreLayerActiveButton = null;\n            layer.style.display = 'none';\n\n            event._showToolbarBalloon();\n\n            event._showToolbarInline();\n          }\n        } else if (/submenu/.test(display)) {\n          this.submenuOff();\n        } else if (!/command/.test(display)) {\n          this.submenuOff();\n          this.containerOff();\n        }\n      },\n\n      /**\r\n       * @description Execute command of command button(All Buttons except submenu and dialog)\r\n       * (selectAll, codeView, fullScreen, indent, outdent, undo, redo, removeFormat, print, preview, showBlocks, save, bold, underline, italic, strike, subscript, superscript, copy, cut, paste)\r\n       * @param {Element|null} target The element of command button\r\n       * @param {String} command Property of command button (data-value)\r\n       */\n      commandHandler: function (target, command) {\n        switch (command) {\n          case 'copy':\n          case 'cut':\n            this.execCommand(command);\n            break;\n\n          case 'paste':\n            break;\n\n          case 'selectAll':\n            const wysiwyg = context.element.wysiwyg;\n            let first = util.getChildElement(wysiwyg.firstChild, function (current) {\n              return current.childNodes.length === 0 || current.nodeType === 3;\n            }, false) || wysiwyg.firstChild;\n            let last = util.getChildElement(wysiwyg.lastChild, function (current) {\n              return current.childNodes.length === 0 || current.nodeType === 3;\n            }, true) || wysiwyg.lastChild;\n            if (!first || !last) return;\n\n            if (util.isMedia(first)) {\n              const info = this.getFileComponent(first);\n              const br = util.createElement('BR');\n              const format = util.createElement(options.defaultTag);\n              format.appendChild(br);\n              first = info ? info.component : first;\n              first.parentNode.insertBefore(format, first);\n              first = br;\n            }\n\n            if (util.isMedia(last)) {\n              const br = util.createElement('BR');\n              const format = util.createElement(options.defaultTag);\n              format.appendChild(br);\n              wysiwyg.appendChild(format);\n              last = br;\n            }\n\n            this.setRange(first, 0, last, last.textContent.length);\n            break;\n\n          case 'codeView':\n            this.toggleCodeView();\n            break;\n\n          case 'fullScreen':\n            this.toggleFullScreen(target);\n            break;\n\n          case 'indent':\n          case 'outdent':\n            this.indent(command);\n            break;\n\n          case 'undo':\n            this.history.undo();\n            break;\n\n          case 'redo':\n            this.history.redo();\n            break;\n\n          case 'removeFormat':\n            this.removeFormat();\n            this.focus();\n            break;\n\n          case 'print':\n            this.print();\n            break;\n\n          case 'preview':\n            this.preview();\n            break;\n\n          case 'showBlocks':\n            this.toggleDisplayBlocks();\n            break;\n\n          case 'save':\n            if (typeof options.callBackSave === 'function') {\n              options.callBackSave(this.getContents(false), this._variable.isChanged);\n            } else if (this._variable.isChanged && typeof functions.save === 'function') {\n              functions.save();\n            } else {\n              throw Error('[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)');\n            }\n\n            this._variable.isChanged = false;\n            if (context.tool.save) context.tool.save.setAttribute('disabled', true);\n            break;\n\n          default:\n            // 'STRONG', 'U', 'EM', 'DEL', 'SUB', 'SUP'..\n            command = this._defaultCommand[command.toLowerCase()] || command;\n            if (!this.commandMap[command]) this.commandMap[command] = target;\n            const nodesMap = this._variable.currentNodesMap;\n            const cmd = nodesMap.indexOf(command) > -1 ? null : util.createElement(command);\n            let removeNode = command;\n\n            if (/^SUB$/i.test(command) && nodesMap.indexOf('SUP') > -1) {\n              removeNode = 'SUP';\n            } else if (/^SUP$/i.test(command) && nodesMap.indexOf('SUB') > -1) {\n              removeNode = 'SUB';\n            }\n\n            this.nodeChange(cmd, null, [removeNode], false);\n            this.focus();\n        }\n      },\n\n      /**\r\n       * @description Remove format of the currently selected range\r\n       */\n      removeFormat: function () {\n        this.nodeChange(null, null, null, null);\n      },\n\n      /**\r\n       * @description This method implements indentation to selected range.\r\n       * Setted \"margin-left\" to \"25px\" in the top \"P\" tag of the parameter node.\r\n       * @param {String} command Separator (\"indent\" or \"outdent\")\r\n       */\n      indent: function (command) {\n        const range = this.getRange();\n        const rangeLines = this.getSelectedElements(null);\n        const cells = [];\n        const shift = 'indent' !== command;\n        const marginDir = options.rtl ? 'marginRight' : 'marginLeft';\n        let sc = range.startContainer;\n        let ec = range.endContainer;\n        let so = range.startOffset;\n        let eo = range.endOffset;\n\n        for (let i = 0, len = rangeLines.length, f, margin; i < len; i++) {\n          f = rangeLines[i];\n\n          if (!util.isListCell(f) || !this.plugins.list) {\n            margin = /\\d+/.test(f.style[marginDir]) ? util.getNumber(f.style[marginDir], 0) : 0;\n\n            if (shift) {\n              margin -= 25;\n            } else {\n              margin += 25;\n            }\n\n            util.setStyle(f, marginDir, margin <= 0 ? '' : margin + 'px');\n          } else {\n            if (shift || f.previousElementSibling) {\n              cells.push(f);\n            }\n          }\n        } // list cells\n\n\n        if (cells.length > 0) {\n          this.plugins.list.editInsideList.call(this, shift, cells);\n        }\n\n        this.effectNode = null;\n        this.setRange(sc, so, ec, eo); // history stack\n\n        this.history.push(false);\n      },\n\n      /**\r\n       * @description Add or remove the class name of \"body\" so that the code block is visible\r\n       */\n      toggleDisplayBlocks: function () {\n        const wysiwyg = context.element.wysiwyg;\n        util.toggleClass(wysiwyg, 'se-show-block');\n\n        if (util.hasClass(wysiwyg, 'se-show-block')) {\n          util.addClass(this._styleCommandMap.showBlocks, 'active');\n        } else {\n          util.removeClass(this._styleCommandMap.showBlocks, 'active');\n        }\n\n        this._resourcesStateChange();\n      },\n\n      /**\r\n       * @description Changes to code view or wysiwyg view\r\n       */\n      toggleCodeView: function () {\n        const isCodeView = this._variable.isCodeView;\n        this.controllersOff();\n        util.setDisabledButtons(!isCodeView, this.codeViewDisabledButtons);\n\n        if (isCodeView) {\n          this._setCodeDataToEditor();\n\n          context.element.wysiwygFrame.scrollTop = 0;\n          context.element.code.style.display = 'none';\n          context.element.wysiwygFrame.style.display = 'block';\n          this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: none');\n          this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: block');\n          if (options.height === 'auto' && !options.codeMirrorEditor) context.element.code.style.height = '0px';\n          this._variable.isCodeView = false;\n\n          if (!this._variable.isFullScreen) {\n            this._notHideToolbar = false;\n\n            if (/balloon|balloon-always/i.test(options.mode)) {\n              context.element._arrow.style.display = '';\n              this._isInline = false;\n              this._isBalloon = true;\n\n              event._hideToolbar();\n            }\n          }\n\n          this.nativeFocus();\n          util.removeClass(this._styleCommandMap.codeView, 'active'); // history stack\n\n          this.history.push(false);\n        } else {\n          this._setEditorDataToCodeView();\n\n          this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: block');\n          this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: none');\n          if (options.height === 'auto' && !options.codeMirrorEditor) context.element.code.style.height = context.element.code.scrollHeight > 0 ? context.element.code.scrollHeight + 'px' : 'auto';\n          if (options.codeMirrorEditor) options.codeMirrorEditor.refresh();\n          this._variable.isCodeView = true;\n\n          if (!this._variable.isFullScreen) {\n            this._notHideToolbar = true;\n\n            if (this._isBalloon) {\n              context.element._arrow.style.display = 'none';\n              context.element.toolbar.style.left = '';\n              this._isInline = true;\n              this._isBalloon = false;\n\n              event._showToolbarInline();\n            }\n          }\n\n          this._variable._range = null;\n          context.element.code.focus();\n          util.addClass(this._styleCommandMap.codeView, 'active');\n        }\n\n        this._checkPlaceholder();\n\n        if (typeof functions.toggleCodeView === 'function') functions.toggleCodeView(this._variable.isCodeView, this);\n      },\n\n      /**\r\n       * @description Convert the data of the code view and put it in the WYSIWYG area.\r\n       * @private\r\n       */\n      _setCodeDataToEditor: function () {\n        const code_html = this._getCodeView();\n\n        if (options.fullPage) {\n          const parseDocument = this._parser.parseFromString(code_html, 'text/html');\n\n          const headChildren = parseDocument.head.children;\n\n          for (let i = 0, len = headChildren.length; i < len; i++) {\n            if (/^script$/i.test(headChildren[i].tagName)) {\n              parseDocument.head.removeChild(headChildren[i]);\n              i--, len--;\n            }\n          }\n\n          this._wd.head.innerHTML = parseDocument.head.innerHTML;\n          this._wd.body.innerHTML = this.convertContentsForEditor(parseDocument.body.innerHTML);\n          const attrs = parseDocument.body.attributes;\n\n          for (let i = 0, len = attrs.length; i < len; i++) {\n            if (attrs[i].name === 'contenteditable') continue;\n\n            this._wd.body.setAttribute(attrs[i].name, attrs[i].value);\n          }\n\n          if (!util.hasClass(this._wd.body, 'sun-editor-editable')) {\n            const editableClasses = options._editableClass.split(' ');\n\n            for (let i = 0; i < editableClasses.length; i++) {\n              util.addClass(this._wd.body, options._editableClass[i]);\n            }\n          }\n        } else {\n          context.element.wysiwyg.innerHTML = code_html.length > 0 ? this.convertContentsForEditor(code_html) : '<' + options.defaultTag + '><br></' + options.defaultTag + '>';\n        }\n      },\n\n      /**\r\n       * @description Convert the data of the WYSIWYG area and put it in the code view area.\r\n       * @private\r\n       */\n      _setEditorDataToCodeView: function () {\n        const codeContents = this.convertHTMLForCodeView(context.element.wysiwyg);\n        let codeValue = '';\n\n        if (options.fullPage) {\n          const attrs = util.getAttributesToString(this._wd.body, null);\n          codeValue = '<!DOCTYPE html>\\n<html>\\n' + this._wd.head.outerHTML.replace(/>(?!\\n)/g, '>\\n') + '<body ' + attrs + '>\\n' + codeContents + '</body>\\n</html>';\n        } else {\n          codeValue = codeContents;\n        }\n\n        context.element.code.style.display = 'block';\n        context.element.wysiwygFrame.style.display = 'none';\n\n        this._setCodeView(codeValue);\n      },\n\n      /**\r\n       * @description Changes to full screen or default screen\r\n       * @param {Element} element full screen button\r\n       */\n      toggleFullScreen: function (element) {\n        const topArea = context.element.topArea;\n        const toolbar = context.element.toolbar;\n        const editorArea = context.element.editorArea;\n        const wysiwygFrame = context.element.wysiwygFrame;\n        const code = context.element.code;\n        const _var = this._variable;\n        this.controllersOff();\n\n        if (!_var.isFullScreen) {\n          _var.isFullScreen = true;\n          _var._fullScreenAttrs.inline = this._isInline;\n          _var._fullScreenAttrs.balloon = this._isBalloon;\n\n          if (this._isInline || this._isBalloon) {\n            this._isInline = false;\n            this._isBalloon = false;\n          }\n\n          if (!!options.toolbarContainer) context.element.relative.insertBefore(toolbar, editorArea);\n          topArea.style.position = 'fixed';\n          topArea.style.top = '0';\n          topArea.style.left = '0';\n          topArea.style.width = '100%';\n          topArea.style.maxWidth = '100%';\n          topArea.style.height = '100%';\n          topArea.style.zIndex = '2147483647';\n\n          if (context.element._stickyDummy.style.display !== (true && '')) {\n            _var._fullScreenAttrs.sticky = true;\n            context.element._stickyDummy.style.display = 'none';\n            util.removeClass(toolbar, 'se-toolbar-sticky');\n          }\n\n          _var._bodyOverflow = _d.body.style.overflow;\n          _d.body.style.overflow = 'hidden';\n          _var._editorAreaOriginCssText = editorArea.style.cssText;\n          _var._wysiwygOriginCssText = wysiwygFrame.style.cssText;\n          _var._codeOriginCssText = code.style.cssText;\n          editorArea.style.cssText = toolbar.style.cssText = '';\n          wysiwygFrame.style.cssText = (wysiwygFrame.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [''])[0];\n          code.style.cssText = (code.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [''])[0];\n          toolbar.style.width = wysiwygFrame.style.height = code.style.height = '100%';\n          toolbar.style.position = 'relative';\n          toolbar.style.display = 'block';\n          _var.innerHeight_fullScreen = _w.innerHeight - toolbar.offsetHeight;\n          editorArea.style.height = _var.innerHeight_fullScreen - options.fullScreenOffset + 'px';\n          util.changeElement(element.firstElementChild, icons.reduction);\n\n          if (options.iframe && options.height === 'auto') {\n            editorArea.style.overflow = 'auto';\n\n            this._iframeAutoHeight();\n          }\n\n          context.element.topArea.style.marginTop = options.fullScreenOffset + 'px';\n          util.addClass(this._styleCommandMap.fullScreen, 'active');\n        } else {\n          _var.isFullScreen = false;\n          wysiwygFrame.style.cssText = _var._wysiwygOriginCssText;\n          code.style.cssText = _var._codeOriginCssText;\n          toolbar.style.cssText = '';\n          editorArea.style.cssText = _var._editorAreaOriginCssText;\n          topArea.style.cssText = _var._originCssText;\n          _d.body.style.overflow = _var._bodyOverflow;\n          if (!!options.toolbarContainer) options.toolbarContainer.appendChild(toolbar);\n\n          if (options.stickyToolbar > -1) {\n            util.removeClass(toolbar, 'se-toolbar-sticky');\n          }\n\n          if (_var._fullScreenAttrs.sticky && !options.toolbarContainer) {\n            _var._fullScreenAttrs.sticky = false;\n            context.element._stickyDummy.style.display = 'block';\n            util.addClass(toolbar, \"se-toolbar-sticky\");\n          }\n\n          this._isInline = _var._fullScreenAttrs.inline;\n          this._isBalloon = _var._fullScreenAttrs.balloon;\n          if (this._isInline) event._showToolbarInline();\n          if (!!options.toolbarContainer) util.removeClass(toolbar, 'se-toolbar-balloon');\n          event.onScroll_window();\n          util.changeElement(element.firstElementChild, icons.expansion);\n          context.element.topArea.style.marginTop = '';\n          util.removeClass(this._styleCommandMap.fullScreen, 'active');\n        }\n\n        if (typeof functions.toggleFullScreen === 'function') functions.toggleFullScreen(this._variable.isFullScreen, this);\n      },\n\n      /**\r\n       * @description Prints the current contents of the editor.\r\n       */\n      print: function () {\n        const iframe = util.createElement('IFRAME');\n        iframe.style.display = 'none';\n\n        _d.body.appendChild(iframe);\n\n        const contentsHTML = options.printTemplate ? options.printTemplate.replace(/\\{\\{\\s*contents\\s*\\}\\}/i, this.getContents(true)) : this.getContents(true);\n        const printDocument = util.getIframeDocument(iframe);\n        const wDoc = this._wd;\n\n        if (options.iframe) {\n          const arrts = options._printClass !== null ? 'class=\"' + options._printClass + '\"' : options.fullPage ? util.getAttributesToString(wDoc.body, ['contenteditable']) : 'class=\"' + options._editableClass + '\"';\n          printDocument.write('' + '<!DOCTYPE html><html>' + '<head>' + wDoc.head.innerHTML + '</head>' + '<body ' + arrts + '>' + contentsHTML + '</body>' + '</html>');\n        } else {\n          const links = _d.head.getElementsByTagName('link');\n\n          const styles = _d.head.getElementsByTagName('style');\n\n          let linkHTML = '';\n\n          for (let i = 0, len = links.length; i < len; i++) {\n            linkHTML += links[i].outerHTML;\n          }\n\n          for (let i = 0, len = styles.length; i < len; i++) {\n            linkHTML += styles[i].outerHTML;\n          }\n\n          printDocument.write('' + '<!DOCTYPE html><html>' + '<head>' + linkHTML + '</head>' + '<body class=\"' + (options._printClass !== null ? options._printClass : options._editableClass) + '\">' + contentsHTML + '</body>' + '</html>');\n        }\n\n        this.showLoading();\n\n        _w.setTimeout(function () {\n          try {\n            iframe.focus(); // IE or Edge\n\n            if (util.isIE_Edge || !!_d.documentMode || !!_w.StyleMedia) {\n              try {\n                iframe.contentWindow.document.execCommand('print', false, null);\n              } catch (e) {\n                iframe.contentWindow.print();\n              }\n            } else {\n              // Other browsers\n              iframe.contentWindow.print();\n            }\n          } catch (error) {\n            throw Error('[SUNEDITOR.core.print.fail] error: ' + error);\n          } finally {\n            core.closeLoading();\n            util.removeItem(iframe);\n          }\n        }, 1000);\n      },\n\n      /**\r\n       * @description Open the preview window.\r\n       */\n      preview: function () {\n        core.submenuOff();\n        core.containerOff();\n        core.controllersOff();\n        const contentsHTML = options.previewTemplate ? options.previewTemplate.replace(/\\{\\{\\s*contents\\s*\\}\\}/i, this.getContents(true)) : this.getContents(true);\n\n        const windowObject = _w.open('', '_blank');\n\n        windowObject.mimeType = 'text/html';\n        const wDoc = this._wd;\n\n        if (options.iframe) {\n          const arrts = options._printClass !== null ? 'class=\"' + options._printClass + '\"' : options.fullPage ? util.getAttributesToString(wDoc.body, ['contenteditable']) : 'class=\"' + options._editableClass + '\"';\n          windowObject.document.write('' + '<!DOCTYPE html><html>' + '<head>' + wDoc.head.innerHTML + '<style>body {overflow:auto !important; margin: 10px auto !important; height:auto !important; outline:1px dashed #ccc;}</style>' + '</head>' + '<body ' + arrts + '>' + contentsHTML + '</body>' + '</html>');\n        } else {\n          const links = _d.head.getElementsByTagName('link');\n\n          const styles = _d.head.getElementsByTagName('style');\n\n          let linkHTML = '';\n\n          for (let i = 0, len = links.length; i < len; i++) {\n            linkHTML += links[i].outerHTML;\n          }\n\n          for (let i = 0, len = styles.length; i < len; i++) {\n            linkHTML += styles[i].outerHTML;\n          }\n\n          windowObject.document.write('' + '<!DOCTYPE html><html>' + '<head>' + '<meta charset=\"utf-8\" />' + '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' + '<title>' + lang.toolbar.preview + '</title>' + linkHTML + '</head>' + '<body class=\"' + (options._printClass !== null ? options._printClass : options._editableClass) + '\" style=\"margin:10px auto !important; height:auto !important; outline:1px dashed #ccc;\">' + contentsHTML + '</body>' + '</html>');\n        }\n      },\n\n      /**\r\n       * @description Sets the HTML string\r\n       * @param {String|undefined} html HTML string\r\n       */\n      setContents: function (html) {\n        this.removeRange();\n        const convertValue = html === null || html === undefined ? '' : this.convertContentsForEditor(html);\n\n        this._resetComponents();\n\n        if (!this._variable.isCodeView) {\n          context.element.wysiwyg.innerHTML = convertValue; // history stack\n\n          this.history.push(false);\n        } else {\n          const value = this.convertHTMLForCodeView(convertValue);\n\n          this._setCodeView(value);\n        }\n      },\n\n      /**\r\n       * @description Sets the contents of the iframe's head tag and body tag when using the \"iframe\" or \"fullPage\" option.\r\n       * @param {Object} ctx { head: HTML string, body: HTML string}\r\n       */\n      setIframeContents: function (ctx) {\n        if (!options.iframe) return false;\n        if (ctx.head) this._wd.head.innerHTML = ctx.head.replace(/<script[\\s\\S]*>[\\s\\S]*<\\/script>/gi, '');\n        if (ctx.body) this._wd.body.innerHTML = this.convertContentsForEditor(ctx.body);\n      },\n\n      /**\r\n       * @description Gets the current contents\r\n       * @param {Boolean} onlyContents Return only the contents of the body without headers when the \"fullPage\" option is true\r\n       * @returns {Object}\r\n       */\n      getContents: function (onlyContents) {\n        const contents = context.element.wysiwyg.innerHTML;\n        const renderHTML = util.createElement('DIV');\n        renderHTML.innerHTML = contents;\n        const figcaptions = util.getListChildren(renderHTML, function (current) {\n          return /FIGCAPTION/i.test(current.nodeName);\n        });\n\n        for (let i = 0, len = figcaptions.length; i < len; i++) {\n          figcaptions[i].removeAttribute('contenteditable');\n        }\n\n        if (options.fullPage && !onlyContents) {\n          const attrs = util.getAttributesToString(this._wd.body, ['contenteditable']);\n          return '<!DOCTYPE html><html>' + this._wd.head.outerHTML + '<body ' + attrs + '>' + renderHTML.innerHTML + '</body></html>';\n        } else {\n          return renderHTML.innerHTML;\n        }\n      },\n\n      /**\r\n       * @description Returns HTML string according to tag type and configuration.\r\n       * Use only \"cleanHTML\"\r\n       * @param {Node} node Node\r\n       * @param {Boolean} requireFormat If true, text nodes that do not have a format node is wrapped with the format tag.\r\n       * @private\r\n       */\n      _makeLine: function (node, requireFormat) {\n        const defaultTag = options.defaultTag; // element\n\n        if (node.nodeType === 1) {\n          if (util._disallowedTags(node)) return '';\n\n          if (!requireFormat || util.isFormatElement(node) || util.isRangeFormatElement(node) || util.isComponent(node) || util.isMedia(node) || util.isAnchor(node) && util.isMedia(node.firstElementChild)) {\n            return node.outerHTML;\n          } else {\n            return '<' + defaultTag + '>' + node.outerHTML + '</' + defaultTag + '>';\n          }\n        } // text\n\n\n        if (node.nodeType === 3) {\n          if (!requireFormat) return util._HTMLConvertor(node.textContent);\n          const textArray = node.textContent.split(/\\n/g);\n          let html = '';\n\n          for (let i = 0, tLen = textArray.length, text; i < tLen; i++) {\n            text = textArray[i].trim();\n            if (text.length > 0) html += '<' + defaultTag + '>' + util._HTMLConvertor(text) + '</' + defaultTag + '>';\n          }\n\n          return html;\n        } // comments\n\n\n        if (node.nodeType === 8 && this._allowHTMLComments) {\n          return '<!--' + node.textContent.trim() + '-->';\n        }\n\n        return '';\n      },\n\n      /**\r\n       * @description Removes attribute values such as style and converts tags that do not conform to the \"html5\" standard.\r\n       * @param {String} text \r\n       * @returns {String} HTML string\r\n       * @private\r\n       */\n      _tagConvertor: function (text) {\n        if (!this._disallowedTextTagsRegExp) return text;\n        const ec = options._textTagsMap;\n        return text.replace(this._disallowedTextTagsRegExp, function (m, t, n) {\n          return t + (typeof ec[n] === 'string' ? ec[n] : n);\n        });\n      },\n\n      /**\r\n       * @description Delete disallowed tags\r\n       * @param {String} html HTML string\r\n       * @returns {String}\r\n       * @private\r\n       */\n      _deleteDisallowedTags: function (html) {\n        return html.replace(/\\n/g, '').replace(/<(script|style)[\\s\\S]*>[\\s\\S]*<\\/(script|style)>/gi, '').replace(/<[a-z0-9]+\\:[a-z0-9]+[^>^\\/]*>[^>]*<\\/[a-z0-9]+\\:[a-z0-9]+>/gi, '').replace(this.editorTagsWhitelistRegExp, '');\n      },\n\n      /**\r\n       * @description Tag and tag attribute check RegExp function. (used by \"cleanHTML\" and \"convertContentsForEditor\")\r\n       * @param {Boolean} rowLevelCheck Row level check\r\n       * @param {String} m RegExp value\r\n       * @param {String} t RegExp value\r\n       * @returns {String}\r\n       * @private\r\n       */\n      _cleanTags: function (rowLevelCheck, m, t) {\n        if (/^<[a-z0-9]+\\:[a-z0-9]+/i.test(m)) return m;\n        let v = null;\n\n        const tAttr = this._attributesTagsWhitelist[t.match(/(?!<)[a-zA-Z0-9\\-]+/)[0].toLowerCase()];\n\n        if (tAttr) v = m.match(tAttr);else v = m.match(this._attributesWhitelistRegExp);\n\n        if ((rowLevelCheck || /<span/i.test(t)) && (!v || !/style=/i.test(v.toString()))) {\n          const sv = m.match(/style\\s*=\\s*(?:\"|')[^\"']*(?:\"|')/);\n\n          if (sv) {\n            if (!v) v = [];\n            v.push(sv[0]);\n          }\n        }\n\n        if (/<a\\b/i.test(t)) {\n          const sv = m.match(/id\\s*=\\s*(?:\"|')[^\"']*(?:\"|')/);\n\n          if (sv) {\n            if (!v) v = [];\n            v.push(sv[0]);\n          }\n        }\n\n        if (v) {\n          for (let i = 0, len = v.length; i < len; i++) {\n            if (rowLevelCheck && /^class=\"(?!(__se__|se-|katex))/.test(v[i])) continue;\n            t += ' ' + (/^href\\s*=\\s*('|\"|\\s)*javascript\\s*\\:/i.test(v[i]) ? '' : v[i]);\n          }\n        }\n\n        return t;\n      },\n\n      /**\r\n       * @description Gets the clean HTML code for editor\r\n       * @param {String} html HTML string\r\n       * @param {String|RegExp|null} whitelist Regular expression of allowed tags.\r\n       * RegExp object is create by util.createTagsWhitelist method. (core.pasteTagsWhitelistRegExp)\r\n       * @returns {String}\r\n       */\n      cleanHTML: function (html, whitelist) {\n        html = this._deleteDisallowedTags(html).replace(/(<[a-zA-Z0-9\\-]+)[^>]*(?=>)/g, this._cleanTags.bind(this, false));\n\n        const dom = _d.createRange().createContextualFragment(html);\n\n        try {\n          util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\n        } catch (error) {\n          console.warn('[SUNEDITOR.cleanHTML.consistencyCheck.fail] ' + error);\n        }\n\n        if (this.managedTagsInfo && this.managedTagsInfo.query) {\n          const textCompList = dom.querySelectorAll(this.managedTagsInfo.query);\n\n          for (let i = 0, len = textCompList.length, initMethod, classList; i < len; i++) {\n            classList = [].slice.call(textCompList[i].classList);\n\n            for (let c = 0, cLen = classList.length; c < cLen; c++) {\n              initMethod = this.managedTagsInfo.map[classList[c]];\n\n              if (initMethod) {\n                initMethod(textCompList[i]);\n                break;\n              }\n            }\n          }\n        }\n\n        const domTree = dom.childNodes;\n        let cleanHTML = '';\n        let requireFormat = false;\n\n        for (let i = 0, len = domTree.length, t; i < len; i++) {\n          t = domTree[i];\n\n          if (t.nodeType === 1 && !util.isTextStyleElement(t) && !util.isBreak(t) && !util._disallowedTags(t)) {\n            requireFormat = true;\n            break;\n          }\n        }\n\n        for (let i = 0, len = domTree.length; i < len; i++) {\n          cleanHTML += this._makeLine(domTree[i], requireFormat);\n        }\n\n        cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\n        return this._tagConvertor(!cleanHTML ? html : !whitelist ? cleanHTML : cleanHTML.replace(typeof whitelist === 'string' ? util.createTagsWhitelist(whitelist) : whitelist, ''));\n      },\n\n      /**\r\n       * @description Converts contents into a format that can be placed in an editor\r\n       * @param {String} contents contents\r\n       * @returns {String}\r\n       */\n      convertContentsForEditor: function (contents) {\n        contents = this._deleteDisallowedTags(contents).replace(/(<[a-zA-Z0-9\\-]+)[^>]*(?=>)/g, this._cleanTags.bind(this, true));\n\n        const dom = _d.createRange().createContextualFragment(this._deleteDisallowedTags(contents));\n\n        try {\n          util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\n        } catch (error) {\n          console.warn('[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] ' + error);\n        }\n\n        if (this.managedTagsInfo && this.managedTagsInfo.query) {\n          const textCompList = dom.querySelectorAll(this.managedTagsInfo.query);\n\n          for (let i = 0, len = textCompList.length, initMethod, classList; i < len; i++) {\n            classList = [].slice.call(textCompList[i].classList);\n\n            for (let c = 0, cLen = classList.length; c < cLen; c++) {\n              initMethod = this.managedTagsInfo.map[classList[c]];\n\n              if (initMethod) {\n                initMethod(textCompList[i]);\n                break;\n              }\n            }\n          }\n        }\n\n        const domTree = dom.childNodes;\n        let cleanHTML = '';\n\n        for (let i = 0, len = domTree.length; i < len; i++) {\n          cleanHTML += this._makeLine(domTree[i], true);\n        }\n\n        if (cleanHTML.length === 0) return '<' + options.defaultTag + '><br></' + options.defaultTag + '>';\n        cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\n        return this._tagConvertor(cleanHTML);\n      },\n\n      /**\r\n       * @description Converts wysiwyg area element into a format that can be placed in an editor of code view mode\r\n       * @param {Element|String} html WYSIWYG element (context.element.wysiwyg) or HTML string.\r\n       * @returns {String}\r\n       */\n      convertHTMLForCodeView: function (html) {\n        let returnHTML = '';\n        const wRegExp = _w.RegExp;\n        const brReg = new wRegExp('^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$', 'i');\n        const isFormatElement = util.isFormatElement.bind(util);\n        const wDoc = typeof html === 'string' ? _d.createRange().createContextualFragment(html) : html;\n        let indentSize = this._variable.codeIndent * 1;\n        indentSize = indentSize > 0 ? new _w.Array(indentSize + 1).join(' ') : '';\n\n        (function recursionFunc(element, indent, lineBR) {\n          const children = element.childNodes;\n          const elementRegTest = brReg.test(element.nodeName);\n          const elementIndent = elementRegTest ? indent : '';\n\n          for (let i = 0, len = children.length, node, br, nodeRegTest; i < len; i++) {\n            node = children[i];\n            nodeRegTest = brReg.test(node.nodeName);\n            br = nodeRegTest ? '\\n' : '';\n            lineBR = isFormatElement(node) && !elementRegTest && !/^(TH|TD)$/i.test(element.nodeName) ? '\\n' : '';\n\n            if (node.nodeType === 8) {\n              returnHTML += '\\n<!-- ' + node.textContent.trim() + ' -->' + br;\n              continue;\n            }\n\n            if (node.nodeType === 3) {\n              returnHTML += util._HTMLConvertor(/^\\n+$/.test(node.data) ? '' : node.data);\n              continue;\n            }\n\n            if (node.childNodes.length === 0) {\n              returnHTML += (/^HR$/i.test(node.nodeName) ? '\\n' : '') + elementIndent + node.outerHTML + br;\n              continue;\n            }\n\n            node.innerHTML = node.innerHTML;\n            const tag = node.nodeName.toLowerCase();\n            returnHTML += (lineBR || (elementRegTest ? '' : br)) + (elementIndent || nodeRegTest ? indent : '') + node.outerHTML.match(wRegExp('<' + tag + '[^>]*>', 'i'))[0] + br;\n            recursionFunc(node, indent + indentSize, '');\n            returnHTML += (nodeRegTest ? indent : '') + '</' + tag + '>' + (lineBR || br || elementRegTest ? '\\n' : false || /^(TH|TD)$/i.test(node.nodeName) ? '\\n' : '');\n          }\n        })(wDoc, '', '\\n');\n\n        return returnHTML.trim() + '\\n';\n      },\n\n      /**\r\n       * @description Add an event to document.\r\n       * When created as an Iframe, the same event is added to the document in the Iframe.\r\n       * @param {String} type Event type\r\n       * @param {Function} listener Event listener\r\n       * @param {Boolean} useCapture Use event capture\r\n       */\n      addDocEvent: function (type, listener, useCapture) {\n        _d.addEventListener(type, listener, useCapture);\n\n        if (options.iframe) {\n          this._wd.addEventListener(type, listener);\n        }\n      },\n\n      /**\r\n       * @description Remove events from document.\r\n       * When created as an Iframe, the event of the document inside the Iframe is also removed.\r\n       * @param {String} type Event type\r\n       * @param {Function} listener Event listener\r\n       */\n      removeDocEvent: function (type, listener) {\n        _d.removeEventListener(type, listener);\n\n        if (options.iframe) {\n          this._wd.removeEventListener(type, listener);\n        }\n      },\n\n      /**\r\n       * @description The current number of characters is counted and displayed.\r\n       * @param {String} inputText Text added.\r\n       * @returns {Boolean}\r\n       * @private\r\n       */\n      _charCount: function (inputText) {\n        const maxCharCount = options.maxCharCount;\n        const countType = options.charCounterType;\n        let nextCharCount = 0;\n        if (!!inputText) nextCharCount = this.getCharLength(inputText, countType);\n\n        this._setCharCount();\n\n        if (maxCharCount > 0) {\n          let over = false;\n          const count = functions.getCharCount(countType);\n\n          if (count > maxCharCount) {\n            over = true;\n\n            if (nextCharCount > 0) {\n              this._editorRange();\n\n              const range = this.getRange();\n              const endOff = range.endOffset - 1;\n              const text = this.getSelectionNode().textContent;\n              const slicePosition = range.endOffset - (count - maxCharCount);\n              this.getSelectionNode().textContent = text.slice(0, slicePosition < 0 ? 0 : slicePosition) + text.slice(range.endOffset, text.length);\n              this.setRange(range.endContainer, endOff, range.endContainer, endOff);\n            }\n          } else if (count + nextCharCount > maxCharCount) {\n            over = true;\n          }\n\n          if (over) {\n            this._callCounterBlink();\n\n            if (nextCharCount > 0) return false;\n          }\n        }\n\n        return true;\n      },\n\n      /**\r\n       * @description When \"element\" is added, if it is greater than \"options.maxCharCount\", false is returned.\r\n       * @param {Node|String} element Element node or String.\r\n       * @param {String|null} charCounterType charCounterType. If it is null, the options.charCounterType\r\n       * @returns {Boolean}\r\n       */\n      checkCharCount: function (element, charCounterType) {\n        if (options.maxCharCount) {\n          const countType = charCounterType || options.charCounterType;\n          const length = this.getCharLength(typeof element === 'string' ? element : this._charTypeHTML && element.nodeType === 1 ? element.outerHTML : element.textContent, countType);\n\n          if (length > 0 && length + functions.getCharCount(countType) > options.maxCharCount) {\n            this._callCounterBlink();\n\n            return false;\n          }\n        }\n\n        return true;\n      },\n\n      /**\r\n       * @description Get the length of the content.\r\n       * Depending on the option, the length of the character is taken. (charCounterType)\r\n       * @param {String} content Content to count\r\n       * @param {String} charCounterType options.charCounterType\r\n       * @returns {Number}\r\n       */\n      getCharLength: function (content, charCounterType) {\n        return /byte/.test(charCounterType) ? util.getByteLength(content) : content.length;\n      },\n\n      /**\r\n       * @description Set the char count to charCounter element textContent.\r\n       * @private\r\n       */\n      _setCharCount: function () {\n        if (context.element.charCounter) {\n          _w.setTimeout(function () {\n            context.element.charCounter.textContent = functions.getCharCount(options.charCounterType);\n          });\n        }\n      },\n\n      /**\r\n       * @description The character counter blinks.\r\n       * @private\r\n       */\n      _callCounterBlink: function () {\n        const charWrapper = context.element.charWrapper;\n\n        if (charWrapper && !util.hasClass(charWrapper, 'se-blink')) {\n          util.addClass(charWrapper, 'se-blink');\n\n          _w.setTimeout(function () {\n            util.removeClass(charWrapper, 'se-blink');\n          }, 600);\n        }\n      },\n\n      /**\r\n       * @description Check the components such as image and video and modify them according to the format.\r\n       * @private\r\n       */\n      _checkComponents: function () {\n        for (let i = 0, len = this._fileInfoPluginsCheck.length; i < len; i++) {\n          this._fileInfoPluginsCheck[i]();\n        }\n      },\n\n      /**\r\n       * @description Initialize the information of the components.\r\n       * @private\r\n       */\n      _resetComponents: function () {\n        for (let i = 0, len = this._fileInfoPluginsReset.length; i < len; i++) {\n          this._fileInfoPluginsReset[i]();\n        }\n      },\n\n      /**\r\n       * @description Set method in the code view area\r\n       * @param {String} value HTML string\r\n       * @private\r\n       */\n      _setCodeView: function (value) {\n        if (options.codeMirrorEditor) {\n          options.codeMirrorEditor.getDoc().setValue(value);\n        } else {\n          context.element.code.value = value;\n        }\n      },\n\n      /**\r\n       * @description Get method in the code view area\r\n       * @private\r\n       */\n      _getCodeView: function () {\n        return options.codeMirrorEditor ? options.codeMirrorEditor.getDoc().getValue() : context.element.code.value;\n      },\n\n      /**\r\n       * @description Initializ core variable\r\n       * @param {Boolean} reload Is relooad?\r\n       * @param {String} _initHTML initial html string\r\n       * @private\r\n       */\n      _init: function (reload, _initHTML) {\n        const wRegExp = _w.RegExp;\n        this._ww = options.iframe ? context.element.wysiwygFrame.contentWindow : _w;\n        this._wd = _d;\n        this._charTypeHTML = options.charCounterType === 'byte-html';\n\n        if (!options.iframe && typeof _w.ShadowRoot === 'function') {\n          let child = context.element.wysiwygFrame;\n\n          while (child) {\n            if (child.shadowRoot) {\n              this._shadowRoot = child.shadowRoot;\n              break;\n            } else if (child instanceof _w.ShadowRoot) {\n              this._shadowRoot = child;\n              break;\n            }\n\n            child = child.parentNode;\n          }\n\n          if (this._shadowRoot) this._shadowRootControllerEventTarget = [];\n        } // set disallow text nodes\n\n\n        const disallowTextTags = _w.Object.keys(options._textTagsMap);\n\n        const allowTextTags = !options.addTagsWhitelist ? [] : options.addTagsWhitelist.split('|').filter(function (v) {\n          return /b|i|ins|s|strike/i.test(v);\n        });\n\n        for (let i = 0; i < allowTextTags.length; i++) {\n          disallowTextTags.splice(disallowTextTags.indexOf(allowTextTags[i].toLowerCase()), 1);\n        }\n\n        this._disallowedTextTagsRegExp = disallowTextTags.length === 0 ? null : new wRegExp('(<\\\\/?)(' + disallowTextTags.join('|') + ')\\\\b\\\\s*(?:[^>^<]+)?\\\\s*(?=>)', 'gi'); // set whitelist\n\n        const defaultAttr = 'contenteditable|id|colspan|rowspan|target|href|download|rel|src|alt|class|type|controls|data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|origin-size|data-exp|data-font-size';\n        this._allowHTMLComments = options._editorTagsWhitelist.indexOf('//') > -1;\n        this._htmlCheckWhitelistRegExp = new wRegExp('^(' + options._editorTagsWhitelist.replace('|//', '') + ')$', 'i');\n        this.editorTagsWhitelistRegExp = util.createTagsWhitelist(options._editorTagsWhitelist.replace('|//', '|<!--|-->'));\n        this.pasteTagsWhitelistRegExp = util.createTagsWhitelist(options.pasteTagsWhitelist);\n        const _attr = options.attributesWhitelist;\n        const tagsAttr = {};\n        let allAttr = '';\n\n        if (!!_attr) {\n          for (let k in _attr) {\n            if (!util.hasOwn(_attr, k)) continue;\n\n            if (k === 'all') {\n              allAttr = _attr[k] + '|';\n            } else {\n              tagsAttr[k] = new wRegExp('((?:' + _attr[k] + '|' + defaultAttr + ')\\\\s*=.*\\\\S)', 'ig');\n            }\n          }\n        }\n\n        this._attributesWhitelistRegExp = new wRegExp('((?:' + allAttr + defaultAttr + ')\\\\s*=.*\\\\S)', 'ig');\n        this._attributesTagsWhitelist = tagsAttr; // set modes\n\n        this._isInline = /inline/i.test(options.mode);\n        this._isBalloon = /balloon|balloon-always/i.test(options.mode);\n        this._isBalloonAlways = /balloon-always/i.test(options.mode); // caching buttons\n\n        this._cachingButtons(); // file components\n\n\n        this._fileInfoPluginsCheck = [];\n        this._fileInfoPluginsReset = []; // text components\n\n        this.managedTagsInfo = {\n          query: '',\n          map: {}\n        };\n        const managedClass = []; // Command and file plugins registration\n\n        this.activePlugins = [];\n        this._fileManager.tags = [];\n        this._fileManager.pluginMap = {};\n        let filePluginRegExp = [];\n        let plugin, button;\n\n        for (let key in plugins) {\n          if (!util.hasOwn(plugins, key)) continue;\n          plugin = plugins[key];\n          button = pluginCallButtons[key];\n\n          if (plugin.active && button) {\n            this.callPlugin(key, null, button);\n          }\n\n          if (typeof plugin.checkFileInfo === 'function' && typeof plugin.resetFileInfo === 'function') {\n            this.callPlugin(key, null, button);\n\n            this._fileInfoPluginsCheck.push(plugin.checkFileInfo.bind(this));\n\n            this._fileInfoPluginsReset.push(plugin.resetFileInfo.bind(this));\n          }\n\n          if (_w.Array.isArray(plugin.fileTags)) {\n            const fileTags = plugin.fileTags;\n            this.callPlugin(key, null, button);\n            this._fileManager.tags = this._fileManager.tags.concat(fileTags);\n            filePluginRegExp.push(key);\n\n            for (let tag = 0, tLen = fileTags.length; tag < tLen; tag++) {\n              this._fileManager.pluginMap[fileTags[tag].toLowerCase()] = key;\n            }\n          }\n\n          if (plugin.managedTags) {\n            const info = plugin.managedTags();\n            managedClass.push('.' + info.className);\n            this.managedTagsInfo.map[info.className] = info.method.bind(this);\n          }\n        }\n\n        this.managedTagsInfo.query = managedClass.toString();\n        this._fileManager.queryString = this._fileManager.tags.join(',');\n        this._fileManager.regExp = new wRegExp('^(' + this._fileManager.tags.join('|') + ')$', 'i');\n        this._fileManager.pluginRegExp = new wRegExp('^(' + (filePluginRegExp.length === 0 ? 'undefined' : filePluginRegExp.join('|')) + ')$', 'i'); // cache editor's element\n\n        this._variable._originCssText = context.element.topArea.style.cssText;\n        this._placeholder = context.element.placeholder;\n        this._lineBreaker = context.element.lineBreaker;\n        this._lineBreakerButton = this._lineBreaker.querySelector('button'); // Excute history function\n\n        this.history = lib_history(this, this._onChange_historyStack.bind(this)); // register notice module\n\n        this.addModule([_notice]); // Init, validate\n\n        if (options.iframe) {\n          this._wd = context.element.wysiwygFrame.contentDocument;\n          context.element.wysiwyg = this._wd.body;\n          if (options._editorStyles.editor) context.element.wysiwyg.style.cssText = options._editorStyles.editor;\n          if (options.height === 'auto') this._iframeAuto = this._wd.body;\n        }\n\n        this._initWysiwygArea(reload, _initHTML);\n      },\n\n      /**\r\n       * @description Caching basic buttons to use\r\n       * @private\r\n       */\n      _cachingButtons: function () {\n        this.codeViewDisabledButtons = context.element.toolbar.querySelectorAll('.se-toolbar button:not([class~=\"se-code-view-enabled\"])');\n        this.resizingDisabledButtons = context.element.toolbar.querySelectorAll('.se-toolbar button:not([class~=\"se-resizing-enabled\"])');\n        const tool = context.tool;\n        this.commandMap = {\n          SUB: tool.subscript,\n          SUP: tool.superscript,\n          OUTDENT: tool.outdent,\n          INDENT: tool.indent\n        };\n        this.commandMap[options.textTags.bold.toUpperCase()] = tool.bold;\n        this.commandMap[options.textTags.underline.toUpperCase()] = tool.underline;\n        this.commandMap[options.textTags.italic.toUpperCase()] = tool.italic;\n        this.commandMap[options.textTags.strike.toUpperCase()] = tool.strike;\n        this._styleCommandMap = {\n          fullScreen: tool.fullScreen,\n          showBlocks: tool.showBlocks,\n          codeView: tool.codeView\n        };\n      },\n\n      /**\r\n       * @description Initializ wysiwyg area (Only called from core._init)\r\n       * @param {Boolean} reload Is relooad?\r\n       * @param {String} _initHTML initial html string\r\n       * @private\r\n       */\n      _initWysiwygArea: function (reload, _initHTML) {\n        context.element.wysiwyg.innerHTML = reload ? _initHTML : this.convertContentsForEditor(typeof _initHTML === 'string' ? _initHTML : context.element.originElement.value);\n      },\n\n      /**\r\n       * @description Called when there are changes to tags in the wysiwyg region.\r\n       * @private\r\n       */\n      _resourcesStateChange: function () {\n        this._iframeAutoHeight();\n\n        this._checkPlaceholder();\n      },\n\n      /**\r\n       * @description Called when after execute \"history.push\"\r\n       * @private\r\n       */\n      _onChange_historyStack: function () {\n        if (this.hasFocus) event._applyTagEffects();\n        this._variable.isChanged = true;\n        if (context.tool.save) context.tool.save.removeAttribute('disabled'); // user event\n\n        if (functions.onChange) functions.onChange(this.getContents(true), this);\n        if (context.element.toolbar.style.display === 'block') event._showToolbarBalloon();\n      },\n\n      /**\r\n       * @description Modify the height value of the iframe when the height of the iframe is automatic.\r\n       * @private\r\n       */\n      _iframeAutoHeight: function () {\n        if (this._iframeAuto) {\n          _w.setTimeout(function () {\n            context.element.wysiwygFrame.style.height = core._iframeAuto.offsetHeight + 'px';\n          });\n        }\n      },\n\n      /**\r\n       * @description Set display property when there is placeholder.\r\n       * @private\r\n       */\n      _checkPlaceholder: function () {\n        if (this._placeholder) {\n          if (this._variable.isCodeView) {\n            this._placeholder.style.display = 'none';\n            return;\n          }\n\n          const wysiwyg = context.element.wysiwyg;\n\n          if (!util.onlyZeroWidthSpace(wysiwyg.textContent) || wysiwyg.querySelector(util._allowedEmptyNodeList) || (wysiwyg.innerText.match(/\\n/g) || '').length > 1) {\n            this._placeholder.style.display = 'none';\n          } else {\n            this._placeholder.style.display = 'block';\n          }\n        }\n      },\n\n      /**\r\n       * @description If there is no default format, add a format and move \"selection\".\r\n       * @param {String|null} formatName Format tag name (default: 'P')\r\n       * @private\r\n       */\n      _setDefaultFormat: function (formatName) {\n        if (this._fileManager.pluginRegExp.test(this.currentControllerName)) return;\n        const range = this.getRange();\n        const commonCon = range.commonAncestorContainer;\n        const startCon = range.startContainer;\n        const rangeEl = util.getRangeFormatElement(commonCon, null);\n        let focusNode, offset, format;\n        const fileComponent = util.getParentElement(commonCon, util.isComponent);\n        if (fileComponent && !util.isTable(fileComponent)) return;\n        if ((util.isRangeFormatElement(startCon) || util.isWysiwygDiv(startCon)) && (util.isComponent(startCon.children[range.startOffset]) || util.isComponent(startCon.children[range.startOffset - 1]))) return;\n\n        if (rangeEl) {\n          format = util.createElement(formatName || options.defaultTag);\n          format.innerHTML = rangeEl.innerHTML;\n          if (format.childNodes.length === 0) format.innerHTML = util.zeroWidthSpace;\n          rangeEl.innerHTML = format.outerHTML;\n          format = rangeEl.firstChild;\n          focusNode = util.getEdgeChildNodes(format, null).sc;\n\n          if (!focusNode) {\n            focusNode = util.createTextNode(util.zeroWidthSpace);\n            format.insertBefore(focusNode, format.firstChild);\n          }\n\n          offset = focusNode.textContent.length;\n          this.setRange(focusNode, offset, focusNode, offset);\n          return;\n        }\n\n        if (util.isRangeFormatElement(commonCon) && commonCon.childNodes.length <= 1) {\n          let br = null;\n\n          if (commonCon.childNodes.length === 1 && util.isBreak(commonCon.firstChild)) {\n            br = commonCon.firstChild;\n          } else {\n            br = util.createTextNode(util.zeroWidthSpace);\n            commonCon.appendChild(br);\n          }\n\n          this.setRange(br, 1, br, 1);\n          return;\n        }\n\n        this.execCommand('formatBlock', false, formatName || options.defaultTag);\n        focusNode = util.getEdgeChildNodes(commonCon, commonCon);\n        focusNode = focusNode ? focusNode.ec : commonCon;\n        format = util.getFormatElement(focusNode, null);\n\n        if (!format) {\n          this.removeRange();\n\n          this._editorRange();\n\n          return;\n        }\n\n        if (util.isBreak(format.nextSibling)) util.removeItem(format.nextSibling);\n        if (util.isBreak(format.previousSibling)) util.removeItem(format.previousSibling);\n\n        if (util.isBreak(focusNode)) {\n          const zeroWidth = util.createTextNode(util.zeroWidthSpace);\n          focusNode.parentNode.insertBefore(zeroWidth, focusNode);\n          focusNode = zeroWidth;\n        }\n\n        this.effectNode = null;\n        this.nativeFocus();\n      },\n\n      /**\r\n       * @description Initialization after \"setOptions\"\r\n       * @param {Object} el context.element\r\n       * @param {String} _initHTML Initial html string\r\n       * @private\r\n       */\n      _setOptionsInit: function (el, _initHTML) {\n        this.context = context = lib_context(el.originElement, this._getConstructed(el), options);\n        this._componentsInfoReset = true;\n\n        this._editorInit(true, _initHTML);\n      },\n\n      /**\r\n       * @description Initializ editor\r\n       * @param {Boolean} reload Is relooad?\r\n       * @param {String} _initHTML initial html string\r\n       * @private\r\n       */\n      _editorInit: function (reload, _initHTML) {\n        // initialize core and add event listeners\n        this._init(reload, _initHTML);\n\n        event._addEvent();\n\n        this._setCharCount();\n\n        event._offStickyToolbar();\n\n        event.onResize_window(); // toolbar visibility\n\n        context.element.toolbar.style.visibility = '';\n\n        this._checkComponents();\n\n        this._componentsInfoInit = false;\n        this._componentsInfoReset = false;\n        this.history.reset(true);\n\n        this._resourcesStateChange();\n\n        _w.setTimeout(function () {\n          // user event\n          if (typeof functions.onload === 'function') functions.onload(core, reload);\n        });\n      },\n\n      /**\r\n       * @description Create and return an object to cache the new context.\r\n       * @param {Element} contextEl context.element\r\n       * @returns {Object}\r\n       * @private\r\n       */\n      _getConstructed: function (contextEl) {\n        return {\n          _top: contextEl.topArea,\n          _relative: contextEl.relative,\n          _toolBar: contextEl.toolbar,\n          _menuTray: contextEl._menuTray,\n          _editorArea: contextEl.editorArea,\n          _wysiwygArea: contextEl.wysiwygFrame,\n          _codeArea: contextEl.code,\n          _placeholder: contextEl.placeholder,\n          _resizingBar: contextEl.resizingBar,\n          _navigation: contextEl.navigation,\n          _charCounter: contextEl.charCounter,\n          _charWrapper: contextEl.charWrapper,\n          _loading: contextEl.loading,\n          _lineBreaker: contextEl.lineBreaker,\n          _lineBreaker_t: contextEl.lineBreaker_t,\n          _lineBreaker_b: contextEl.lineBreaker_b,\n          _resizeBack: contextEl.resizeBackground,\n          _stickyDummy: contextEl._stickyDummy,\n          _arrow: contextEl._arrow\n        };\n      }\n    };\n    /**\r\n     * @description event function\r\n     */\n\n    const event = {\n      _IEisComposing: false,\n      // In IE, there is no \"e.isComposing\" in the key-up event.\n      _lineBreakerBind: null,\n      _responsiveCurrentSize: 'default',\n      _responsiveButtonSize: null,\n      _responsiveButtons: null,\n      _directionKeyCode: new _w.RegExp('^(8|13|3[2-9]|40|46)$'),\n      _nonTextKeyCode: new _w.RegExp('^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$'),\n      _historyIgnoreKeyCode: new _w.RegExp('^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$'),\n      _onButtonsCheck: new _w.RegExp('^(' + _w.Object.keys(options._textTagsMap).join('|') + ')$', 'i'),\n      _frontZeroWidthReg: new _w.RegExp(util.zeroWidthSpace + '+', ''),\n      _keyCodeShortcut: {\n        65: 'A',\n        66: 'B',\n        83: 'S',\n        85: 'U',\n        73: 'I',\n        89: 'Y',\n        90: 'Z',\n        219: '[',\n        221: ']'\n      },\n      _shortcutCommand: function (keyCode, shift) {\n        let command = null;\n        const keyStr = event._keyCodeShortcut[keyCode];\n\n        switch (keyStr) {\n          case 'A':\n            command = 'selectAll';\n            break;\n\n          case 'B':\n            if (options.shortcutsDisable.indexOf('bold') === -1) {\n              command = 'bold';\n            }\n\n            break;\n\n          case 'S':\n            if (shift && options.shortcutsDisable.indexOf('strike') === -1) {\n              command = 'strike';\n            } else if (!shift && options.shortcutsDisable.indexOf('save') === -1) {\n              command = 'save';\n            }\n\n            break;\n\n          case 'U':\n            if (options.shortcutsDisable.indexOf('underline') === -1) {\n              command = 'underline';\n            }\n\n            break;\n\n          case 'I':\n            if (options.shortcutsDisable.indexOf('italic') === -1) {\n              command = 'italic';\n            }\n\n            break;\n\n          case 'Z':\n            if (options.shortcutsDisable.indexOf('undo') === -1) {\n              if (shift) {\n                command = 'redo';\n              } else {\n                command = 'undo';\n              }\n            }\n\n            break;\n\n          case 'Y':\n            if (options.shortcutsDisable.indexOf('undo') === -1) {\n              command = 'redo';\n            }\n\n            break;\n\n          case '[':\n            if (options.shortcutsDisable.indexOf('indent') === -1) {\n              command = options.rtl ? 'indent' : 'outdent';\n            }\n\n            break;\n\n          case ']':\n            if (options.shortcutsDisable.indexOf('indent') === -1) {\n              command = options.rtl ? 'outdent' : 'indent';\n            }\n\n            break;\n        }\n\n        if (!command) return false;\n        core.commandHandler(core.commandMap[command], command);\n        return true;\n      },\n      _applyTagEffects: function () {\n        let selectionNode = core.getSelectionNode();\n        if (selectionNode === core.effectNode) return;\n        core.effectNode = selectionNode;\n        const marginDir = options.rtl ? 'marginRight' : 'marginLeft';\n        const commandMap = core.commandMap;\n        const classOnCheck = this._onButtonsCheck;\n        const commandMapNodes = [];\n        const currentNodes = [];\n        const activePlugins = core.activePlugins;\n        const cLen = activePlugins.length;\n        let nodeName = '';\n\n        while (selectionNode.firstChild) {\n          selectionNode = selectionNode.firstChild;\n        }\n\n        for (let element = selectionNode; !util.isWysiwygDiv(element); element = element.parentNode) {\n          if (!element) break;\n          if (element.nodeType !== 1 || util.isBreak(element)) continue;\n          nodeName = element.nodeName.toUpperCase();\n          currentNodes.push(nodeName);\n          /* Active plugins */\n\n          for (let c = 0, name; c < cLen; c++) {\n            name = activePlugins[c];\n\n            if (commandMapNodes.indexOf(name) === -1 && plugins[name].active.call(core, element)) {\n              commandMapNodes.push(name);\n            }\n          }\n\n          if (util.isFormatElement(element)) {\n            /* Outdent */\n            if (commandMapNodes.indexOf('OUTDENT') === -1 && commandMap.OUTDENT) {\n              if (util.isListCell(element) || element.style[marginDir] && util.getNumber(element.style[marginDir], 0) > 0) {\n                commandMapNodes.push('OUTDENT');\n                commandMap.OUTDENT.removeAttribute('disabled');\n              }\n            }\n            /* Indent */\n\n\n            if (commandMapNodes.indexOf('INDENT') === -1 && commandMap.INDENT) {\n              commandMapNodes.push('INDENT');\n\n              if (util.isListCell(element) && !element.previousElementSibling) {\n                commandMap.INDENT.setAttribute('disabled', true);\n              } else {\n                commandMap.INDENT.removeAttribute('disabled');\n              }\n            }\n\n            continue;\n          }\n          /** default active buttons [strong, ins, em, del, sub, sup] */\n\n\n          if (classOnCheck.test(nodeName)) {\n            commandMapNodes.push(nodeName);\n            util.addClass(commandMap[nodeName], 'active');\n          }\n        }\n        /** remove class, display text */\n\n\n        for (let key in commandMap) {\n          if (commandMapNodes.indexOf(key) > -1 || !util.hasOwn(commandMap, key)) continue;\n\n          if (activePlugins.indexOf(key) > -1) {\n            plugins[key].active.call(core, null);\n          } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\n            commandMap.OUTDENT.setAttribute('disabled', true);\n          } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\n            commandMap.INDENT.removeAttribute('disabled');\n          } else {\n            util.removeClass(commandMap[key], 'active');\n          }\n        }\n        /** save current nodes */\n\n\n        core._variable.currentNodes = currentNodes.reverse();\n        core._variable.currentNodesMap = commandMapNodes;\n        /**  Displays the current node structure to resizingBar */\n\n        if (options.showPathLabel) context.element.navigation.textContent = core._variable.currentNodes.join(' > ');\n      },\n      _cancelCaptionEdit: function () {\n        this.setAttribute('contenteditable', false);\n        this.removeEventListener('blur', event._cancelCaptionEdit);\n      },\n      _buttonsEventHandler: function (e) {\n        let target = e.target;\n        if (core._bindControllersOff) e.stopPropagation();\n\n        if (/^(input|textarea|select|option)$/i.test(target.nodeName)) {\n          core._antiBlur = false;\n        } else {\n          e.preventDefault();\n        }\n\n        if (util.getParentElement(target, '.se-submenu')) {\n          e.stopPropagation();\n          core._notHideToolbar = true;\n        } else {\n          let command = target.getAttribute('data-command');\n          let className = target.className;\n\n          while (!command && !/se-menu-list/.test(className) && !/sun-editor-common/.test(className)) {\n            target = target.parentNode;\n            command = target.getAttribute('data-command');\n            className = target.className;\n          }\n\n          if (command === core._submenuName || command === core._containerName) {\n            e.stopPropagation();\n          }\n        }\n      },\n      onClick_toolbar: function (e) {\n        let target = e.target;\n        let display = target.getAttribute('data-display');\n        let command = target.getAttribute('data-command');\n        let className = target.className;\n        core.controllersOff();\n\n        while (target.parentNode && !command && !/se-menu-list/.test(className) && !/se-toolbar/.test(className)) {\n          target = target.parentNode;\n          command = target.getAttribute('data-command');\n          display = target.getAttribute('data-display');\n          className = target.className;\n        }\n\n        if (!command && !display) return;\n        if (target.disabled) return;\n        if (!core.hasFocus) core.nativeFocus();\n        if (!core._variable.isCodeView) core._editorRange();\n        core.actionCall(command, display, target);\n      },\n      onMouseDown_wysiwyg: function (e) {\n        if (util.isNonEditable(context.element.wysiwyg)) return; // user event\n\n        if (typeof functions.onMouseDown === 'function' && functions.onMouseDown(e, core) === false) return;\n        const tableCell = util.getParentElement(e.target, util.isCell);\n\n        if (tableCell) {\n          const tablePlugin = core.plugins.table;\n\n          if (tablePlugin && tableCell !== tablePlugin._fixedCell && !tablePlugin._shift) {\n            core.callPlugin('table', function () {\n              tablePlugin.onTableCellMultiSelect.call(core, tableCell, false);\n            }, null);\n          }\n        }\n\n        if (core._isBalloon) {\n          event._hideToolbar();\n        }\n\n        if (/FIGURE/i.test(e.target.nodeName)) e.preventDefault();\n      },\n      onClick_wysiwyg: function (e) {\n        const targetElement = e.target;\n        if (util.isNonEditable(context.element.wysiwyg)) return; // user event\n\n        if (typeof functions.onClick === 'function' && functions.onClick(e, core) === false) return;\n        const fileComponentInfo = core.getFileComponent(targetElement);\n\n        if (fileComponentInfo) {\n          e.preventDefault();\n          core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\n          return;\n        }\n\n        const figcaption = util.getParentElement(targetElement, 'FIGCAPTION');\n\n        if (util.isNonEditable(figcaption)) {\n          e.preventDefault();\n          figcaption.setAttribute('contenteditable', true);\n          figcaption.focus();\n\n          if (core._isInline && !core._inlineToolbarAttr.isShow) {\n            event._showToolbarInline();\n\n            const hideToolbar = function () {\n              event._hideToolbar();\n\n              figcaption.removeEventListener('blur', hideToolbar);\n            };\n\n            figcaption.addEventListener('blur', hideToolbar);\n          }\n        }\n\n        _w.setTimeout(core._editorRange.bind(core));\n\n        core._editorRange();\n\n        const selectionNode = core.getSelectionNode();\n        const formatEl = util.getFormatElement(selectionNode, null);\n        const rangeEl = util.getRangeFormatElement(selectionNode, null);\n\n        if ((!formatEl || formatEl === rangeEl) && !util.isNonEditable(targetElement) && !util.isList(rangeEl)) {\n          const range = core.getRange();\n\n          if (util.getFormatElement(range.startContainer) === util.getFormatElement(range.endContainer)) {\n            if (util.isList(rangeEl)) {\n              e.preventDefault();\n              const oLi = util.createElement('LI');\n              const prevLi = selectionNode.nextElementSibling;\n              oLi.appendChild(selectionNode);\n              rangeEl.insertBefore(oLi, prevLi);\n              core.focus();\n            } else if (!util.isWysiwygDiv(selectionNode) && !util.isComponent(selectionNode) && (!util.isTable(selectionNode) || util.isCell(selectionNode))) {\n              e.preventDefault();\n\n              core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : options.defaultTag);\n\n              core.focus();\n            } else {\n              event._applyTagEffects();\n            }\n          }\n        } else {\n          event._applyTagEffects();\n        }\n\n        if (core._isBalloon) _w.setTimeout(event._toggleToolbarBalloon);\n      },\n      _balloonDelay: null,\n      _showToolbarBalloonDelay: function () {\n        if (event._balloonDelay) {\n          _w.clearTimeout(event._balloonDelay);\n        }\n\n        event._balloonDelay = _w.setTimeout(function () {\n          _w.clearTimeout(this._balloonDelay);\n\n          this._balloonDelay = null;\n\n          this._showToolbarBalloon();\n        }.bind(event), 350);\n      },\n      _toggleToolbarBalloon: function () {\n        core._editorRange();\n\n        const range = core.getRange();\n        if (core._bindControllersOff || !core._isBalloonAlways && range.collapsed) event._hideToolbar();else event._showToolbarBalloon(range);\n      },\n      _showToolbarBalloon: function (rangeObj) {\n        if (!core._isBalloon) return;\n        const range = rangeObj || core.getRange();\n        const toolbar = context.element.toolbar;\n        const topArea = context.element.topArea;\n        const selection = core.getSelection();\n        let isDirTop;\n\n        if (core._isBalloonAlways && range.collapsed) {\n          isDirTop = true;\n        } else if (selection.focusNode === selection.anchorNode) {\n          isDirTop = selection.focusOffset < selection.anchorOffset;\n        } else {\n          const childNodes = util.getListChildNodes(range.commonAncestorContainer, null);\n          isDirTop = util.getArrayIndex(childNodes, selection.focusNode) < util.getArrayIndex(childNodes, selection.anchorNode);\n        }\n\n        let rects = range.getClientRects();\n        rects = rects[isDirTop ? 0 : rects.length - 1];\n        const globalScroll = core.getGlobalScrollOffset();\n        let scrollLeft = globalScroll.left;\n        let scrollTop = globalScroll.top;\n        const editorWidth = topArea.offsetWidth;\n\n        const offsets = event._getEditorOffsets(null);\n\n        const stickyTop = offsets.top;\n        const editorLeft = offsets.left;\n        toolbar.style.top = '-10000px';\n        toolbar.style.visibility = 'hidden';\n        toolbar.style.display = 'block';\n\n        if (!rects) {\n          const node = core.getSelectionNode();\n\n          if (util.isFormatElement(node)) {\n            const zeroWidth = util.createTextNode(util.zeroWidthSpace);\n            core.insertNode(zeroWidth, null, false);\n            core.setRange(zeroWidth, 1, zeroWidth, 1);\n\n            core._editorRange();\n\n            rects = core.getRange().getClientRects();\n            rects = rects[isDirTop ? 0 : rects.length - 1];\n          }\n\n          if (!rects) {\n            const nodeOffset = util.getOffset(node, context.element.wysiwygFrame);\n            rects = {\n              left: nodeOffset.left,\n              top: nodeOffset.top,\n              right: nodeOffset.left,\n              bottom: nodeOffset.top + node.offsetHeight,\n              noText: true\n            };\n            scrollLeft = 0;\n            scrollTop = 0;\n          }\n\n          isDirTop = true;\n        }\n\n        const arrowMargin = _w.Math.round(context.element._arrow.offsetWidth / 2);\n\n        const toolbarWidth = toolbar.offsetWidth;\n        const toolbarHeight = toolbar.offsetHeight;\n        const iframeRects = /iframe/i.test(context.element.wysiwygFrame.nodeName) ? context.element.wysiwygFrame.getClientRects()[0] : null;\n\n        if (iframeRects) {\n          rects = {\n            left: rects.left + iframeRects.left,\n            top: rects.top + iframeRects.top,\n            right: rects.right + iframeRects.right - iframeRects.width,\n            bottom: rects.bottom + iframeRects.bottom - iframeRects.height\n          };\n        }\n\n        event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\n\n        if (toolbarWidth !== toolbar.offsetWidth || toolbarHeight !== toolbar.offsetHeight) {\n          event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\n        }\n\n        if (options.toolbarContainer) {\n          const editorParent = topArea.parentElement;\n          let container = options.toolbarContainer;\n          let left = container.offsetLeft;\n          let top = container.offsetTop;\n\n          while (!container.parentElement.contains(editorParent) || !/^(BODY|HTML)$/i.test(container.parentElement.nodeName)) {\n            container = container.offsetParent;\n            left += container.offsetLeft;\n            top += container.offsetTop;\n          }\n\n          toolbar.style.left = toolbar.offsetLeft - left + topArea.offsetLeft + 'px';\n          toolbar.style.top = toolbar.offsetTop - top + topArea.offsetTop + 'px';\n        }\n\n        toolbar.style.visibility = '';\n      },\n      _setToolbarOffset: function (isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin) {\n        const padding = 1;\n        const toolbarWidth = toolbar.offsetWidth;\n        const toolbarHeight = rects.noText && !isDirTop ? 0 : toolbar.offsetHeight;\n        const absoluteLeft = (isDirTop ? rects.left : rects.right) - editorLeft - toolbarWidth / 2 + scrollLeft;\n        const overRight = absoluteLeft + toolbarWidth - editorWidth;\n        let t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\n        let l = absoluteLeft < 0 ? padding : overRight < 0 ? absoluteLeft : absoluteLeft - overRight - padding - 1;\n        let resetTop = false;\n        const space = t + (isDirTop ? event._getEditorOffsets(null).top : toolbar.offsetHeight - context.element.wysiwyg.offsetHeight);\n\n        if (!isDirTop && space > 0 && event._getPageBottomSpace() < space) {\n          isDirTop = true;\n          resetTop = true;\n        } else if (isDirTop && _d.documentElement.offsetTop > space) {\n          isDirTop = false;\n          resetTop = true;\n        }\n\n        if (resetTop) t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\n        toolbar.style.left = _w.Math.floor(l) + 'px';\n        toolbar.style.top = _w.Math.floor(t) + 'px';\n\n        if (isDirTop) {\n          util.removeClass(context.element._arrow, 'se-arrow-up');\n          util.addClass(context.element._arrow, 'se-arrow-down');\n          context.element._arrow.style.top = toolbarHeight + 'px';\n        } else {\n          util.removeClass(context.element._arrow, 'se-arrow-down');\n          util.addClass(context.element._arrow, 'se-arrow-up');\n          context.element._arrow.style.top = -arrowMargin + 'px';\n        }\n\n        const arrow_left = _w.Math.floor(toolbarWidth / 2 + (absoluteLeft - l));\n\n        context.element._arrow.style.left = (arrow_left + arrowMargin > toolbar.offsetWidth ? toolbar.offsetWidth - arrowMargin : arrow_left < arrowMargin ? arrowMargin : arrow_left) + 'px';\n      },\n      _showToolbarInline: function () {\n        if (!core._isInline) return;\n        const toolbar = context.element.toolbar;\n        if (options.toolbarContainer) toolbar.style.position = 'relative';else toolbar.style.position = 'absolute';\n        toolbar.style.visibility = 'hidden';\n        toolbar.style.display = 'block';\n        core._inlineToolbarAttr.width = toolbar.style.width = options.toolbarWidth;\n        core._inlineToolbarAttr.top = toolbar.style.top = (options.toolbarContainer ? 0 : -1 - toolbar.offsetHeight) + 'px';\n        if (typeof functions.showInline === 'function') functions.showInline(toolbar, context, core);\n        event.onScroll_window();\n        core._inlineToolbarAttr.isShow = true;\n        toolbar.style.visibility = '';\n      },\n      _hideToolbar: function () {\n        if (!core._notHideToolbar && !core._variable.isFullScreen) {\n          context.element.toolbar.style.display = 'none';\n          core._inlineToolbarAttr.isShow = false;\n        }\n      },\n      onInput_wysiwyg: function (e) {\n        core._editorRange(); // user event\n\n\n        if (typeof functions.onInput === 'function' && functions.onInput(e, core) === false) return;\n        const data = (e.data === null ? '' : e.data === undefined ? ' ' : e.data) || '';\n\n        if (!core._charCount(data)) {\n          e.preventDefault();\n          e.stopPropagation();\n        } // history stack\n\n\n        core.history.push(true);\n      },\n      _isUneditableNode: function (range, isFront) {\n        const container = isFront ? range.startContainer : range.endContainer;\n        const offset = isFront ? range.startOffset : range.endOffset;\n        const siblingKey = isFront ? 'previousSibling' : 'nextSibling';\n        const isElement = container.nodeType === 1;\n        let siblingNode;\n\n        if (isElement) {\n          siblingNode = event._isUneditableNode_getSibling(container.childNodes[offset], siblingKey, container);\n          return siblingNode && siblingNode.nodeType === 1 && siblingNode.getAttribute('contenteditable') === 'false';\n        } else {\n          siblingNode = event._isUneditableNode_getSibling(container, siblingKey, container);\n          return core.isEdgePoint(container, offset, isFront ? 'front' : 'end') && siblingNode && siblingNode.nodeType === 1 && siblingNode.getAttribute('contenteditable') === 'false';\n        }\n      },\n      _isUneditableNode_getSibling: function (selectNode, siblingKey, container) {\n        if (!selectNode) return null;\n        let siblingNode = selectNode[siblingKey];\n\n        if (!siblingNode) {\n          siblingNode = util.getFormatElement(container);\n          siblingNode = siblingNode ? siblingNode[siblingKey] : null;\n          if (siblingNode && !util.isComponent(siblingNode)) siblingNode = siblingKey === 'previousSibling' ? siblingNode.firstElementChild : siblingNode.lastElementChild;else return null;\n        }\n\n        return siblingNode;\n      },\n      _onShortcutKey: false,\n      onKeyDown_wysiwyg: function (e) {\n        const keyCode = e.keyCode;\n        const shift = e.shiftKey;\n        const ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92 || keyCode === 224;\n        const alt = e.altKey;\n        event._IEisComposing = keyCode === 229;\n        core.submenuOff();\n\n        if (core._isBalloon) {\n          event._hideToolbar();\n        } // user event\n\n\n        if (typeof functions.onKeyDown === 'function' && functions.onKeyDown(e, core) === false) return;\n        /** Shortcuts */\n\n        if (ctrl && event._shortcutCommand(keyCode, shift)) {\n          event._onShortcutKey = true;\n          e.preventDefault();\n          e.stopPropagation();\n          return false;\n        } else if (event._onShortcutKey) {\n          event._onShortcutKey = false;\n        }\n        /** default key action */\n\n\n        let selectionNode = core.getSelectionNode();\n        const range = core.getRange();\n        const selectRange = !range.collapsed || range.startContainer !== range.endContainer;\n        const fileComponentName = core._fileManager.pluginRegExp.test(core.currentControllerName) ? core.currentControllerName : '';\n        let formatEl = util.getFormatElement(selectionNode, null) || selectionNode;\n        let rangeEl = util.getRangeFormatElement(formatEl, null);\n\n        switch (keyCode) {\n          case 8:\n            /** backspace key */\n            if (!selectRange) {\n              if (fileComponentName) {\n                e.preventDefault();\n                e.stopPropagation();\n                core.plugins[fileComponentName].destroy.call(core);\n                break;\n              }\n            }\n\n            if (selectRange && event._hardDelete()) {\n              e.preventDefault();\n              e.stopPropagation();\n              break;\n            }\n\n            if (!util.isFormatElement(formatEl) && !context.element.wysiwyg.firstElementChild && !util.isComponent(selectionNode)) {\n              e.preventDefault();\n              e.stopPropagation();\n\n              core._setDefaultFormat(options.defaultTag);\n\n              return false;\n            }\n\n            if (!selectRange && !formatEl.previousElementSibling && range.startOffset === 0 && !selectionNode.previousSibling && !util.isListCell(formatEl) && util.isFormatElement(formatEl) && (!util.isFreeFormatElement(formatEl) || util.isClosureFreeFormatElement(formatEl))) {\n              // closure range\n              if (util.isClosureRangeFormatElement(formatEl.parentNode)) {\n                e.preventDefault();\n                e.stopPropagation();\n                return false;\n              } // maintain default format\n\n\n              if (util.isWysiwygDiv(formatEl.parentNode) && formatEl.childNodes.length <= 1 && (!formatEl.firstChild || util.onlyZeroWidthSpace(formatEl.textContent))) {\n                e.preventDefault();\n                e.stopPropagation();\n\n                if (formatEl.nodeName.toUpperCase() === options.defaultTag.toUpperCase()) {\n                  formatEl.innerHTML = '<br>';\n                  const attrs = formatEl.attributes;\n\n                  while (attrs[0]) {\n                    formatEl.removeAttribute(attrs[0].name);\n                  }\n                } else {\n                  const defaultFormat = util.createElement(options.defaultTag);\n                  defaultFormat.innerHTML = '<br>';\n                  formatEl.parentElement.replaceChild(defaultFormat, formatEl);\n                }\n\n                core.nativeFocus();\n                return false;\n              }\n            } // clean remove tag\n\n\n            if (formatEl && range.startContainer === range.endContainer && selectionNode.nodeType === 3 && !util.isFormatElement(selectionNode.parentNode)) {\n              if (range.collapsed ? selectionNode.textContent.length === 1 : range.endOffset - range.startOffset === selectionNode.textContent.length) {\n                e.preventDefault();\n                let offset = null;\n                let prev = selectionNode.parentNode.previousSibling;\n                const next = selectionNode.parentNode.nextSibling;\n\n                if (!prev) {\n                  if (!next) {\n                    prev = util.createElement('BR');\n                    formatEl.appendChild(prev);\n                  } else {\n                    prev = next;\n                    offset = 0;\n                  }\n                }\n\n                selectionNode.textContent = '';\n                util.removeItemAllParents(selectionNode, null, formatEl);\n                offset = typeof offset === 'number' ? offset : prev.nodeType === 3 ? prev.textContent.length : 1;\n                core.setRange(prev, offset, prev, offset);\n                break;\n              }\n            } // tag[contenteditable=\"false\"]\n\n\n            if (event._isUneditableNode(range, true)) {\n              e.preventDefault();\n              e.stopPropagation();\n              break;\n            } // nested list\n\n\n            const commonCon = range.commonAncestorContainer;\n            formatEl = util.getFormatElement(range.startContainer, null);\n            rangeEl = util.getRangeFormatElement(formatEl, null);\n\n            if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\n              if (util.isListCell(formatEl) && util.isList(rangeEl) && (util.isListCell(rangeEl.parentNode) || formatEl.previousElementSibling) && (selectionNode === formatEl || selectionNode.nodeType === 3 && (!selectionNode.previousSibling || util.isList(selectionNode.previousSibling))) && (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.startContainer) : range.startOffset === 0 && range.collapsed)) {\n                if (range.startContainer !== range.endContainer) {\n                  e.preventDefault();\n                  core.removeNode();\n\n                  if (range.startContainer.nodeType === 3) {\n                    core.setRange(range.startContainer, range.startContainer.textContent.length, range.startContainer, range.startContainer.textContent.length);\n                  } // history stack\n\n\n                  core.history.push(true);\n                } else {\n                  let prev = formatEl.previousElementSibling || rangeEl.parentNode;\n\n                  if (util.isListCell(prev)) {\n                    e.preventDefault();\n                    let prevLast = prev;\n\n                    if (!prev.contains(formatEl) && util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\n                      prevLast = prevLast.lastElementChild.lastElementChild;\n\n                      while (util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\n                        prevLast = prevLast.lastElementChild && prevLast.lastElementChild.lastElementChild;\n                      }\n\n                      prev = prevLast;\n                    }\n\n                    let con = prev === rangeEl.parentNode ? rangeEl.previousSibling : prev.lastChild;\n\n                    if (!con) {\n                      con = util.createTextNode(util.zeroWidthSpace);\n                      rangeEl.parentNode.insertBefore(con, rangeEl.parentNode.firstChild);\n                    }\n\n                    const offset = con.nodeType === 3 ? con.textContent.length : 1;\n                    const children = formatEl.childNodes;\n                    let after = con;\n                    let child = children[0];\n\n                    while (child = children[0]) {\n                      prev.insertBefore(child, after.nextSibling);\n                      after = child;\n                    }\n\n                    util.removeItem(formatEl);\n                    if (rangeEl.children.length === 0) util.removeItem(rangeEl);\n                    core.setRange(con, offset, con, offset); // history stack\n\n                    core.history.push(true);\n                  }\n                }\n\n                break;\n              } // detach range\n\n\n              if (!selectRange && range.startOffset === 0) {\n                let detach = true;\n                let comm = commonCon;\n\n                while (comm && comm !== rangeEl && !util.isWysiwygDiv(comm)) {\n                  if (comm.previousSibling) {\n                    if (comm.previousSibling.nodeType === 1 || !util.onlyZeroWidthSpace(comm.previousSibling.textContent.trim())) {\n                      detach = false;\n                      break;\n                    }\n                  }\n\n                  comm = comm.parentNode;\n                }\n\n                if (detach && rangeEl.parentNode) {\n                  e.preventDefault();\n                  core.detachRangeFormatElement(rangeEl, util.isListCell(formatEl) ? [formatEl] : null, null, false, false); // history stack\n\n                  core.history.push(true);\n                  break;\n                }\n              }\n            } // component\n\n\n            if (!selectRange && formatEl && (range.startOffset === 0 || (selectionNode === formatEl ? !!formatEl.childNodes[range.startOffset] : false))) {\n              const sel = selectionNode === formatEl ? formatEl.childNodes[range.startOffset] : selectionNode;\n              const prev = formatEl.previousSibling; // select file component\n\n              const ignoreZWS = (commonCon.nodeType === 3 || util.isBreak(commonCon)) && !commonCon.previousSibling && range.startOffset === 0;\n\n              if (!sel.previousSibling && (util.isComponent(commonCon.previousSibling) || ignoreZWS && util.isComponent(prev))) {\n                const fileComponentInfo = core.getFileComponent(prev);\n\n                if (fileComponentInfo) {\n                  e.preventDefault();\n                  e.stopPropagation();\n                  if (formatEl.textContent.length === 0) util.removeItem(formatEl);\n                  if (core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName) === false) core.blur();\n                } else if (util.isComponent(prev)) {\n                  e.preventDefault();\n                  e.stopPropagation();\n                  util.removeItem(prev);\n                }\n\n                break;\n              } // delete nonEditable\n\n\n              if (util.isNonEditable(sel.previousSibling)) {\n                e.preventDefault();\n                e.stopPropagation();\n                util.removeItem(sel.previousSibling);\n                break;\n              }\n            }\n\n            break;\n\n          case 46:\n            /** delete key */\n            if (fileComponentName) {\n              e.preventDefault();\n              e.stopPropagation();\n              core.plugins[fileComponentName].destroy.call(core);\n              break;\n            }\n\n            if (selectRange && event._hardDelete()) {\n              e.preventDefault();\n              e.stopPropagation();\n              break;\n            } // tag[contenteditable=\"false\"]\n\n\n            if (event._isUneditableNode(range, false)) {\n              e.preventDefault();\n              e.stopPropagation();\n              break;\n            } // component\n\n\n            if ((util.isFormatElement(selectionNode) || selectionNode.nextSibling === null || util.onlyZeroWidthSpace(selectionNode.nextSibling) && selectionNode.nextSibling.nextSibling === null) && range.startOffset === selectionNode.textContent.length) {\n              let nextEl = formatEl.nextElementSibling;\n\n              if (!nextEl) {\n                e.preventDefault();\n                break;\n              }\n\n              if (util.isComponent(nextEl)) {\n                e.preventDefault();\n\n                if (util.onlyZeroWidthSpace(formatEl)) {\n                  util.removeItem(formatEl); // table component\n\n                  if (util.isTable(nextEl)) {\n                    let cell = util.getChildElement(nextEl, util.isCell, false);\n                    cell = cell.firstElementChild || cell;\n                    core.setRange(cell, 0, cell, 0);\n                    break;\n                  }\n                } // select file component\n\n\n                const fileComponentInfo = core.getFileComponent(nextEl);\n\n                if (fileComponentInfo) {\n                  e.stopPropagation();\n                  if (core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName) === false) core.blur();\n                } else if (util.isComponent(nextEl)) {\n                  e.stopPropagation();\n                  util.removeItem(nextEl);\n                }\n\n                break;\n              }\n            }\n\n            if (!selectRange && (core.isEdgePoint(range.endContainer, range.endOffset) || (selectionNode === formatEl ? !!formatEl.childNodes[range.startOffset] : false))) {\n              const sel = selectionNode === formatEl ? formatEl.childNodes[range.startOffset] : selectionNode; // delete nonEditable\n\n              if (util.isNonEditable(sel.nextSibling)) {\n                e.preventDefault();\n                e.stopPropagation();\n                util.removeItem(sel.nextSibling);\n                break;\n              }\n            } // nested list\n\n\n            formatEl = util.getFormatElement(range.startContainer, null);\n            rangeEl = util.getRangeFormatElement(formatEl, null);\n\n            if (util.isListCell(formatEl) && util.isList(rangeEl) && (selectionNode === formatEl || selectionNode.nodeType === 3 && (!selectionNode.nextSibling || util.isList(selectionNode.nextSibling)) && (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.endContainer) : range.endOffset === selectionNode.textContent.length && range.collapsed))) {\n              if (range.startContainer !== range.endContainer) core.removeNode();\n              let next = util.getArrayItem(formatEl.children, util.isList, false);\n              next = next || formatEl.nextElementSibling || rangeEl.parentNode.nextElementSibling;\n\n              if (next && (util.isList(next) || util.getArrayItem(next.children, util.isList, false))) {\n                e.preventDefault();\n                let con, children;\n\n                if (util.isList(next)) {\n                  const child = next.firstElementChild;\n                  children = child.childNodes;\n                  con = children[0];\n\n                  while (children[0]) {\n                    formatEl.insertBefore(children[0], next);\n                  }\n\n                  util.removeItem(child);\n                } else {\n                  con = next.firstChild;\n                  children = next.childNodes;\n\n                  while (children[0]) {\n                    formatEl.appendChild(children[0]);\n                  }\n\n                  util.removeItem(next);\n                }\n\n                core.setRange(con, 0, con, 0); // history stack\n\n                core.history.push(true);\n              }\n\n              break;\n            }\n\n            break;\n\n          case 9:\n            /** tab key */\n            if (fileComponentName || options.tabDisable) break;\n            e.preventDefault();\n            if (ctrl || alt || util.isWysiwygDiv(selectionNode)) break;\n            const isEdge = !range.collapsed || core.isEdgePoint(range.startContainer, range.startOffset);\n            const selectedFormats = core.getSelectedElements(null);\n            selectionNode = core.getSelectionNode();\n            const cells = [];\n            let lines = [];\n            let fc = util.isListCell(selectedFormats[0]),\n                lc = util.isListCell(selectedFormats[selectedFormats.length - 1]);\n            let r = {\n              sc: range.startContainer,\n              so: range.startOffset,\n              ec: range.endContainer,\n              eo: range.endOffset\n            };\n\n            for (let i = 0, len = selectedFormats.length, f; i < len; i++) {\n              f = selectedFormats[i];\n\n              if (util.isListCell(f)) {\n                if (!f.previousElementSibling && !shift) {\n                  continue;\n                } else {\n                  cells.push(f);\n                }\n              } else {\n                lines.push(f);\n              }\n            } // Nested list\n\n\n            if (cells.length > 0 && isEdge && core.plugins.list) {\n              r = core.plugins.list.editInsideList.call(core, shift, cells);\n            } else {\n              // table\n              const tableCell = util.getParentElement(selectionNode, util.isCell);\n\n              if (tableCell && isEdge) {\n                const table = util.getParentElement(tableCell, 'table');\n                const cells = util.getListChildren(table, util.isCell);\n                let idx = shift ? util.prevIdx(cells, tableCell) : util.nextIdx(cells, tableCell);\n                if (idx === cells.length && !shift) idx = 0;\n                if (idx === -1 && shift) idx = cells.length - 1;\n                let moveCell = cells[idx];\n                if (!moveCell) break;\n                moveCell = moveCell.firstElementChild || moveCell;\n                core.setRange(moveCell, 0, moveCell, 0);\n                break;\n              }\n\n              lines = lines.concat(cells);\n              fc = lc = null;\n            } // Lines tab(4)\n\n\n            if (lines.length > 0) {\n              if (!shift) {\n                const tabText = util.createTextNode(new _w.Array(core._variable.tabSize + 1).join('\\u00A0'));\n\n                if (lines.length === 1) {\n                  const textRange = core.insertNode(tabText, null, true);\n                  if (!textRange) return false;\n\n                  if (!fc) {\n                    r.sc = tabText;\n                    r.so = textRange.endOffset;\n                  }\n\n                  if (!lc) {\n                    r.ec = tabText;\n                    r.eo = textRange.endOffset;\n                  }\n                } else {\n                  const len = lines.length - 1;\n\n                  for (let i = 0, child; i <= len; i++) {\n                    child = lines[i].firstChild;\n                    if (!child) continue;\n\n                    if (util.isBreak(child)) {\n                      lines[i].insertBefore(tabText.cloneNode(false), child);\n                    } else {\n                      child.textContent = tabText.textContent + child.textContent;\n                    }\n                  }\n\n                  const firstChild = util.getChildElement(lines[0], 'text', false);\n                  const endChild = util.getChildElement(lines[len], 'text', true);\n\n                  if (!fc && firstChild) {\n                    r.sc = firstChild;\n                    r.so = 0;\n                  }\n\n                  if (!lc && endChild) {\n                    r.ec = endChild;\n                    r.eo = endChild.textContent.length;\n                  }\n                }\n              } else {\n                const len = lines.length - 1;\n\n                for (let i = 0, line; i <= len; i++) {\n                  line = lines[i].childNodes;\n\n                  for (let c = 0, cLen = line.length, child; c < cLen; c++) {\n                    child = line[c];\n                    if (!child) break;\n                    if (util.onlyZeroWidthSpace(child)) continue;\n\n                    if (/^\\s{1,4}$/.test(child.textContent)) {\n                      util.removeItem(child);\n                    } else if (/^\\s{1,4}/.test(child.textContent)) {\n                      child.textContent = child.textContent.replace(/^\\s{1,4}/, '');\n                    }\n\n                    break;\n                  }\n                }\n\n                const firstChild = util.getChildElement(lines[0], 'text', false);\n                const endChild = util.getChildElement(lines[len], 'text', true);\n\n                if (!fc && firstChild) {\n                  r.sc = firstChild;\n                  r.so = 0;\n                }\n\n                if (!lc && endChild) {\n                  r.ec = endChild;\n                  r.eo = endChild.textContent.length;\n                }\n              }\n            }\n\n            core.setRange(r.sc, r.so, r.ec, r.eo); // history stack\n\n            core.history.push(false);\n            break;\n\n          case 13:\n            /** enter key */\n            const freeFormatEl = util.getFreeFormatElement(selectionNode, null);\n\n            if (core._charTypeHTML) {\n              let enterHTML = '';\n\n              if (!shift && freeFormatEl || shift) {\n                enterHTML = '<br>';\n              } else {\n                enterHTML = '<' + formatEl.nodeName + '><br></' + formatEl.nodeName + '>';\n              }\n\n              if (!core.checkCharCount(enterHTML, 'byte-html')) {\n                e.preventDefault();\n                return false;\n              }\n            }\n\n            if (!shift) {\n              if (core.isEdgeFormat(range.endContainer, range.endOffset, 'end') || /^HR$/i.test(formatEl.nodeName)) {\n                e.preventDefault();\n                const newFormat = core.appendFormatTag(formatEl, /^H[1-6r]$/i.test(formatEl.nodeName) ? options.defaultTag : formatEl.cloneNode(true));\n                core.setRange(newFormat, 1, newFormat, 1);\n                break;\n              }\n\n              if (freeFormatEl) {\n                e.preventDefault();\n                const selectionFormat = selectionNode === freeFormatEl;\n                const wSelection = core.getSelection();\n                const children = selectionNode.childNodes,\n                      offset = wSelection.focusOffset,\n                      prev = selectionNode.previousElementSibling,\n                      next = selectionNode.nextSibling;\n\n                if (!util.isClosureFreeFormatElement(freeFormatEl) && !!children && (selectionFormat && range.collapsed && children.length - 1 <= offset + 1 && util.isBreak(children[offset]) && (!children[offset + 1] || (!children[offset + 2] || util.onlyZeroWidthSpace(children[offset + 2].textContent)) && children[offset + 1].nodeType === 3 && util.onlyZeroWidthSpace(children[offset + 1].textContent)) && offset > 0 && util.isBreak(children[offset - 1]) || !selectionFormat && util.onlyZeroWidthSpace(selectionNode.textContent) && util.isBreak(prev) && (util.isBreak(prev.previousSibling) || !util.onlyZeroWidthSpace(prev.previousSibling.textContent)) && (!next || !util.isBreak(next) && util.onlyZeroWidthSpace(next.textContent)))) {\n                  if (selectionFormat) util.removeItem(children[offset - 1]);else util.removeItem(selectionNode);\n                  const newEl = core.appendFormatTag(freeFormatEl, util.isFormatElement(freeFormatEl.nextElementSibling) ? freeFormatEl.nextElementSibling : null);\n                  util.copyFormatAttributes(newEl, freeFormatEl);\n                  core.setRange(newEl, 1, newEl, 1);\n                  break;\n                }\n\n                if (selectionFormat) {\n                  functions.insertHTML(range.collapsed && util.isBreak(range.startContainer.childNodes[range.startOffset - 1]) ? '<br>' : '<br><br>', true, false);\n                  let focusNode = wSelection.focusNode;\n                  const wOffset = wSelection.focusOffset;\n\n                  if (freeFormatEl === focusNode) {\n                    focusNode = focusNode.childNodes[wOffset - offset > 1 ? wOffset - 1 : wOffset];\n                  }\n\n                  core.setRange(focusNode, 1, focusNode, 1);\n                } else {\n                  const focusNext = wSelection.focusNode.nextSibling;\n                  const br = util.createElement('BR');\n                  core.insertNode(br, null, false);\n                  const brPrev = br.previousSibling,\n                        brNext = br.nextSibling;\n\n                  if (!util.isBreak(focusNext) && !util.isBreak(brPrev) && (!brNext || util.onlyZeroWidthSpace(brNext))) {\n                    br.parentNode.insertBefore(br.cloneNode(false), br);\n                    core.setRange(br, 1, br, 1);\n                  } else {\n                    core.setRange(brNext, 0, brNext, 0);\n                  }\n                }\n\n                event._onShortcutKey = true;\n                break;\n              }\n            }\n\n            if (selectRange) break;\n\n            if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\n              const range = core.getRange();\n\n              if (core.isEdgePoint(range.endContainer, range.endOffset) && util.isList(selectionNode.nextSibling)) {\n                e.preventDefault();\n                const newEl = util.createElement('LI');\n                const br = util.createElement('BR');\n                newEl.appendChild(br);\n                formatEl.parentNode.insertBefore(newEl, formatEl.nextElementSibling);\n                newEl.appendChild(selectionNode.nextSibling);\n                core.setRange(br, 1, br, 1);\n                break;\n              }\n\n              if ((range.commonAncestorContainer.nodeType === 3 ? !range.commonAncestorContainer.nextElementSibling : true) && util.onlyZeroWidthSpace(formatEl.innerText.trim())) {\n                e.preventDefault();\n                let newEl = null;\n\n                if (util.isListCell(rangeEl.parentNode)) {\n                  rangeEl = formatEl.parentNode.parentNode.parentNode;\n                  newEl = util.splitElement(formatEl, null, util.getElementDepth(formatEl) - 2);\n\n                  if (!newEl) {\n                    const newListCell = util.createElement('LI');\n                    newListCell.innerHTML = '<br>';\n                    rangeEl.insertBefore(newListCell, newEl);\n                    newEl = newListCell;\n                  }\n                } else {\n                  const newFormat = util.isCell(rangeEl.parentNode) ? 'DIV' : util.isList(rangeEl.parentNode) ? 'LI' : util.isFormatElement(rangeEl.nextElementSibling) ? rangeEl.nextElementSibling.nodeName : util.isFormatElement(rangeEl.previousElementSibling) ? rangeEl.previousElementSibling.nodeName : options.defaultTag;\n                  newEl = util.createElement(newFormat);\n                  const edge = core.detachRangeFormatElement(rangeEl, [formatEl], null, true, true);\n                  edge.cc.insertBefore(newEl, edge.ec);\n                }\n\n                newEl.innerHTML = '<br>';\n                util.copyFormatAttributes(newEl, formatEl);\n                util.removeItemAllParents(formatEl, null, null);\n                core.setRange(newEl, 1, newEl, 1);\n                break;\n              }\n            }\n\n            if (rangeEl && util.getParentElement(rangeEl, 'FIGCAPTION') && util.getParentElement(rangeEl, util.isList)) {\n              e.preventDefault();\n              formatEl = core.appendFormatTag(formatEl, null);\n              core.setRange(formatEl, 0, formatEl, 0);\n            }\n\n            if (fileComponentName) {\n              e.preventDefault();\n              e.stopPropagation();\n              const compContext = context[fileComponentName];\n              const container = compContext._container;\n              const sibling = container.previousElementSibling || container.nextElementSibling;\n              let newEl = null;\n\n              if (util.isListCell(container.parentNode)) {\n                newEl = util.createElement('BR');\n              } else {\n                newEl = util.createElement(util.isFormatElement(sibling) ? sibling.nodeName : options.defaultTag);\n                newEl.innerHTML = '<br>';\n              }\n\n              container.parentNode.insertBefore(newEl, container);\n              core.callPlugin(fileComponentName, function () {\n                if (core.selectComponent(compContext._element, fileComponentName) === false) core.blur();\n              }, null);\n            }\n\n            break;\n\n          case 27:\n            if (fileComponentName) {\n              e.preventDefault();\n              e.stopPropagation();\n              core.controllersOff();\n              return false;\n            }\n\n            break;\n        }\n\n        if (shift && keyCode === 16) {\n          e.preventDefault();\n          e.stopPropagation();\n          const tablePlugin = core.plugins.table;\n\n          if (tablePlugin && !tablePlugin._shift && !tablePlugin._ref) {\n            const cell = util.getParentElement(formatEl, util.isCell);\n\n            if (cell) {\n              tablePlugin.onTableCellMultiSelect.call(core, cell, true);\n              return;\n            }\n          }\n        } else if (shift && (util.isOSX_IOS ? alt : ctrl) && keyCode === 32) {\n          e.preventDefault();\n          e.stopPropagation();\n          const nbsp = core.insertNode(util.createTextNode('\\u00a0'));\n\n          if (nbsp && nbsp.container) {\n            core.setRange(nbsp.container, nbsp.endOffset, nbsp.container, nbsp.endOffset);\n            return;\n          }\n        }\n\n        const textKey = !ctrl && !alt && !selectRange && !event._nonTextKeyCode.test(keyCode);\n\n        if (textKey && range.collapsed && range.startContainer === range.endContainer && util.isBreak(range.commonAncestorContainer)) {\n          const zeroWidth = util.createTextNode(util.zeroWidthSpace);\n          core.insertNode(zeroWidth, null, false);\n          core.setRange(zeroWidth, 1, zeroWidth, 1);\n        }\n      },\n      onKeyUp_wysiwyg: function (e) {\n        if (event._onShortcutKey) return;\n\n        core._editorRange();\n\n        const range = core.getRange();\n        const keyCode = e.keyCode;\n        const ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92 || keyCode === 224;\n        const alt = e.altKey;\n        let selectionNode = core.getSelectionNode();\n\n        if (core._isBalloon && (core._isBalloonAlways && keyCode !== 27 || !range.collapsed)) {\n          if (core._isBalloonAlways) {\n            if (keyCode !== 27) event._showToolbarBalloonDelay();\n          } else {\n            event._showToolbarBalloon();\n\n            return;\n          }\n        } // user event\n\n\n        if (typeof functions.onKeyUp === 'function' && functions.onKeyUp(e, core) === false) return;\n        /** when format tag deleted */\n\n        if (keyCode === 8 && util.isWysiwygDiv(selectionNode) && selectionNode.textContent === '' && selectionNode.children.length === 0) {\n          e.preventDefault();\n          e.stopPropagation();\n          selectionNode.innerHTML = '';\n          const oFormatTag = util.createElement(util.isFormatElement(core._variable.currentNodes[0]) ? core._variable.currentNodes[0] : options.defaultTag);\n          oFormatTag.innerHTML = '<br>';\n          selectionNode.appendChild(oFormatTag);\n          core.setRange(oFormatTag, 0, oFormatTag, 0);\n\n          event._applyTagEffects();\n\n          core.history.push(false);\n          return;\n        }\n\n        const formatEl = util.getFormatElement(selectionNode, null);\n        const rangeEl = util.getRangeFormatElement(selectionNode, null);\n\n        if ((!formatEl && range.collapsed || formatEl === rangeEl) && !util.isComponent(selectionNode) && !util.isList(selectionNode)) {\n          core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : options.defaultTag);\n\n          selectionNode = core.getSelectionNode();\n        }\n\n        if (event._directionKeyCode.test(keyCode)) {\n          event._applyTagEffects();\n        }\n\n        const textKey = !ctrl && !alt && !event._nonTextKeyCode.test(keyCode);\n\n        if (textKey && selectionNode.nodeType === 3 && util.zeroWidthRegExp.test(selectionNode.textContent) && !(e.isComposing !== undefined ? e.isComposing : event._IEisComposing)) {\n          let so = range.startOffset,\n              eo = range.endOffset;\n          const frontZeroWidthCnt = (selectionNode.textContent.substring(0, eo).match(event._frontZeroWidthReg) || '').length;\n          so = range.startOffset - frontZeroWidthCnt;\n          eo = range.endOffset - frontZeroWidthCnt;\n          selectionNode.textContent = selectionNode.textContent.replace(util.zeroWidthRegExp, '');\n          core.setRange(selectionNode, so < 0 ? 0 : so, selectionNode, eo < 0 ? 0 : eo);\n        }\n\n        core._charCount(''); // history stack\n\n\n        core.history.push(true);\n      },\n      onScroll_wysiwyg: function (e) {\n        core.controllersOff();\n        if (core._isBalloon) event._hideToolbar(); // user event\n\n        if (typeof functions.onScroll === 'function') functions.onScroll(e, core);\n      },\n      onFocus_wysiwyg: function (e) {\n        if (core._antiBlur) return;\n        core.hasFocus = true;\n        if (core._isInline) event._showToolbarInline(); // user event\n\n        if (typeof functions.onFocus === 'function') functions.onFocus(e, core);\n      },\n      onBlur_wysiwyg: function (e) {\n        if (core._antiBlur || core._variable.isCodeView) return;\n        core.hasFocus = false;\n        core.controllersOff();\n        if (core._isInline || core._isBalloon) event._hideToolbar(); // user event\n\n        if (typeof functions.onBlur === 'function') functions.onBlur(e, core); // active class reset of buttons\n\n        const commandMap = core.commandMap;\n        const activePlugins = core.activePlugins;\n\n        for (let key in commandMap) {\n          if (!util.hasOwn(commandMap, key)) continue;\n\n          if (activePlugins.indexOf(key) > -1) {\n            plugins[key].active.call(core, null);\n          } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\n            commandMap.OUTDENT.setAttribute('disabled', true);\n          } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\n            commandMap.INDENT.removeAttribute('disabled');\n          } else {\n            util.removeClass(commandMap[key], 'active');\n          }\n        }\n\n        core._variable.currentNodes = [];\n        core._variable.currentNodesMap = [];\n        if (options.showPathLabel) context.element.navigation.textContent = '';\n      },\n      onMouseDown_resizingBar: function (e) {\n        e.stopPropagation();\n        core.submenuOff();\n        core.controllersOff();\n        core._variable.resizeClientY = e.clientY;\n        context.element.resizeBackground.style.display = 'block';\n\n        function closureFunc() {\n          context.element.resizeBackground.style.display = 'none';\n\n          _d.removeEventListener('mousemove', event._resize_editor);\n\n          _d.removeEventListener('mouseup', closureFunc);\n        }\n\n        _d.addEventListener('mousemove', event._resize_editor);\n\n        _d.addEventListener('mouseup', closureFunc);\n      },\n      _resize_editor: function (e) {\n        const resizeInterval = context.element.editorArea.offsetHeight + (e.clientY - core._variable.resizeClientY);\n        context.element.wysiwygFrame.style.height = context.element.code.style.height = (resizeInterval < core._variable.minResizingSize ? core._variable.minResizingSize : resizeInterval) + 'px';\n        core._variable.resizeClientY = e.clientY;\n      },\n      onResize_window: function () {\n        core.controllersOff();\n        const responsiveSize = event._responsiveButtonSize;\n\n        if (responsiveSize) {\n          let w = 0;\n\n          if ((core._isBalloon || core._isInline) && options.toolbarWidth === 'auto') {\n            w = context.element.topArea.offsetWidth;\n          } else {\n            w = context.element.toolbar.offsetWidth;\n          }\n\n          let responsiveWidth = 'default';\n\n          for (let i = 1, len = responsiveSize.length; i < len; i++) {\n            if (w < responsiveSize[i]) {\n              responsiveWidth = responsiveSize[i] + '';\n              break;\n            }\n          }\n\n          if (event._responsiveCurrentSize !== responsiveWidth) {\n            event._responsiveCurrentSize = responsiveWidth;\n            functions.setToolbarButtons(event._responsiveButtons[responsiveWidth]);\n          }\n        }\n\n        if (context.element.toolbar.offsetWidth === 0) return;\n\n        if (context.fileBrowser && context.fileBrowser.area.style.display === 'block') {\n          context.fileBrowser.body.style.maxHeight = _w.innerHeight - context.fileBrowser.header.offsetHeight - 50 + 'px';\n        }\n\n        if (core.submenuActiveButton && core.submenu) {\n          core._setMenuPosition(core.submenuActiveButton, core.submenu);\n        }\n\n        if (core._variable.isFullScreen) {\n          core._variable.innerHeight_fullScreen += _w.innerHeight - context.element.toolbar.offsetHeight - core._variable.innerHeight_fullScreen;\n          context.element.editorArea.style.height = core._variable.innerHeight_fullScreen + 'px';\n          return;\n        }\n\n        if (core._variable.isCodeView && core._isInline) {\n          event._showToolbarInline();\n\n          return;\n        }\n\n        core._iframeAutoHeight();\n\n        if (core._sticky) {\n          context.element.toolbar.style.width = context.element.topArea.offsetWidth - 2 + 'px';\n          event.onScroll_window();\n        }\n      },\n      onScroll_window: function () {\n        if (core._variable.isFullScreen || context.element.toolbar.offsetWidth === 0 || options.stickyToolbar < 0) return;\n        const element = context.element;\n        const editorHeight = element.editorArea.offsetHeight;\n        const y = (this.scrollY || _d.documentElement.scrollTop) + options.stickyToolbar;\n        const editorTop = event._getEditorOffsets(options.toolbarContainer).top - (core._isInline ? element.toolbar.offsetHeight : 0);\n\n        if (y < editorTop) {\n          event._offStickyToolbar();\n        } else if (y + core._variable.minResizingSize >= editorHeight + editorTop) {\n          if (!core._sticky) event._onStickyToolbar();\n          element.toolbar.style.top = editorHeight + editorTop + options.stickyToolbar - y - core._variable.minResizingSize + 'px';\n        } else if (y >= editorTop) {\n          event._onStickyToolbar();\n        }\n      },\n      _getEditorOffsets: function (container) {\n        let offsetEl = container || context.element.topArea;\n        let t = 0,\n            l = 0,\n            s = 0;\n\n        while (offsetEl) {\n          t += offsetEl.offsetTop;\n          l += offsetEl.offsetLeft;\n          s += offsetEl.scrollTop;\n          offsetEl = offsetEl.offsetParent;\n        }\n\n        return {\n          top: t,\n          left: l,\n          scroll: s\n        };\n      },\n      _getPageBottomSpace: function () {\n        return _d.documentElement.scrollHeight - (event._getEditorOffsets(null).top + context.element.topArea.offsetHeight);\n      },\n      _onStickyToolbar: function () {\n        const element = context.element;\n\n        if (!core._isInline && !options.toolbarContainer) {\n          element._stickyDummy.style.height = element.toolbar.offsetHeight + 'px';\n          element._stickyDummy.style.display = 'block';\n        }\n\n        element.toolbar.style.top = options.stickyToolbar + 'px';\n        element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : element.toolbar.offsetWidth + 'px';\n        util.addClass(element.toolbar, 'se-toolbar-sticky');\n        core._sticky = true;\n      },\n      _offStickyToolbar: function () {\n        const element = context.element;\n        element._stickyDummy.style.display = 'none';\n        element.toolbar.style.top = core._isInline ? core._inlineToolbarAttr.top : '';\n        element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : '';\n        element.editorArea.style.marginTop = '';\n        util.removeClass(element.toolbar, 'se-toolbar-sticky');\n        core._sticky = false;\n      },\n      _codeViewAutoHeight: function () {\n        context.element.code.style.height = context.element.code.scrollHeight + 'px';\n      },\n      // FireFox - table delete, Chrome - image, video, audio\n      _hardDelete: function () {\n        const range = core.getRange();\n        const sc = range.startContainer;\n        const ec = range.endContainer; // table\n\n        const sCell = util.getRangeFormatElement(sc);\n        const eCell = util.getRangeFormatElement(ec);\n        const sIsCell = util.isCell(sCell);\n        const eIsCell = util.isCell(eCell);\n\n        if ((sIsCell && !sCell.previousElementSibling && !sCell.parentElement.previousElementSibling || eIsCell && !eCell.nextElementSibling && !eCell.parentElement.nextElementSibling) && sCell !== eCell) {\n          if (!sIsCell) {\n            util.removeItem(util.getParentElement(eCell, util.isComponent));\n          } else if (!eIsCell) {\n            util.removeItem(util.getParentElement(sCell, util.isComponent));\n          } else {\n            util.removeItem(util.getParentElement(sCell, util.isComponent));\n            core.nativeFocus();\n            return true;\n          }\n        } // component\n\n\n        const sComp = sc.nodeType === 1 ? util.getParentElement(sc, '.se-component') : null;\n        const eComp = ec.nodeType === 1 ? util.getParentElement(ec, '.se-component') : null;\n        if (sComp) util.removeItem(sComp);\n        if (eComp) util.removeItem(eComp);\n        return false;\n      },\n      onPaste_wysiwyg: function (e) {\n        const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\n        if (!clipboardData) return true;\n        return event._dataTransferAction('paste', e, clipboardData);\n      },\n      _setClipboardComponent: function (e, info, clipboardData) {\n        e.preventDefault();\n        e.stopPropagation();\n        clipboardData.setData('text/html', info.component.outerHTML);\n      },\n      onCopy_wysiwyg: function (e) {\n        const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData; // user event\n\n        if (typeof functions.onCopy === 'function' && !functions.onCopy(e, clipboardData, core)) {\n          e.preventDefault();\n          e.stopPropagation();\n          return false;\n        }\n\n        const info = core.currentFileComponentInfo;\n\n        if (info && !util.isIE) {\n          event._setClipboardComponent(e, info, clipboardData);\n\n          util.addClass(info.component, 'se-component-copy'); // copy effect\n\n          _w.setTimeout(function () {\n            util.removeClass(info.component, 'se-component-copy');\n          }, 150);\n        }\n      },\n      onCut_wysiwyg: function (e) {\n        const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData; // user event\n\n        if (typeof functions.onCut === 'function' && !functions.onCut(e, clipboardData, core)) {\n          e.preventDefault();\n          e.stopPropagation();\n          return false;\n        }\n\n        const info = core.currentFileComponentInfo;\n\n        if (info && !util.isIE) {\n          event._setClipboardComponent(e, info, clipboardData);\n\n          util.removeItem(info.component);\n          core.controllersOff();\n        }\n\n        _w.setTimeout(function () {\n          // history stack\n          core.history.push(false);\n        });\n      },\n      onDrop_wysiwyg: function (e) {\n        const dataTransfer = e.dataTransfer;\n        if (!dataTransfer) return true;\n\n        if (util.isIE) {\n          e.preventDefault();\n          e.stopPropagation();\n          return false;\n        }\n\n        core.removeNode();\n\n        event._setDropLocationSelection(e);\n\n        return event._dataTransferAction('drop', e, dataTransfer);\n      },\n      _setDropLocationSelection: function (e) {\n        if (e.rangeParent) {\n          core.setRange(e.rangeParent, e.rangeOffset, e.rangeParent, e.rangeOffset);\n        } else if (core._wd.caretRangeFromPoint) {\n          const r = core._wd.caretRangeFromPoint(e.clientX, e.clientY);\n\n          core.setRange(r.startContainer, r.startOffset, r.endContainer, r.endOffset);\n        } else {\n          const r = core.getRange();\n          core.setRange(r.startContainer, r.startOffset, r.endContainer, r.endOffset);\n        }\n      },\n      _dataTransferAction: function (type, e, data) {\n        let plainText, cleanData;\n\n        if (util.isIE) {\n          plainText = data.getData('Text');\n          const range = core.getRange();\n          const tempDiv = util.createElement('DIV');\n          const tempRange = {\n            sc: range.startContainer,\n            so: range.startOffset,\n            ec: range.endContainer,\n            eo: range.endOffset\n          };\n          tempDiv.setAttribute('contenteditable', true);\n          tempDiv.style.cssText = 'position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;';\n          context.element.relative.appendChild(tempDiv);\n          tempDiv.focus();\n\n          _w.setTimeout(function () {\n            cleanData = tempDiv.innerHTML;\n            util.removeItem(tempDiv);\n            core.setRange(tempRange.sc, tempRange.so, tempRange.ec, tempRange.eo);\n\n            event._setClipboardData(type, e, plainText, cleanData, data);\n          });\n\n          return true;\n        } else {\n          plainText = data.getData('text/plain');\n          cleanData = data.getData('text/html');\n\n          if (event._setClipboardData(type, e, plainText, cleanData, data) === false) {\n            e.preventDefault();\n            e.stopPropagation();\n            return false;\n          }\n        }\n      },\n      _setClipboardData: function (type, e, plainText, cleanData, data) {\n        // MS word, OneNode, Excel\n        const MSData = /class=[\"']*Mso(Normal|List)/i.test(cleanData) || /content=[\"']*Word.Document/i.test(cleanData) || /content=[\"']*OneNote.File/i.test(cleanData) || /content=[\"']*Excel.Sheet/i.test(cleanData);\n        const onlyText = !cleanData;\n\n        if (!onlyText) {\n          if (MSData) {\n            cleanData = cleanData.replace(/\\n/g, ' ');\n            plainText = plainText.replace(/\\n/g, ' ');\n          } else {\n            cleanData = (plainText === cleanData ? plainText : cleanData).replace(/\\n/g, '<br>');\n          }\n\n          cleanData = core.cleanHTML(cleanData, core.pasteTagsWhitelistRegExp);\n        } else {\n          cleanData = plainText.replace(/\\n/g, '<br>');\n        }\n\n        const maxCharCount = core._charCount(core._charTypeHTML ? cleanData : plainText); // // user event - paste\n\n\n        if (type === 'paste' && typeof functions.onPaste === 'function') {\n          const value = functions.onPaste(e, cleanData, maxCharCount, core);\n          if (!value) return false;\n          if (typeof value === 'string') cleanData = value;\n        } // // user event - drop\n\n\n        if (type === 'drop' && typeof functions.onDrop === 'function') {\n          const value = functions.onDrop(e, cleanData, maxCharCount, core);\n          if (!value) return false;\n          if (typeof value === 'string') cleanData = value;\n        }\n\n        if (onlyText) cleanData = util._HTMLConvertor(cleanData); // files\n\n        const files = data.files;\n\n        if (files.length > 0 && !MSData) {\n          if (/^image/.test(files[0].type) && core.plugins.image) {\n            functions.insertImage(files);\n          }\n\n          return false;\n        }\n\n        if (!maxCharCount) {\n          return false;\n        }\n\n        if (cleanData) {\n          functions.insertHTML(cleanData, true, false);\n          return false;\n        }\n      },\n      onMouseMove_wysiwyg: function (e) {\n        if (core.isDisabled) return;\n        const component = util.getParentElement(e.target, util.isComponent);\n        const lineBreakerStyle = core._lineBreaker.style;\n\n        if (component && !core.currentControllerName) {\n          const ctxEl = context.element;\n          let scrollTop = 0;\n          let el = ctxEl.wysiwyg;\n\n          do {\n            scrollTop += el.scrollTop;\n            el = el.parentElement;\n          } while (el && !/^(BODY|HTML)$/i.test(el.nodeName));\n\n          const wScroll = ctxEl.wysiwyg.scrollTop;\n\n          const offsets = event._getEditorOffsets(null);\n\n          const componentTop = util.getOffset(component, ctxEl.wysiwygFrame).top + wScroll;\n          const y = e.pageY + scrollTop + (options.iframe && !options.toolbarContainer ? ctxEl.toolbar.offsetHeight : 0);\n          const c = componentTop + (options.iframe ? scrollTop : offsets.top);\n          const isList = util.isListCell(component.parentNode);\n          let dir = '',\n              top = '';\n\n          if ((isList ? !component.previousSibling : !util.isFormatElement(component.previousElementSibling)) && y < c + 20) {\n            top = componentTop;\n            dir = 't';\n          } else if ((isList ? !component.nextSibling : !util.isFormatElement(component.nextElementSibling)) && y > c + component.offsetHeight - 20) {\n            top = componentTop + component.offsetHeight;\n            dir = 'b';\n          } else {\n            lineBreakerStyle.display = 'none';\n            return;\n          }\n\n          core._variable._lineBreakComp = component;\n          core._variable._lineBreakDir = dir;\n          lineBreakerStyle.top = top - wScroll + 'px';\n          core._lineBreakerButton.style.left = util.getOffset(component).left + component.offsetWidth / 2 - 15 + 'px';\n          lineBreakerStyle.display = 'block';\n        } // off line breaker\n        else if (lineBreakerStyle.display !== 'none') {\n            lineBreakerStyle.display = 'none';\n          }\n      },\n      _onMouseDown_lineBreak: function (e) {\n        e.preventDefault();\n      },\n      _onLineBreak: function (e) {\n        e.preventDefault();\n        const component = core._variable._lineBreakComp;\n        const dir = !this ? core._variable._lineBreakDir : this;\n        const isList = util.isListCell(component.parentNode);\n        const format = util.createElement(isList ? 'BR' : util.isCell(component.parentNode) ? 'DIV' : options.defaultTag);\n        if (!isList) format.innerHTML = '<br>';\n        if (core._charTypeHTML && !core.checkCharCount(format.outerHTML, 'byte-html')) return;\n        component.parentNode.insertBefore(format, dir === 't' ? component : component.nextSibling);\n        core._lineBreaker.style.display = 'none';\n        core._variable._lineBreakComp = null;\n        const focusEl = isList ? format : format.firstChild;\n        core.setRange(focusEl, 1, focusEl, 1); // history stack\n\n        core.history.push(false);\n      },\n      _addEvent: function () {\n        const eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\n        /** toolbar event */\n\n        context.element.toolbar.addEventListener('mousedown', event._buttonsEventHandler, false);\n\n        context.element._menuTray.addEventListener('mousedown', event._buttonsEventHandler, false);\n\n        context.element.toolbar.addEventListener('click', event.onClick_toolbar, false);\n        /** editor area */\n\n        eventWysiwyg.addEventListener('mousedown', event.onMouseDown_wysiwyg, false);\n        eventWysiwyg.addEventListener('click', event.onClick_wysiwyg, false);\n        eventWysiwyg.addEventListener(util.isIE ? 'textinput' : 'input', event.onInput_wysiwyg, false);\n        eventWysiwyg.addEventListener('keydown', event.onKeyDown_wysiwyg, false);\n        eventWysiwyg.addEventListener('keyup', event.onKeyUp_wysiwyg, false);\n        eventWysiwyg.addEventListener('paste', event.onPaste_wysiwyg, false);\n        eventWysiwyg.addEventListener('copy', event.onCopy_wysiwyg, false);\n        eventWysiwyg.addEventListener('cut', event.onCut_wysiwyg, false);\n        eventWysiwyg.addEventListener('drop', event.onDrop_wysiwyg, false);\n        eventWysiwyg.addEventListener('scroll', event.onScroll_wysiwyg, false);\n        eventWysiwyg.addEventListener('focus', event.onFocus_wysiwyg, false);\n        eventWysiwyg.addEventListener('blur', event.onBlur_wysiwyg, false);\n        /** line breaker */\n\n        event._lineBreakerBind = {\n          a: event._onLineBreak.bind(''),\n          t: event._onLineBreak.bind('t'),\n          b: event._onLineBreak.bind('b')\n        };\n        eventWysiwyg.addEventListener('mousemove', event.onMouseMove_wysiwyg, false);\n\n        core._lineBreakerButton.addEventListener('mousedown', event._onMouseDown_lineBreak, false);\n\n        core._lineBreakerButton.addEventListener('click', event._lineBreakerBind.a, false);\n\n        context.element.lineBreaker_t.addEventListener('mousedown', event._lineBreakerBind.t, false);\n        context.element.lineBreaker_b.addEventListener('mousedown', event._lineBreakerBind.b, false);\n        /** Events are registered only when there is a table plugin.  */\n\n        if (core.plugins.table) {\n          eventWysiwyg.addEventListener('touchstart', event.onMouseDown_wysiwyg, {\n            passive: true,\n            useCapture: false\n          });\n        }\n        /** code view area auto line */\n\n\n        if (options.height === 'auto' && !options.codeMirrorEditor) {\n          context.element.code.addEventListener('keydown', event._codeViewAutoHeight, false);\n          context.element.code.addEventListener('keyup', event._codeViewAutoHeight, false);\n          context.element.code.addEventListener('paste', event._codeViewAutoHeight, false);\n        }\n        /** resizingBar */\n\n\n        if (context.element.resizingBar) {\n          if (/\\d+/.test(options.height)) {\n            context.element.resizingBar.addEventListener('mousedown', event.onMouseDown_resizingBar, false);\n          } else {\n            util.addClass(context.element.resizingBar, 'se-resizing-none');\n          }\n        }\n        /** window event */\n\n\n        event._setResponsiveToolbar();\n\n        _w.removeEventListener('resize', event.onResize_window);\n\n        _w.removeEventListener('scroll', event.onScroll_window);\n\n        _w.addEventListener('resize', event.onResize_window, false);\n\n        if (options.stickyToolbar > -1) {\n          _w.addEventListener('scroll', event.onScroll_window, false);\n        }\n      },\n      _removeEvent: function () {\n        const eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\n        context.element.toolbar.removeEventListener('mousedown', event._buttonsEventHandler);\n\n        context.element._menuTray.removeEventListener('mousedown', event._buttonsEventHandler);\n\n        context.element.toolbar.removeEventListener('click', event.onClick_toolbar);\n        eventWysiwyg.removeEventListener('mousedown', event.onMouseDown_wysiwyg);\n        eventWysiwyg.removeEventListener('click', event.onClick_wysiwyg);\n        eventWysiwyg.removeEventListener(util.isIE ? 'textinput' : 'input', event.onInput_wysiwyg);\n        eventWysiwyg.removeEventListener('keydown', event.onKeyDown_wysiwyg);\n        eventWysiwyg.removeEventListener('keyup', event.onKeyUp_wysiwyg);\n        eventWysiwyg.removeEventListener('paste', event.onPaste_wysiwyg);\n        eventWysiwyg.removeEventListener('copy', event.onCopy_wysiwyg);\n        eventWysiwyg.removeEventListener('cut', event.onCut_wysiwyg);\n        eventWysiwyg.removeEventListener('drop', event.onDrop_wysiwyg);\n        eventWysiwyg.removeEventListener('scroll', event.onScroll_wysiwyg);\n        eventWysiwyg.removeEventListener('mousemove', event.onMouseMove_wysiwyg);\n\n        core._lineBreakerButton.removeEventListener('mousedown', event._onMouseDown_lineBreak);\n\n        core._lineBreakerButton.removeEventListener('click', event._lineBreakerBind.a);\n\n        context.element.lineBreaker_t.removeEventListener('mousedown', event._lineBreakerBind.t);\n        context.element.lineBreaker_b.removeEventListener('mousedown', event._lineBreakerBind.b);\n        event._lineBreakerBind = null;\n        eventWysiwyg.removeEventListener('touchstart', event.onMouseDown_wysiwyg, {\n          passive: true,\n          useCapture: false\n        });\n        eventWysiwyg.removeEventListener('focus', event.onFocus_wysiwyg);\n        eventWysiwyg.removeEventListener('blur', event.onBlur_wysiwyg);\n        context.element.code.removeEventListener('keydown', event._codeViewAutoHeight);\n        context.element.code.removeEventListener('keyup', event._codeViewAutoHeight);\n        context.element.code.removeEventListener('paste', event._codeViewAutoHeight);\n\n        if (context.element.resizingBar) {\n          context.element.resizingBar.removeEventListener('mousedown', event.onMouseDown_resizingBar);\n        }\n\n        _w.removeEventListener('resize', event.onResize_window);\n\n        _w.removeEventListener('scroll', event.onScroll_window);\n      },\n      _setResponsiveToolbar: function () {\n        if (_responsiveButtons.length === 0) {\n          _responsiveButtons = null;\n          return;\n        }\n\n        event._responsiveCurrentSize = 'default';\n        const sizeArray = event._responsiveButtonSize = [];\n        const buttonsObj = event._responsiveButtons = {\n          default: _responsiveButtons[0]\n        };\n\n        for (let i = 1, len = _responsiveButtons.length, size, buttonGroup; i < len; i++) {\n          buttonGroup = _responsiveButtons[i];\n          size = buttonGroup[0] * 1;\n          sizeArray.push(size);\n          buttonsObj[size] = buttonGroup[1];\n        }\n\n        sizeArray.sort(function (a, b) {\n          return a - b;\n        }).unshift('default');\n      }\n    };\n    /** functions */\n\n    const functions = {\n      /**\r\n       * @description Core, Util object\r\n       */\n      core: core,\n      util: util,\n\n      /**\r\n       * @description Event functions\r\n       * @param {Object} e Event Object\r\n       * @param {Object} core Core object\r\n       */\n      onload: null,\n      onScroll: null,\n      onMouseDown: null,\n      onClick: null,\n      onInput: null,\n      onKeyDown: null,\n      onKeyUp: null,\n      onCopy: null,\n      onCut: null,\n      onFocus: null,\n      onBlur: null,\n\n      /**\r\n       * @description Event functions\r\n       * @param {String} contents Current contents\r\n       * @param {Object} core Core object\r\n       */\n      onChange: null,\n\n      /**\r\n       * @description Event functions (drop, paste)\r\n       * When false is returned, the default behavior is stopped.\r\n       * If the string is returned, the cleanData value is modified to the return value.\r\n       * @param {Object} e Event object.\r\n       * @param {String} cleanData HTML string modified for editor format.\r\n       * @param {Boolean} maxChartCount option (true if max character is exceeded)\r\n       * @param {Object} core Core object\r\n       * @returns {Boolean|String}\r\n       */\n      onDrop: null,\n      onPaste: null,\n\n      /**\r\n       * @description Called just before the inline toolbar is positioned and displayed on the screen.\r\n       * @param {Element} toolbar Toolbar Element\r\n       * @param {Object} context The editor's context object (editor.getContext())\r\n       * @param {Object} core Core object\r\n       */\n      showInline: null,\n\n      /**\r\n       * @description Called just after the controller is positioned and displayed on the screen.\r\n       * controller - editing elements displayed on the screen [image resizing, table editor, link editor..]]\r\n       * @param {String} name The name of the plugin that called the controller\r\n       * @param {Array} controllers Array of Controller elements\r\n       * @param {Object} core Core object\r\n       */\n      showController: null,\n\n      /**\r\n       * @description An event when toggling between code view and wysiwyg view.\r\n       * @param {Boolean} isCodeView Whether the current code view mode\r\n       * @param {Object} core Core object\r\n       */\n      toggleCodeView: null,\n\n      /**\r\n       * @description An event when toggling full screen.\r\n       * @param {Boolean} isFullScreen Whether the current full screen mode\r\n       * @param {Object} core Core object\r\n       */\n      toggleFullScreen: null,\n\n      /**\r\n       * @description It replaces the default callback function of the image upload\r\n       * @param {Object} response Response object\r\n       * @param {Object} info Input information\r\n       * - linkValue: Link url value\r\n       * - linkNewWindow: Open in new window Check Value\r\n       * - inputWidth: Value of width input\r\n       * - inputHeight: Value of height input\r\n       * - align: Align Check Value\r\n       * - isUpdate: Update image if true, create image if false\r\n       * - element: If isUpdate is true, the currently selected image.\r\n       * @param {Object} core Core object\r\n       */\n      imageUploadHandler: null,\n\n      /**\r\n       * @description It replaces the default callback function of the video upload\r\n       * @param xmlHttp xmlHttpRequest object\r\n       * @param info Input information\r\n       * - inputWidth: Value of width input\r\n       * - inputHeight: Value of height input\r\n       * - align: Align Check Value\r\n       * - isUpdate: Update video if true, create video if false\r\n       * - element: If isUpdate is true, the currently selected video.\r\n       * @param core Core object\r\n       */\n      videoUploadHandler: null,\n\n      /**\r\n       * @description It replaces the default callback function of the audio upload\r\n       * @param xmlHttp xmlHttpRequest object\r\n       * @param info Input information\r\n       * - isUpdate: Update audio if true, create audio if false\r\n       * - element: If isUpdate is true, the currently selected audio.\r\n       * @param core Core object\r\n       */\n      audioUploadHandler: null,\n\n      /**\r\n       * @description Called before the image is uploaded\r\n       * If true is returned, the internal upload process runs normally.\r\n       * If false is returned, no image upload is performed.\r\n       * If new fileList are returned,  replaced the previous fileList\r\n       * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n       * @param {Array} files Files array\r\n       * @param {Object} info info: {\r\n       * - linkValue: Link url value\r\n       * - linkNewWindow: Open in new window Check Value\r\n       * - inputWidth: Value of width input\r\n       * - inputHeight: Value of height input\r\n       * - align: Align Check Value\r\n       * - isUpdate: Update image if true, create image if false\r\n       * - element: If isUpdate is true, the currently selected image.\r\n       * }\r\n       * @param {Object} core Core object\r\n       * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n       *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n       *                [upload files] : uploadHandler(files or [new File(...),])\r\n       *                [error]        : uploadHandler(\"Error message\")\r\n       *                [Just finish]  : uploadHandler()\r\n       *                [directly register] : uploadHandler(response) // Same format as \"imageUploadUrl\" response\r\n       *                                   ex) {\r\n       *                                      // \"errorMessage\": \"insert error message\",\r\n       *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n       *                                   }\r\n       * @returns {Boolean|Array|undefined}\r\n       */\n      onImageUploadBefore: null,\n\n      /**\r\n       * @description Called before the video is uploaded\r\n       * If true is returned, the internal upload process runs normally.\r\n       * If false is returned, no video(iframe, video) upload is performed.\r\n       * If new fileList are returned,  replaced the previous fileList\r\n       * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n       * @param {Array} files Files array\r\n       * @param {Object} info info: {\r\n       * - inputWidth: Value of width input\r\n       * - inputHeight: Value of height input\r\n       * - align: Align Check Value\r\n       * - isUpdate: Update video if true, create video if false\r\n       * - element: If isUpdate is true, the currently selected video.\r\n       * }\r\n       * @param {Object} core Core object\r\n       * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n       *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n       *                [upload files] : uploadHandler(files or [new File(...),])\r\n       *                [error]        : uploadHandler(\"Error message\")\r\n       *                [Just finish]  : uploadHandler()\r\n       *                [directly register] : uploadHandler(response) // Same format as \"videoUploadUrl\" response\r\n       *                                   ex) {\r\n       *                                      // \"errorMessage\": \"insert error message\",\r\n       *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n       *                                   }\r\n       * @returns {Boolean|Array|undefined}\r\n       */\n      onVideoUploadBefore: null,\n\n      /**\r\n       * @description Called before the audio is uploaded\r\n       * If true is returned, the internal upload process runs normally.\r\n       * If false is returned, no audio upload is performed.\r\n       * If new fileList are returned,  replaced the previous fileList\r\n       * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n       * @param {Array} files Files array\r\n       * @param {Object} info info: {\r\n       * - isUpdate: Update audio if true, create audio if false\r\n       * - element: If isUpdate is true, the currently selected audio.\r\n       * }\r\n       * @param {Object} core Core object\r\n       * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n       *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n       *                [upload files] : uploadHandler(files or [new File(...),])\r\n       *                [error]        : uploadHandler(\"Error message\")\r\n       *                [Just finish]  : uploadHandler()\r\n       *                [directly register] : uploadHandler(response) // Same format as \"audioUploadUrl\" response\r\n       *                                   ex) {\r\n       *                                      // \"errorMessage\": \"insert error message\",\r\n       *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n       *                                   }\r\n       * @returns {Boolean|Array|undefined}\r\n       */\n      onAudioUploadBefore: null,\n\n      /**\r\n       * @description Called when the image is uploaded, updated, deleted\r\n       * @param {Element} targetElement Target element\r\n       * @param {Number} index Uploaded index\r\n       * @param {String} state Upload status ('create', 'update', 'delete')\r\n       * @param {Object} info Image info object\r\n       * - index: data index\r\n       * - name: file name\r\n       * - size: file size\r\n       * - select: select function\r\n       * - delete: delete function\r\n       * - element: target element\r\n       * - src: src attribute of tag\r\n       * @param {Number} remainingFilesCount Count of remaining files to upload (0 when added as a url)\r\n       * @param {Object} core Core object\r\n       */\n      onImageUpload: null,\n\n      /**\r\n      * @description Called when the video(iframe, video) is is uploaded, updated, deleted\r\n      * -- arguments is same \"onImageUpload\" --\r\n      */\n      onVideoUpload: null,\n\n      /**\r\n      * @description Called when the audio is is uploaded, updated, deleted\r\n      * -- arguments is same \"onImageUpload\" --\r\n      */\n      onAudioUpload: null,\n\n      /**\r\n       * @description Called when the image is upload failed\r\n       * @param {String} errorMessage Error message\r\n       * @param {Object} result Response Object\r\n       * @param {Object} core Core object\r\n       * @returns {Boolean}\r\n       */\n      onImageUploadError: null,\n\n      /**\r\n       * @description Called when the video(iframe, video) upload failed\r\n       * -- arguments is same \"onImageUploadError\" --\r\n       */\n      onVideoUploadError: null,\n\n      /**\r\n       * @description Called when the audio upload failed\r\n       * -- arguments is same \"onImageUploadError\" --\r\n       */\n      onAudioUploadError: null,\n\n      /**\r\n       * @description Reset the buttons on the toolbar. (Editor is not reloaded)\r\n       * You cannot set a new plugin for the button.\r\n       * @param {Array} buttonList Button list \r\n       */\n      setToolbarButtons: function (buttonList) {\n        core.submenuOff();\n        core.containerOff();\n\n        const newToolbar = lib_constructor._createToolBar(_d, buttonList, core.plugins, options);\n\n        _responsiveButtons = newToolbar.responsiveButtons;\n        core._moreLayerActiveButton = null;\n\n        event._setResponsiveToolbar();\n\n        context.element.toolbar.replaceChild(newToolbar._buttonTray, context.element._buttonTray);\n        const newContext = lib_context(context.element.originElement, core._getConstructed(context.element), options);\n        context.element = newContext.element;\n        context.tool = newContext.tool;\n        if (options.iframe) context.element.wysiwyg = core._wd.body;\n\n        core._cachingButtons();\n\n        core.history._resetCachingButton();\n\n        core.activePlugins = [];\n        const oldCallButtons = pluginCallButtons;\n        pluginCallButtons = newToolbar.pluginCallButtons;\n        let plugin, button, oldButton;\n\n        for (let key in pluginCallButtons) {\n          if (!util.hasOwn(pluginCallButtons, key)) continue;\n          plugin = plugins[key];\n          button = pluginCallButtons[key];\n\n          if (plugin.active && button) {\n            oldButton = oldCallButtons[key];\n            core.callPlugin(key, null, oldButton || button);\n\n            if (oldButton) {\n              button.parentElement.replaceChild(oldButton, button);\n              pluginCallButtons[key] = oldButton;\n            }\n          }\n        }\n\n        if (core.hasFocus) event._applyTagEffects();\n        if (core._variable.isCodeView) util.addClass(core._styleCommandMap.codeView, 'active');\n        if (core._variable.isFullScreen) util.addClass(core._styleCommandMap.fullScreen, 'active');\n        if (util.hasClass(context.element.wysiwyg, 'se-show-block')) util.addClass(core._styleCommandMap.showBlocks, 'active');\n      },\n\n      /**\r\n       * @description Add or reset option property (Editor is reloaded)\r\n       * @param {Object} _options Options\r\n       */\n      setOptions: function (_options) {\n        event._removeEvent();\n\n        core._resetComponents();\n\n        util.removeClass(core._styleCommandMap.showBlocks, 'active');\n        util.removeClass(core._styleCommandMap.codeView, 'active');\n        core._variable.isCodeView = false;\n        core._iframeAuto = null;\n        core.plugins = _options.plugins || core.plugins;\n        const mergeOptions = [options, _options].reduce(function (init, option) {\n          for (let key in option) {\n            if (!util.hasOwn(option, key)) continue;\n\n            if (key === 'plugins' && option[key] && init[key]) {\n              let i = init[key],\n                  o = option[key];\n              i = i.length ? i : _w.Object.keys(i).map(function (name) {\n                return i[name];\n              });\n              o = o.length ? o : _w.Object.keys(o).map(function (name) {\n                return o[name];\n              });\n              init[key] = o.filter(function (val) {\n                return i.indexOf(val) === -1;\n              }).concat(i);\n            } else {\n              init[key] = option[key];\n            }\n          }\n\n          return init;\n        }, {});\n        const el = context.element;\n        const _initHTML = el.wysiwyg.innerHTML; // set option\n\n        const cons = lib_constructor._setOptions(mergeOptions, context, options);\n\n        if (cons.callButtons) {\n          pluginCallButtons = cons.callButtons;\n          core.initPlugins = {};\n        }\n\n        if (cons.plugins) {\n          core.plugins = plugins = cons.plugins;\n        } // reset context\n\n\n        if (el._menuTray.children.length === 0) this._menuTray = {};\n        _responsiveButtons = cons.toolbar.responsiveButtons;\n        core.options = options = mergeOptions;\n        core.lang = lang = options.lang;\n\n        if (options.iframe) {\n          el.wysiwygFrame.addEventListener('load', function () {\n            util._setIframeDocument(this, options);\n\n            core._setOptionsInit(el, _initHTML);\n          });\n        }\n\n        el.editorArea.appendChild(el.wysiwygFrame);\n\n        if (!options.iframe) {\n          core._setOptionsInit(el, _initHTML);\n        }\n      },\n\n      /**\r\n       * @description Set \"options.defaultStyle\" style.\r\n       * Define the style of the edit area\r\n       * It can also be defined with the \"setOptions\" method, but the \"setDefaultStyle\" method does not render the editor again.\r\n       * @param {String} style Style string\r\n       */\n      setDefaultStyle: function (style) {\n        const newStyles = options._editorStyles = util._setDefaultOptionStyle(options, style);\n\n        const el = context.element; // top area\n\n        el.topArea.style.cssText = newStyles.top; // code view\n\n        el.code.style.cssText = options._editorStyles.frame;\n        el.code.style.display = 'none';\n\n        if (options.height === 'auto') {\n          el.code.style.overflow = 'hidden';\n        } else {\n          el.code.style.overflow = '';\n        } // wysiwyg frame\n\n\n        if (!options.iframe) {\n          el.wysiwygFrame.style.cssText = newStyles.frame + newStyles.editor;\n        } else {\n          el.wysiwygFrame.style.cssText = newStyles.frame;\n          el.wysiwyg.style.cssText = newStyles.editor;\n        }\n      },\n\n      /**\r\n       * @description Open a notice area\r\n       * @param {String} message Notice message\r\n       */\n      noticeOpen: function (message) {\n        core.notice.open.call(core, message);\n      },\n\n      /**\r\n       * @description Close a notice area\r\n       */\n      noticeClose: function () {\n        core.notice.close.call(core);\n      },\n\n      /**\r\n       * @description Copying the contents of the editor to the original textarea\r\n       */\n      save: function () {\n        context.element.originElement.value = core.getContents(false);\n      },\n\n      /**\r\n       * @description Gets the suneditor's context object. Contains settings, plugins, and cached element objects\r\n       * @returns {Object}\r\n       */\n      getContext: function () {\n        return context;\n      },\n\n      /**\r\n       * @description Gets the contents of the suneditor\r\n       * @param {Boolean} onlyContents - Return only the contents of the body without headers when the \"fullPage\" option is true\r\n       * @returns {String}\r\n       */\n      getContents: function (onlyContents) {\n        return core.getContents(onlyContents);\n      },\n\n      /**\r\n       * @description Gets only the text of the suneditor contents\r\n       * @returns {String}\r\n       */\n      getText: function () {\n        return context.element.wysiwyg.textContent;\n      },\n\n      /**\r\n       * @description Get the editor's number of characters or binary data size.\r\n       * You can use the \"charCounterType\" option format.\r\n       * @param {String|null} charCounterType options - charCounterType ('char', 'byte', 'byte-html')\r\n       * If argument is no value, the currently set \"charCounterType\" option is used.\r\n       * @returns {Number}\r\n       */\n      getCharCount: function (charCounterType) {\n        charCounterType = typeof charCounterType === 'string' ? charCounterType : options.charCounterType;\n        return core.getCharLength(core._charTypeHTML ? context.element.wysiwyg.innerHTML : context.element.wysiwyg.textContent, charCounterType);\n      },\n\n      /**\r\n       * @description Gets uploaded images informations\r\n       * - index: data index\r\n       * - name: file name\r\n       * - size: file size\r\n       * - select: select function\r\n       * - delete: delete function\r\n       * - element: target element\r\n       * - src: src attribute of tag\r\n       * @returns {Array}\r\n       */\n      getImagesInfo: function () {\n        return context.image ? context.image._infoList : [];\n      },\n\n      /**\r\n       * @description Gets uploaded files(plugin using fileManager) information list.\r\n       * image: [img], video: [video, iframe], audio: [audio]\r\n       * When the argument value is 'image', it is the same function as \"getImagesInfo\".\r\n       * - index: data index\r\n       * - name: file name\r\n       * - size: file size\r\n       * - select: select function\r\n       * - delete: delete function\r\n       * - element: target element\r\n       * - src: src attribute of tag\r\n       * @param {String} pluginName Plugin name (image, video, audio)\r\n       * @returns {Array}\r\n       */\n      getFilesInfo: function (pluginName) {\n        return context[pluginName] ? context[pluginName]._infoList : [];\n      },\n\n      /**\r\n       * @description Upload images using image plugin\r\n       * @param {FileList} files FileList\r\n       */\n      insertImage: function (files) {\n        if (!core.plugins.image || !files) return;\n        if (!core.initPlugins.image) core.callPlugin('image', core.plugins.image.submitAction.bind(core, files), null);else core.plugins.image.submitAction.call(core, files);\n        core.focus();\n      },\n\n      /**\r\n       * @description Inserts an HTML element or HTML string or plain string at the current cursor position\r\n       * @param {Element|String} html HTML Element or HTML string or plain string\r\n       * @param {Boolean} notCleaningData If true, inserts the HTML string without refining it with core.cleanHTML.\r\n       * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n       * @param {Boolean} rangeSelection If true, range select the inserted node.\r\n       */\n      insertHTML: function (html, notCleaningData, checkCharCount, rangeSelection) {\n        if (typeof html === 'string') {\n          if (!notCleaningData) html = core.cleanHTML(html, null);\n\n          try {\n            const dom = _d.createRange().createContextualFragment(html);\n\n            const domTree = dom.childNodes;\n\n            if (checkCharCount) {\n              const type = core._charTypeHTML ? 'outerHTML' : 'textContent';\n              let checkHTML = '';\n\n              for (let i = 0, len = domTree.length; i < len; i++) {\n                checkHTML += domTree[i][type];\n              }\n\n              if (!core.checkCharCount(checkHTML, null)) return;\n            }\n\n            let c, a, t, prev, firstCon;\n\n            while (c = domTree[0]) {\n              if (prev && prev.nodeType === 3 && a && a.nodeType === 1 && util.isBreak(c)) {\n                prev = c;\n                util.removeItem(c);\n                continue;\n              }\n\n              t = core.insertNode(c, a, false);\n              a = t.container || t;\n              if (!firstCon) firstCon = t;\n              prev = c;\n            }\n\n            if (prev.nodeType === 3 && a.nodeType === 1) a = prev;\n            const offset = a.nodeType === 3 ? t.endOffset || a.textContent.length : a.childNodes.length;\n            if (rangeSelection) core.setRange(firstCon.container || firstCon, firstCon.startOffset || 0, a, offset);else core.setRange(a, offset, a, offset);\n          } catch (error) {\n            console.warn('[SUNEDITOR.insertHTML.fail] ' + error);\n            core.execCommand('insertHTML', false, html);\n          }\n        } else {\n          if (util.isComponent(html)) {\n            core.insertComponent(html, false, checkCharCount, false);\n          } else {\n            let afterNode = null;\n\n            if (util.isFormatElement(html) || util.isMedia(html)) {\n              afterNode = util.getFormatElement(core.getSelectionNode(), null);\n            }\n\n            core.insertNode(html, afterNode, checkCharCount);\n          }\n        }\n\n        core.effectNode = null;\n        core.focus(); // history stack\n\n        core.history.push(false);\n      },\n\n      /**\r\n       * @description Change the contents of the suneditor\r\n       * @param {String|undefined} contents Contents to Input\r\n       */\n      setContents: function (contents) {\n        core.setContents(contents);\n      },\n\n      /**\r\n       * @description Add contents to the suneditor\r\n       * @param {String} contents Contents to Input\r\n       */\n      appendContents: function (contents) {\n        const convertValue = core.convertContentsForEditor(contents);\n\n        if (!core._variable.isCodeView) {\n          const temp = util.createElement('DIV');\n          temp.innerHTML = convertValue;\n          const wysiwyg = context.element.wysiwyg;\n          const children = temp.children;\n\n          for (let i = 0, len = children.length; i < len; i++) {\n            wysiwyg.appendChild(children[i]);\n          }\n        } else {\n          core._setCodeView(core._getCodeView() + '\\n' + core.convertHTMLForCodeView(convertValue));\n        } // history stack\n\n\n        core.history.push(false);\n      },\n\n      /**\r\n       * @description Disable the suneditor\r\n       */\n      disabled: function () {\n        context.tool.cover.style.display = 'block';\n        context.element.wysiwyg.setAttribute('contenteditable', false);\n        core.isDisabled = true;\n\n        if (options.codeMirrorEditor) {\n          options.codeMirrorEditor.setOption('readOnly', true);\n        } else {\n          context.element.code.setAttribute('disabled', 'disabled');\n        }\n      },\n\n      /**\r\n       * @description Enable the suneditor\r\n       */\n      enabled: function () {\n        context.tool.cover.style.display = 'none';\n        context.element.wysiwyg.setAttribute('contenteditable', true);\n        core.isDisabled = false;\n\n        if (options.codeMirrorEditor) {\n          options.codeMirrorEditor.setOption('readOnly', false);\n        } else {\n          context.element.code.removeAttribute('disabled');\n        }\n      },\n\n      /**\r\n       * @description Show the suneditor\r\n       */\n      show: function () {\n        const topAreaStyle = context.element.topArea.style;\n        if (topAreaStyle.display === 'none') topAreaStyle.display = options.display;\n      },\n\n      /**\r\n       * @description Hide the suneditor\r\n       */\n      hide: function () {\n        context.element.topArea.style.display = 'none';\n      },\n\n      /**\r\n       * @description Destroy the suneditor\r\n       */\n      destroy: function () {\n        /** off menus */\n        core.submenuOff();\n        core.containerOff();\n        core.controllersOff();\n        if (core.notice) core.notice.close.call(core);\n        if (core.modalForm) core.plugins.dialog.close.call(core);\n        /** remove history */\n\n        core.history._destroy();\n        /** remove event listeners */\n\n\n        event._removeEvent();\n        /** remove element */\n\n\n        util.removeItem(context.element.toolbar);\n        util.removeItem(context.element.topArea);\n        /** remove object reference */\n\n        for (let k in core) {\n          if (util.hasOwn(core, k)) delete core[k];\n        }\n\n        for (let k in event) {\n          if (util.hasOwn(event, k)) delete event[k];\n        }\n\n        for (let k in context) {\n          if (util.hasOwn(context, k)) delete context[k];\n        }\n\n        for (let k in pluginCallButtons) {\n          if (util.hasOwn(pluginCallButtons, k)) delete pluginCallButtons[k];\n        }\n        /** remove user object */\n\n\n        for (let k in this) {\n          if (util.hasOwn(this, k)) delete this[k];\n        }\n      },\n\n      /**\r\n       * @description Toolbar methods\r\n       */\n      toolbar: {\n        /**\r\n         * @description Disable the toolbar\r\n         */\n        disabled: function () {\n          context.tool.cover.style.display = 'block';\n        },\n\n        /**\r\n         * @description Enable the toolbar\r\n         */\n        enabled: function () {\n          context.tool.cover.style.display = 'none';\n        },\n\n        /**\r\n         * @description Show the toolbar\r\n         */\n        show: function () {\n          if (core._isInline) {\n            event._showToolbarInline();\n          } else {\n            context.element.toolbar.style.display = '';\n            context.element._stickyDummy.style.display = '';\n          }\n        },\n\n        /**\r\n         * @description Hide the toolbar\r\n         */\n        hide: function () {\n          if (core._isInline) {\n            event._hideToolbar();\n          } else {\n            context.element.toolbar.style.display = 'none';\n            context.element._stickyDummy.style.display = 'none';\n          }\n        }\n      }\n    };\n    /************ Core init ************/\n    // functions\n\n    core.functions = functions;\n    core.options = options; // Create to sibling node\n\n    let contextEl = context.element;\n    let originEl = contextEl.originElement;\n    let topEl = contextEl.topArea;\n    originEl.style.display = 'none';\n    topEl.style.display = 'block'; // init\n\n    if (options.iframe) {\n      contextEl.wysiwygFrame.addEventListener('load', function () {\n        util._setIframeDocument(this, options);\n\n        core._editorInit(false, options.value);\n\n        options.value = null;\n      });\n    } // insert editor element\n\n\n    if (typeof originEl.nextElementSibling === 'object') {\n      originEl.parentNode.insertBefore(topEl, originEl.nextElementSibling);\n    } else {\n      originEl.parentNode.appendChild(topEl);\n    }\n\n    contextEl.editorArea.appendChild(contextEl.wysiwygFrame);\n    contextEl = originEl = topEl = null; // init\n\n    if (!options.iframe) {\n      core._editorInit(false, options.value);\n\n      options.value = null;\n    }\n\n    return functions;\n  }; // CONCATENATED MODULE: ./node_modules/suneditor/src/suneditor.js\n\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  var suneditor = {\n    /**\n     * @description Returns the create function with preset options.\n     * If the options overlap, the options of the 'create' function take precedence.\n     * @param {Json} options Initialization options\n     * @returns {Object}\n     */\n    init: function (init_options) {\n      return {\n        create: function (idOrElement, options) {\n          return this.create(idOrElement, options, init_options);\n        }.bind(this)\n      };\n    },\n\n    /**\n     * @description Create the suneditor\n     * @param {String|Element} idOrElement textarea Id or textarea element\n     * @param {JSON|Object} options user options\n     * @returns {Object}\n     */\n    create: function (idOrElement, options, _init_options) {\n      lib_util._propertiesInit();\n\n      if (typeof options !== 'object') options = {};\n\n      if (_init_options) {\n        options = [_init_options, options].reduce(function (init, option) {\n          for (let key in option) {\n            if (!lib_util.hasOwn(option, key)) continue;\n\n            if (key === 'plugins' && option[key] && init[key]) {\n              let i = init[key],\n                  o = option[key];\n              i = i.length ? i : Object.keys(i).map(function (name) {\n                return i[name];\n              });\n              o = o.length ? o : Object.keys(o).map(function (name) {\n                return o[name];\n              });\n              init[key] = o.filter(function (val) {\n                return i.indexOf(val) === -1;\n              }).concat(i);\n            } else {\n              init[key] = option[key];\n            }\n          }\n\n          return init;\n        }, {});\n      }\n\n      const element = typeof idOrElement === 'string' ? document.getElementById(idOrElement) : idOrElement;\n\n      if (!element) {\n        if (typeof idOrElement === 'string') {\n          throw Error('[SUNEDITOR.create.fail] The element for that id was not found (ID:\"' + idOrElement + '\")');\n        }\n\n        throw Error('[SUNEDITOR.create.fail] suneditor requires textarea\\'s element or id value');\n      }\n\n      const cons = lib_constructor.init(element, options);\n\n      if (cons.constructed._top.id && document.getElementById(cons.constructed._top.id)) {\n        throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:\"' + cons.constructed._top.id + '\")');\n      }\n\n      return lib_core(lib_context(element, cons.constructed, cons.options), cons.pluginCallButtons, cons.plugins, cons.options.lang, options, cons._responsiveButtons);\n    }\n  }; // CONCATENATED MODULE: ./misc/getPlugins.js\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n\n  var getPlugins = function getPlugins(_ref) {\n    var buttonList = _ref.buttonList,\n        plugins = _ref.plugins,\n        customPlugins = _ref.customPlugins;\n    if (!buttonList) return undefined;\n    if (!isArray(buttonList)) throw new Error(\"Button List must be of type array\");else {\n      var pluginList = [];\n      buttonList = flatten(buttonList);\n      if (buttonList.indexOf(\"align\") >= 0) pluginList.push(__webpack_require__(11).default);\n      if (buttonList.indexOf(\"math\") >= 0) pluginList.push(__webpack_require__(12).default);\n      if (buttonList.indexOf(\"imageGallery\") >= 0) pluginList.push(__webpack_require__(13).default);\n      if (buttonList.indexOf(\"blockquote\") >= 0) pluginList.push(__webpack_require__(14).default);\n      if (buttonList.indexOf(\"font\") >= 0) pluginList.push(__webpack_require__(15).default);\n      if (buttonList.indexOf(\"fontColor\") >= 0) pluginList.push(__webpack_require__(16).default);\n      if (buttonList.indexOf(\"fontSize\") >= 0) pluginList.push(__webpack_require__(17).default);\n      if (buttonList.indexOf(\"formatBlock\") >= 0) pluginList.push(__webpack_require__(18).default);\n      if (buttonList.indexOf(\"hiliteColor\") >= 0) pluginList.push(__webpack_require__(19).default);\n      if (buttonList.indexOf(\"horizontalRule\") >= 0) pluginList.push(__webpack_require__(20).default);\n      if (buttonList.indexOf(\"lineHeight\") >= 0) pluginList.push(__webpack_require__(21).default);\n      if (buttonList.indexOf(\"list\") >= 0) pluginList.push(__webpack_require__(22).default);\n      if (buttonList.indexOf(\"paragraphStyle\") >= 0) pluginList.push(__webpack_require__(23).default);\n      if (buttonList.indexOf(\"table\") >= 0) pluginList.push(__webpack_require__(24).default);\n      if (buttonList.indexOf(\"template\") >= 0) pluginList.push(__webpack_require__(25).default);\n      if (buttonList.indexOf(\"textStyle\") >= 0) pluginList.push(__webpack_require__(26).default);\n      if (buttonList.indexOf(\"image\") >= 0) pluginList.push(__webpack_require__(27).default);\n      if (buttonList.indexOf(\"link\") >= 0) pluginList.push(__webpack_require__(28).default);\n      if (buttonList.indexOf(\"video\") >= 0) pluginList.push(__webpack_require__(29).default);\n      if (buttonList.indexOf(\"audio\") >= 0) pluginList.push(__webpack_require__(30).default);\n      return [].concat(pluginList, _toConsumableArray(plugins || customPlugins || []));\n    }\n  };\n\n  var flatten = function flatten(arr) {\n    var result = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    if (!isArray(arr)) {\n      return [].concat(_toConsumableArray(result), [arr]);\n    }\n\n    for (var a = 0; a < arr.length; a++) {\n      result = flatten(arr[a], result);\n    }\n\n    return result;\n  };\n\n  var isArray = function isArray(obj) {\n    return Object.prototype.toString.call(obj) === \"[object Array]\";\n  };\n  /* harmony default export */\n\n\n  var misc_getPlugins = getPlugins; // CONCATENATED MODULE: ./misc/getLanguage.js\n\n  var getLanguage = function getLanguage(lang) {\n    switch (typeof lang) {\n      case 'object':\n        return lang;\n\n      case 'string':\n        switch (lang) {\n          case 'en':\n            return __webpack_require__(4);\n\n          case 'da':\n            return __webpack_require__(31);\n\n          case 'de':\n            return __webpack_require__(32);\n\n          case 'es':\n            return __webpack_require__(33);\n\n          case 'fr':\n            return __webpack_require__(34);\n\n          case 'ja':\n            return __webpack_require__(35);\n\n          case 'ko':\n            return __webpack_require__(36);\n\n          case 'pt_br':\n            return __webpack_require__(37);\n\n          case 'ru':\n            return __webpack_require__(38);\n\n          case 'it':\n            return __webpack_require__(9);\n\n          case 'zh_cn':\n            return __webpack_require__(39);\n\n          case 'ro':\n            return __webpack_require__(40);\n\n          case 'pl':\n            return __webpack_require__(41);\n\n          case 'ckb':\n            return __webpack_require__(42);\n\n          case 'lv':\n            return __webpack_require__(43);\n\n          case 'se':\n            return __webpack_require__(44);\n\n          case 'ua':\n            return __webpack_require__(45);\n\n          case 'he':\n            return __webpack_require__(46);\n\n          case 'it':\n            return __webpack_require__(9);\n\n          default:\n            return __webpack_require__(4);\n        }\n\n    }\n\n    return __webpack_require__(4);\n  };\n  /* harmony default export */\n\n\n  var misc_getLanguage = getLanguage; // EXTERNAL MODULE: ./node_modules/prop-types/index.js\n\n  var prop_types = __webpack_require__(0);\n\n  var prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types); // CONCATENATED MODULE: ./SunEditor.js\n\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n    return function _createSuperInternal() {\n      var Super = _getPrototypeOf(Derived),\n          result;\n\n      if (hasNativeReflectConstruct) {\n        var NewTarget = _getPrototypeOf(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _possibleConstructorReturn(this, result);\n    };\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  var SunEditor_SunEditor = /*#__PURE__*/function (_Component) {\n    _inherits(SunEditor, _Component);\n\n    var _super = _createSuper(SunEditor);\n\n    function SunEditor() {\n      var _this;\n\n      _classCallCheck(this, SunEditor);\n\n      _this = _super.call(this);\n      _this.txtArea = /*#__PURE__*/Object(external_react_[\"createRef\"])();\n      return _this;\n    }\n\n    _createClass(SunEditor, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        var _this$props = this.props,\n            lang = _this$props.lang,\n            _this$props$setOption = _this$props.setOptions,\n            setOptions = _this$props$setOption === void 0 ? {} : _this$props$setOption,\n            _this$props$width = _this$props.width,\n            width = _this$props$width === void 0 ? \"100%\" : _this$props$width,\n            height = _this$props.height,\n            defaultValue = _this$props.defaultValue,\n            name = _this$props.name;\n        setOptions.lang = setOptions.lang || misc_getLanguage(lang);\n        setOptions.plugins = misc_getPlugins(setOptions);\n        setOptions.width = setOptions.width || width;\n        if (height) setOptions.height = height;\n        if (name && defaultValue) this.txtArea.current.value = defaultValue;\n        this.editor = suneditor.create(this.txtArea.current, _objectSpread({\n          value: defaultValue\n        }, setOptions));\n        var _this$props2 = this.props,\n            insertHTML = _this$props2.insertHTML,\n            setContents = _this$props2.setContents,\n            setDefaultStyle = _this$props2.setDefaultStyle,\n            appendContents = _this$props2.appendContents,\n            disable = _this$props2.disable,\n            enable = _this$props2.enable,\n            hide = _this$props2.hide,\n            show = _this$props2.show,\n            _this$props2$showTool = _this$props2.showToolbar,\n            showToolbar = _this$props2$showTool === void 0 ? true : _this$props2$showTool,\n            _this$props2$enableTo = _this$props2.enableToolbar,\n            enableToolbar = _this$props2$enableTo === void 0 ? true : _this$props2$enableTo,\n            onScroll = _this$props2.onScroll,\n            onClick = _this$props2.onClick,\n            onKeyDown = _this$props2.onKeyDown,\n            onKeyUp = _this$props2.onKeyUp,\n            onDrop = _this$props2.onDrop,\n            onChange = _this$props2.onChange,\n            onCopy = _this$props2.onCopy,\n            onCut = _this$props2.onCut,\n            onImageUpload = _this$props2.onImageUpload,\n            onImageUploadError = _this$props2.onImageUploadError,\n            onPaste = _this$props2.onPaste,\n            autoFocus = _this$props2.autoFocus,\n            onBlur = _this$props2.onBlur,\n            onFocus = _this$props2.onFocus,\n            onLoad = _this$props2.onLoad,\n            onInput = _this$props2.onInput,\n            onImageUploadBefore = _this$props2.onImageUploadBefore,\n            onVideoUploadBefore = _this$props2.onVideoUploadBefore,\n            onAudioUploadBefore = _this$props2.onAudioUploadBefore,\n            onVideoUpload = _this$props2.onVideoUpload,\n            onMouseDown = _this$props2.onMouseDown,\n            onAudioUpload = _this$props2.onAudioUpload,\n            onVideoUploadError = _this$props2.onVideoUploadError,\n            onAudioUploadError = _this$props2.onAudioUploadError,\n            placeholder = _this$props2.placeholder,\n            imageUploadHandler = _this$props2.imageUploadHandler,\n            toggleCodeView = _this$props2.toggleCodeView,\n            toggleFullScreen = _this$props2.toggleFullScreen,\n            showInline = _this$props2.showInline,\n            showController = _this$props2.showController;\n        if (onChange || name) this.editor.onChange = function (content) {\n          if (name) _this2.txtArea.current.value = content;\n          if (onChange) onChange(content);\n        };\n        if (onCopy) this.editor.onCopy = function (e, clipboardData) {\n          return onCopy(e, clipboardData);\n        };\n        if (onCut) this.editor.onCut = function (e, clipboardData) {\n          return onCut(e, clipboardData);\n        };\n        if (onMouseDown) this.editor.onMouseDown = function (e) {\n          return onMouseDown(e);\n        };\n        if (onScroll) this.editor.onScroll = function (e) {\n          return onScroll(e);\n        };\n        if (onInput) this.editor.onInput = function (e) {\n          return onInput(e);\n        };\n        if (onClick) this.editor.onClick = function (e) {\n          return onClick(e);\n        };\n        if (onKeyUp) this.editor.onKeyUp = function (e) {\n          return onKeyUp(e);\n        };\n        if (onKeyDown) this.editor.onKeyDown = function (e) {\n          return onKeyDown(e);\n        };\n        if (onBlur) this.editor.onBlur = function (e) {\n          return onBlur(e, _this2.editor.getContents());\n        };\n        if (onFocus) this.editor.onFocus = function (e) {\n          return onFocus(e);\n        };\n        if (onImageUploadBefore) this.editor.onImageUploadBefore = function (files, info, _, uploadHandler) {\n          return onImageUploadBefore(files, info, uploadHandler);\n        };\n        if (onVideoUploadBefore) this.editor.onVideoUploadBefore = function (files, info, _, uploadHandler) {\n          return onVideoUploadBefore(files, info, uploadHandler);\n        };\n        if (onAudioUploadBefore) this.editor.onAudioUploadBefore = function (files, info, _, uploadHandler) {\n          return onAudioUploadBefore(files, info, uploadHandler);\n        };\n        if (onDrop) this.editor.onDrop = function (e, cleanData, maxCharCount) {\n          return onDrop(e, cleanData, maxCharCount);\n        };\n        if (onPaste) this.editor.onPaste = function (e, cleanData, maxCharCount) {\n          return onPaste(e, cleanData, maxCharCount);\n        };\n        if (onImageUpload) this.editor.onImageUpload = function (targetImgElement, index, state, imageInfo, remainingFilesCount) {\n          return onImageUpload(targetImgElement, index, state, imageInfo, remainingFilesCount);\n        };\n        if (onVideoUpload) this.editor.onVideoUpload = function (targetElement, index, state, info, remainingFilesCount) {\n          return onVideoUpload(targetElement, index, state, info, remainingFilesCount);\n        };\n        if (onAudioUpload) this.editor.onAudioUpload = function (targetElement, index, state, info, remainingFilesCount) {\n          return onAudioUpload(targetElement, index, state, info, remainingFilesCount);\n        };\n        if (onImageUploadError) this.editor.onImageUploadError = function (errorMessage, result) {\n          return onImageUploadError(errorMessage, result);\n        };\n        if (onVideoUploadError) this.editor.onVideoUploadError = function (errorMessage, result) {\n          return onVideoUploadError(errorMessage, result);\n        };\n        if (onAudioUploadError) this.editor.onAudioUploadError = function (errorMessage, result) {\n          return onAudioUploadError(errorMessage, result);\n        };\n        if (placeholder) setOptions.placeholder = placeholder;\n\n        this.editor.onload = function (_, reload) {\n          if (reload === false) {\n            if (setContents) {\n              _this2.editor.setContents(setContents);\n\n              _this2.editor.core.focusEdge();\n            }\n\n            if (setDefaultStyle) _this2.editor.setDefaultStyle(setDefaultStyle);\n            if (insertHTML) _this2.editor.insertHTML(insertHTML);\n            if (appendContents) _this2.editor.appendContents(appendContents);\n            if (_this2.editor.util.isIE) _this2.editor.core._createDefaultRange();\n            if (enable === true) _this2.editor.enabled();\n            if (disable === true) _this2.editor.disabled();\n            if (hide === true) _this2.editor.hide();\n            if (show === true) _this2.editor.show();\n            if (showToolbar === true) _this2.editor.toolbar.show();else _this2.editor.toolbar.hide();\n            if (enableToolbar === true) _this2.editor.toolbar.enabled();else _this2.editor.toolbar.disabled();\n            if (autoFocus === false) _this2.editor.core.context.element.wysiwyg.blur();else if (autoFocus === true) _this2.editor.core.context.element.wysiwyg.focus();\n          }\n\n          if (onLoad) onLoad(reload);\n        };\n\n        if (imageUploadHandler && typeof imageUploadHandler === \"function\") this.editor.imageUploadHandler = imageUploadHandler;\n        if (toggleCodeView && typeof toggleCodeView === \"function\") this.editor.toggleCodeView = function (isCodeView) {\n          return toggleCodeView(isCodeView);\n        };\n        if (toggleFullScreen && typeof toggleFullScreen === \"function\") this.editor.toggleFullScreen = function (isFullScreen) {\n          return toggleFullScreen(isFullScreen);\n        };\n        if (showInline && typeof showInline === \"function\") this.editor.showInline = function (toolbar, context) {\n          return showInline(toolbar, context);\n        };\n        if (showController && typeof showController === \"function\") this.editor.showController = function (name, controllers) {\n          return showController(name, controllers);\n        };\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        // Props compared\n        if (prevProps.lang !== this.props.lang) {\n          this.editor.setOptions({\n            lang: misc_getLanguage(this.props.lang)\n          });\n        }\n\n        if (prevProps.placeholder !== this.props.placeholder) {\n          this.editor.setOptions({\n            placeholder: this.props.placeholder\n          });\n        }\n\n        if (prevProps.height !== this.props.height) {\n          this.editor.setOptions({\n            height: this.props.height\n          });\n        }\n\n        if (prevProps.width !== this.props.width) {\n          this.editor.setOptions({\n            width: this.props.width\n          });\n        }\n\n        if (prevProps.setDefaultStyle !== this.props.setDefaultStyle) {\n          this.editor.setDefaultStyle(this.props.setDefaultStyle);\n        }\n\n        if (prevProps.setContents !== this.props.setContents) {\n          !this.editor.core.hasFocus && this.editor.setContents(this.props.setContents);\n        }\n\n        if (prevProps.appendContents !== this.props.appendContents) {\n          this.editor.appendContents(this.props.appendContents);\n          this.editor.core.focusEdge();\n        }\n\n        if (prevProps.insertHTML !== this.props.insertHTML) {\n          this.editor.insertHTML(this.props.insertHTML);\n        }\n\n        if (prevProps.enable !== this.props.enable) {\n          if (this.props.enable === true) this.editor.enabled();else this.editor.disabled();\n        }\n\n        if (prevProps.disable !== this.props.disable) {\n          if (this.props.disable === true) this.editor.disabled();else this.editor.enabled();\n        }\n\n        if (prevProps.showToolbar !== this.props.showToolbar) {\n          if (this.props.showToolbar === true) this.editor.toolbar.show();else this.editor.toolbar.hide(); // showToolbar contributed by https://github.com/nelreina\n        }\n\n        if (prevProps.enableToolbar !== this.props.enableToolbar) {\n          if (this.props.enableToolbar === true) this.editor.toolbar.enabled();else this.editor.toolbar.disabled();\n        }\n\n        if (prevProps.show !== this.props.show) {\n          if (this.props.show === true) this.editor.show();else this.editor.hide();\n        }\n\n        if (prevProps.hide !== this.props.hide) {\n          if (this.props.hide === true) this.editor.hide();else this.editor.show();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if (this.editor) this.editor.destroy(); // Contributed by https://github.com/AramRafeq\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var dynamicName = {};\n        if (this.props.name) dynamicName.name = this.props.name;\n        return /*#__PURE__*/external_react_default.a.createElement(\"textarea\", _extends({\n          ref: this.txtArea\n        }, dynamicName));\n      }\n    }]);\n\n    return SunEditor;\n  }(external_react_[\"Component\"]);\n\n  SunEditor_SunEditor.propTypes = {\n    imageUploadHandler: prop_types_default.a.func,\n    toggleCodeView: prop_types_default.a.func,\n    toggleFullScreen: prop_types_default.a.func,\n    showInline: prop_types_default.a.func,\n    showController: prop_types_default.a.func,\n    onChange: prop_types_default.a.func,\n    onScroll: prop_types_default.a.func,\n    onClick: prop_types_default.a.func,\n    onKeyUp: prop_types_default.a.func,\n    onKeyDown: prop_types_default.a.func,\n    onInput: prop_types_default.a.func,\n    onDrop: prop_types_default.a.func,\n    onBlur: prop_types_default.a.func,\n    onFocus: prop_types_default.a.func,\n    onLoad: prop_types_default.a.func,\n    onCut: prop_types_default.a.func,\n    onCopy: prop_types_default.a.func,\n    onPaste: prop_types_default.a.func,\n    onImageUploadBefore: prop_types_default.a.func,\n    onImageUpload: prop_types_default.a.func,\n    onImageUploadError: prop_types_default.a.func,\n    onVideoUploadBefore: prop_types_default.a.func,\n    onAudioUploadBefore: prop_types_default.a.func,\n    onVideoUpload: prop_types_default.a.func,\n    onMouseDown: prop_types_default.a.func,\n    onAudioUpload: prop_types_default.a.func,\n    onVideoUploadError: prop_types_default.a.func,\n    onAudioUploadError: prop_types_default.a.func,\n    setOptions: prop_types_default.a.object,\n    name: prop_types_default.a.string,\n    setContents: prop_types_default.a.string,\n    name: prop_types_default.a.string,\n    appendContents: prop_types_default.a.string,\n    setDefaultStyle: prop_types_default.a.string,\n    enable: prop_types_default.a.bool,\n    showToolbar: prop_types_default.a.bool,\n    enableToolbar: prop_types_default.a.bool,\n    disable: prop_types_default.a.bool,\n    hide: prop_types_default.a.bool,\n    show: prop_types_default.a.bool,\n    autoFocus: prop_types_default.a.bool,\n    placeholder: prop_types_default.a.string,\n    lang: prop_types_default.a.oneOfType([prop_types_default.a.object, prop_types_default.a.string]),\n    width: prop_types_default.a.oneOfType([prop_types_default.a.number, prop_types_default.a.string]),\n    height: prop_types_default.a.oneOfType([prop_types_default.a.number, prop_types_default.a.string])\n  };\n  /* harmony default export */\n\n  var SunEditor_0 = SunEditor_SunEditor; // CONCATENATED MODULE: ./main.js\n\n  /* harmony default export */\n\n  var main = __webpack_exports__[\"default\"] = SunEditor_0;\n  /***/\n}\n/******/\n]);","map":{"version":3,"sources":["/Users/mac3/Desktop/workspace/StoreClient/node_modules/suneditor-react/dist/main.js"],"names":["module","exports","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","throwOnDirectAccess","ReactIs","global","factory","document","w","Error","window","noGlobal","dialog","add","core","context","kind","updateModal","_closeSignal","dialog_div","util","createElement","className","dialog_back","style","display","dialog_area","appendChild","modalArea","back","modal","addEventListener","_onMouseDown_dialog","_onClick_dialog","element","relative","e","test","target","getAttribute","plugins","close","open","update","modalForm","_bindClose","_d","removeEventListener","keyCode","options","popupDisplay","position","focusElement","on","focus","init","undefined","SUNEDITOR_MODULES","writable","configurable","component","set_container","cover","container","setAttribute","set_cover","create_caption","caption","innerHTML","lang","dialogBox","fileManager","_xmlHttp","_checkMediaComponent","tag","parentElement","nodeName","upload","uploadUrl","uploadHeader","formData","callBack","errorCallBack","showLoading","filePlugin","xmlHttp","getXMLHttpRequest","onreadystatechange","_callBackUpload","_w","keys","length","setRequestHeader","send","readyState","status","message","closeLoading","res","responseText","JSON","parse","err","errorMessage","functions","noticeOpen","checkInfo","pluginName","tagNames","uploadEventHandler","modifyHandler","resizing","tags","len","concat","slice","wysiwyg","getElementsByTagName","fileManagerPlugin","infoList","_infoList","setFileInfo","setInfo","_componentsInfoReset","infoUpdate","info","filter","src","index","toString","_resize_plugin","currentTags","infoIndex","getParentElement","isMediaComponent","push","_infoIndex","indexOf","removeAttribute","dataIndex","splice","file","plguin","state","split","pop","_componentsInfoInit","size","delete","destroy","select","scrollIntoView","setTimeout","naturalWidth","naturalHeight","_module_getSizeX","h","_module_getSizeY","width","onModifyMode","applySize","_uploadFileLength","deleteInfo","resetInfo","code","toolbar","default","save","font","formats","fontSize","bold","underline","italic","strike","subscript","superscript","removeFormat","fontColor","hiliteColor","indent","outdent","align","alignLeft","alignRight","alignCenter","alignJustify","list","orderList","unorderList","horizontalRule","hr_solid","hr_dotted","hr_dashed","table","link","math","image","video","audio","fullScreen","showBlocks","codeView","undo","redo","preview","print","tag_p","tag_div","tag_h","tag_blockquote","tag_pre","template","lineHeight","paragraphStyle","textStyle","imageGallery","mention","linkBox","title","url","text","newWindowCheck","downloadLinkCheck","bookmark","mathBox","inputLabel","fontSizeLabel","previewLabel","imageBox","altText","videoBox","audioBox","browser","search","submitButton","revertButton","proportion","basic","left","right","center","height","ratio","controller","edit","unlink","remove","insertRowAbove","insertRowBelow","deleteRow","insertColumnBefore","insertColumnAfter","deleteColumn","fixedColumnWidth","resize100","resize75","resize50","resize25","autoSize","mirrorHorizontal","mirrorVertical","rotateLeft","rotateRight","maxSize","minSize","tableHeader","mergeCells","splitCells","HorizontalSplit","VerticalSplit","menu","spaced","bordered","neon","translucent","shadow","SUNEDITOR_LANG","__webpack_exports__","colorPicker","colorListHTML","_colorInput","_defaultColor","_styleProperty","_currentColor","_colorList","createColorList","_makeColorList","makeColor","option","colorList","colorArr","color","icons","checked","erase","node","fillColor","getColorInNode","isHexColor","rgb2hex","toLowerCase","addClass","removeClass","setInputText","colorName2hex","setCurrentColor","hexColorStr","borderColor","findColor","styleProperty","isWysiwygDiv","nodeType","parentNode","str","rgb","rgbMatch","match","parseInt","colorName","temp","colors","getComputedStyle","body","map","a","removeItem","substr","_resizeClientX","_resizeClientY","_resize_w","_resize_h","_origin_w","_origin_h","_rotateVertical","_resize_direction","_move_path","_isChange","alignIcons","align_justify","align_left","align_right","align_center","resize_div_container","setController_resize","resizeContainer","resizeDiv","querySelector","resizeDot","resizeDisplay","resize_button","setController_button","resizeButton","resize_handles","resizeHandles","querySelectorAll","resizeButtonGroup","rotationButtons","percentageButtons","alignMenu","alignMenuList","alignButton","autoSizeButton","captionButton","preventDefault","onMouseDown_resize_handle","onClick_resizeButton","resize_container","auto_size","rotate_left","rotate_right","mirror_horizontal","mirror_vertical","revert","modify","contextPlugin","_element","_cover","_container","getNumber","paddingBottom","_module_setModifyInputSize","pluginObj","percentageRotation","_onlyPercentage","_proportionChecked","x","_defaultSizeX","inputX","setInputSize","y","_defaultSizeY","inputY","disabled","setRatio","_module_setInputSize","xy","_ratio","xUnit","replace","sizeUnit","yUnit","dec","_ratioY","_ratioX","_module_setRatio","xValue","yValue","_module_sizeRevert","_module_saveCurrentSize","_videoRatio","call_controller_resize","targetElement","plugin","contextResizing","offset","getOffset","wysiwygFrame","isVertical","Math","abs","offsetHeight","offsetWidth","top","scrollLeft","isComponent","displayX","displayY","changeTxt","_resizing","resizeDotShow","_resizeDotHide","rotations","_rotation","alignList","changeElement","firstElementChild","pButtons","_captionShow","getChildElement","_captionChecked","addOffset","iframe","offsetLeft","offsetTop","setControllerPosition","controllersOn","setDisabledButtons","resizingDisabledButtons","originSize","_closeAlignMenu","openAlignMenu","removeDocEvent","addDocEvent","stopPropagation","command","currentContext","contextEl","currentModule","resetTransform","setAutoSize","selectComponent","percentY","percentage","setPercentSize","_setTransForm","slope","deg","setTransformSize","alignValue","setAlign","openModify","captionCheckEl","update_image","captionText","_caption","current","setRange","textContent","controllersOff","setOriginSize","history","maxWidth","transform","transformOrigin","setSize","transOrigin","offsetW","offsetH","cancelPercentAttr","transW","transH","setCaptionPosition","translate","figcaption","marginTop","direction","classList","clientX","clientY","resizeBackground","float","closureFunc_bind","closureFunc","type","change","resizing_element_bind","cancel_controller_resize","resizing_element","resultW","_element_w","resultH","_element_h","wh","round","padding","limit","clientWidth","_selectMenu","selectMenu","caller","callerContext","setForm","createList","listContext","items","html","form","menus","initEvent","forms","item","clickMethod","callerName","onMousedown_list","onMouseMove_list","onClick_list","moveItem","num","selectIndex","getItem","positionHandler","visibility","_anchor","addModule","anchor","setDialogForm","host","location","origin","pathname","relList","linkRel","defaultRel","linkRelDefault","protocol","download","rel","anchorPlugin","urlInput","linkDefaultRel","currentRel","linkAnchor","linkValue","_change","trim","check_new_window","check_bookmark","anchorText","downloadCheck","bookmarkButton","relButton","relPreview","onClick_relButton","onClick_relList","onChange_newWindowCheck","onChange_downloadCheck","onChangeAnchorText","onChangeUrlInput","onKeyDownUrlInput","onFocusUrlInput","onBlurUrlInput","onClick_bookmarkButton","contextAnchor","getSelection","href","lastIndexOf","setRel","setLinkPreview","setHeaderBookmark","_closeRelMenu","toggleRelList","show","rtl","contains","hasClass","cmd","toggleClass","join","relAttr","relListEl","rels","checkedRel","createHeaderList","contextList","urlValue","headers","getListChildren","valueRegExp","RegExp","_setMenuListPosition","header","id","random","contextLink","linkProtocol","reservedProtocol","sameProtocol","setCtx","updateAnchor","alt","notText","children","createAnchor","oA","_relMerge","_relDelete","require","fileBrowser","_loading","area","tagArea","tagElements","selectedTags","selectorHandler","columnSize","browser_div","content","set_browser","titleArea","onClickTag","onClickFile","_onMouseDown_browser","_onClick_browser","cancel","fileBrowserContext","pluginContext","listClassName","listClass","_drawFileList","fileBrowserPlugin","abort","showBrowserLoading","closeBrowserLoading","browserHeader","_callBackGet","_drawListItem","result","maxHeight","innerHeight","_tags","splitSize","drawItemHandler","itemTemplateHandler","tagsHTML","listHTML","columns","v","tLen","isAnchor","tagName","selectTag","sTagIndex","some","listEl","handler","targetButton","_alignList","currentAlign","defaultDir","justify","listDiv","setSubmenu","listUl","pickup","initMenuTarget","leftDir","leftMenu","rightMenu","active","alignContext","isFormatElement","textAlign","selectedFormsts","getSelectedElements","setStyle","effectNode","submenuOff","_modules_dialog__WEBPACK_IMPORTED_MODULE_0__","_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default","previewElement","fontSizeElement","defaultFontSize","_mathExp","math_dialog","setDialog","_renderMathExp","math_controller","setController_MathButton","mathController","submit","onClick_mathController","mathFontSize","f","math_btn","currentControllerName","managedTags","method","katex","dom","createRange","createContextualFragment","_renderer","HTMLDecoder","exp","renderToString","contextMath","submitAction","mathExp","katexEl","HTMLEncoder","selectedFormats","oFormat","insertNode","empty","createTextNode","zeroWidthSpace","insertBefore","nextSibling","containerEl","replaceChild","controllerArray","call_controller","mathTag","mathBtn","_modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0__","_modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0___default","imageGalleryUrl","imageGalleryHeader","drawItems","setImage","srcName","callPlugin","_altText","create_image","blockquote","action","currentBlockquote","getSelectionNode","detachRangeFormatElement","applyRangeFormatElement","cloneNode","targetText","targetTooltip","_fontList","currentFont","fontList","tooltip","fontFamily","selectFont","fontContext","newNode","nodeChange","_modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__","previewEl","colorInput","onChangeInput","colorArea","contextPicker","contextFontColor","wwComputedStyle","applyColor","_sizeList","currentSize","sizeList","unit","fontSizeUnit","fontSizeContext","formatBlock","_formatList","currentFormat","pickUp","lang_toolbar","defaultFormats","formatList","format","attrs","class","formatTitle","formatContext","firstChild","rangeElement","range","getRange","getSelectedElementsAndComponents","getRange_addLine","startOffset","endOffset","first","last","firstPath","getNodePath","startContainer","lastPath","endContainer","rlist","detachList","sc","ec","getNodeFromPath","modifiedFormsts","freeElement","before","next","inner","isComp","isSameAttributes","prev","previousSibling","newFormat","copyFormatAttributes","contextHiliteColor","backgroundColor","currentHR","horizontalRulePick","appendHr","oHr","insertComponent","oNode","lineHeights","lineHeightContext","getFormatElement","_list","currentList","bullets","list_bullets","number","list_number","button","icon","isList","editList","selectedCells","detach","sortByDepth","firstSel","lastSel","topEl","isListCell","previousElementSibling","bottomEl","nextElementSibling","originRange","so","eo","isRemove","getRangeFormatElement","toUpperCase","j","rangeArr","tempList","passComponent","_detachNested","topElParent","bottomElParent","mergeTop","mergeBottom","firstList","lastList","topNumber","bottomNumber","newCell","fTag","isCell","originParent","nextParent","parentTag","siblingTag","rangeTag","childNodes","_isIgnoreNodeChange","isRangeFormatElement","isHR","outerHTML","fChildren","getElementDepth","cells","originList","sibling","cLen","newList","getPositionIndex","mergeSameTags","edge","getEdgeChildNodes","cc","editInsideList","el","cellsLen","lastCell","innerList","nodePath","sl","_insiedList","insertPrev","removeChild","slPath","lastElementChild","mergeNestedTags","_classList","menuLang","defaultList","_class","paragraphStyles","defaultStyle","paragraphContext","paragraphList","contextTable","_tdElement","_trElement","_trElements","_tableXY","_maxWidth","_fixedColumn","_rtl","cellControllerTop","tableCellControllerPosition","resizeText","headerButton","mergeButton","splitButton","splitMenu","maxText","minText","_physical_cellCnt","_logical_cellCnt","_rowCnt","_rowIndex","_physical_cellIndex","_logical_cellIndex","_current_colSpan","_current_rowSpan","expansion","reduction","tablePicker","tableHighlight","tableUnHighlight","tableDisplay","tableController","setController_table","columnFixedButton","setController_tableEditor","insertRowAboveButton","insertRowBelowButton","onMouseMove_tablePicker","appendTable","onClick_tableController","tableResize","fixed_column_width","table_header","insert_row_above","insert_row_below","delete_row","merge_cell","insert_column_left","insert_column_right","delete_column","split_cell","oTable","createCells","tableHTML","changed","firstTd","reset_table_picker","cnt","returnElement","cellsHTML","cell","ceil","offsetX","offsetY","highlight","unHighlight","tablePlugin","_removeEvents","_selectedTable","_toggleEditor","_shift","_selectedCells","_ref","_fixedCell","_selectedCell","_fixedCellName","call_controller_tableEdit","tdElement","isCollapsed","tableElement","tableLayout","setTableStyle","setPositionControllerTop","setPositionControllerDiv","reset","setCellInfo","rows","cellIndex","cellCnt","colSpan","rowIndex","rowSpan","rowSpanArr","spanIndex","cs","rs","logcalIndex","arr","row","sort","b","editTable","isRow","tableAttr","positionCell","removeCells","editRow","firstRow","editCell","rightCell","positionResetElement","up","originRowIndex","sign","spanCells","spanCell","shift","newRow","insertRow","passCell","removeCell","removeSpanArr","insertIndex","applySpan","cellColSpan","removeIndex","getOverlapRangeAtIndex","removeFirst","removeEnd","rLen","getArrayIndex","rowSpanCell","_closeSplitMenu","openSplitMenu","vertical","currentCell","currentRow","currentColSpan","floor","currentRowSpan","newRowSpan","nextRowIndex","nextRow","nextCells","physicalIndex","focusEdge","ref","mergeCell","emptyRowFirst","emptyRowLast","ce","re","mergeHTML","ch","onlyZeroWidthSpace","rowIndexFirst","rowIndexLast","removeRows","setActiveButton","toggleHeader","styles","span","sizeIcon","fixedCell","selectedCell","_bindOnSelect","_bindOffSelect","_bindOffShift","enabled","_offCellMultiSelect","_initBind","_wd","_onCellMultiSelect","_antiBlur","_setMultiCells","startCell","endCell","findSelectedCell","_i","newCs","newCe","newRs","newRe","onTableCellMultiSelect","emptyDiv","removeItemAllParents","templateDiv","templateList","templates","setContents","_styleList","styleList","textStyles","textStyleContext","styleButtonList","selectionNode","btn","data","checkStyles","cssText","classes","removeNodes","_modules_anchor__WEBPACK_IMPORTED_MODULE_1__","_modules_component__WEBPACK_IMPORTED_MODULE_2__","_modules_component__WEBPACK_IMPORTED_MODULE_2___default","_modules_resizing__WEBPACK_IMPORTED_MODULE_3__","_modules_resizing__WEBPACK_IMPORTED_MODULE_3___default","_modules_fileManager__WEBPACK_IMPORTED_MODULE_4__","_modules_fileManager__WEBPACK_IMPORTED_MODULE_4___default","contextImage","_imageSizeUnit","_linkElement","_align","_floatClassRegExp","_v_src","_linkValue","svgDefaultSize","base64RenderIndex","_element_l","_element_t","imageWidth","imageHeight","imageResizing","imageHeightShow","imageRotation","imageSizeOnlyPercentage","image_dialog","imgInputFile","imgUrlFile","previewSrc","openTab","_removeSelectedFiles","_onLinkPreview","_fileInputChange","imageGalleryButton","_openGallery","sizeRevert","anchorCtx","imageFileInput","imageAccept","imageMultipleFile","imageUrlInput","image_gallery","onlyPercentage","onlyPercentDisplay","heightDisplay","textDecoration","_setUrlInput","fileTags","imageEl","imageContainer","focusEl","onImageUpload","tabName","contentClassName","tabContent","tabLinks","getElementsByClassName","imagePlugin","files","onRender_imgUrl","error","fileList","fileSize","limitSize","imageUploadSizeLimit","infoSize","imagesInfo","onImageUploadError","inputWidth","inputHeight","isUpdate","onImageUploadBefore","Array","isArray","register","response","imageUploadUrl","filesLen","FormData","append","imageUploadHeader","callBack_imgUpload","setup_reader","imageUploadHandler","update_src","wFileReader","FileReader","filesStack","reader","onload","updateElement","onRender_imgBase64","readAsDataURL","updateMethod","createMethod","onRender_link","imgTag","checkFileInfo","resetFileInfo","oImg","_image_create_onload","mediaAutoSelect","line","appendFormatTag","openController","notHistoryPush","isNewContainer","changeSize","isNumber","modifiedCaption","imageElement","newEl","existElement","removeEmptyNode","htmlRemoveWhiteSpace","userSize","notOpen","notResetPercentage","onlyW","onlyH","heightPercentage","margin","minWidth","_linkAnchor","link_dialog","link_controller","setController_LinkButton","linkController","onClick_linkController","link_btn","textNode","selectionATag","editLink","linkBtn","_modules_component__WEBPACK_IMPORTED_MODULE_1__","_modules_component__WEBPACK_IMPORTED_MODULE_1___default","_modules_resizing__WEBPACK_IMPORTED_MODULE_2__","_modules_resizing__WEBPACK_IMPORTED_MODULE_2___default","_modules_fileManager__WEBPACK_IMPORTED_MODULE_3__","_modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default","contextVideo","_videoSizeUnit","_youtubeQuery","youtubeQuery","videoRatio","_defaultRatio","videoWidth","videoHeight","videoResizing","videoHeightShow","videoRotation","videoSizeOnlyPercentage","video_dialog","videoInputFile","videoUrlFile","videoRatioOption","setVideoRatio","videoFileInput","videoAccept","videoMultipleFile","videoUrlInput","ratioList","videoRatioList","ratioDisplay","videoRatioShow","onlyWidthDisplay","_setTagAttrs","videoTagAttrs","hasOwn","createVideoTag","videoTag","_setIframeAttrs","frameBorder","allowFullscreen","videoIframeAttrs","createIframeTag","iframeTag","frame","onVideoUpload","setVideoRatioSelect","selectedIndex","placeholder","videoPlugin","setup_url","videoUploadSizeLimit","videosInfo","onVideoUploadError","onVideoUploadBefore","videoUploadUrl","videoUploadHeader","callBack_videoUpload","videoUploadHandler","create_video","oIframe","DOMParser","parseFromString","splitUrl","endsWith","oFrame","isYoutube","isVimeo","newTag","inputUpdate","isPercent","_update_videoCover","prevFrame","console","warn","ratioSelected","ratioOptions","selected","dataSize","_modules_fileManager__WEBPACK_IMPORTED_MODULE_2__","_modules_fileManager__WEBPACK_IMPORTED_MODULE_2___default","contextAudio","targetSelect","audioWidth","audioHeight","audio_dialog","audioInputFile","audioUrlFile","audio_controller","setController","onClick_controller","audioFileInput","audioAccept","audioMultipleFile","audioUrlInput","_createAudioTag","oAudio","audioTagAttrs","onAudioUpload","updateCover","setupUrl","audioUploadSizeLimit","audiosInfo","onAudioUploadError","onAudioUploadBefore","audioUploadUrl","audioUploadHeader","callBack_upload","audioUploadHandler","create_audio","prevElement","selectionTag","onControllerOff","fixColumnWidth","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","propFullName","secret","isRequired","getShim","ReactPropTypes","array","bool","func","string","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","buttonList_namespaceObject","complex","formatting","misc_buttonList","external_react_","external_react_default","defaultIcons","code_view","line_height","paragraph_style","text_style","arrow_down","font_color","highlight_color","horizontal_rule","show_blocks","line_break","more_text","more_paragraph","more_plus","more_horizontal","more_vertical","attachment","magic_stick","empty_file","en","en_default","util_util","isIE","isIE_Edge","isOSX_IOS","_propertiesInit","navigator","userAgent","appVersion","platform","_allowedEmptyNodeList","_HTMLConvertor","contents","String","fromCharCode","zeroWidthRegExp","onlyZeroWidthRegExp","ActiveXObject","e1","XMLHttpRequest","elementName","obj","_hasOwn","getIncludePath","nameArray","extension","path","pathList","fileName","regExp","extRegExp","editorTag","getPageStyle","doc","sheets","styleSheets","rules","cssRules","getIframeDocument","wDocument","contentWindow","contentDocument","getAttributesToString","exceptAttrs","attributes","attrString","getByteLength","encoder","encodeURIComponent","cr","cl","unescape","TextEncoder","encode","isNonEditable","isTextStyleElement","isClosureRangeFormatElement","isFreeFormatElement","isClosureFreeFormatElement","isUneditableComponent","isNotCheckingNode","validation","getFreeFormatElement","getClosureFreeFormatElement","copyTagAttributes","originEl","copyEl","getArrayItem","multi","idx","nextIdx","prevIdx","_newOffsets","finds","tempText","previous","reverse","offsets","nodes","style_a","style_b","compStyle","class_a","class_b","reg","compClass","isEmptyLine","isTable","isBreak","isMedia","maxDec","toFixed","recursionFunc","getListChildNodes","depth","compareElements","aNode","bNode","ancestor","aIndex","bIndex","query","check","attr","childList","lastChild","offsetElement","offsetParent","scrollTop","aStart","aEnd","bStart","bEnd","overlap","txt","newElement","styleName","buttonList","stopParent","parent","detachNestedList","baseNode","all","rNode","_deleteNestedList","cNodes","rChildren","baseParent","liSibling","liParent","child","splitElement","bp","splitText","after","depthEl","pElement","nodePathArray","onlyText","inst","nodePathLen","apply","Number","valueOf","depthIndex","cDepth","spliceDepth","childs","childLength","nLen","textOffset","tempL","notRemoveNode","_notTextNode","des","_isMaintainedNode","_isSizeNode","_disallowedTags","createTagsWhitelist","_consistencyCheckOfHTML","documentFragment","htmlCheckWhitelistRegExp","removeTags","emptyTags","wrongList","withoutFormatCells","wrongTags","nrtag","fel","checkTags","tp","_setDefaultOptionStyle","optionStyle","minHeight","editor","styleArr","_setIframeDocument","head","_setIframeCssTags","_editableClass","linkNames","iframeCSSFileName","wRegExp","tagString","CSSFileName","styleTag","lib_util","lib_constructor","_initOptions","top_div","tool_bar","_createToolBar","pluginCallButtons","_checkKatexMath","arrow","sticky_dummy","editor_div","initElements","_initElements","bottomBar","wysiwyg_div","placeholder_span","textarea","resizing_bar","resizingBar","navigation","char_wrapper","charWrapper","char_counter","charCounter","loading_box","line_breaker","line_breaker_t","line_breaker_b","resize_back","toolbarContainer","_checkCodeMirror","constructed","_top","_relative","_toolBar","_menuTray","_editorArea","_wysiwygArea","_codeArea","_placeholder","_resizingBar","_navigation","_charWrapper","_charCounter","_lineBreaker","_lineBreaker_t","_lineBreaker_b","_resizeBack","_stickyDummy","_arrow","_responsiveButtons","responsiveButtons","codeMirror","cmOptions","htmlMode","lineNumbers","lineWrapping","reduce","viewportMargin","Infinity","cm","fromTextArea","wrapper","codeMirrorEditor","katexOptions","throwOnError","_setOptions","mergeOptions","originOptions","originElement","editorArea","isNewToolbarContainer","isNewToolbar","topArea","callButtons","topDiv","toolBar","toolBarArrow","_editorStyles","toolbarWidth","wysiwygDiv","overflow","charCounterLabel","charLabel","maxCharCount","char_max","innerText","defaultTag","textTags","sub","sup","_default","_new","_textTagsMap","historyStackDelayTime","whitelist","_defaultTagsWhitelist","_editorTagsWhitelist","_setWhitelist","addTagsWhitelist","tagsBlacklist","pasteTagsWhitelist","pasteTagsBlacklist","attributesWhitelist","_printClass","stickyToolbar","fullScreenOffset","fullPage","previewTemplate","printTemplate","showPathLabel","charCounterType","clientHeight","tabDisable","shortcutsDisable","shortcutsHint","callBackSave","blacklist","_defaultButtons","addShift","indentKey","_createModuleGroup","oDiv","oUl","_createButton","buttonClass","dataCommand","dataDisplay","_disabled","_icons","oLi","oButton","_plugins","separator_vertical","_buttonTray","stringify","defaultButtonList","pluginsValues","moduleElement","buttonElement","moreLayer","buttonGroupLoop","more","moreContainer","moreCommand","buttonGroup","moreButton","div","matched","custom","ul","li","sv","enterDiv","unshift","tool_cover","_Context","cons","loading","lineBreaker","lineBreaker_t","lineBreaker_b","tool","lib_context","lib_history","delayTime","pushDelay","stackIndex","stack","setContentsFromStack","_checkComponents","_setCharCount","_resourcesStateChange","pushStack","getContents","_variable","_range","delay","time","clearTimeout","go","ignoreChangeEvent","isChanged","_resetCachingButton","_destroy","_notice","notice","notice_div","notice_span","notice_button","onClick_cancel","lib_core","ownerDocument","defaultView","_parser","_ww","_shadowRoot","_shadowRootControllerEventTarget","initPlugins","_targetPlugins","submenu","_submenuName","_bindedSubmenuOff","_bindedContainerOff","submenuActiveButton","containerActiveButton","currentControllerTarget","currentFileComponentInfo","codeViewDisabledButtons","_moreLayerActiveButton","_htmlCheckWhitelistRegExp","_disallowedTextTagsRegExp","editorTagsWhitelistRegExp","pasteTagsWhitelistRegExp","hasFocus","isDisabled","_attributesWhitelistRegExp","_attributesTagsWhitelist","_bindControllersOff","_isInline","_isBalloon","_isBalloonAlways","_inlineToolbarAttr","isShow","_notHideToolbar","_sticky","_lineBreakerButton","activePlugins","managedTagsInfo","_charTypeHTML","_fileInfoPluginsCheck","_fileInfoPluginsReset","_fileManager","queryString","pluginRegExp","pluginMap","commandMap","_styleCommandMap","_defaultCommand","isCodeView","isFullScreen","innerHeight_fullScreen","resizeClientY","tabSize","codeIndent","minResizingSize","currentNodes","currentNodesMap","_selectionNode","_originCssText","_bodyOverflow","_editorAreaOriginCssText","_wysiwygOriginCssText","_codeOriginCssText","_fullScreenAttrs","sticky","balloon","inline","_lineBreakComp","_lineBreakDir","callBackFunction","_target","moduleArray","moduleName","getGlobalScrollOffset","submenuOn","submenuName","_setMenuPosition","containerOn","containerName","_containerName","containerOff","toolbarW","toolbarOffset","event","_getEditorOffsets","menuW","elementW","rtlW","rtlL","overLeft","offsetEl","bt","toolbarTop","menuHeight","menuHeight_bottom","menuTop","insTop","menuHeight_top","arg","arguments","getFileComponent","showController","referEl","topMargin","controllerW","referElW","allow","overSize","execCommand","showDefaultUI","nativeFocus","_editorRange","currentNode","commonAncestorContainer","br","_applyTagEffects","_toggleToolbarBalloon","fileComponentInfo","blur","startCon","startOff","endCon","endOff","setStart","setEnd","selection","removeAllRanges","addRange","removeRange","OUTDENT","INDENT","_createDefaultRange","collapsed","focusNode","rangeCount","getRangeAt","anchorNode","anchorOffset","focusOffset","compareValue","rightDir","_selectionVoid","op","extentNode","comm","_resetRangeToTextNode","tempCon","tempOffset","tempChild","onlyBreak","emptyText","commonCon","lineNodes","startLine","endLine","startIdx","endIdx","onlyTable","startRangeEl","endRangeEl","sameRange","removeDuplicate","myComponent","selectedLines","isEdgePoint","dir","nodeValue","isEdgeFormat","formatNode","currentFormatEl","oFormatName","checkCharCount","notSelect","removeNode","formatEl","depthFormat","_setComponentLineBreaker","t_style","b_style","componentTop","wScroll","afterNode","freeFormat","isFormats","formatRange","originAfter","isSameContainer","removedTag","prevContainer","sameParent","oldParent","rangeCon","fNode","cItem","_setIntoFreeFormat","previousText","nextText","newRange","zeroWidth","oNodeChildren","lastONode","beforeNode","startIndex","endIndex","startNode","endNode","substringData","rc","rangeLines","linesLoop","nested","fEl","lEl","standTag","beforeTag","parentDepth","listParent","lineArr","removeItems","nextLine","nextList","removeArray","splitRange","newRangeElement","firstNode","lastNode","rangeEl","insertedNew","moveComplete","appendNode","insNode","originNode","insChildren","originNext","detachRange","lineIndex","insNext","innerChildren","rangeParent","rangeRight","childEdge","listFirst","listLast","lastIndex","styleArray","removeNodeArray","strictRemove","isRemoveNode","isRemoveFormat","newNodeName","sNode","checkCnt","checkAttrs","ckeckClasses","classReg","styleCheck","classCheck","start","end","styleRegExp","classRegExp","removeNodeRegExp","wBoolean","Boolean","_removeCheck","checkNode","vNode","tagRemove","originStyle","originClasses","oneLine","endLength","isRemoveAnchor","isSizeNode","_getMaintainedNode","_util_getMaintainedNode","_util_isMaintainedNode","_nodeChange_oneLine","_setCommonListStyle","_nodeChange_endLine","_nodeChange_middleLine","_nodeChange_startLine","childStyle","elStyle","fontWeight","_stripRemoveNode","_isRemove","newInnerNode","parentCon","sameTag","z","nNodeArray","pNode","isSameNode","startPass","endPass","pCurrent","checkCss","coverNode","prevNode","prevAnchorNode","childNode","anchors","afterAnchorNode","aChildren","aLen","ancestorAnchorNode","textNode_s","textNode_e","endConReset","newStartOffset","startPath","mergeEndCon","newEndOffset","endPath","newOffsets","_endContainer","passNode","cloneChild","isTopNode","tempNode","newCssText","newClass","noneChange","actionCall","layer","_showToolbarBalloon","_showToolbarInline","commandHandler","toggleCodeView","toggleFullScreen","toggleDisplayBlocks","nodesMap","marginDir","_setCodeDataToEditor","_hideToolbar","_setEditorDataToCodeView","scrollHeight","refresh","_checkPlaceholder","code_html","_getCodeView","parseDocument","headChildren","convertContentsForEditor","editableClasses","codeContents","convertHTMLForCodeView","codeValue","_setCodeView","_var","zIndex","_iframeAutoHeight","onScroll_window","contentsHTML","printDocument","wDoc","arrts","write","links","linkHTML","documentMode","StyleMedia","windowObject","mimeType","convertValue","_resetComponents","setIframeContents","ctx","onlyContents","renderHTML","figcaptions","_makeLine","requireFormat","textArray","_allowHTMLComments","_tagConvertor","_deleteDisallowedTags","_cleanTags","rowLevelCheck","tAttr","cleanHTML","textCompList","initMethod","domTree","returnHTML","brReg","indentSize","lineBR","elementRegTest","elementIndent","nodeRegTest","listener","useCapture","_charCount","inputText","countType","nextCharCount","getCharLength","over","count","getCharCount","slicePosition","_callCounterBlink","getDoc","setValue","getValue","_init","reload","_initHTML","ShadowRoot","shadowRoot","disallowTextTags","allowTextTags","defaultAttr","_attr","tagsAttr","allAttr","k","_cachingButtons","managedClass","filePluginRegExp","_onChange_historyStack","_iframeAuto","_initWysiwygArea","SUB","SUP","onChange","_setDefaultFormat","formatName","fileComponent","_setOptionsInit","_getConstructed","_editorInit","_addEvent","_offStickyToolbar","onResize_window","_IEisComposing","_lineBreakerBind","_responsiveCurrentSize","_responsiveButtonSize","_directionKeyCode","_nonTextKeyCode","_historyIgnoreKeyCode","_onButtonsCheck","_frontZeroWidthReg","_keyCodeShortcut","_shortcutCommand","keyStr","classOnCheck","commandMapNodes","_cancelCaptionEdit","_buttonsEventHandler","onClick_toolbar","onMouseDown_wysiwyg","onMouseDown","tableCell","onClick_wysiwyg","onClick","hideToolbar","prevLi","_balloonDelay","_showToolbarBalloonDelay","rangeObj","isDirTop","rects","getClientRects","globalScroll","editorWidth","stickyTop","editorLeft","nodeOffset","bottom","noText","arrowMargin","toolbarHeight","iframeRects","_setToolbarOffset","editorParent","absoluteLeft","overRight","resetTop","space","_getPageBottomSpace","documentElement","arrow_left","showInline","onInput_wysiwyg","onInput","_isUneditableNode","isFront","siblingKey","isElement","siblingNode","_isUneditableNode_getSibling","selectNode","_onShortcutKey","onKeyDown_wysiwyg","shiftKey","ctrl","ctrlKey","metaKey","altKey","onKeyDown","selectRange","fileComponentName","_hardDelete","defaultFormat","prevLast","con","sel","ignoreZWS","nextEl","isEdge","lines","fc","lc","moveCell","tabText","textRange","endChild","freeFormatEl","enterHTML","selectionFormat","wSelection","insertHTML","wOffset","focusNext","brPrev","brNext","newListCell","compContext","nbsp","textKey","onKeyUp_wysiwyg","onKeyUp","oFormatTag","isComposing","frontZeroWidthCnt","substring","onScroll_wysiwyg","onScroll","onFocus_wysiwyg","onFocus","onBlur_wysiwyg","onBlur","onMouseDown_resizingBar","_resize_editor","resizeInterval","responsiveSize","responsiveWidth","setToolbarButtons","editorHeight","scrollY","editorTop","_onStickyToolbar","scroll","_codeViewAutoHeight","sCell","eCell","sIsCell","eIsCell","sComp","eComp","onPaste_wysiwyg","clipboardData","_dataTransferAction","_setClipboardComponent","setData","onCopy_wysiwyg","onCopy","onCut_wysiwyg","onCut","onDrop_wysiwyg","dataTransfer","_setDropLocationSelection","rangeOffset","caretRangeFromPoint","plainText","cleanData","getData","tempDiv","tempRange","_setClipboardData","MSData","onPaste","onDrop","insertImage","onMouseMove_wysiwyg","lineBreakerStyle","ctxEl","pageY","_onMouseDown_lineBreak","_onLineBreak","eventWysiwyg","passive","_setResponsiveToolbar","_removeEvent","sizeArray","buttonsObj","newToolbar","newContext","oldCallButtons","oldButton","setOptions","_options","val","setDefaultStyle","newStyles","noticeClose","getContext","getText","getImagesInfo","getFilesInfo","notCleaningData","rangeSelection","checkHTML","firstCon","appendContents","setOption","topAreaStyle","hide","suneditor","init_options","idOrElement","_init_options","getElementById","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","minLen","_arrayLikeToArray","constructor","from","iter","iterator","arr2","getPlugins","customPlugins","pluginList","flatten","misc_getPlugins","getLanguage","misc_getLanguage","prop_types","prop_types_default","_extends","assign","source","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","getPrototypeOf","SunEditor_SunEditor","_Component","SunEditor","_super","_this","txtArea","componentDidMount","_this2","_this$props","_this$props$setOption","_this$props$width","defaultValue","_this$props2","disable","enable","_this$props2$showTool","showToolbar","_this$props2$enableTo","enableToolbar","autoFocus","onLoad","_","uploadHandler","targetImgElement","imageInfo","remainingFilesCount","controllers","componentDidUpdate","prevProps","componentWillUnmount","render","dynamicName","propTypes","SunEditor_0","main"],"mappings":"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ACQkD,MAAAA,kBAAkB,EAAE,IA/GN;;AAiHd;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQ1K,MAAAA,mBAAmB,EAAE,IA9IP;;AA+Id;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQoH,MAAAA,mBAAmB,EAAE,IA1KP;;AA2Kd;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQkD,MAAAA,mBAAmB,EAAE,IAnMP;;AAqMd;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQ1L,MAAAA,aAAa,EAAE,IArND;;AAsNb;AACT;AACA;AACA;AACQ+H,MAAAA,aAAa,EAAE,IA1ND;;AA2Nb;AACT;AACA;AACA;AACQqD,MAAAA,aAAa,EAAE,IA/ND;;AAiOd;AACR;AACA;AACA;AACA;AACA;AACA;AACQpK,MAAAA,kBAAkB,EAAE,IAxON;;AAyOd;AACR;AACA;AACA;AACQuH,MAAAA,kBAAkB,EAAE,IA7ON;;AA8Od;AACR;AACA;AACA;AACQkD,MAAAA,kBAAkB,EAAE,IAlPN;;AAoPd;AACR;AACA;AACA;AACA;AACQk+B,MAAAA,iBAAiB,EAAE,UAAU3yB,UAAV,EAAsB;AACrC7/C,QAAAA,IAAI,CAAC2qB,UAAL;AACA3qB,QAAAA,IAAI,CAACi1D,YAAL;;AAEA,cAAMwgB,UAAU,GAAGtxB,eAAe,CAACI,cAAhB,CAA+BviD,EAA/B,EAAmC69C,UAAnC,EAA+C7/C,IAAI,CAAC0B,OAApD,EAA6DS,OAA7D,CAAnB;;AACAilD,QAAAA,kBAAkB,GAAGq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","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 49);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (false) { var throwOnDirectAccess, ReactIs; } else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = __webpack_require__(47)();\n}\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const dialog = {\n        name: 'dialog',\n        /**\n         * @description Constructor\n         * @param {Object} core Core object \n         */\n        add: function (core) {\n            const context = core.context;\n            context.dialog = {\n                kind: '',\n                updateModal: false,\n                _closeSignal: false\n            };\n\n            /** dialog */\n            let dialog_div = core.util.createElement('DIV');\n            dialog_div.className = 'se-dialog sun-editor-common';\n\n            let dialog_back = core.util.createElement('DIV');\n            dialog_back.className = 'se-dialog-back';\n            dialog_back.style.display = 'none';\n\n            let dialog_area = core.util.createElement('DIV');\n            dialog_area.className = 'se-dialog-inner';\n            dialog_area.style.display = 'none';\n\n            dialog_div.appendChild(dialog_back);\n            dialog_div.appendChild(dialog_area);\n\n            context.dialog.modalArea = dialog_div;\n            context.dialog.back = dialog_back;\n            context.dialog.modal = dialog_area;\n\n            /** add event listeners */\n            context.dialog.modal.addEventListener('mousedown', this._onMouseDown_dialog.bind(core));\n            context.dialog.modal.addEventListener('click', this._onClick_dialog.bind(core));\n            \n            /** append html */\n            context.element.relative.appendChild(dialog_div);\n            \n            /** empty memory */\n            dialog_div = null, dialog_back = null, dialog_area = null;\n        },\n\n        /**\n         * @description Event to control the behavior of closing the dialog\n         * @param {MouseEvent} e Event object\n         * @private\n         */\n        _onMouseDown_dialog: function (e) {\n            if (/se-dialog-inner/.test(e.target.className)) {\n                this.context.dialog._closeSignal = true;\n            } else {\n                this.context.dialog._closeSignal = false;\n            }\n        },\n\n        /**\n         * @description Event to close the window when the outside area of the dialog or close button is click\n         * @param {MouseEvent} e Event object\n         * @private\n         */\n        _onClick_dialog: function (e) {\n            if (/close/.test(e.target.getAttribute('data-command')) || this.context.dialog._closeSignal) {\n                this.plugins.dialog.close.call(this);\n            }\n        },\n\n        /**\n         * @description Open a Dialog plugin\n         * @param {String} kind Dialog plugin name\n         * @param {Boolean} update Whether it will open for update ('image' === this.currentControllerName)\n         */\n        open: function (kind, update)  {\n            if (this.modalForm) return false;\n            if (this.plugins.dialog._bindClose) {\n                this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\n                this.plugins.dialog._bindClose = null;\n            }\n\n            this.plugins.dialog._bindClose = function (e) {\n                if (!/27/.test(e.keyCode)) return;\n                this.plugins.dialog.close.call(this);\n            }.bind(this);\n            this._d.addEventListener('keydown', this.plugins.dialog._bindClose);\n\n            this.context.dialog.updateModal = update;\n\n            if (this.options.popupDisplay === 'full') {\n                this.context.dialog.modalArea.style.position = 'fixed';\n            } else {\n                this.context.dialog.modalArea.style.position = 'absolute';\n            }\n\n            this.context.dialog.kind = kind;\n            this.modalForm = this.context[kind].modal;\n            const focusElement = this.context[kind].focusElement;\n\n            if (typeof this.plugins[kind].on === 'function') this.plugins[kind].on.call(this, update);\n\n            this.context.dialog.modalArea.style.display = 'block';\n            this.context.dialog.back.style.display = 'block';\n            this.context.dialog.modal.style.display = 'block';\n            this.modalForm.style.display = 'block';\n\n            if (focusElement) focusElement.focus();\n        },\n\n        _bindClose: null,\n        \n        /**\n         * @description Close a Dialog plugin\n         * The plugin's \"init\" method is called.\n         */\n        close: function () {\n            if (this.plugins.dialog._bindClose) {\n                this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\n                this.plugins.dialog._bindClose = null;\n            }\n\n            const kind = this.context.dialog.kind;\n            this.modalForm.style.display = 'none';\n            this.context.dialog.back.style.display = 'none';\n            this.context.dialog.modalArea.style.display = 'none';\n            this.context.dialog.updateModal = false;\n            if (typeof this.plugins[kind].init === 'function') this.plugins[kind].init.call(this);\n            this.context.dialog.kind = '';\n            this.modalForm = null;\n            this.focus();\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_MODULES) {\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'dialog', {\n            enumerable: true,\n            writable: false,\n            configurable: false,\n            value: dialog\n        });\n    }\n\n    return dialog;\n}));\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const component = {\n        name: 'component',\n        /**\n         * @description Create a container for the resizing component and insert the element.\n         * @param {Element} cover Cover element (FIGURE)\n         * @param {String} className Class name of container (fixed: se-component)\n         * @returns {Element} Created container element\n         */\n        set_container: function (cover, className) {\n            const container = this.util.createElement('DIV');\n            container.className = 'se-component ' + className;\n            container.setAttribute('contenteditable', false);\n            container.appendChild(cover);\n    \n            return container;\n        },\n\n        /**\n         * @description Cover the target element with a FIGURE element.\n         * @param {Element} element Target element\n         */\n        set_cover: function (element) {\n            const cover = this.util.createElement('FIGURE');\n            cover.appendChild(element);\n    \n            return cover;\n        },\n\n        /**\n         * @description Return HTML string of caption(FIGCAPTION) element\n         * @returns {String}\n         */\n        create_caption: function () {\n            const caption = this.util.createElement('FIGCAPTION');\n            caption.setAttribute('contenteditable', true);\n            caption.innerHTML = '<div>' + this.lang.dialogBox.caption + '</div>';\n            return caption;\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_MODULES) {\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'component', {\n            enumerable: true,\n            writable: false,\n            configurable: false,\n            value: component\n        });\n    }\n\n    return component;\n}));\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const fileManager = {\n        name: 'fileManager',\n        _xmlHttp: null,\n\n        _checkMediaComponent: function (tag) {\n            if (/IMG/i.test(tag)) {\n                return !/FIGURE/i.test(tag.parentElement.nodeName) || !/FIGURE/i.test(tag.parentElement.parentElement.nodeName);\n            } else if (/VIDEO/i.test(tag)) {\n                return !/FIGURE/i.test(tag.parentElement.nodeName);\n            }\n            return true;\n        },\n\n        /**\n         * @description Upload the file to the server.\n         * @param {String} uploadUrl Upload server url\n         * @param {Object|null} uploadHeader Request header\n         * @param {FormData} formData FormData in body\n         * @param {Function|null} callBack Success call back function\n         * @param {Function|null} errorCallBack Error call back function\n         * @example this.plugins.fileManager.upload.call(this, imageUploadUrl, this.options.imageUploadHeader, formData, this.plugins.image.callBack_imgUpload.bind(this, info), this.functions.onImageUploadError);\n         */\n        upload: function (uploadUrl, uploadHeader, formData, callBack, errorCallBack) {\n            this.showLoading();\n            const filePlugin = this.plugins.fileManager;\n            const xmlHttp = filePlugin._xmlHttp = this.util.getXMLHttpRequest();\n\n            xmlHttp.onreadystatechange = filePlugin._callBackUpload.bind(this, xmlHttp, callBack, errorCallBack);\n            xmlHttp.open('post', uploadUrl, true);\n            if(uploadHeader !== null && typeof uploadHeader === 'object' && this._w.Object.keys(uploadHeader).length > 0){\n                for(let key in uploadHeader){\n                    xmlHttp.setRequestHeader(key, uploadHeader[key]);\n                }\n            }\n            xmlHttp.send(formData);\n        },\n\n        _callBackUpload: function (xmlHttp, callBack, errorCallBack) {\n            if (xmlHttp.readyState === 4) {\n                if (xmlHttp.status === 200) {\n                    try {\n                        callBack(xmlHttp);\n                    } catch (e) {\n                        throw Error('[SUNEDITOR.fileManager.upload.callBack.fail] cause : \"' + e.message + '\"');\n                    } finally {\n                        this.closeLoading();\n                    }\n                } else { // exception\n                    this.closeLoading();\n                    const res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\n                    if (typeof errorCallBack !== 'function' || errorCallBack('', res, this)) {\n                        const err = '[SUNEDITOR.fileManager.upload.serverException] status: ' + xmlHttp.status + ', response: ' + (res.errorMessage || xmlHttp.responseText);\n                        this.functions.noticeOpen(err);\n                        throw Error(err);\n                    }\n                }\n            }\n        },\n        \n        /**\n         * @description Checke the file's information and modify the tag that does not fit the format.\n         * @param {String} pluginName Plugin name\n         * @param {Array} tagNames Tag array to check\n         * @param {Function|null} uploadEventHandler Event handler to process updated file info after checking (used in \"setInfo\")\n         * @param {Function} modifyHandler A function to modify a tag that does not fit the format (Argument value: Tag element)\n         * @param {Boolean} resizing True if the plugin is using a resizing module\n         * @example \n         * const modifyHandler = function (tag) {\n         *      imagePlugin.onModifyMode.call(this, tag, null);\n         *      imagePlugin.openModify.call(this, true);\n         *      imagePlugin.update_image.call(this, true, false, true);\n         *  }.bind(this);\n         *  this.plugins.fileManager.checkInfo.call(this, 'image', ['img'], this.functions.onImageUpload, modifyHandler, true);\n         */\n        checkInfo: function (pluginName, tagNames, uploadEventHandler, modifyHandler, resizing) {\n            let tags = [];\n            for (let i = 0, len = tagNames.length; i < len; i++) {\n                tags = tags.concat([].slice.call(this.context.element.wysiwyg.getElementsByTagName(tagNames[i])));\n            }\n\n            const fileManagerPlugin = this.plugins.fileManager;\n            const context = this.context[pluginName];\n            const infoList = context._infoList;\n            const setFileInfo = fileManagerPlugin.setInfo.bind(this);\n\n            if (tags.length === infoList.length) {\n                // reset\n                if (this._componentsInfoReset) {\n                    for (let i = 0, len = tags.length; i < len; i++) {\n                        setFileInfo(pluginName, tags[i], uploadEventHandler, null, resizing);\n                    }\n                    return ;\n                } else {\n                    let infoUpdate = false;\n                    for (let i = 0, len = infoList.length, info; i < len; i++) {\n                        info = infoList[i];\n                        if (tags.filter(function (t) { return info.src === t.src && info.index.toString() === t.getAttribute('data-index'); }).length === 0) {\n                            infoUpdate = true;\n                            break;\n                        }\n                    }\n                    // pass\n                    if (!infoUpdate) return;\n                }\n            }\n\n            // check\n            const _resize_plugin = resizing ? this.context.resizing._resize_plugin : '';\n            if (resizing) this.context.resizing._resize_plugin = pluginName;\n            const currentTags = [];\n            const infoIndex = [];\n            for (let i = 0, len = infoList.length; i < len; i++) {\n                infoIndex[i] = infoList[i].index;\n            }\n            \n            for (let i = 0, len = tags.length, tag; i < len; i++) {\n                tag = tags[i];\n                if (!this.util.getParentElement(tag, this.util.isMediaComponent) || !fileManagerPlugin._checkMediaComponent(tag)) {\n                    currentTags.push(context._infoIndex);\n                    modifyHandler(tag);\n                } else if (!tag.getAttribute('data-index') || infoIndex.indexOf(tag.getAttribute('data-index') * 1) < 0) {\n                    currentTags.push(context._infoIndex);\n                    tag.removeAttribute('data-index');\n                    setFileInfo(pluginName, tag, uploadEventHandler, null, resizing);\n                } else {\n                    currentTags.push(tag.getAttribute('data-index') * 1);\n                }\n            }\n\n            for (let i = 0, dataIndex; i < infoList.length; i++) {\n                dataIndex = infoList[i].index;\n                if (currentTags.indexOf(dataIndex) > -1) continue;\n\n                infoList.splice(i, 1);\n                if (typeof uploadEventHandler === 'function') uploadEventHandler(null, dataIndex, 'delete', null, 0, this);\n                i--;\n            }\n\n            if (resizing) this.context.resizing._resize_plugin = _resize_plugin;\n        },\n\n        /**\n         * @description Create info object of file and add it to \"_infoList\" (this.context[pluginName]._infoList[])\n         * @param {String} pluginName Plugin name \n         * @param {Element} element \n         * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\n         * @param {Object|null} file \n         * @param {Boolean} resizing True if the plugin is using a resizing module\n         * @example \n         * uploadCallBack {.. file = { name: fileList[i].name, size: fileList[i].size };\n         * this.plugins.fileManager.setInfo.call(this, 'image', oImg, this.functions.onImageUpload, file, true);\n         */\n        setInfo: function (pluginName, element, uploadEventHandler, file, resizing) {\n            const _resize_plugin = resizing ? this.context.resizing._resize_plugin : '';\n            if (resizing) this.context.resizing._resize_plugin = pluginName;\n    \n            const plguin = this.plugins[pluginName];\n            const context = this.context[pluginName];\n            const infoList = context._infoList;\n            let dataIndex = element.getAttribute('data-index');\n            let info = null;\n            let state = '';\n\n            if (!file) {\n                file = {\n                    'name': element.getAttribute('data-file-name') || (typeof element.src === 'string' ? element.src.split('/').pop() : ''),\n                    'size': element.getAttribute('data-file-size') || 0\n                };\n            }\n    \n            // create\n            if (!dataIndex || this._componentsInfoInit) {\n                state = 'create';\n                dataIndex = context._infoIndex++;\n    \n                element.setAttribute('data-index', dataIndex);\n                element.setAttribute('data-file-name', file.name);\n                element.setAttribute('data-file-size', file.size);\n    \n                info = {\n                    src: element.src,\n                    index: dataIndex * 1,\n                    name: file.name,\n                    size: file.size\n                };\n    \n                infoList.push(info);\n            } else { // update\n                state = 'update';\n                dataIndex *= 1;\n    \n                for (let i = 0, len = infoList.length; i < len; i++) {\n                    if (dataIndex === infoList[i].index) {\n                        info = infoList[i];\n                        break;\n                    }\n                }\n    \n                if (!info) {\n                    dataIndex = context._infoIndex++;\n                    info = { index: dataIndex };\n                    infoList.push(info);\n                }\n    \n                info.src = element.src;\n                info.name = element.getAttribute(\"data-file-name\");\n                info.size = element.getAttribute(\"data-file-size\") * 1;\n            }\n    \n            // method bind\n            info.element = element;\n            info.delete = plguin.destroy.bind(this, element);\n            info.select = function (element) {\n                element.scrollIntoView(true);\n                this._w.setTimeout(plguin.select.bind(this, element));\n            }.bind(this, element);\n    \n            if (resizing) {\n                if (!element.getAttribute('origin-size') && element.naturalWidth) {\n                    element.setAttribute('origin-size', element.naturalWidth + ',' + element.naturalHeight);\n                }\n    \n                if (!element.getAttribute('data-origin')) {\n                    const container = this.util.getParentElement(element, this.util.isMediaComponent);\n                    const cover = this.util.getParentElement(element, 'FIGURE');\n        \n                    const w = this.plugins.resizing._module_getSizeX.call(this, context, element, cover, container);\n                    const h = this.plugins.resizing._module_getSizeY.call(this, context, element, cover, container);\n                    element.setAttribute('data-origin', w + ',' + h);\n                    element.setAttribute('data-size', w + ',' + h);\n                }\n        \n                if (!element.style.width) {\n                    const size = (element.getAttribute('data-size') || element.getAttribute('data-origin') || '').split(',');\n                    plguin.onModifyMode.call(this, element, null);\n                    plguin.applySize.call(this, size[0], size[1]);\n                }\n        \n                this.context.resizing._resize_plugin = _resize_plugin;\n            }\n\n            if (typeof uploadEventHandler === 'function') uploadEventHandler(element, dataIndex, state, info, --context._uploadFileLength < 0 ? 0 : context._uploadFileLength, this);\n        },\n\n        /**\n         * @description Delete info object at \"_infoList\"\n         * @param {String} pluginName Plugin name \n         * @param {Number} index index of info object (this.context[pluginName]._infoList[].index)\n         * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\n         */\n        deleteInfo: function (pluginName, index, uploadEventHandler) {\n            if (index >= 0) {\n                const infoList = this.context[pluginName]._infoList;\n    \n                for (let i = 0, len = infoList.length; i < len; i++) {\n                    if (index === infoList[i].index) {\n                        infoList.splice(i, 1);\n                        if (typeof uploadEventHandler === 'function') uploadEventHandler(null, index, 'delete', null, 0, this);\n                        return;\n                    }\n                }\n            }\n        },\n\n        /**\n         * @description Reset info object and \"_infoList = []\", \"_infoIndex = 0\"\n         * @param {String} pluginName Plugin name \n         * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\n         */\n        resetInfo: function (pluginName, uploadEventHandler) {\n            const context = this.context[pluginName];\n\n            if (typeof uploadEventHandler === 'function') {\n                const infoList = context._infoList;\n                for (let i = 0, len = infoList.length; i < len; i++) {\n                    uploadEventHandler(null, infoList[i].index, 'delete', null, 0, this);\n                }\n            }\n\n            context._infoList = [];\n            context._infoIndex = 0;\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_MODULES) {\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'fileManager', {\n            enumerable: true,\n            writable: false,\n            configurable: false,\n            value: fileManager\n        });\n    }\n\n    return fileManager;\n}));\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'en',\n        toolbar: {\n            default: 'Default',\n            save: 'Save',\n            font: 'Font',\n            formats: 'Formats',\n            fontSize: 'Size',\n            bold: 'Bold',\n            underline: 'Underline',\n            italic: 'Italic',\n            strike: 'Strike',\n            subscript: 'Subscript',\n            superscript: 'Superscript',\n            removeFormat: 'Remove Format',\n            fontColor: 'Font Color',\n            hiliteColor: 'Highlight Color',\n            indent: 'Indent',\n            outdent: 'Outdent',\n            align: 'Align',\n            alignLeft: 'Align left',\n            alignRight: 'Align right',\n            alignCenter: 'Align center',\n            alignJustify: 'Align justify',\n            list: 'List',\n            orderList: 'Ordered list',\n            unorderList: 'Unordered list',\n            horizontalRule: 'Horizontal line',\n            hr_solid: 'Solid',\n            hr_dotted: 'Dotted',\n            hr_dashed: 'Dashed',\n            table: 'Table',\n            link: 'Link',\n            math: 'Math',\n            image: 'Image',\n            video: 'Video',\n            audio: 'Audio',\n            fullScreen: 'Full screen',\n            showBlocks: 'Show blocks',\n            codeView: 'Code view',\n            undo: 'Undo',\n            redo: 'Redo',\n            preview: 'Preview',\n            print: 'print',\n            tag_p: 'Paragraph',\n            tag_div: 'Normal (DIV)',\n            tag_h: 'Header',\n            tag_blockquote: 'Quote',\n            tag_pre: 'Code',\n            template: 'Template',\n            lineHeight: 'Line height',\n            paragraphStyle: 'Paragraph style',\n            textStyle: 'Text style',\n            imageGallery: 'Image gallery',\n            mention: 'Mention'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Insert Link',\n                url: 'URL to link',\n                text: 'Text to display',\n                newWindowCheck: 'Open in new window',\n                downloadLinkCheck: 'Download link',\n                bookmark: 'Bookmark'\n            },\n            mathBox: {\n                title: 'Math',\n                inputLabel: 'Mathematical Notation',\n                fontSizeLabel: 'Font Size',\n                previewLabel: 'Preview'\n            },\n            imageBox: {\n                title: 'Insert image',\n                file: 'Select from files',\n                url: 'Image URL',\n                altText: 'Alternative text'\n            },\n            videoBox: {\n                title: 'Insert Video',\n                file: 'Select from files',\n                url: 'Media embed URL, YouTube/Vimeo'\n            },\n            audioBox: {\n                title: 'Insert Audio',\n                file: 'Select from files',\n                url: 'Audio URL'\n            },\n            browser: {\n                tags: 'Tags',\n                search: 'Search',\n            },\n            caption: 'Insert description',\n            close: 'Close',\n            submitButton: 'Submit',\n            revertButton: 'Revert',\n            proportion: 'Constrain proportions',\n            basic: 'Basic',\n            left: 'Left',\n            right: 'Right',\n            center: 'Center',\n            width: 'Width',\n            height: 'Height',\n            size: 'Size',\n            ratio: 'Ratio'\n        },\n        controller: {\n            edit: 'Edit',\n            unlink: 'Unlink',\n            remove: 'Remove',\n            insertRowAbove: 'Insert row above',\n            insertRowBelow: 'Insert row below',\n            deleteRow: 'Delete row',\n            insertColumnBefore: 'Insert column before',\n            insertColumnAfter: 'Insert column after',\n            deleteColumn: 'Delete column',\n            fixedColumnWidth: 'Fixed column width',\n            resize100: 'Resize 100%',\n            resize75: 'Resize 75%',\n            resize50: 'Resize 50%',\n            resize25: 'Resize 25%',\n            autoSize: 'Auto size',\n            mirrorHorizontal: 'Mirror, Horizontal',\n            mirrorVertical: 'Mirror, Vertical',\n            rotateLeft: 'Rotate left',\n            rotateRight: 'Rotate right',\n            maxSize: 'Max size',\n            minSize: 'Min size',\n            tableHeader: 'Table header',\n            mergeCells: 'Merge cells',\n            splitCells: 'Split Cells',\n            HorizontalSplit: 'Horizontal split',\n            VerticalSplit: 'Vertical split'\n        },\n        menu: {\n            spaced: 'Spaced',\n            bordered: 'Bordered',\n            neon: 'Neon',\n            translucent: 'Translucent',\n            shadow: 'Shadow',\n            code: 'Code'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'en', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2018 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\r\n    name: 'colorPicker',\r\n    /**\r\n     * @description Constructor\r\n     * @param {Object} core Core object \r\n     */\r\n    add: function (core) {\r\n        const context = core.context;\r\n        context.colorPicker = {\r\n            colorListHTML: '',\r\n            _colorInput: '',\r\n            _defaultColor: '#000',\r\n            _styleProperty: 'color',\r\n            _currentColor: '',\r\n            _colorList: []\r\n        };\r\n\r\n        /** set submenu */\r\n        context.colorPicker.colorListHTML = this.createColorList(core, this._makeColorList);\r\n    },\r\n\r\n    /**\r\n     * @description Create color list\r\n     * @param {Object} core Core object \r\n     * @param {Function} makeColor this._makeColorList\r\n     * @returns {String} HTML string\r\n     */\r\n    createColorList: function (core, makeColor) {\r\n        const option = core.options;\r\n        const lang = core.lang;\r\n        const colorList = !option.colorList || option.colorList.length === 0 ?\r\n            [\r\n                '#ff0000', '#ff5e00', '#ffe400', '#abf200', '#00d8ff', '#0055ff', '#6600ff', '#ff00dd', '#000000',\r\n                '#ffd8d8', '#fae0d4', '#faf4c0', '#e4f7ba', '#d4f4fa', '#d9e5ff', '#e8d9ff', '#ffd9fa', '#f1f1f1',\r\n                '#ffa7a7', '#ffc19e', '#faed7d', '#cef279', '#b2ebf4', '#b2ccff', '#d1b2ff', '#ffb2f5', '#bdbdbd',\r\n                '#f15f5f', '#f29661', '#e5d85c', '#bce55c', '#5cd1e5', '#6699ff', '#a366ff', '#f261df', '#8c8c8c',\r\n                '#980000', '#993800', '#998a00', '#6b9900', '#008299', '#003399', '#3d0099', '#990085', '#353535',\r\n                '#670000', '#662500', '#665c00', '#476600', '#005766', '#002266', '#290066', '#660058', '#222222'\r\n            ] : option.colorList;\r\n\r\n        let colorArr = [];\r\n        let list = '<div class=\"se-list-inner\">';\r\n            for (let i = 0, len = colorList.length, color; i < len; i++) {\r\n                color = colorList[i];\r\n                if (!color) continue;\r\n                \r\n                if (typeof color === 'string') {\r\n                    colorArr.push(color);\r\n                    if (i < len - 1) continue;\r\n                }\r\n                if (colorArr.length > 0) {\r\n                    list += '<div class=\"se-selector-color\">' + makeColor(colorArr) + '</div>';\r\n                    colorArr = [];\r\n                }\r\n                if (typeof color === 'object') {\r\n                    list += '<div class=\"se-selector-color\">' + makeColor(color) + '</div>';\r\n                }\r\n            }\r\n            list += '' +\r\n            '<form class=\"se-form-group\">' +\r\n                '<input type=\"text\" maxlength=\"9\" class=\"_se_color_picker_input se-color-input\"/>' +\r\n                '<button type=\"submit\" class=\"se-btn-primary _se_color_picker_submit\" title=\"' + lang.dialogBox.submitButton + '\">' +\r\n                    core.icons.checked +\r\n                '</button>' +\r\n                '<button type=\"button\" class=\"se-btn _se_color_picker_remove\" title=\"' + lang.toolbar.removeFormat + '\">' +\r\n                    core.icons.erase +\r\n                '</button>' +\r\n            '</form>' +\r\n            '</div>';\r\n\r\n        return list;\r\n    },\r\n\r\n    /**\r\n     * @description Internal function used by this.createColorList\r\n     * @param {Array} colorList Color list\r\n     * @private\r\n     */\r\n    _makeColorList: function (colorList) {\r\n        let list = '';\r\n\r\n        list += '<ul class=\"se-color-pallet\">';\r\n        for (let i = 0, len = colorList.length, color; i < len; i++) {\r\n            color = colorList[i];\r\n            if (typeof color === 'string') {\r\n                list += '<li>' +\r\n                            '<button type=\"button\" data-value=\"' + color + '\" title=\"' + color + '\" style=\"background-color:' + color + ';\"></button>' +\r\n                        '</li>';\r\n            }\r\n        }\r\n        list += '</ul>';\r\n\r\n        return list;\r\n    },\r\n    \r\n    /**\r\n     * @description Displays or resets the currently selected color at color list.\r\n     * @param {Node} node Current Selected node\r\n     * @param {String|null} color Color value\r\n     */\r\n    init: function (node, color) {\r\n        const colorPicker = this.plugins.colorPicker;\r\n        let fillColor = color ? color : colorPicker.getColorInNode.call(this, node) || this.context.colorPicker._defaultColor;\r\n        fillColor = colorPicker.isHexColor(fillColor) ? fillColor : colorPicker.rgb2hex(fillColor) || fillColor;\r\n\r\n        const colorList = this.context.colorPicker._colorList;\r\n        if (colorList) {\r\n            for (let i = 0, len = colorList.length; i < len; i++) {\r\n                if (fillColor.toLowerCase() === colorList[i].getAttribute('data-value').toLowerCase()) {\r\n                    this.util.addClass(colorList[i], 'active');\r\n                } else {\r\n                    this.util.removeClass(colorList[i], 'active');\r\n                }\r\n            }\r\n        }\r\n\r\n        colorPicker.setInputText.call(this, colorPicker.colorName2hex.call(this, fillColor));\r\n    },\r\n\r\n    /**\r\n     * @description Store color values\r\n     * @param {String} hexColorStr Hax color value\r\n     */\r\n    setCurrentColor: function (hexColorStr) {\r\n        this.context.colorPicker._currentColor = hexColorStr;\r\n        this.context.colorPicker._colorInput.style.borderColor = hexColorStr;\r\n    },\r\n\r\n    /**\r\n     * @description Set color at input element\r\n     * @param {String} hexColorStr Hax color value\r\n     */\r\n    setInputText: function (hexColorStr) {\r\n        hexColorStr = /^#/.test(hexColorStr) ? hexColorStr : '#' + hexColorStr;\r\n        this.context.colorPicker._colorInput.value = hexColorStr;\r\n        this.plugins.colorPicker.setCurrentColor.call(this, hexColorStr);\r\n    },\r\n\r\n    /**\r\n     * @description Gets color value at color property of node\r\n     * @param {Node} node Selected node \r\n     * @returns {String}\r\n     */\r\n    getColorInNode: function (node) {\r\n        let findColor = '';\r\n        const styleProperty = this.context.colorPicker._styleProperty;\r\n\r\n        while (node && !this.util.isWysiwygDiv(node) && findColor.length === 0) {\r\n            if (node.nodeType === 1 && node.style[styleProperty]) findColor = node.style[styleProperty];\r\n            node = node.parentNode;\r\n        }\r\n\r\n        return findColor;\r\n    },\r\n\r\n    /**\r\n     * @description Function to check hex format color\r\n     * @param {String} str Color value\r\n     */\r\n    isHexColor: function (str) {\r\n        return /^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(str);\r\n    },\r\n\r\n    /**\r\n     * @description Function to convert hex format to a rgb color\r\n     * @param {String} rgb RGB color format\r\n     * @returns {String}\r\n     */\r\n    rgb2hex: function (rgb) {\r\n        const rgbMatch = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\r\n\r\n        return (rgbMatch && rgbMatch.length === 4) ? \"#\" +\r\n            (\"0\" + parseInt(rgbMatch[1],10).toString(16)).slice(-2) +\r\n            (\"0\" + parseInt(rgbMatch[2],10).toString(16)).slice(-2) +\r\n            (\"0\" + parseInt(rgbMatch[3],10).toString(16)).slice(-2) : '';\r\n    },\r\n\r\n    /**\r\n     * @description Converts color values of other formats to hex color values and returns.\r\n     * @param {String} colorName Color value\r\n     * @returns {String}\r\n     */\r\n    colorName2hex: function (colorName) {\r\n        if (/^#/.test(colorName)) return colorName;\r\n        var temp = this.util.createElement('div');\r\n        temp.style.display = 'none';\r\n        temp.style.color = colorName;\r\n        var colors = this._w.getComputedStyle(this._d.body.appendChild(temp)).color.match(/\\d+/g).map(function (a) { return parseInt(a,10); });\r\n        this.util.removeItem(temp);\r\n        return (colors.length >= 3) ? '#' + (((1 << 24) + (colors[0] << 16) + (colors[1] << 8) + colors[2]).toString(16).substr(1)) : false;\r\n    }\r\n});\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const resizing = {\n        name: 'resizing',\n        /**\n         * @description Constructor\n         * Require context properties when resizing module\n            inputX: Element,\n            inputY: Element,\n            _container: null,\n            _cover: null,\n            _element: null,\n            _element_w: 1,\n            _element_h: 1,\n            _element_l: 0,\n            _element_t: 0,\n            _defaultSizeX: 'auto',\n            _defaultSizeY: 'auto',\n            _origin_w: core.options.imageWidth === 'auto' ? '' : core.options.imageWidth,\n            _origin_h: core.options.imageHeight === 'auto' ? '' : core.options.imageHeight,\n            _proportionChecked: true,\n            // -- select function --\n            _resizing: core.options.imageResizing,\n            _resizeDotHide: !core.options.imageHeightShow,\n            _rotation: core.options.imageRotation,\n            _onlyPercentage: core.options.imageSizeOnlyPercentage,\n            _ratio: false,\n            _ratioX: 1,\n            _ratioY: 1\n            _captionShow: true,\n            // -- when used caption (_captionShow: true) --\n            _caption: null,\n            _captionChecked: false,\n            captionCheckEl: null,\n         * @param {Object} core Core object \n         */\n        add: function (core) {\n            const icons = core.icons;\n            const context = core.context;\n            context.resizing = {\n                _resizeClientX: 0,\n                _resizeClientY: 0,\n                _resize_plugin: '',\n                _resize_w: 0,\n                _resize_h: 0,\n                _origin_w: 0,\n                _origin_h: 0,\n                _rotateVertical: false,\n                _resize_direction: '',\n                _move_path: null,\n                _isChange: false,\n                alignIcons: {\n                    basic: icons.align_justify,\n                    left: icons.align_left,\n                    right: icons.align_right,\n                    center: icons.align_center\n                }\n            };\n    \n            /** resize controller, button */\n            let resize_div_container = this.setController_resize(core);\n            context.resizing.resizeContainer = resize_div_container;\n    \n            context.resizing.resizeDiv = resize_div_container.querySelector('.se-modal-resize');\n            context.resizing.resizeDot = resize_div_container.querySelector('.se-resize-dot');\n            context.resizing.resizeDisplay = resize_div_container.querySelector('.se-resize-display');\n    \n            let resize_button = this.setController_button(core);\n            context.resizing.resizeButton = resize_button;\n    \n            let resize_handles = context.resizing.resizeHandles = context.resizing.resizeDot.querySelectorAll('span');\n            context.resizing.resizeButtonGroup = resize_button.querySelector('._se_resizing_btn_group');\n            context.resizing.rotationButtons = resize_button.querySelectorAll('._se_resizing_btn_group ._se_rotation');\n            context.resizing.percentageButtons = resize_button.querySelectorAll('._se_resizing_btn_group ._se_percentage');\n    \n            context.resizing.alignMenu = resize_button.querySelector('.se-resizing-align-list');\n            context.resizing.alignMenuList = context.resizing.alignMenu.querySelectorAll('button');\n    \n            context.resizing.alignButton = resize_button.querySelector('._se_resizing_align_button');\n            context.resizing.autoSizeButton = resize_button.querySelector('._se_resizing_btn_group ._se_auto_size');\n            context.resizing.captionButton = resize_button.querySelector('._se_resizing_caption_button');\n    \n            /** add event listeners */\n            resize_div_container.addEventListener('mousedown', function (e) { e.preventDefault(); });\n            resize_handles[0].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[1].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[2].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[3].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[4].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[5].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[6].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[7].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_button.addEventListener('click', this.onClick_resizeButton.bind(core));\n    \n            /** append html */\n            context.element.relative.appendChild(resize_div_container);\n            context.element.relative.appendChild(resize_button);\n    \n            /** empty memory */\n            resize_div_container = null, resize_button = null, resize_handles = null;\n        },\n    \n        /** resize controller, button (image, iframe, video) */\n        setController_resize: function (core) {\n            const resize_container = core.util.createElement('DIV');\n            \n            resize_container.className = 'se-controller se-resizing-container';\n            resize_container.style.display = 'none';\n            resize_container.innerHTML = '' +\n                '<div class=\"se-modal-resize\"></div>' +\n                '<div class=\"se-resize-dot\">' +\n                    '<span class=\"tl\"></span>' +\n                    '<span class=\"tr\"></span>' +\n                    '<span class=\"bl\"></span>' +\n                    '<span class=\"br\"></span>' +\n                    '<span class=\"lw\"></span>' +\n                    '<span class=\"th\"></span>' +\n                    '<span class=\"rw\"></span>' +\n                    '<span class=\"bh\"></span>' +\n                    '<div class=\"se-resize-display\"></div>' +\n                '</div>';\n    \n            return resize_container;\n        },\n    \n        setController_button: function (core) {\n            const lang = core.lang;\n            const icons = core.icons;\n            const resize_button = core.util.createElement(\"DIV\");\n    \n            resize_button.className = \"se-controller se-controller-resizing\";\n            resize_button.innerHTML = '' +\n                '<div class=\"se-arrow se-arrow-up\"></div>' +\n                '<div class=\"se-btn-group _se_resizing_btn_group\">' +\n                    '<button type=\"button\" data-command=\"percent\" data-value=\"1\" class=\"se-tooltip _se_percentage\">' +\n                        '<span>100%</span>' +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize100 + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"percent\" data-value=\"0.75\" class=\"se-tooltip _se_percentage\">' +\n                        '<span>75%</span>' +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize75 + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"percent\" data-value=\"0.5\" class=\"se-tooltip _se_percentage\">' +\n                        '<span>50%</span>' +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize50 + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"auto\" class=\"se-btn se-tooltip _se_auto_size\">' +\n                        icons.auto_size +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.autoSize + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"rotate\" data-value=\"-90\" class=\"se-btn se-tooltip _se_rotation\">' +\n                        icons.rotate_left +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.rotateLeft + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"rotate\" data-value=\"90\" class=\"se-btn se-tooltip _se_rotation\">' +\n                        icons.rotate_right +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.rotateRight + '</span></span>' +\n                    '</button>' +\n                '</div>' +\n                '<div class=\"se-btn-group\" style=\"padding-top: 0;\">' +\n                    '<button type=\"button\" data-command=\"mirror\" data-value=\"h\" class=\"se-btn se-tooltip\">' +\n                        icons.mirror_horizontal +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mirrorHorizontal + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"mirror\" data-value=\"v\" class=\"se-btn se-tooltip\">' +\n                        icons.mirror_vertical +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mirrorVertical + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"onalign\" class=\"se-btn se-tooltip _se_resizing_align_button\">' +\n                        icons.align_justify +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.align + '</span></span>' +\n                    '</button>' +\n                    '<div class=\"se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list\">' +\n                        '<div class=\"se-list-inner\">' +\n                            '<ul class=\"se-list-basic\">' +\n                                '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"basic\">' +\n                                    icons.align_justify +\n                                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.basic + '</span></span>' +\n                                '</button></li>' +\n                                '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"left\">' +\n                                    icons.align_left +\n                                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.left + '</span></span>' +\n                                '</button></li>' +\n                                '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"center\">' +\n                                    icons.align_center +\n                                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.center + '</span></span>' +\n                                '</button></li>' +\n                                '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"right\">' +\n                                    icons.align_right +\n                                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.right + '</span></span>' +\n                                '</button></li>' +\n                            '</ul>' +\n                        '</div>' +\n                    '</div>' +\n                    '<button type=\"button\" data-command=\"caption\" class=\"se-btn se-tooltip _se_resizing_caption_button\">' +\n                        icons.caption +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.caption + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"revert\" class=\"se-btn se-tooltip\">' +\n                        icons.revert +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.revertButton + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"update\" class=\"se-btn se-tooltip\">' +\n                        icons.modify +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"delete\" class=\"se-btn se-tooltip\">' +\n                        icons.delete +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\n                    '</button>' +\n                '</div>';\n    \n            return resize_button;\n        },\n    \n        /**\n         * @description Gets the width size\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         * @param {Element} element Target element\n         * @param {Element} cover Cover element (FIGURE)\n         * @param {Element} container Container element (DIV.se-component)\n         * @returns {String}\n         */\n        _module_getSizeX: function (contextPlugin, element, cover, container) {\n            if (!element) element = contextPlugin._element;\n            if (!cover) cover = contextPlugin._cover;\n            if (!container) container = contextPlugin._container;\n    \n            if (!element) return '';\n    \n            return !/%$/.test(element.style.width) ? element.style.width : ((container && this.util.getNumber(container.style.width, 2)) || 100) + '%';\n        },\n    \n        /**\n         * @description Gets the height size\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         * @param {Element} element Target element\n         * @param {Element} cover Cover element (FIGURE)\n         * @param {Element} container Container element (DIV.se-component)\n         * @returns {String}\n         */\n        _module_getSizeY: function (contextPlugin, element, cover, container) {\n            if (!element) element = contextPlugin._element;\n            if (!cover) cover = contextPlugin._cover;\n            if (!container) container = contextPlugin._container;\n    \n            if (!container || !cover) return (element && element.style.height) || '';\n    \n            return this.util.getNumber(cover.style.paddingBottom, 0) > 0 && !this.context.resizing._rotateVertical ? cover.style.height : (!/%$/.test(element.style.height) || !/%$/.test(element.style.width) ? element.style.height : ((container && this.util.getNumber(container.style.height, 2)) || 100) + '%');\n        },\n\n        /**\n         * @description Called at the \"openModify\" to put the size of the current target into the size input element.\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         * @param {Object} pluginObj Plugin object\n         */\n        _module_setModifyInputSize: function (contextPlugin, pluginObj) {\n            const percentageRotation = contextPlugin._onlyPercentage && this.context.resizing._rotateVertical;\n            contextPlugin.proportion.checked = contextPlugin._proportionChecked = contextPlugin._element.getAttribute('data-proportion') !== 'false';\n    \n            let x = percentageRotation ? '' : this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\n            if (x === contextPlugin._defaultSizeX) x = '';\n            if (contextPlugin._onlyPercentage) x = this.util.getNumber(x, 2);\n            contextPlugin.inputX.value = x;\n            pluginObj.setInputSize.call(this, 'x');\n            \n            if (!contextPlugin._onlyPercentage) {\n                let y = percentageRotation ? '' : this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\n                if (y === contextPlugin._defaultSizeY) y = '';\n                if (contextPlugin._onlyPercentage) y = this.util.getNumber(y, 2);\n                contextPlugin.inputY.value = y;\n            }\n            \n            contextPlugin.inputX.disabled = percentageRotation ? true : false;\n            contextPlugin.inputY.disabled = percentageRotation ? true : false;\n            contextPlugin.proportion.disabled = percentageRotation ? true : false;\n    \n            pluginObj.setRatio.call(this);\n        },\n    \n        /**\n         * @description It is called in \"setInputSize\" (input tag keyupEvent), \n         * checks the value entered in the input tag, \n         * calculates the ratio, and sets the calculated value in the input tag of the opposite size.\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         * @param {String} xy 'x': width, 'y': height\n         */\n        _module_setInputSize: function (contextPlugin, xy) {\n            if (contextPlugin._onlyPercentage) {\n                if (xy === 'x' && contextPlugin.inputX.value > 100) contextPlugin.inputX.value = 100;\n                return;\n            }\n    \n            if (contextPlugin.proportion.checked && contextPlugin._ratio && /\\d/.test(contextPlugin.inputX.value) && /\\d/.test(contextPlugin.inputY.value)) {\n                const xUnit = contextPlugin.inputX.value.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n                const yUnit = contextPlugin.inputY.value.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n    \n                if (xUnit !== yUnit) return;\n    \n                const dec = xUnit === '%' ? 2 : 0;\n    \n                if (xy === 'x') {\n                    contextPlugin.inputY.value = this.util.getNumber(contextPlugin._ratioY * this.util.getNumber(contextPlugin.inputX.value, dec), dec) + yUnit;\n                } else {\n                    contextPlugin.inputX.value = this.util.getNumber(contextPlugin._ratioX * this.util.getNumber(contextPlugin.inputY.value, dec), dec) + xUnit;\n                }\n            }\n        },\n    \n        /**\n         * @description It is called in \"setRatio\" (input and proportionCheck tags changeEvent), \n         * checks the value of the input tag, calculates the ratio, and resets it in the input tag.\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         */\n        _module_setRatio: function (contextPlugin) {\n            const xValue = contextPlugin.inputX.value;\n            const yValue = contextPlugin.inputY.value;\n    \n            if (contextPlugin.proportion.checked && /\\d+/.test(xValue) && /\\d+/.test(yValue)) {\n                const xUnit = xValue.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n                const yUnit = yValue.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n    \n                if (xUnit !== yUnit) {\n                    contextPlugin._ratio = false;\n                } else if (!contextPlugin._ratio) {\n                    const x = this.util.getNumber(xValue, 0);\n                    const y = this.util.getNumber(yValue, 0);\n    \n                    contextPlugin._ratio = true;\n                    contextPlugin._ratioX = x / y;\n                    contextPlugin._ratioY = y / x;\n                }\n            } else {\n                contextPlugin._ratio = false;\n            }\n        },\n    \n        /**\n         * @description Revert size of element to origin size (plugin._origin_w, plugin._origin_h)\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         */\n        _module_sizeRevert: function (contextPlugin) {\n            if (contextPlugin._onlyPercentage) {\n                contextPlugin.inputX.value = contextPlugin._origin_w > 100 ? 100 : contextPlugin._origin_w;\n            } else {\n                contextPlugin.inputX.value = contextPlugin._origin_w;\n                contextPlugin.inputY.value = contextPlugin._origin_h;\n            }\n        },\n    \n        /**\n         * @description Save the size data (element.setAttribute(\"data-size\"))\n         * Used at the \"setSize\" method\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         */\n        _module_saveCurrentSize: function (contextPlugin) {\n            const x = this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\n            const y = this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\n            contextPlugin._element.setAttribute('data-size', x + ',' + y);\n            if (!!contextPlugin._videoRatio) contextPlugin._videoRatio = y;\n        },\n    \n        /**\n         * @description Call the resizing module\n         * @param {Element} targetElement Resizing target element\n         * @param {string} plugin Plugin name\n         * @returns {Object} Size of resizing div {w, h, t, l}\n         */\n        call_controller_resize: function (targetElement, plugin) {\n            const contextResizing = this.context.resizing;\n            const contextPlugin = this.context[plugin];\n            contextResizing._resize_plugin = plugin;\n    \n            const resizeContainer = contextResizing.resizeContainer;\n            const resizeDiv = contextResizing.resizeDiv;\n            const offset = this.util.getOffset(targetElement, this.context.element.wysiwygFrame);\n    \n            const isVertical = contextResizing._rotateVertical = /^(90|270)$/.test(Math.abs(targetElement.getAttribute('data-rotate')).toString());\n    \n            const w = isVertical ? targetElement.offsetHeight : targetElement.offsetWidth;\n            const h = isVertical ? targetElement.offsetWidth : targetElement.offsetHeight;\n            const t = offset.top;\n            const l = offset.left - this.context.element.wysiwygFrame.scrollLeft;\n    \n            resizeContainer.style.top = t + 'px';\n            resizeContainer.style.left = l + 'px';\n            resizeContainer.style.width = w + 'px';\n            resizeContainer.style.height = h + 'px';\n    \n            resizeDiv.style.top = '0px';\n            resizeDiv.style.left = '0px';\n            resizeDiv.style.width =  w + 'px';\n            resizeDiv.style.height =  h + 'px';\n    \n            let align = targetElement.getAttribute('data-align') || 'basic';\n            align = align === 'none' ? 'basic' : align;\n    \n            // text\n            const container = this.util.getParentElement(targetElement, this.util.isComponent);\n            const cover = this.util.getParentElement(targetElement, 'FIGURE');\n            const displayX = this.plugins.resizing._module_getSizeX.call(this, contextPlugin, targetElement, cover, container) || 'auto';\n            const displayY = contextPlugin._onlyPercentage && plugin === 'image' ? '' : ', ' + (this.plugins.resizing._module_getSizeY.call(this, contextPlugin, targetElement, cover, container) || 'auto');\n            this.util.changeTxt(contextResizing.resizeDisplay, this.lang.dialogBox[align] + ' (' + displayX + displayY + ')');\n    \n            // resizing display\n            contextResizing.resizeButtonGroup.style.display = contextPlugin._resizing ? '' : 'none';\n            const resizeDotShow = contextPlugin._resizing && !contextPlugin._resizeDotHide && !contextPlugin._onlyPercentage ? 'flex' : 'none';\n            const resizeHandles = contextResizing.resizeHandles;\n            for (let i = 0, len = resizeHandles.length; i < len; i++) {\n                resizeHandles[i].style.display = resizeDotShow;\n            }\n    \n            if (contextPlugin._resizing) {\n                const rotations = contextResizing.rotationButtons;\n                rotations[0].style.display = rotations[1].style.display = contextPlugin._rotation ? '' : 'none';\n            }\n    \n            // align icon\n            const alignList = contextResizing.alignMenuList;\n            this.util.changeElement(contextResizing.alignButton.firstElementChild, contextResizing.alignIcons[align]);\n            for (let i = 0, len = alignList.length; i < len; i++) {\n                if (alignList[i].getAttribute('data-value') === align) this.util.addClass(alignList[i], 'on');\n                else this.util.removeClass(alignList[i], 'on');\n            }\n    \n            // percentage active\n            const pButtons = contextResizing.percentageButtons;\n            const value = /%$/.test(targetElement.style.width) && /%$/.test(container.style.width) ? (this.util.getNumber(container.style.width, 0) / 100) + '' : '' ;\n            for (let i = 0, len = pButtons.length; i < len; i++) {\n                if (pButtons[i].getAttribute('data-value') === value) {\n                    this.util.addClass(pButtons[i], 'active');\n                } else {\n                    this.util.removeClass(pButtons[i], 'active');\n                }\n            }\n    \n            // caption display, active\n            if (!contextPlugin._captionShow) {\n                contextResizing.captionButton.style.display = 'none';\n            } else {\n                contextResizing.captionButton.style.display = '';\n                if (this.util.getChildElement(targetElement.parentNode, 'figcaption')) {\n                    this.util.addClass(contextResizing.captionButton, 'active');\n                    contextPlugin._captionChecked = true;\n                } else {\n                    this.util.removeClass(contextResizing.captionButton, 'active');\n                    contextPlugin._captionChecked = false;\n                }\n            }\n\n            resizeContainer.style.display = 'block';\n\n            const addOffset = {left: 0, top: 50};\n            if (this.options.iframe) {\n                addOffset.left -= this.context.element.wysiwygFrame.parentElement.offsetLeft;\n                addOffset.top -= this.context.element.wysiwygFrame.parentElement.offsetTop;\n            }\n\n            this.setControllerPosition(contextResizing.resizeButton, resizeContainer, 'bottom', addOffset);\n            this.controllersOn(resizeContainer, contextResizing.resizeButton, this.util.setDisabledButtons.bind(this, false, this.resizingDisabledButtons), targetElement, plugin);\n            this.util.setDisabledButtons(true, this.resizingDisabledButtons);\n    \n            contextResizing._resize_w = w;\n            contextResizing._resize_h = h;\n    \n            const originSize = (targetElement.getAttribute('origin-size') || '').split(',');\n            contextResizing._origin_w = originSize[0] || targetElement.naturalWidth;\n            contextResizing._origin_h = originSize[1] || targetElement.naturalHeight;\n    \n            return {\n                w: w,\n                h: h,\n                t: t,\n                l: l\n            };\n        },\n    \n        _closeAlignMenu: null,\n\n        /**\n         * @description Open align submenu of module\n         */\n        openAlignMenu: function () {\n            const alignButton = this.context.resizing.alignButton;\n            this.util.addClass(alignButton, 'on');\n            this.context.resizing.alignMenu.style.top = (alignButton.offsetTop + alignButton.offsetHeight) + 'px';\n            this.context.resizing.alignMenu.style.left = (alignButton.offsetLeft - alignButton.offsetWidth / 2) + 'px';\n            this.context.resizing.alignMenu.style.display = 'block';\n    \n            this.plugins.resizing._closeAlignMenu = function () {\n                this.util.removeClass(this.context.resizing.alignButton, 'on');\n                this.context.resizing.alignMenu.style.display = 'none';\n                this.removeDocEvent('click', this.plugins.resizing._closeAlignMenu);\n                this.plugins.resizing._closeAlignMenu = null;\n            }.bind(this);\n    \n            this.addDocEvent('click', this.plugins.resizing._closeAlignMenu);\n        },\n    \n        /**\n         * @description Click event of resizing toolbar\n         * Performs the action of the clicked toolbar button.\n         * @param {MouseEvent} e Event object\n         */\n        onClick_resizeButton: function (e) {\n            e.stopPropagation();\n    \n            const target = e.target;\n            const command = target.getAttribute('data-command') || target.parentNode.getAttribute('data-command');\n    \n            if (!command) return;\n    \n            const value = target.getAttribute('data-value') || target.parentNode.getAttribute('data-value');\n    \n            const pluginName = this.context.resizing._resize_plugin;\n            const currentContext = this.context[pluginName];\n            const contextEl = currentContext._element;\n            const currentModule = this.plugins[pluginName];\n    \n            e.preventDefault();\n    \n            if (typeof this.plugins.resizing._closeAlignMenu === 'function') {\n                this.plugins.resizing._closeAlignMenu();\n                if (command === 'onalign') return;\n            }\n    \n            switch (command) {\n                case 'auto':\n                    this.plugins.resizing.resetTransform.call(this, contextEl);\n                    currentModule.setAutoSize.call(this);\n                    this.selectComponent(contextEl, pluginName);\n                    break;\n                case 'percent':\n                    let percentY = this.plugins.resizing._module_getSizeY.call(this, currentContext);\n                    if (this.context.resizing._rotateVertical) {\n                        const percentage = contextEl.getAttribute('data-percentage');\n                        if (percentage) percentY = percentage.split(',')[1];\n                    }\n    \n                    this.plugins.resizing.resetTransform.call(this, contextEl);\n                    currentModule.setPercentSize.call(this, (value * 100), (this.util.getNumber(percentY, 0) === null || !/%$/.test(percentY)) ? '' : percentY);\n                    this.selectComponent(contextEl, pluginName);\n                    break;\n                case 'mirror':\n                    const r = contextEl.getAttribute('data-rotate') || '0';\n                    let x = contextEl.getAttribute('data-rotateX') || '';\n                    let y = contextEl.getAttribute('data-rotateY') || '';\n        \n                    if ((value === 'h' && !this.context.resizing._rotateVertical) || (value === 'v' && this.context.resizing._rotateVertical)) {\n                        y = y ? '' : '180';\n                    } else {\n                        x = x ? '' : '180';\n                    }\n        \n                    contextEl.setAttribute('data-rotateX', x);\n                    contextEl.setAttribute('data-rotateY', y);\n        \n                    this.plugins.resizing._setTransForm(contextEl, r, x, y);\n                    break;\n                case 'rotate':\n                    const contextResizing = this.context.resizing;\n                    const slope = (contextEl.getAttribute('data-rotate') * 1) + (value * 1);\n                    const deg = this._w.Math.abs(slope) >= 360 ? 0 : slope;\n        \n                    contextEl.setAttribute('data-rotate', deg);\n                    contextResizing._rotateVertical = /^(90|270)$/.test(this._w.Math.abs(deg).toString());\n                    this.plugins.resizing.setTransformSize.call(this, contextEl, null, null);\n        \n                    this.selectComponent(contextEl, pluginName);\n                    break;\n                case 'onalign':\n                    this.plugins.resizing.openAlignMenu.call(this);\n                    return;\n                case 'align':\n                    const alignValue = value === 'basic' ? 'none' : value;\n                    currentModule.setAlign.call(this, alignValue, null, null, null);\n                    this.selectComponent(contextEl, pluginName);\n                    break;\n                case 'caption':\n                    const caption = !currentContext._captionChecked;\n                    currentModule.openModify.call(this, true);\n                    currentContext._captionChecked = currentContext.captionCheckEl.checked = caption;\n    \n                    currentModule.update_image.call(this, false, false, false);\n    \n                    if (caption) {\n                        const captionText = this.util.getChildElement(currentContext._caption, function (current) {\n                            return current.nodeType === 3;\n                        });\n    \n                        if (!captionText) {\n                            currentContext._caption.focus();\n                        } else {\n                            this.setRange(captionText, 0, captionText, captionText.textContent.length);\n                        }\n    \n                        this.controllersOff();\n                    } else {\n                        this.selectComponent(contextEl, pluginName);\n                        currentModule.openModify.call(this, true);\n                    }\n    \n                    break;\n                case 'revert':\n                    currentModule.setOriginSize.call(this);\n                    this.selectComponent(contextEl, pluginName);\n                    break;\n                case 'update':\n                    currentModule.openModify.call(this);\n                    this.controllersOff();\n                    break;\n                case 'delete':\n                    currentModule.destroy.call(this);\n                    break;\n            }\n    \n            // history stack\n            this.history.push(false);\n        },\n    \n        /**\n         * @description Initialize the transform style (rotation) of the element.\n         * @param {Element} element Target element\n         */\n        resetTransform: function (element) {\n            const size = (element.getAttribute('data-size') || element.getAttribute('data-origin') || '').split(',');\n            this.context.resizing._rotateVertical = false;\n    \n            element.style.maxWidth = '';\n            element.style.transform = '';\n            element.style.transformOrigin = '';\n            element.setAttribute('data-rotate', '');\n            element.setAttribute('data-rotateX', '');\n            element.setAttribute('data-rotateY', '');\n    \n            this.plugins[this.context.resizing._resize_plugin].setSize.call(this, size[0] ? size[0] : 'auto', size[1] ? size[1] : '', true);\n        },\n    \n        /**\n         * @description Set the transform style (rotation) of the element.\n         * @param {Element} element Target element\n         * @param {Number|null} width Element's width size\n         * @param {Number|null} height Element's height size\n         */\n        setTransformSize: function (element, width, height) {\n            let percentage = element.getAttribute('data-percentage');\n            const isVertical = this.context.resizing._rotateVertical;\n            const deg = element.getAttribute('data-rotate') * 1;\n            let transOrigin = '';\n    \n            if (percentage && !isVertical) {\n                percentage = percentage.split(',');\n                if (percentage[0] === 'auto' && percentage[1] === 'auto') {\n                    this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this);\n                } else {\n                    this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this, percentage[0], percentage[1]);\n                }\n            } else {\n                const cover = this.util.getParentElement(element, 'FIGURE');\n        \n                const offsetW = width || element.offsetWidth;\n                const offsetH = height || element.offsetHeight;\n                const w = (isVertical ? offsetH : offsetW) + 'px';\n                const h = (isVertical ? offsetW : offsetH) + 'px';\n        \n                this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this);\n                this.plugins[this.context.resizing._resize_plugin].setSize.call(this, offsetW + 'px', offsetH + 'px', true);\n        \n                cover.style.width = w;\n                cover.style.height = (!!this.context[this.context.resizing._resize_plugin]._caption ? '' : h);\n    \n                if (isVertical) {\n                    let transW = (offsetW/2) + 'px ' + (offsetW/2) + 'px 0';\n                    let transH = (offsetH/2) + 'px ' + (offsetH/2) + 'px 0';\n                    transOrigin = deg === 90 || deg === -270 ? transH : transW;\n                }\n            }\n    \n            element.style.transformOrigin = transOrigin;\n            this.plugins.resizing._setTransForm(element, deg.toString(), element.getAttribute('data-rotateX') || '', element.getAttribute('data-rotateY') || '');\n            \n            if (isVertical) element.style.maxWidth = 'none';\n            else element.style.maxWidth = '';\n    \n            this.plugins.resizing.setCaptionPosition.call(this, element);\n        },\n    \n        _setTransForm: function (element, r, x, y) {\n            let width = (element.offsetWidth - element.offsetHeight) * (/-/.test(r) ? 1 : -1);\n            let translate = '';\n    \n            if (/[1-9]/.test(r) && (x || y)) {\n                translate = x ? 'Y' : 'X';\n    \n                switch (r) {\n                    case '90':\n                        translate = x && y ? 'X' : y ? translate : '';\n                        break;\n                    case '270':\n                        width *= -1;\n                        translate = x && y ? 'Y' : x ? translate : '';\n                        break;\n                    case '-90':\n                        translate = x && y ? 'Y' : x ? translate : '';\n                        break;\n                    case '-270':\n                        width *= -1;\n                        translate = x && y ? 'X' : y ? translate : '';\n                        break;\n                    default:\n                        translate = '';\n                }\n            }\n    \n            if (r % 180 === 0) {\n                element.style.maxWidth = '';\n            }\n            \n            element.style.transform = 'rotate(' + r + 'deg)' + (x ? ' rotateX(' + x + 'deg)' : '') + (y ? ' rotateY(' + y + 'deg)' : '') + (translate ? ' translate' + translate + '(' + width + 'px)' : '');\n        },\n    \n        /**\n         * @description The position of the caption is set automatically.\n         * @param {Element} element Target element (not caption element)\n         */\n        setCaptionPosition: function (element) {\n            const figcaption = this.util.getChildElement(this.util.getParentElement(element, 'FIGURE'), 'FIGCAPTION');\n            if (figcaption) {\n                figcaption.style.marginTop = (this.context.resizing._rotateVertical ? element.offsetWidth - element.offsetHeight : 0) + 'px';\n            }\n        },\n    \n        /**\n         * @description Mouse down event of resize handles\n         * @param {MouseEvent} e Event object \n         */\n        onMouseDown_resize_handle: function (e) {\n            e.stopPropagation();\n            e.preventDefault();\n            \n            const contextResizing = this.context.resizing;\n            const direction = contextResizing._resize_direction = e.target.classList[0];\n    \n            contextResizing._resizeClientX = e.clientX;\n            contextResizing._resizeClientY = e.clientY;\n            this.context.element.resizeBackground.style.display = 'block';\n            contextResizing.resizeButton.style.display = 'none';\n            contextResizing.resizeDiv.style.float = /l/.test(direction) ? 'right' : /r/.test(direction) ? 'left' : 'none';\n    \n            const closureFunc_bind = function closureFunc(e) {\n                if (e.type === 'keydown' && e.keyCode !== 27) return;\n    \n                const change = contextResizing._isChange;\n                contextResizing._isChange = false;\n    \n                this.removeDocEvent('mousemove', resizing_element_bind);\n                this.removeDocEvent('mouseup', closureFunc_bind);\n                this.removeDocEvent('keydown', closureFunc_bind);\n                \n                if (e.type === 'keydown') {\n                    this.controllersOff();\n                    this.context.element.resizeBackground.style.display = 'none';\n                    this.plugins[this.context.resizing._resize_plugin].init.call(this);\n                } else {\n                    // element resize\n                    this.plugins.resizing.cancel_controller_resize.call(this, direction);\n                    // history stack\n                    if (change) this.history.push(false);\n                }\n            }.bind(this);\n    \n            const resizing_element_bind = this.plugins.resizing.resizing_element.bind(this, contextResizing, direction, this.context[contextResizing._resize_plugin]);\n            this.addDocEvent('mousemove', resizing_element_bind);\n            this.addDocEvent('mouseup', closureFunc_bind);\n            this.addDocEvent('keydown', closureFunc_bind);\n        },\n    \n        /**\n         * @description Mouse move event after call \"onMouseDown_resize_handle\" of resize handles\n         * The size of the module's \"div\" is adjusted according to the mouse move event.\n         * @param {Object} contextResizing \"core.context.resizing\" object (binding argument)\n         * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\") (binding argument)\n         * @param {Object} plugin \"core.context[currentPlugin]\" object (binding argument)\n         * @param {MouseEvent} e Event object\n         */\n        resizing_element: function (contextResizing, direction, plugin, e) {\n            const clientX = e.clientX;\n            const clientY = e.clientY;\n    \n            let resultW = plugin._element_w;\n            let resultH = plugin._element_h;\n    \n            const w = plugin._element_w + (/r/.test(direction) ? clientX - contextResizing._resizeClientX : contextResizing._resizeClientX - clientX);\n            const h = plugin._element_h + (/b/.test(direction) ? clientY - contextResizing._resizeClientY : contextResizing._resizeClientY - clientY);\n            const wh = ((plugin._element_h / plugin._element_w) * w);\n    \n            if (/t/.test(direction)) contextResizing.resizeDiv.style.top = (plugin._element_h - (/h/.test(direction) ? h : wh)) + 'px';\n            if (/l/.test(direction)) contextResizing.resizeDiv.style.left = (plugin._element_w - w) + 'px';\n    \n            if (/r|l/.test(direction)) {\n                contextResizing.resizeDiv.style.width = w + 'px';\n                resultW = w;\n            }\n    \n            if (/^(t|b)[^h]$/.test(direction)) {\n                contextResizing.resizeDiv.style.height = wh + 'px';\n                resultH = wh;\n            }\n            else if (/^(t|b)h$/.test(direction)) {\n                contextResizing.resizeDiv.style.height = h + 'px';\n                resultH = h;\n            }\n    \n            contextResizing._resize_w = resultW;\n            contextResizing._resize_h = resultH;\n            this.util.changeTxt(contextResizing.resizeDisplay, this._w.Math.round(resultW) + ' x ' + this._w.Math.round(resultH));\n            contextResizing._isChange = true;\n        },\n    \n        /**\n         * @description Resize the element to the size of the \"div\" adjusted in the \"resizing_element\" method.\n         * Called at the mouse-up event registered in \"onMouseDown_resize_handle\".\n         * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\")\n         */\n        cancel_controller_resize: function (direction) {\n            const isVertical = this.context.resizing._rotateVertical;\n            this.controllersOff();\n            this.context.element.resizeBackground.style.display = 'none';\n    \n            let w = this._w.Math.round(isVertical ? this.context.resizing._resize_h : this.context.resizing._resize_w);\n            let h = this._w.Math.round(isVertical ? this.context.resizing._resize_w : this.context.resizing._resize_h);\n    \n            if (!isVertical && !/%$/.test(w)) {\n                const padding = 16;\n                const limit = this.context.element.wysiwygFrame.clientWidth - (padding * 2) - 2;\n                \n                if (this.util.getNumber(w, 0) > limit) {\n                    h = this._w.Math.round((h / w) * limit);\n                    w = limit;\n                }\n            }\n    \n            const pluginName = this.context.resizing._resize_plugin;\n            this.plugins[pluginName].setSize.call(this, w, h, false, direction);\n            if (isVertical) this.plugins.resizing.setTransformSize.call(this, this.context[this.context.resizing._resize_plugin]._element, w, h);\n\n            this.selectComponent(this.context[pluginName]._element, pluginName);\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_MODULES) {\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'resizing', {\n            enumerable: true,\n            writable: false,\n            configurable: false,\n            value: resizing\n        });\n    }\n\n    return resizing;\n}));\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/suneditor/src/plugins/modules/_selectMenu.js\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2018 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ var _selectMenu = ({\n    name: 'selectMenu',\n    add: function (core) {\n        core.context.selectMenu = {\n            caller: {},\n            callerContext: null\n        };\n    },\n\n    setForm: function () {\n        return '<div class=\"se-select-list\"></div>';\n    },\n\n    createList: function (listContext, items, html) {\n        listContext.form.innerHTML = '<ul>' + html + '</ul>';\n        listContext.items = items;\n        listContext.menus = listContext.form.querySelectorAll('li');\n    },\n\n    initEvent: function (pluginName, forms) {\n        const form = forms.querySelector('.se-select-list');\n        const context = this.context.selectMenu.caller[pluginName] = {\n            form: form,\n            items: [],\n            menus: [],\n            index: -1,\n            item: null,\n            clickMethod: null,\n            callerName: pluginName\n        };\n\n        form.addEventListener('mousedown', this.plugins.selectMenu.onMousedown_list);\n        form.addEventListener('mousemove', this.plugins.selectMenu.onMouseMove_list.bind(this, context));\n        form.addEventListener('click', this.plugins.selectMenu.onClick_list.bind(this, context));\n    },\n\n    onMousedown_list: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n    },\n\n    onMouseMove_list: function (context, e) {\n        this.util.addClass(context.form, '__se_select-menu-mouse-move');\n        const index = e.target.getAttribute('data-index');\n        if (!index) return;\n        context.index = index * 1;\n    },\n\n    onClick_list: function (context, e) {\n        const index = e.target.getAttribute('data-index');\n        if (!index) return;\n        context.clickMethod.call(this, context.items[index]);\n    },\n\n    moveItem: function (listContext, num) {\n        this.util.removeClass(listContext.form, '__se_select-menu-mouse-move');\n        num = listContext.index + num;\n        const menus = listContext.menus;\n        const len = menus.length;\n        const selectIndex = listContext.index = num >= len ? 0 : num < 0 ? len - 1 : num;\n        \n        for (let i = 0; i < len; i++) {\n            if (i === selectIndex) {\n                this.util.addClass(menus[i], 'active');\n            } else {\n                this.util.removeClass(menus[i], 'active');\n            }\n        }\n\n        listContext.item = listContext.items[selectIndex];\n    },\n\n    getItem: function (listContext, index) {\n        index = (!index || index < 0) ? listContext.index : index;\n        return listContext.items[index];\n    },\n\n    on: function (callerName, clickMethod) {\n        const listContext = this.context.selectMenu.caller[callerName];\n        this.context.selectMenu.callerContext = listContext;\n        listContext.clickMethod = clickMethod;\n        listContext.callerName = callerName;\n    },\n\n    open: function (listContext, positionHandler) {\n        const form = listContext.form;\n        form.style.visibility = 'hidden';\n        form.style.display = 'block';\n        positionHandler(form);\n        form.style.visibility = '';\n    },\n\n    close: function (listContext) {\n        listContext.form.style.display = 'none';\n        listContext.items = [];\n        listContext.menus = [];\n        listContext.index = -1;\n        listContext.item = null;\n    },\n\n    init: function (listContext) {\n        if (!listContext) return;\n        listContext.items = [];\n        listContext.menus = [];\n        listContext.index = -1;\n        listContext.item = null;\n        listContext.callerName = '';\n        this.context.selectMenu.callerContext = null;\n    }\n});\n// CONCATENATED MODULE: ./node_modules/suneditor/src/plugins/modules/_anchor.js\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n/* harmony default export */ var _anchor = __webpack_exports__[\"a\"] = ({\n    name: 'anchor',\n    add: function (core) {\n        core.addModule([_selectMenu]);\n        \n        core.context.anchor = {\n            caller: {},\n            forms: this.setDialogForm(core),\n            host: (core._w.location.origin + core._w.location.pathname).replace(/\\/$/, ''),\n            callerContext: null\n        };\n    },\n\n    /** dialog */\n    setDialogForm: function (core) {\n        const lang = core.lang;\n        const relList = core.options.linkRel;\n        const defaultRel = (core.options.linkRelDefault.default || '').split(' ');\n        const icons = core.icons;\n        const forms = core.util.createElement('DIV');\n\n        let html = '<div class=\"se-dialog-body\">' +\n            '<div class=\"se-dialog-form\">' +\n                '<label>' + lang.dialogBox.linkBox.url + '</label>' +\n                '<div class=\"se-dialog-form-files\">' +\n                    '<input class=\"se-input-form se-input-url\" type=\"text\" placeholder=\"' + (core.options.protocol || '') + '\" />' +\n                    '<button type=\"button\" class=\"se-btn se-dialog-files-edge-button _se_bookmark_button\" title=\"' + lang.dialogBox.linkBox.bookmark + '\">' + icons.bookmark + '</button>' +\n                    core.plugins.selectMenu.setForm() +\n                '</div>' +\n                '<div class=\"se-anchor-preview-form\">' +\n                    '<span class=\"se-svg se-anchor-preview-icon _se_anchor_bookmark_icon\">' + icons.bookmark + '</span>' +\n                    '<span class=\"se-svg se-anchor-preview-icon _se_anchor_download_icon\">' + icons.download + '</span>' +\n                    '<pre class=\"se-link-preview\"></pre>' +\n                '</div>' +\n            '</div>' +\n            '<div class=\"se-dialog-form\">' +\n                '<label>' + lang.dialogBox.linkBox.text + '</label><input class=\"se-input-form _se_anchor_text\" type=\"text\" />' +\n            '</div>' +\n            '<div class=\"se-dialog-form-footer\">' +\n                '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_anchor_check\" />&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + '</label>' +\n                '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_anchor_download\" />&nbsp;' + lang.dialogBox.linkBox.downloadLinkCheck + '</label>';\n            if (relList.length > 0) {\n                html += '<div class=\"se-anchor-rel\"><button type=\"button\" class=\"se-btn se-btn-select se-anchor-rel-btn\">&lt;rel&gt;</button>' +\n                    '<div class=\"se-anchor-rel-wrapper\"><pre class=\"se-link-preview se-anchor-rel-preview\"></pre></div>' +\n                    '<div class=\"se-list-layer\">' +\n                        '<div class=\"se-list-inner\">' +\n                            '<ul class=\"se-list-basic se-list-checked\">';\n                for (let i = 0, len = relList.length, rel; i < len; i++) {\n                    rel = relList[i];\n                    html += '<li><button type=\"button\" class=\"se-btn-list' + (defaultRel.indexOf(rel) > -1 ? ' se-checked' : '') + '\" data-command=\"' + rel + '\" title=\"' + rel + '\"><span class=\"se-svg\">' + icons.checked + '</span>' + rel + '</button></li>';\n                }\n                html += '</ul></div></div></div>';\n            }\n\n        html += '</div></div>';\n\n        forms.innerHTML = html;\n        return forms;\n    },\n\n    initEvent: function (pluginName, forms) {\n        const anchorPlugin = this.plugins.anchor;\n        const context = this.context.anchor.caller[pluginName] = {\n            modal: forms,\n            urlInput: null,\n            linkDefaultRel: this.options.linkRelDefault,\n            defaultRel: this.options.linkRelDefault.default || '',\n            currentRel: [],\n            linkAnchor: null,\n            linkValue: '',\n            _change: false,\n            callerName: pluginName\n        };\n\n        if (typeof context.linkDefaultRel.default === 'string') context.linkDefaultRel.default = context.linkDefaultRel.default.trim();\n        if (typeof context.linkDefaultRel.check_new_window === 'string') context.linkDefaultRel.check_new_window = context.linkDefaultRel.check_new_window.trim();\n        if (typeof context.linkDefaultRel.check_bookmark === 'string') context.linkDefaultRel.check_bookmark = context.linkDefaultRel.check_bookmark.trim();\n\n        context.urlInput = forms.querySelector('.se-input-url');\n        context.anchorText = forms.querySelector('._se_anchor_text');\n        context.newWindowCheck = forms.querySelector('._se_anchor_check');\n        context.downloadCheck = forms.querySelector('._se_anchor_download');\n        context.download = forms.querySelector('._se_anchor_download_icon');\n        context.preview = forms.querySelector('.se-link-preview');\n        context.bookmark = forms.querySelector('._se_anchor_bookmark_icon');\n        context.bookmarkButton = forms.querySelector('._se_bookmark_button');\n\n        this.plugins.selectMenu.initEvent.call(this, pluginName, forms);\n        const listContext = this.context.selectMenu.caller[pluginName];\n        \n        /** rel */\n        if (this.options.linkRel.length > 0) {\n            context.relButton = forms.querySelector('.se-anchor-rel-btn');\n            context.relList = forms.querySelector('.se-list-layer');\n            context.relPreview = forms.querySelector('.se-anchor-rel-preview');\n            context.relButton.addEventListener('click', anchorPlugin.onClick_relButton.bind(this, context));\n            context.relList.addEventListener('click', anchorPlugin.onClick_relList.bind(this, context));\n        }\n\n        context.newWindowCheck.addEventListener('change', anchorPlugin.onChange_newWindowCheck.bind(this, context));\n        context.downloadCheck.addEventListener('change', anchorPlugin.onChange_downloadCheck.bind(this, context));\n        context.anchorText.addEventListener('input', anchorPlugin.onChangeAnchorText.bind(this, context));\n        context.urlInput.addEventListener('input', anchorPlugin.onChangeUrlInput.bind(this, context));\n        context.urlInput.addEventListener('keydown', anchorPlugin.onKeyDownUrlInput.bind(this, listContext));\n        context.urlInput.addEventListener('focus', anchorPlugin.onFocusUrlInput.bind(this, context, listContext));\n        context.urlInput.addEventListener('blur', anchorPlugin.onBlurUrlInput.bind(this, listContext));\n        context.bookmarkButton.addEventListener('click', anchorPlugin.onClick_bookmarkButton.bind(this, context));\n    },\n\n    on: function (contextAnchor, update) {\n        if (!update) {\n            this.plugins.anchor.init.call(this, contextAnchor);\n            contextAnchor.anchorText.value = this.getSelection().toString();\n        } else if (contextAnchor.linkAnchor) {\n            this.context.dialog.updateModal = true;\n            const href = contextAnchor.linkAnchor.href;\n            contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = /\\#.+$/.test(href) ? href.substr(href.lastIndexOf('#')) : href;\n            contextAnchor.anchorText.value = contextAnchor.linkAnchor.textContent.trim() || contextAnchor.linkAnchor.getAttribute('alt');\n            contextAnchor.newWindowCheck.checked = (/_blank/i.test(contextAnchor.linkAnchor.target) ? true : false);\n            contextAnchor.downloadCheck.checked = contextAnchor.linkAnchor.download;\n        }\n\n        this.context.anchor.callerContext = contextAnchor;\n        this.plugins.anchor.setRel.call(this, contextAnchor, (update && contextAnchor.linkAnchor) ? contextAnchor.linkAnchor.rel : contextAnchor.defaultRel);\n        this.plugins.anchor.setLinkPreview.call(this, contextAnchor, contextAnchor.linkValue);\n        this.plugins.selectMenu.on.call(this, contextAnchor.callerName, this.plugins.anchor.setHeaderBookmark);\n    },\n\n    _closeRelMenu: null,\n    toggleRelList: function (contextAnchor, show) {\n        if (!show) {\n            if (this.plugins.anchor._closeRelMenu) this.plugins.anchor._closeRelMenu();\n        } else {\n            const target = contextAnchor.relButton;\n            const relList = contextAnchor.relList;\n            this.util.addClass(target, 'active');\n            relList.style.visibility = 'hidden';\n            relList.style.display = 'block';\n            if (!this.options.rtl) relList.style.left = (target.offsetLeft + target.offsetWidth + 1) + 'px';\n            else relList.style.left = (target.offsetLeft - relList.offsetWidth - 1) + 'px';\n            relList.style.top = (target.offsetTop + (target.offsetHeight / 2) - (relList.offsetHeight / 2)) + 'px';\n            relList.style.visibility = '';\n\n            this.plugins.anchor._closeRelMenu = function (context, target, e) {\n                if (e && (context.relButton.contains(e.target) || context.relList.contains(e.target))) return;\n                this.util.removeClass(target, 'active');\n                context.relList.style.display = 'none';\n                this.modalForm.removeEventListener('click', this.plugins.anchor._closeRelMenu);\n                this.plugins.anchor._closeRelMenu = null;\n            }.bind(this, contextAnchor, target);\n    \n            this.modalForm.addEventListener('click', this.plugins.anchor._closeRelMenu);\n        }\n    },\n\n    onClick_relButton: function (contextAnchor, e) {\n        this.plugins.anchor.toggleRelList.call(this, contextAnchor, !this.util.hasClass(e.target, 'active'));\n    },\n\n    onClick_relList: function (contextAnchor, e) {\n        const target = e.target;\n        const cmd = target.getAttribute('data-command');\n        if (!cmd) return;\n        \n        const current = contextAnchor.currentRel;\n        const checked = this.util.toggleClass(target, 'se-checked');\n        const index = current.indexOf(cmd);\n        if (checked) {\n            if (index === -1) current.push(cmd);\n        } else {\n            if (index > -1) current.splice(index, 1);\n        }\n\n        contextAnchor.relPreview.title = contextAnchor.relPreview.textContent = current.join(' ');\n    },\n\n    setRel: function (contextAnchor, relAttr) {\n        const relListEl = contextAnchor.relList;\n        const rels = contextAnchor.currentRel = !relAttr ? [] : relAttr.split(' ');\n        if (!relListEl) return;\n\n        const checkedRel = relListEl.querySelectorAll('button');\n        for (let i = 0, len = checkedRel.length, cmd; i < len; i++) {\n            cmd = checkedRel[i].getAttribute('data-command');\n            if (rels.indexOf(cmd) > -1) {\n                this.util.addClass(checkedRel[i], 'se-checked');\n            } else {\n                this.util.removeClass(checkedRel[i], 'se-checked');\n            }\n        }\n\n        contextAnchor.relPreview.title = contextAnchor.relPreview.textContent = rels.join(' ');\n    },\n\n    createHeaderList: function (contextAnchor, contextList, urlValue) {\n        const headers = this.util.getListChildren(this.context.element.wysiwyg, function(current) {\n            return /h[1-6]/i.test(current.nodeName);\n        });\n        if (headers.length === 0) return;\n\n        const valueRegExp = new this._w.RegExp('^' + urlValue.replace(/^#/, ''), 'i');\n        const list = [];\n        let html = '';\n        for(let i = 0, len = headers.length, h; i < len; i++) {\n            h = headers[i];\n            if (!valueRegExp.test(h.textContent)) continue;\n            list.push(h);\n            html += '<li class=\"se-select-item\" data-index=\"' + i + '\">' + h.textContent + '</li>';\n        }\n\n        if (list.length === 0) {\n            this.plugins.selectMenu.close.call(this, contextList);\n        } else {\n            this.plugins.selectMenu.createList(contextList, list, html);\n            this.plugins.selectMenu.open.call(this, contextList, this.plugins.anchor._setMenuListPosition.bind(this, contextAnchor));\n        }\n    },\n\n    _setMenuListPosition: function (contextAnchor, list) {\n        list.style.top = (contextAnchor.urlInput.offsetHeight + 1) + 'px';\n    },\n\n    onKeyDownUrlInput: function (contextList, e) {\n        const keyCode = e.keyCode;\n        switch (keyCode) {\n            case 38: // up\n                e.preventDefault();\n                e.stopPropagation();\n                this.plugins.selectMenu.moveItem.call(this, contextList, -1);\n                break;\n            case 40: // down\n                e.preventDefault();\n                e.stopPropagation();\n                this.plugins.selectMenu.moveItem.call(this, contextList, 1);\n                break;\n            case 13: // enter\n                if (contextList.index > -1) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    this.plugins.anchor.setHeaderBookmark.call(this, this.plugins.selectMenu.getItem(contextList, null));\n                }\n                break;\n        }\n    },\n\n    setHeaderBookmark: function (header) {\n        const contextAnchor = this.context.anchor.callerContext;\n        const id = header.id || 'h_' + this._w.Math.random().toString().replace(/.+\\./, '');\n        header.id = id;\n        contextAnchor.urlInput.value = '#' + id;\n\n        if (!contextAnchor.anchorText.value.trim() || !contextAnchor._change) {\n            contextAnchor.anchorText.value = header.textContent;\n        }\n        \n        this.plugins.anchor.setLinkPreview.call(this, contextAnchor, contextAnchor.urlInput.value);\n        this.plugins.selectMenu.close.call(this, this.context.selectMenu.callerContext);\n        this.context.anchor.callerContext.urlInput.focus();\n    },\n\n    onChangeAnchorText: function (contextAnchor, e) {\n        contextAnchor._change = !!e.target.value.trim();\n    },\n\n    onChangeUrlInput: function (contextAnchor, e) {\n        const value = e.target.value.trim();\n        this.plugins.anchor.setLinkPreview.call(this, contextAnchor, value);\n\n        if (/^#/.test(value)) this.plugins.anchor.createHeaderList.call(this, contextAnchor, this.context.selectMenu.callerContext, value);\n        else this.plugins.selectMenu.close.call(this, this.context.selectMenu.callerContext);\n    },\n\n    onFocusUrlInput: function (contextAnchor, contextLink) {\n        const value = contextAnchor.urlInput.value;\n        if (/^#/.test(value)) this.plugins.anchor.createHeaderList.call(this, contextAnchor, contextLink, value);\n    },\n\n    onBlurUrlInput: function (contextList) {\n        this.plugins.selectMenu.close.call(this, contextList);\n    },\n\n    setLinkPreview: function (context, value) {\n        const preview = context.preview;\n        const protocol = this.options.linkProtocol;\n        const reservedProtocol  = /^(mailto\\:|tel\\:|sms\\:|https*\\:\\/\\/|#)/.test(value);\n        const sameProtocol = !protocol ? false : this._w.RegExp('^' + value.substr(0, protocol.length)).test(protocol);\n        context.linkValue = preview.textContent = !value ? '' : (protocol && !reservedProtocol && !sameProtocol) ? protocol + value : reservedProtocol ? value : /^www\\./.test(value) ? 'http://' + value : this.context.anchor.host + (/^\\//.test(value) ? '' : '/') + value;\n\n        if (value.indexOf('#') === 0) {\n            context.bookmark.style.display = 'block';\n            this.util.addClass(context.bookmarkButton, 'active');\n        } else {\n            context.bookmark.style.display = 'none';\n            this.util.removeClass(context.bookmarkButton, 'active');\n        }\n\n        if (value.indexOf('#') === -1 && context.downloadCheck.checked) {\n            context.download.style.display = 'block';\n        } else {\n            context.download.style.display = 'none';\n        }\n    },\n\n    setCtx: function (anchor, contextAnchor) {\n        if (!anchor) return;\n        contextAnchor.linkAnchor = anchor;\n        contextAnchor.linkValue = anchor.href;\n        contextAnchor.currentRel = anchor.rel.split(\" \");\n    },\n\n    updateAnchor: function (anchor, url, alt, contextAnchor, notText) {\n        // download\n        if (!/^\\#/.test(url) && contextAnchor.downloadCheck.checked) {\n            anchor.setAttribute('download', alt || url);\n        } else {\n            anchor.removeAttribute('download');\n        }\n\n        // new window\n        if (contextAnchor.newWindowCheck.checked) anchor.target = '_blank';\n        else anchor.removeAttribute('target');\n        \n        // rel\n        const rel = contextAnchor.currentRel.join(' ');\n        if (!rel) anchor.removeAttribute('rel');\n        else anchor.rel = rel;\n\n        // est url, alt\n        anchor.href = url;\n        anchor.setAttribute('alt', alt);\n        if (notText) {\n            if (anchor.children.length === 0) anchor.textContent = '';\n        } else {\n            anchor.textContent = alt;\n        }\n    },\n\n    createAnchor: function (contextAnchor, notText) {\n        if (contextAnchor.linkValue.length === 0) return null;\n        \n        const url = contextAnchor.linkValue;\n        const anchor = contextAnchor.anchorText;\n        const anchorText = anchor.value.length === 0 ? url : anchor.value;\n\n        const oA = contextAnchor.linkAnchor || this.util.createElement('A');\n        this.plugins.anchor.updateAnchor(oA, url, anchorText, contextAnchor, notText);\n\n        contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = contextAnchor.anchorText.value = '';\n\n        return oA;\n    },\n\n    onClick_bookmarkButton: function (contextAnchor) {\n        let url = contextAnchor.urlInput.value;\n        if (/^\\#/.test(url)) {\n            url = url.substr(1);\n            contextAnchor.bookmark.style.display = 'none';\n            this.util.removeClass(contextAnchor.bookmarkButton, 'active');\n            this.plugins.selectMenu.close.call(this, this.context.selectMenu.callerContext);\n        } else {\n            url = '#' + url;\n            contextAnchor.bookmark.style.display = 'block';\n            this.util.addClass(contextAnchor.bookmarkButton, 'active');\n            contextAnchor.downloadCheck.checked = false;\n            contextAnchor.download.style.display = 'none';\n            this.plugins.anchor.createHeaderList.call(this, contextAnchor, this.context.selectMenu.callerContext, url);\n        }\n\n        contextAnchor.urlInput.value = url;\n        this.plugins.anchor.setLinkPreview.call(this, contextAnchor, url);\n        contextAnchor.urlInput.focus();\n    },\n\n    onChange_newWindowCheck: function (contextAnchor, e) {\n        if (typeof contextAnchor.linkDefaultRel.check_new_window !== 'string') return;\n        if (e.target.checked) {\n            this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relMerge.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_new_window));\n        } else {\n            this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relDelete.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_new_window));\n        }\n    },\n\n    onChange_downloadCheck: function (contextAnchor, e) {\n        if (e.target.checked) {\n            contextAnchor.download.style.display = 'block';\n            contextAnchor.bookmark.style.display = 'none';\n            this.util.removeClass(contextAnchor.bookmarkButton, 'active');\n            contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = contextAnchor.urlInput.value.replace(/^\\#+/, '');\n            if (typeof contextAnchor.linkDefaultRel.check_bookmark === 'string') {\n                this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relMerge.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_bookmark));\n            }\n        } else {\n            contextAnchor.download.style.display = 'none';\n            if (typeof contextAnchor.linkDefaultRel.check_bookmark === 'string') {\n                this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relDelete.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_bookmark));\n            }\n        }\n    },\n\n    _relMerge: function (contextAnchor, relAttr) {\n        const current = contextAnchor.currentRel;\n        if (!relAttr) return current.join(' ');\n        \n        if (/^only\\:/.test(relAttr)) {\n            relAttr = relAttr.replace(/^only\\:/, '').trim();\n            contextAnchor.currentRel = relAttr.split(' ');\n            return relAttr;\n        }\n\n        const rels = relAttr.split(' ');\n        for (let i = 0, len = rels.length, index; i < len; i++) {\n            index = current.indexOf(rels[i]);\n            if (index === -1) current.push(rels[i]);\n        }\n\n        return current.join(' ');\n    },\n\n    _relDelete: function (contextAnchor, relAttr) {\n        if (!relAttr) return contextAnchor.currentRel.join(' ');\n        if (/^only\\:/.test(relAttr)) relAttr = relAttr.replace(/^only\\:/, '').trim();\n\n        const rels = contextAnchor.currentRel.join(' ').replace(this._w.RegExp(relAttr + '\\\\s*'), '');\n        contextAnchor.currentRel = rels.split(' ');\n        return rels;\n    },\n\n    init: function (contextAnchor) {\n        contextAnchor.linkAnchor = null;\n        contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = '';\n        contextAnchor.anchorText.value = '';\n        contextAnchor.newWindowCheck.checked = false;\n        contextAnchor.downloadCheck.checked = false;\n        contextAnchor._change = false;\n        this.plugins.anchor.setRel.call(this, contextAnchor, contextAnchor.defaultRel);\n        if (contextAnchor.relList) {\n            this.plugins.anchor.toggleRelList.call(this, contextAnchor, false);\n        }\n        this.context.anchor.callerContext = null;\n        this.plugins.selectMenu.init.call(this, this.context.selectMenu.callerContext);\n    }\n});\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"react\");\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG una finestra con un documento');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'it',\n        toolbar: {\n            default: 'Predefinita',\n            save: 'Salva',\n            font: 'Font',\n            formats: 'Formato',\n            fontSize: 'Grandezza',\n            bold: 'Grassetto',\n            underline: 'Sottolineato',\n            italic: 'Corsivo',\n            strike: 'Barrato',\n            subscript: 'Apice',\n            superscript: 'Pedice',\n            removeFormat: 'Rimuovi formattazione',\n            fontColor: 'Colore testo',\n            hiliteColor: 'Colore sottolineatura',\n            indent: 'Aumenta rientro',\n            outdent: 'Riduci rientro',\n            align: 'Allinea',\n            alignLeft: 'Allinea a sinistra',\n            alignRight: 'Allinea a destra',\n            alignCenter: 'Allinea al centro',\n            alignJustify: 'Giustifica testo',\n            list: 'Elenco',\n            orderList: 'Elenco numerato',\n            unorderList: 'Elenco puntato',\n            horizontalRule: 'Linea orizzontale',\n            hr_solid: 'Linea continua',\n            hr_dotted: 'Puntini',\n            hr_dashed: 'Trattini',\n            table: 'Tabella',\n            link: 'Collegamento ipertestuale',\n            math: 'Formula matematica',\n            image: 'Immagine',\n            video: 'Video',\n            audio: 'Audio',\n            fullScreen: 'A tutto schermo',\n            showBlocks: 'Visualizza blocchi',\n            codeView: 'Visualizza codice',\n            undo: 'Annulla',\n            redo: 'Ripristina',\n            preview: 'Anteprima',\n            print: 'Stampa',\n            tag_p: 'Paragrafo',\n            tag_div: 'Normale (DIV)',\n            tag_h: 'Titolo',\n            tag_blockquote: 'Citazione',\n            tag_pre: 'Codice',\n            template: 'Modello',\n            lineHeight: 'Interlinea',\n            paragraphStyle: 'Stile paragrafo',\n            textStyle: 'Stile testo',\n            imageGallery: 'Galleria di immagini',\n            mention: 'Menzione'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Inserisci un link',\n                url: 'Indirizzo',\n                text: 'Testo da visualizzare',\n                newWindowCheck: 'Apri in una nuova finestra',\n                downloadLinkCheck: 'Link per scaricare',\n                bookmark: 'Segnalibro'\n            },\n            mathBox: {\n                title: 'Matematica',\n                inputLabel: 'Notazione matematica',\n                fontSizeLabel: 'Grandezza testo',\n                previewLabel: 'Anteprima'\n            },\n            imageBox: {\n                title: 'Inserisci immagine',\n                file: 'Seleziona da file',\n                url: 'Indirizzo immagine',\n                altText: 'Testo alternativo (ALT)'\n            },\n            videoBox: {\n                title: 'Inserisci video',\n                file: 'Seleziona da file',\n                url: 'Indirizzo video di embed, YouTube/Vimeo'\n            },\n            audioBox: {\n                title: 'Inserisci audio',\n                file: 'Seleziona da file',\n                url: 'Indirizzo audio'\n            },\n            browser: {\n                tags: 'tag',\n                search: 'Ricerca',\n            },\n            caption: 'Inserisci didascalia',\n            close: 'Chiudi',\n            submitButton: 'Invia',\n            revertButton: 'Annulla',\n            proportion: 'Proporzionale',\n            basic: 'Da impostazione',\n            left: 'Sinistra',\n            right: 'Destra',\n            center: 'Centrato',\n            width: 'Larghezza',\n            height: 'Altezza',\n            size: 'Dimensioni',\n            ratio: 'Rapporto'\n        },\n        controller: {\n            edit: 'Modifica',\n            unlink: 'Elimina link',\n            remove: 'Rimuovi',\n            insertRowAbove: 'Inserisci riga sopra',\n            insertRowBelow: 'Inserisci riga sotto',\n            deleteRow: 'Cancella riga',\n            insertColumnBefore: 'Inserisci colonna prima',\n            insertColumnAfter: 'Inserisci colonna dopo',\n            deleteColumn: 'Cancella colonna',\n            fixedColumnWidth: 'Larghezza delle colonne fissa',\n            resize100: 'Ridimensiona 100%',\n            resize75: 'Ridimensiona 75%',\n            resize50: 'Ridimensiona 50%',\n            resize25: 'Ridimensiona 25%',\n            autoSize: 'Ridimensione automatica',\n            mirrorHorizontal: 'Capovolgi orizzontalmente',\n            mirrorVertical: 'Capovolgi verticalmente',\n            rotateLeft: 'Ruota a sinistra',\n            rotateRight: 'Ruota a destra',\n            maxSize: 'Dimensione massima',\n            minSize: 'Dimensione minima',\n            tableHeader: 'Intestazione tabella',\n            mergeCells: 'Unisci celle',\n            splitCells: 'Dividi celle',\n            HorizontalSplit: 'Separa orizontalmente',\n            VerticalSplit: 'Separa verticalmente'\n        },\n        menu: {\n            spaced: 'Spaziato',\n            bordered: 'Bordato',\n            neon: 'Luminoso',\n            translucent: 'Traslucido',\n            shadow: 'Ombra',\n            code: 'Codice'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'it', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const fileBrowser = {\n        name: 'fileBrowser',\n        _xmlHttp: null,\n        _loading: null,\n\n        /**\n         * @description Constructor\n         * @param {Object} core Core object \n         */\n        add: function (core) {\n            const context = core.context;\n            context.fileBrowser = {\n                _closeSignal: false,\n                area: null,\n                header: null,\n                tagArea: null,\n                body: null,\n                list: null,\n                tagElements: null,\n                items: [],\n                selectedTags: [],\n                selectorHandler: null,\n                contextPlugin: '',\n                columnSize: 4\n            };\n\n            /** fileBrowser */\n            let browser_div = core.util.createElement('DIV');\n            browser_div.className = 'se-file-browser sun-editor-common';\n\n            let back = core.util.createElement('DIV');\n            back.className = 'se-file-browser-back';\n\n            let content = core.util.createElement('DIV');\n            content.className = 'se-file-browser-inner';\n            content.innerHTML = this.set_browser(core);\n\n            browser_div.appendChild(back);\n            browser_div.appendChild(content);\n            this._loading = browser_div.querySelector('.se-loading-box');\n\n            context.fileBrowser.area = browser_div;\n            context.fileBrowser.header = content.querySelector('.se-file-browser-header');\n            context.fileBrowser.titleArea = content.querySelector('.se-file-browser-title');\n            context.fileBrowser.tagArea = content.querySelector('.se-file-browser-tags');\n            context.fileBrowser.body = content.querySelector('.se-file-browser-body');\n            context.fileBrowser.list = content.querySelector('.se-file-browser-list');\n\n            /** add event listeners */\n            context.fileBrowser.tagArea.addEventListener('click', this.onClickTag.bind(core));\n            context.fileBrowser.list.addEventListener('click', this.onClickFile.bind(core));\n            content.addEventListener('mousedown', this._onMouseDown_browser.bind(core));\n            content.addEventListener('click', this._onClick_browser.bind(core));\n            \n            /** append html */\n            context.element.relative.appendChild(browser_div);\n            \n            /** empty memory */\n            browser_div = null, back = null, content = null;\n        },\n\n        set_browser: function (core) {\n            const lang = core.lang;\n\n            return '<div class=\"se-file-browser-content\">' +\n                    '<div class=\"se-file-browser-header\">' +\n                        '<button type=\"button\" data-command=\"close\" class=\"se-btn se-file-browser-close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\n                        core.icons.cancel +\n                        '</button>' +\n                        '<span class=\"se-file-browser-title\"></span>' +\n                        '<div class=\"se-file-browser-tags\"></div>' +\n                    '</div>' +\n                    '<div class=\"se-file-browser-body\">' +\n                        '<div class=\"se-loading-box sun-editor-common\"><div class=\"se-loading-effect\"></div></div>' +\n                        '<div class=\"se-file-browser-list\"></div>' +\n                    '</div>' +\n                '</div>';\n        },\n\n        /**\n         * @description Event to control the behavior of closing the browser\n         * @param {MouseEvent} e Event object\n         * @private\n         */\n        _onMouseDown_browser: function (e) {\n            if (/se-file-browser-inner/.test(e.target.className)) {\n                this.context.fileBrowser._closeSignal = true;\n            } else {\n                this.context.fileBrowser._closeSignal = false;\n            }\n        },\n\n        /**\n         * @description Event to close the window when the outside area of the browser or close button is click\n         * @param {MouseEvent} e Event object\n         * @private\n         */\n        _onClick_browser: function (e) {\n            e.stopPropagation();\n\n            if (/close/.test(e.target.getAttribute('data-command')) || this.context.fileBrowser._closeSignal) {\n                this.plugins.fileBrowser.close.call(this);\n            }\n        },\n\n        /**\n         * @description Open a file browser plugin\n         * @param {String} pluginName Plugin name using the file browser\n         * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\n         */\n        open: function (pluginName, selectorHandler)  {\n            if (this.plugins.fileBrowser._bindClose) {\n                this._d.removeEventListener('keydown', this.plugins.fileBrowser._bindClose);\n                this.plugins.fileBrowser._bindClose = null;\n            }\n\n            this.plugins.fileBrowser._bindClose = function (e) {\n                if (!/27/.test(e.keyCode)) return;\n                this.plugins.fileBrowser.close.call(this);\n            }.bind(this);\n            this._d.addEventListener('keydown', this.plugins.fileBrowser._bindClose);\n\n            const fileBrowserContext = this.context.fileBrowser;\n            fileBrowserContext.contextPlugin = pluginName;\n            fileBrowserContext.selectorHandler = selectorHandler;\n            \n            const pluginContext = this.context[pluginName];\n            const listClassName = pluginContext.listClass;\n            if (!this.util.hasClass(fileBrowserContext.list, listClassName)) {\n                fileBrowserContext.list.className = 'se-file-browser-list ' + listClassName;\n            }\n\n            if (this.options.popupDisplay === 'full') {\n                fileBrowserContext.area.style.position = 'fixed';\n            } else {\n                fileBrowserContext.area.style.position = 'absolute';\n            }\n            \n            fileBrowserContext.titleArea.textContent = pluginContext.title;\n            fileBrowserContext.area.style.display = 'block';\n\n            this.plugins.fileBrowser._drawFileList.call(this, this.context[pluginName].url, this.context[pluginName].header);\n        },\n\n        _bindClose: null,\n        \n        /**\n         * @description Close a fileBrowser plugin\n         * The plugin's \"init\" method is called.\n         */\n        close: function () {\n            const fileBrowserPlugin = this.plugins.fileBrowser;\n\n            if (fileBrowserPlugin._xmlHttp) {\n                fileBrowserPlugin._xmlHttp.abort();\n            }\n\n            if (fileBrowserPlugin._bindClose) {\n                this._d.removeEventListener('keydown', fileBrowserPlugin._bindClose);\n                fileBrowserPlugin._bindClose = null;\n            }\n\n            const fileBrowserContext = this.context.fileBrowser;\n            fileBrowserContext.area.style.display = 'none';\n            fileBrowserContext.selectorHandler = null;\n            fileBrowserContext.selectedTags = [];\n            fileBrowserContext.items = [];\n            fileBrowserContext.list.innerHTML = fileBrowserContext.tagArea.innerHTML = fileBrowserContext.titleArea.textContent = '';\n\n            if (typeof this.plugins[fileBrowserContext.contextPlugin].init === 'function') this.plugins[fileBrowserContext.contextPlugin].init.call(this);\n            fileBrowserContext.contextPlugin = '';\n        },\n\n        /**\n         * @description Show file browser loading box\n         */\n        showBrowserLoading: function () {\n            this._loading.style.display = 'block';\n        },\n\n        /**\n         * @description Close file browser loading box\n         */\n        closeBrowserLoading: function () {\n            this._loading.style.display = 'none';\n        },\n\n        _drawFileList: function (url, browserHeader) {\n            const fileBrowserPlugin = this.plugins.fileBrowser;\n\n            const xmlHttp = fileBrowserPlugin._xmlHttp = this.util.getXMLHttpRequest();\n            xmlHttp.onreadystatechange = fileBrowserPlugin._callBackGet.bind(this, xmlHttp);\n            xmlHttp.open('get', url, true);\n            if(browserHeader !== null && typeof browserHeader === 'object' && this._w.Object.keys(browserHeader).length > 0){\n                for(let key in browserHeader){\n                    xmlHttp.setRequestHeader(key, browserHeader[key]);\n                }\n            }\n            xmlHttp.send(null);\n\n            this.plugins.fileBrowser.showBrowserLoading();\n        },\n\n        _callBackGet: function (xmlHttp) {\n            if (xmlHttp.readyState === 4) {\n                this.plugins.fileBrowser._xmlHttp = null;\n                if (xmlHttp.status === 200) {\n                    try {\n                        this.plugins.fileBrowser._drawListItem.call(this, JSON.parse(xmlHttp.responseText).result, true);\n                    } catch (e) {\n                        throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : \"' + e.message + '\"');\n                    } finally {\n                        this.plugins.fileBrowser.closeBrowserLoading();\n                        this.context.fileBrowser.body.style.maxHeight = (this._w.innerHeight - this.context.fileBrowser.header.offsetHeight - 50) + 'px';\n                    }\n                } else { // exception\n                    this.plugins.fileBrowser.closeBrowserLoading();\n                    if (xmlHttp.status !== 0) {\n                        const res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\n                        const err = '[SUNEDITOR.fileBrowser.get.serverException] status: ' + xmlHttp.status + ', response: ' + (res.errorMessage || xmlHttp.responseText);\n                        throw Error(err);\n                    }\n                }\n            }\n        },\n\n        _drawListItem: function (items, update) {\n            const fileBrowserContext = this.context.fileBrowser;\n            const pluginContext = this.context[fileBrowserContext.contextPlugin];\n\n            const _tags = [];\n            const len = items.length;\n            const columnSize = pluginContext.columnSize || fileBrowserContext.columnSize;\n            const splitSize = columnSize <= 1 ? 1 : (Math.round(len/columnSize) || 1);\n            const drawItemHandler = pluginContext.itemTemplateHandler;\n            \n            let tagsHTML = '';\n            let listHTML = '<div class=\"se-file-item-column\">';\n            let columns = 1;\n            for (let i = 0, item, tags; i < len; i++) {\n                item = items[i];\n                tags = !item.tag ? [] : typeof item.tag === 'string' ? item.tag.split(',') : item.tag;\n                tags = item.tag = tags.map(function (v) { return v.trim(); });\n                listHTML += drawItemHandler(item);\n\n                if ((i + 1) % splitSize === 0 && columns < columnSize && (i + 1) < len) {\n                    columns++;\n                    listHTML += '</div><div class=\"se-file-item-column\">';\n                }\n                \n                if (update && tags.length > 0) {\n                    for (let t = 0, tLen = tags.length, tag; t < tLen; t++) {\n                        tag = tags[t];\n                        if (tag && _tags.indexOf(tag) === -1) {\n                            _tags.push(tag);\n                            tagsHTML += '<a title=\"' + tag + '\">' + tag + '</a>';\n                        }\n                    }\n                }\n            }\n            listHTML += '</div>';\n\n            fileBrowserContext.list.innerHTML = listHTML;\n\n            if (update) {\n                fileBrowserContext.items = items;\n                fileBrowserContext.tagArea.innerHTML = tagsHTML;\n                fileBrowserContext.tagElements = fileBrowserContext.tagArea.querySelectorAll('A');\n            }\n        },\n\n        onClickTag: function (e) {\n            const target = e.target;\n            if (!this.util.isAnchor(target)) return;\n\n            const tagName = target.textContent;\n            const fileBrowserPlugin = this.plugins.fileBrowser;\n            const fileBrowserContext = this.context.fileBrowser;\n\n            const selectTag = fileBrowserContext.tagArea.querySelector('a[title=\"' + tagName + '\"]');\n            const selectedTags = fileBrowserContext.selectedTags;\n            const sTagIndex = selectedTags.indexOf(tagName);\n\n            if (sTagIndex > -1){\n                selectedTags.splice(sTagIndex, 1);\n                this.util.removeClass(selectTag, 'on');\n            } else {\n                selectedTags.push(tagName);\n                this.util.addClass(selectTag, 'on');\n            }\n\n            fileBrowserPlugin._drawListItem.call(this,\n                selectedTags.length === 0 ?\n                fileBrowserContext.items :\n                fileBrowserContext.items.filter(function (item) {\n                    return item.tag.some(function (tag) {\n                        return selectedTags.indexOf(tag) > -1;\n                    });\n                }), false);\n        },\n\n        onClickFile: function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            const fileBrowserContext = this.context.fileBrowser;\n            const listEl = fileBrowserContext.list;\n            let target = e.target;\n            let command = null;\n\n            if (target === listEl) return;\n\n            while (listEl !== target.parentNode) {\n                command = target.getAttribute('data-command');\n                if (command) break;\n                target = target.parentNode;\n            }\n\n            if (!command) return;\n\n            const handler = (fileBrowserContext.selectorHandler || this.context[fileBrowserContext.contextPlugin].selectorHandler);\n            this.plugins.fileBrowser.close.call(this);\n            handler(target);\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_MODULES) {\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'fileBrowser', {\n            enumerable: true,\n            writable: false,\n            configurable: false,\n            value: fileBrowser\n        });\n    }\n\n    return fileBrowser;\n}));\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'align',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const icons = core.icons;\n        const context = core.context;\n        context.align = {\n            targetButton: targetElement,\n            _alignList: null,\n            currentAlign: '',\n            defaultDir: core.options.rtl ? 'right' : 'left', \n            icons: {\n                justify: icons.align_justify,\n                left: icons.align_left,\n                right: icons.align_right,\n                center: icons.align_center\n            }\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu(core);\n        let listUl = listDiv.querySelector('ul');\n\n        /** add event listeners */\n        listUl.addEventListener('click', this.pickup.bind(core));\n        context.align._alignList = listUl.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null, listUl = null;\n    },\n\n    setSubmenu: function (core) {\n        const lang = core.lang;\n        const icons = core.icons;\n        const listDiv = core.util.createElement('DIV');\n        const leftDir = core.context.align.defaultDir === 'left';\n\n        const leftMenu = '<li>' +\n            '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyleft\" data-value=\"left\" title=\"' + lang.toolbar.alignLeft + '\">' +\n                '<span class=\"se-list-icon\">' + icons.align_left + '</span>' + lang.toolbar.alignLeft +\n            '</button>' +\n        '</li>';\n\n        const rightMenu = '<li>' +\n            '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyright\" data-value=\"right\" title=\"' + lang.toolbar.alignRight + '\">' +\n                '<span class=\"se-list-icon\">' + icons.align_right +'</span>' + lang.toolbar.alignRight +\n            '</button>' +\n        '</li>';\n\n        listDiv.className = 'se-submenu se-list-layer se-list-align';\n        listDiv.innerHTML = '' +\n            '<div class=\"se-list-inner\">' +\n                '<ul class=\"se-list-basic\">' +\n                    (leftDir ? leftMenu : rightMenu) +\n                    '<li>' +\n                        '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifycenter\" data-value=\"center\" title=\"' + lang.toolbar.alignCenter + '\">' +\n                            '<span class=\"se-list-icon\">' + icons.align_center + '</span>' + lang.toolbar.alignCenter +\n                        '</button>' +\n                    '</li>' +\n                    (leftDir? rightMenu : leftMenu) +\n                    '<li>' +\n                        '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyfull\" data-value=\"justify\" title=\"' + lang.toolbar.alignJustify + '\">' +\n                            '<span class=\"se-list-icon\">' + icons.align_justify + '</span>' + lang.toolbar.alignJustify +\n                        '</button>' +\n                    '</li>' +\n                '</ul>' +\n            '</div>';\n\n        return listDiv;\n    },\n\n    /**\n     * @Override core\n     */\n    active: function (element) {\n        const alignContext = this.context.align;\n        const targetButton = alignContext.targetButton;\n        const target = targetButton.firstElementChild;\n\n        if (!element) {\n            this.util.changeElement(target, alignContext.icons[alignContext.defaultDir]);\n            targetButton.removeAttribute('data-focus');\n        } else if (this.util.isFormatElement(element)) {\n            const textAlign = element.style.textAlign;\n            if (textAlign) {\n                this.util.changeElement(target, alignContext.icons[textAlign] || alignContext.icons[alignContext.defaultDir]);\n                targetButton.setAttribute('data-focus', textAlign);\n                return true;\n            }\n        }\n\n        return false;\n    },\n\n    /**\n     * @Override submenu\n     */\n    on: function () {\n        const alignContext = this.context.align;\n        const alignList = alignContext._alignList;\n        const currentAlign = alignContext.targetButton.getAttribute('data-focus') || alignContext.defaultDir;\n\n        if (currentAlign !== alignContext.currentAlign) {\n            for (let i = 0, len = alignList.length; i < len; i++) {\n                if (currentAlign === alignList[i].getAttribute('data-value')) {\n                    this.util.addClass(alignList[i], 'active');\n                } else {\n                    this.util.removeClass(alignList[i], 'active');\n                }\n            }\n\n            alignContext.currentAlign = currentAlign;\n        }\n    },\n\n    pickup: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let value = null;\n\n        while (!value && !/UL/i.test(target.tagName)) {\n            value = target.getAttribute('data-value');\n            target = target.parentNode;\n        }\n\n        if (!value) return;\n\n        const defaultDir = this.context.align.defaultDir;\n        const selectedFormsts = this.getSelectedElements();\n        for (let i = 0, len = selectedFormsts.length; i < len; i++) {\n            this.util.setStyle(selectedFormsts[i], 'textAlign', (value === defaultDir ? '' : value));\n        }\n\n        this.effectNode = null;\n        this.submenuOff();\n        this.focus();\n        \n        // history stack\n        this.history.push(false);\n    }\n});\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'math',\n    display: 'dialog',\n    add: function (core) {\n        core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a]);\n\n        const context = core.context;\n        context.math = {\n            focusElement: null, // @Override dialog // This element has focus when the dialog is opened.\n            previewElement: null,\n            fontSizeElement: null,\n            defaultFontSize: '',\n            _mathExp: null\n        };\n\n        /** math dialog */\n        let math_dialog = this.setDialog(core);\n        context.math.modal = math_dialog;\n        context.math.focusElement = math_dialog.querySelector('.se-math-exp');\n        context.math.previewElement = math_dialog.querySelector('.se-math-preview');\n        context.math.fontSizeElement = math_dialog.querySelector('.se-math-size');\n        context.math.focusElement.addEventListener('keyup', this._renderMathExp.bind(core, context.math), false);\n        context.math.focusElement.addEventListener('change', this._renderMathExp.bind(core, context.math), false);\n        context.math.fontSizeElement.addEventListener('change', function (e) { this.fontSize = e.target.value; }.bind(context.math.previewElement.style), false);\n\n        /** math controller */\n        let math_controller = this.setController_MathButton(core);\n        context.math.mathController = math_controller;\n        context.math._mathExp = null;\n\n        /** add event listeners */\n        math_dialog.querySelector('form').addEventListener('submit', this.submit.bind(core), false);\n        math_controller.addEventListener('click', this.onClick_mathController.bind(core));\n        context.math.previewElement.style.fontSize = context.math.defaultFontSize;\n\n        /** append html */\n        context.dialog.modal.appendChild(math_dialog);\n        context.element.relative.appendChild(math_controller);\n\n        /** empty memory */\n        math_dialog = null, math_controller = null;\n    },\n\n    /** dialog */\n    setDialog: function (core) {\n        const lang = core.lang;\n        const dialog = core.util.createElement('DIV');\n        const fontSize = core.options.mathFontSize;\n        let defaultFontSize = fontSize[0].value;\n\n        dialog.className = 'se-dialog-content';\n        dialog.style.display = 'none';\n        let html = '' +\n        '<form>' +\n            '<div class=\"se-dialog-header\">' +\n                '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\n                    core.icons.cancel +\n                '</button>' +\n                '<span class=\"se-modal-title\">' + lang.dialogBox.mathBox.title + '</span>' +\n            '</div>' +\n            '<div class=\"se-dialog-body\">' +\n                '<div class=\"se-dialog-form\">' +\n                    '<label>' + lang.dialogBox.mathBox.inputLabel + ' (<a href=\"https://katex.org/docs/supported.html\" target=\"_blank\">KaTeX</a>)</label>' +\n                    '<textarea class=\"se-input-form se-math-exp\" type=\"text\"></textarea>' +\n                '</div>' +\n                '<div class=\"se-dialog-form\">' +\n                    '<label>' + lang.dialogBox.mathBox.fontSizeLabel + '</label>' +\n                    '<select class=\"se-input-select se-math-size\">';\n                    for (let i = 0, len = fontSize.length, f; i < len; i++) {\n                        f = fontSize[i];\n                        if (f.default) defaultFontSize = f.value;\n                        html += '<option value=\"' + f.value + '\"' + (f.default ? ' selected' : '') + '>' + f.text + '</option>';\n                    }\n                html += '</select>' +\n                '</div>' +\n                '<div class=\"se-dialog-form\">' +\n                    '<label>' + lang.dialogBox.mathBox.previewLabel + '</label>' +\n                    '<p class=\"se-math-preview\"></p>' +\n                '</div>' +\n            '</div>' +\n            '<div class=\"se-dialog-footer\">' +\n                '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\n            '</div>' +\n        '</form>';\n\n        core.context.math.defaultFontSize = defaultFontSize;\n        dialog.innerHTML = html;\n        return dialog;\n    },\n\n    /** modify controller button */\n    setController_MathButton: function (core) {\n        const lang = core.lang;\n        const math_btn = core.util.createElement('DIV');\n\n        math_btn.className = 'se-controller se-controller-link';\n        math_btn.innerHTML = '' +\n        '<div class=\"se-arrow se-arrow-up\"></div>' +\n        '<div class=\"link-content\">' +\n            '<div class=\"se-btn-group\">' +\n                '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\n                    core.icons.edit +\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\n                '</button>' +\n                '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\n                    core.icons.delete +\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\n                '</button>' +\n            '</div>' +\n        '</div>' +\n        '';\n\n        return math_btn;\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    open: function () {\n        this.plugins.dialog.open.call(this, 'math', 'math' === this.currentControllerName);\n    },\n\n    /**\n     * @Override core - managedTagsInfo\n     */\n    managedTags: function () {\n        return {\n            className: 'katex',\n            method: function (element) {\n                if (!element.getAttribute('data-exp') || !this.options.katex) return;\n                const dom = this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this, this.util.HTMLDecoder(element.getAttribute('data-exp'))));\n                element.innerHTML = dom.querySelector('.katex').innerHTML;\n            }\n        };\n    },\n\n    _renderer: function (exp) {\n        const katex = this.options.katex;\n        return katex.src.renderToString(exp, katex.options);\n    },\n\n    _renderMathExp: function (contextMath, e) {\n        contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, e.target.value);\n    },\n\n    submit: function (e) {\n        this.showLoading();\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        const submitAction = function () {\n            if (this.context.math.focusElement.value.trim().length === 0) return false;\n\n            const contextMath = this.context.math;\n            const mathExp = contextMath.focusElement.value;\n            const katexEl = contextMath.previewElement.querySelector('.katex');\n\n            if (!katexEl) return false;\n            katexEl.className = '__se__katex ' + katexEl.className;\n            katexEl.setAttribute('contenteditable', false);\n            katexEl.setAttribute('data-exp', this.util.HTMLEncoder(mathExp));\n            katexEl.setAttribute('data-font-size', contextMath.fontSizeElement.value);\n            katexEl.style.fontSize = contextMath.fontSizeElement.value;\n\n            if (!this.context.dialog.updateModal) {\n                const selectedFormats = this.getSelectedElements();\n\n                if (selectedFormats.length > 1) {\n                    const oFormat = this.util.createElement(selectedFormats[0].nodeName);\n                    oFormat.appendChild(katexEl);\n                    if (!this.insertNode(oFormat, null, true)) return false;\n                } else {\n                    if (!this.insertNode(katexEl, null, true)) return false;\n                }\n\n                const empty = this.util.createTextNode(this.util.zeroWidthSpace);\n                katexEl.parentNode.insertBefore(empty, katexEl.nextSibling);\n                this.setRange(katexEl, 0, katexEl, 1);\n            } else {\n                const containerEl = this.util.getParentElement(contextMath._mathExp, '.katex');\n                containerEl.parentNode.replaceChild(katexEl, containerEl);\n                this.setRange(katexEl, 0, katexEl, 1);\n            }\n\n            contextMath.focusElement.value = '';\n            contextMath.fontSizeElement.value = '1em';\n            contextMath.previewElement.style.fontSize = '1em';\n            contextMath.previewElement.innerHTML = '';\n\n            return true;\n        }.bind(this);\n\n        try {\n            if (submitAction()) {\n                this.plugins.dialog.close.call(this);\n                // history stack\n                this.history.push(false);\n            }\n        } catch (e) {\n            this.plugins.dialog.close.call(this);\n        } finally {\n            this.closeLoading();\n        }\n\n        return false;\n    },\n\n    active: function (element) {\n        if (!element) {\n            if (this.controllerArray.indexOf(this.context.math.mathController) > -1) {\n                this.controllersOff();\n            }\n        } else if (element.getAttribute('data-exp')) {\n            if (this.controllerArray.indexOf(this.context.math.mathController) < 0) {\n                this.setRange(element, 0, element, 1);\n                this.plugins.math.call_controller.call(this, element);\n            }\n            return true;\n        }\n\n        return false;\n    },\n\n    on: function (update) {\n        if (!update) {\n            this.plugins.math.init.call(this);\n        } else {\n            const contextMath = this.context.math;\n            if (contextMath._mathExp) {\n                const exp = this.util.HTMLDecoder(contextMath._mathExp.getAttribute('data-exp'));\n                const fontSize = contextMath._mathExp.getAttribute('data-font-size') || '1em';\n                this.context.dialog.updateModal = true;\n                contextMath.focusElement.value = exp;\n                contextMath.fontSizeElement.value = fontSize;\n                contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, exp);\n                contextMath.previewElement.style.fontSize = fontSize;\n            }\n        }\n    },\n\n    call_controller: function (mathTag) {\n        this.context.math._mathExp = mathTag;\n        const mathBtn = this.context.math.mathController;\n\n        this.setControllerPosition(mathBtn, mathTag, 'bottom', {left: 0, top: 0});\n        this.controllersOn(mathBtn, mathTag, 'math');\n    },\n\n    onClick_mathController: function (e) {\n        e.stopPropagation();\n\n        const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n        if (!command) return;\n\n        e.preventDefault();\n\n        if (/update/.test(command)) {\n            this.context.math.focusElement.value = this.util.HTMLDecoder(this.context.math._mathExp.getAttribute('data-exp'));\n            this.plugins.dialog.open.call(this, 'math', true);\n        } else {\n            /** delete */\n            this.util.removeItem(this.context.math._mathExp);\n            this.context.math._mathExp = null;\n            this.focus();\n\n            // history stack\n            this.history.push(false);\n        }\n\n        this.controllersOff();\n    },\n\n    init: function () {\n        const contextMath = this.context.math;\n        contextMath.mathController.style.display = 'none';\n        contextMath._mathExp = null;\n        contextMath.focusElement.value = '';\n        contextMath.previewElement.innerHTML = '';\n    }\n});\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);\n/* harmony import */ var _modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'imageGallery',\n    /**\n     * @description Constructor\n     * @param {Object} core Core object \n     */\n    add: function (core) {\n        core.addModule([_modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0___default.a]);\n\n        const context = core.context;\n        context.imageGallery = {\n            title: core.lang.toolbar.imageGallery, // @Required @Override fileBrowser - File browser window title.\n            url: core.options.imageGalleryUrl, // @Required @Override fileBrowser - File server url.\n            header: core.options.imageGalleryHeader, // @Required @Override fileBrowser - File server http header.\n            listClass: 'se-image-list', // @Required @Override fileBrowser - Class name of list div.\n            itemTemplateHandler: this.drawItems, // @Required @Override fileBrowser - Function that defines the HTML of an file item.\n            selectorHandler: this.setImage.bind(core), // @Required @Override fileBrowser - Function that action when item click.\n            columnSize: 4 // @Option @Override fileBrowser - Number of \"div.se-file-item-column\" to be created (default: 4)\n        };\n    },\n    \n    /**\n     * @Required @Override fileBrowser\n     * @description Open a file browser.\n     * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\n     */\n    open: function (selectorHandler) {\n        this.plugins.fileBrowser.open.call(this, 'imageGallery', selectorHandler);\n    },\n\n    /**\n     * @Required @Override fileBrowser\n     * @description Define the HTML of the item to be put in \"div.se-file-item-column\".\n     * Format: [\n     *      { src: \"image src\", name: \"name(@option)\", alt: \"image alt(@option)\", tag: \"tag name(@option)\" }\n     * ]\n     * @param {Object} item Item of the response data's array\n     */\n    drawItems: function (item) {\n        const srcName = item.src.split('/').pop();\n        return  '<div class=\"se-file-item-img\"><img src=\"' + item.src + '\" alt=\"' + (item.alt || srcName) + '\" data-command=\"pick\">' +\n                    '<div class=\"se-file-img-name se-file-name-back\"></div>' +\n                    '<div class=\"se-file-img-name __se__img_name\">' + (item.name || srcName) + '</div>' +\n                '</div>';\n    },\n\n    setImage: function (target) {\n        this.callPlugin('image', function () {\n            const file = {name: target.parentNode.querySelector('.__se__img_name').textContent, size: 0};\n            this.context.image._altText = target.alt;\n            this.plugins.image.create_image.call(this, target.src, null, this.context.image._origin_w, this.context.image._origin_h, 'none', file);\n        }.bind(this), null);\n    }\n});\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'blockquote',\n    display: 'command',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.blockquote = {\n            targetButton: targetElement,\n            tag: core.util.createElement('BLOCKQUOTE')\n        };\n    },\n\n    /**\n     * @Override core\n     */\n    active: function (element) {\n        if (!element) {\n            this.util.removeClass(this.context.blockquote.targetButton, 'active');\n        } else if (/blockquote/i.test(element.nodeName)) {\n            this.util.addClass(this.context.blockquote.targetButton, 'active');\n            return true;\n        }\n        \n        return false;\n    },\n\n    /**\n     * @Override core\n     */\n    action: function () {\n        const currentBlockquote = this.util.getParentElement(this.getSelectionNode(), 'blockquote');\n\n        if (currentBlockquote) {\n            this.detachRangeFormatElement(currentBlockquote, null, null, false, false);\n        } else {\n            this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(false));\n        }\n    }\n});\n\n/***/ }),\n/* 15 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'font',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.font = {\n            targetText: targetElement.querySelector('.txt'),\n            targetTooltip: targetElement.parentNode.querySelector('.se-tooltip-text'),\n            _fontList: null,\n            currentFont: ''\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu(core);\n\n        /** add event listeners */\n        listDiv.querySelector('.se-list-inner').addEventListener('click', this.pickup.bind(core));\n\n        context.font._fontList = listDiv.querySelectorAll('ul li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function (core) {\n        const option = core.options;\n        const lang = core.lang;\n        const listDiv = core.util.createElement('DIV');\n\n        listDiv.className = 'se-submenu se-list-layer se-list-font-family';\n\n        let font, text, i, len;\n        let fontList = !option.font ?\n            [\n                'Arial',\n                'Comic Sans MS',\n                'Courier New',\n                'Impact',\n                'Georgia',\n                'tahoma',\n                'Trebuchet MS',\n                'Verdana'\n            ] : option.font;\n\n        let list = '<div class=\"se-list-inner\">' +\n                '<ul class=\"se-list-basic\">' +\n                    '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n        for (i = 0, len = fontList.length; i < len; i++) {\n            font = fontList[i];\n            text = font.split(',')[0];\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + font + '\" data-txt=\"' + text + '\" title=\"' + text + '\" style=\"font-family:' + font + ';\">' + text + '</button></li>';\n        }\n        list += '</ul></div>';\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @Override core\n     */\n    active: function (element) {\n        const target = this.context.font.targetText;\n        const tooltip = this.context.font.targetTooltip;\n\n        if (!element) {\n            const font = this.lang.toolbar.font;\n            this.util.changeTxt(target, font);\n            this.util.changeTxt(tooltip, font);\n        } else if (element.style && element.style.fontFamily.length > 0) {\n            const selectFont = element.style.fontFamily.replace(/[\"']/g,'');\n            this.util.changeTxt(target, selectFont);\n            this.util.changeTxt(tooltip, selectFont);\n            return true;\n        }\n\n        return false;\n    },\n\n     /**\n     * @Override submenu\n     */\n    on: function () {\n        const fontContext = this.context.font;\n        const fontList = fontContext._fontList;\n        const currentFont = fontContext.targetText.textContent;\n\n        if (currentFont !== fontContext.currentFont) {\n            for (let i = 0, len = fontList.length; i < len; i++) {\n                if (currentFont === fontList[i].getAttribute('data-value')) {\n                    this.util.addClass(fontList[i], 'active');\n                } else {\n                    this.util.removeClass(fontList[i], 'active');\n                }\n            }\n\n            fontContext.currentFont = currentFont;\n        }\n    },\n\n    pickup: function (e) {\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        const value = e.target.getAttribute('data-value');\n\n        if (value) {\n            const newNode = this.util.createElement('SPAN');\n            newNode.style.fontFamily = value;\n            this.nodeChange(newNode, ['font-family'], null, null);\n        } else {\n            this.nodeChange(null, ['font-family'], ['span'], true);\n        }\n        \n        this.submenuOff();\n    }\n});\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'fontColor',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        core.addModule([_modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"]]);\r\n\r\n        const context = core.context;\r\n        context.fontColor = {\r\n            previewEl: null,\r\n            colorInput: null,\r\n            colorList: null\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu(core);\r\n        context.fontColor.colorInput = listDiv.querySelector('._se_color_picker_input');\r\n\r\n        /** add event listeners */\r\n        context.fontColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\r\n        listDiv.querySelector('._se_color_picker_submit').addEventListener('click', this.submit.bind(core));\r\n        listDiv.querySelector('._se_color_picker_remove').addEventListener('click', this.remove.bind(core));\r\n        listDiv.addEventListener('click', this.pickup.bind(core));\r\n        context.fontColor.colorList = listDiv.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function (core) {\r\n        const colorArea = core.context.colorPicker.colorListHTML;\r\n        const listDiv = core.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer';\r\n        listDiv.innerHTML = colorArea;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const contextPicker = this.context.colorPicker;\r\n        const contextFontColor = this.context.fontColor;\r\n\r\n        contextPicker._colorInput = contextFontColor.colorInput;\r\n        const color = this.wwComputedStyle.color;\r\n        contextPicker._defaultColor = color ? this.plugins.colorPicker.isHexColor(color) ? color : this.plugins.colorPicker.rgb2hex(color) : \"#333333\";\r\n        contextPicker._styleProperty = 'color';\r\n        contextPicker._colorList = contextFontColor.colorList;\r\n        \r\n        this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\r\n    },\r\n\r\n     /**\r\n     * @Override _colorPicker\r\n     */\r\n    onChangeInput: function (e) {\r\n        this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\r\n    },\r\n\r\n    submit: function () {\r\n        this.plugins.fontColor.applyColor.call(this, this.context.colorPicker._currentColor);\r\n    },\r\n\r\n    pickup: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this.plugins.fontColor.applyColor.call(this, e.target.getAttribute('data-value'));\r\n    },\r\n\r\n    remove: function () {\r\n        this.nodeChange(null, ['color'], ['span'], true);\r\n        this.submenuOff();\r\n    },\r\n\r\n    applyColor: function (color) {\r\n        if (!color) return;\r\n\r\n        const newNode = this.util.createElement('SPAN');\r\n        newNode.style.color = color;\r\n        this.nodeChange(newNode, ['color'], null, null);\r\n\r\n        this.submenuOff();\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'fontSize',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.fontSize = {\n            targetText: targetElement.querySelector('.txt'),\n            _sizeList: null,\n            currentSize: ''\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu(core);\n        let listUl = listDiv.querySelector('ul');\n\n        /** add event listeners */\n        listUl.addEventListener('click', this.pickup.bind(core));\n        context.fontSize._sizeList = listUl.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null, listUl = null;\n    },\n\n    setSubmenu: function (core) {\n        const option = core.options;\n        const lang = core.lang;\n        const listDiv = core.util.createElement('DIV');\n\n        listDiv.className = 'se-submenu se-list-layer se-list-font-size';\n\n        const sizeList = !option.fontSize ? [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72] : option.fontSize;\n\n        let list = '<div class=\"se-list-inner\">' +\n                '<ul class=\"se-list-basic\">' +\n                    '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n        for (let i = 0, unit = option.fontSizeUnit, len = sizeList.length, size; i < len; i++) {\n            size = sizeList[i];\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size + unit + '\" title=\"' + size + unit + '\" style=\"font-size:' + size + unit + ';\">' + size + '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @Override core\n     */\n    active: function (element) {\n        if (!element) {\n            this.util.changeTxt(this.context.fontSize.targetText, this.lang.toolbar.fontSize);\n        } else if (element.style && element.style.fontSize.length > 0) {\n            this.util.changeTxt(this.context.fontSize.targetText, element.style.fontSize);\n            return true;\n        }\n\n        return false;\n    },\n\n     /**\n     * @Override submenu\n     */\n    on: function () {\n        const fontSizeContext = this.context.fontSize;\n        const sizeList = fontSizeContext._sizeList;\n        const currentSize = fontSizeContext.targetText.textContent;\n\n        if (currentSize !== fontSizeContext.currentSize) {\n            for (let i = 0, len = sizeList.length; i < len; i++) {\n                if (currentSize === sizeList[i].getAttribute('data-value')) {\n                    this.util.addClass(sizeList[i], 'active');\n                } else {\n                    this.util.removeClass(sizeList[i], 'active');\n                }\n            }\n\n            fontSizeContext.currentSize = currentSize;\n        }\n    },\n\n    pickup: function (e) {\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n        \n        e.preventDefault();\n        e.stopPropagation();\n\n        const value = e.target.getAttribute('data-value');\n\n        if (value) {\n            const newNode = this.util.createElement('SPAN');\n            newNode.style.fontSize = value;\n            this.nodeChange(newNode, ['font-size'], null, null);\n        } else {\n            this.nodeChange(null, ['font-size'], ['span'], true);\n        }\n\n        this.submenuOff();\n    }\n});\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'formatBlock',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.formatBlock = {\n            targetText: targetElement.querySelector('.txt'),\n            targetTooltip: targetElement.parentNode.querySelector('.se-tooltip-text'),\n            _formatList: null,\n            currentFormat: ''\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu(core);\n\n        /** add event listeners */\n        listDiv.querySelector('ul').addEventListener('click', this.pickUp.bind(core));\n        context.formatBlock._formatList = listDiv.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function (core) {\n        const option = core.options;\n        const lang_toolbar = core.lang.toolbar;\n        const listDiv = core.util.createElement('DIV');\n        listDiv.className = 'se-submenu se-list-layer se-list-format';\n\n        const defaultFormats = ['p', 'div', 'blockquote', 'pre', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n        const formatList = !option.formats || option.formats.length === 0 ? defaultFormats : option.formats;\n\n        let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n        for (let i = 0, len = formatList.length, format, tagName, command, name, h, attrs, className; i < len; i++) {\n            format = formatList[i];\n            \n            if (typeof format === 'string' && defaultFormats.indexOf(format) > -1) {\n                tagName = format.toLowerCase();\n                command = tagName === 'blockquote' ? 'range' : tagName === 'pre' ? 'free' : 'replace';\n                h = /^h/.test(tagName) ? tagName.match(/\\d+/)[0] : '';\n                name = lang_toolbar['tag_' + (h ? 'h' : tagName)] + h;\n                className = '';\n                attrs = '';\n            } else {\n                tagName = format.tag.toLowerCase();\n                command = format.command;\n                name = format.name || tagName;\n                className = format.class;\n                attrs = className ? ' class=\"' + className + '\"' : '';\n            }\n\n            list += '<li>' +\n                '<button type=\"button\" class=\"se-btn-list\" data-command=\"' + command + '\" data-value=\"' + tagName + '\" data-class=\"' + className + '\" title=\"' + name + '\">' +\n                    '<' + tagName + attrs + '>' + name + '</' + tagName + '>' +\n                '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @Override core\n     */\n    active: function (element) {\n        let formatTitle = this.lang.toolbar.formats;\n        const target = this.context.formatBlock.targetText;\n        const tooltip = this.context.formatBlock.targetTooltip;\n\n        if (!element) {\n            this.util.changeTxt(target, formatTitle);\n            this.util.changeTxt(tooltip, formatTitle);\n        } else if (this.util.isFormatElement(element)) {\n            const formatContext = this.context.formatBlock;\n            const formatList = formatContext._formatList;\n            const nodeName = element.nodeName.toLowerCase();\n            const className = (element.className.match(/(\\s|^)__se__format__[^\\s]+/) || [''])[0].trim();\n\n            for (let i = 0, len = formatList.length, f; i < len; i++) {\n                f = formatList[i];\n                if (nodeName === f.getAttribute('data-value') && className === f.getAttribute('data-class')) {\n                    formatTitle = f.title;\n                    break;\n                }\n            }\n\n            this.util.changeTxt(target, formatTitle);\n            this.util.changeTxt(tooltip, formatTitle);\n            target.setAttribute('data-value', nodeName);\n            target.setAttribute('data-class', className);\n\n            return true;\n        }\n\n        return false;\n    },\n\n     /**\n     * @Override submenu\n     */\n    on: function () {\n        const formatContext = this.context.formatBlock;\n        const formatList = formatContext._formatList;\n        const target = formatContext.targetText;\n        const currentFormat = (target.getAttribute('data-value') || '') + (target.getAttribute('data-class') || '');\n\n        if (currentFormat !== formatContext.currentFormat) {\n            for (let i = 0, len = formatList.length, f; i < len; i++) {\n                f = formatList[i];\n                if (currentFormat === f.getAttribute('data-value') + f.getAttribute('data-class')) {\n                    this.util.addClass(f, 'active');\n                } else {\n                    this.util.removeClass(f, 'active');\n                }\n            }\n\n            formatContext.currentFormat = currentFormat;\n        }\n    },\n\n    pickUp: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let command = null, value = null, tag = null, className = '';\n        \n        while (!command && !/UL/i.test(target.tagName)) {\n            command = target.getAttribute('data-command');\n            value = target.getAttribute('data-value');\n            className = target.getAttribute('data-class');\n            if (command) {\n                tag = target.firstChild;\n                break;\n            }\n            target = target.parentNode;\n        }\n\n        if (!command) return;\n\n        // blockquote\n        if (command === 'range') {\n            const rangeElement = tag.cloneNode(false);\n            this.applyRangeFormatElement(rangeElement);\n        }\n        // free, replace\n        else {\n            let range = this.getRange();\n            let selectedFormsts = this.getSelectedElementsAndComponents(false);\n\n            if (selectedFormsts.length === 0) {\n                range = this.getRange_addLine(range, null);\n                selectedFormsts = this.getSelectedElementsAndComponents(false);\n                if (selectedFormsts.length === 0) return;\n            }\n\n            const startOffset = range.startOffset;\n            const endOffset = range.endOffset;\n\n            const util = this.util;\n            let first = selectedFormsts[0];\n            let last = selectedFormsts[selectedFormsts.length - 1];\n            const firstPath = util.getNodePath(range.startContainer, first, null, null);\n            const lastPath = util.getNodePath(range.endContainer, last, null, null);\n            \n            // remove selected list\n            const rlist = this.detachList(selectedFormsts, false);\n            if (rlist.sc) first = rlist.sc;\n            if (rlist.ec) last = rlist.ec;\n\n            // change format tag\n            this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\n            const modifiedFormsts = this.getSelectedElementsAndComponents(false);\n\n            // free format\n            if (command === 'free') {\n                const len = modifiedFormsts.length - 1;\n                let parentNode = modifiedFormsts[len].parentNode;\n                let freeElement = tag.cloneNode(false);\n                const focusElement = freeElement;\n    \n                for (let i = len, f, html, before, next, inner, isComp, first = true; i >= 0; i--) {\n                    f = modifiedFormsts[i];\n                    if (f === (!modifiedFormsts[i + 1] ? null : modifiedFormsts[i + 1].parentNode)) continue;\n    \n                    isComp = util.isComponent(f);\n                    html = isComp ? '' : f.innerHTML.replace(/(?!>)\\s+(?=<)|\\n/g, ' ');\n                    before = util.getParentElement(f, function (current) {\n                        return current.parentNode === parentNode;\n                    });\n    \n                    if (parentNode !== f.parentNode || isComp) {\n                        if (util.isFormatElement(parentNode)) {\n                            parentNode.parentNode.insertBefore(freeElement, parentNode.nextSibling);\n                            parentNode = parentNode.parentNode;\n                        } else {\n                            parentNode.insertBefore(freeElement, before ? before.nextSibling : null);\n                            parentNode = f.parentNode;\n                        }\n\n                        next = freeElement.nextSibling;\n                        if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\n                            freeElement.innerHTML += '<BR>' + next.innerHTML;\n                            util.removeItem(next);\n                        }\n\n                        freeElement = tag.cloneNode(false);\n                        first = true;\n                    }\n    \n                    inner = freeElement.innerHTML;\n                    freeElement.innerHTML = ((first || !html || !inner || /<br>$/i.test(html)) ? html : html + '<BR>') + inner;\n\n                    if (i === 0) {\n                        parentNode.insertBefore(freeElement, f);\n                        next = f.nextSibling;\n                        if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\n                            freeElement.innerHTML += '<BR>' + next.innerHTML;\n                            util.removeItem(next);\n                        }\n\n                        const prev = freeElement.previousSibling;\n                        if (prev && freeElement.nodeName === prev.nodeName && util.isSameAttributes(freeElement, prev)) {\n                            prev.innerHTML += '<BR>' + freeElement.innerHTML;\n                            util.removeItem(freeElement);\n                        }\n                    }\n\n                    if (!isComp) util.removeItem(f);\n                    if (!!html) first = false;\n                }\n    \n                this.setRange(focusElement, 0, focusElement, 0);\n            }\n            // replace format\n            else {\n                for (let i = 0, len = modifiedFormsts.length, node, newFormat; i < len; i++) {\n                    node = modifiedFormsts[i];\n                    \n                    if ((node.nodeName.toLowerCase() !== value.toLowerCase() || (node.className.match(/(\\s|^)__se__format__[^\\s]+/) || [''])[0].trim() !== className) && !util.isComponent(node)) {\n                        newFormat = tag.cloneNode(false);\n                        util.copyFormatAttributes(newFormat, node);\n                        newFormat.innerHTML = node.innerHTML;\n    \n                        node.parentNode.replaceChild(newFormat, node);\n                    }\n    \n                    if (i === 0) first = newFormat || node;\n                    if (i === len - 1) last = newFormat || node;\n                    newFormat = null;\n                }\n    \n                this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\n            }\n\n            // history stack\n            this.history.push(false);\n        }\n\n        this.submenuOff();\n    }\n});\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'hiliteColor',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        core.addModule([_modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"]]);\r\n\r\n        const context = core.context;\r\n        context.hiliteColor = {\r\n            previewEl: null,\r\n            colorInput: null,\r\n            colorList: null\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu(core);\r\n        context.hiliteColor.colorInput = listDiv.querySelector('._se_color_picker_input');\r\n\r\n        /** add event listeners */\r\n        context.hiliteColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\r\n        listDiv.querySelector('._se_color_picker_submit').addEventListener('click', this.submit.bind(core));\r\n        listDiv.querySelector('._se_color_picker_remove').addEventListener('click', this.remove.bind(core));\r\n        listDiv.addEventListener('click', this.pickup.bind(core));\r\n\r\n        context.hiliteColor.colorList = listDiv.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function (core) {\r\n        const colorArea = core.context.colorPicker.colorListHTML;\r\n        const listDiv = core.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer';\r\n        listDiv.innerHTML = colorArea;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const contextPicker = this.context.colorPicker;\r\n        const contextHiliteColor = this.context.hiliteColor;\r\n\r\n        contextPicker._colorInput = contextHiliteColor.colorInput;\r\n        const color = this.wwComputedStyle.backgroundColor;\r\n        contextPicker._defaultColor = color ? this.plugins.colorPicker.isHexColor(color) ? color : this.plugins.colorPicker.rgb2hex(color) : \"#ffffff\";\r\n        contextPicker._styleProperty = 'backgroundColor';\r\n        contextPicker._colorList = contextHiliteColor.colorList;\r\n        \r\n        this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\r\n    },\r\n\r\n     /**\r\n     * @Override _colorPicker\r\n     */\r\n    onChangeInput: function (e) {\r\n        this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\r\n    },\r\n\r\n    submit: function () {\r\n        this.plugins.hiliteColor.applyColor.call(this, this.context.colorPicker._currentColor);\r\n    },\r\n\r\n    pickup: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this.plugins.hiliteColor.applyColor.call(this, e.target.getAttribute('data-value'));\r\n    },\r\n\r\n    remove: function () {\r\n        this.nodeChange(null, ['background-color'], ['span'], true);\r\n        this.submenuOff();\r\n    },\r\n\r\n    applyColor: function (color) {\r\n        if (!color) return;\r\n        \r\n        const newNode = this.util.createElement('SPAN');\r\n        newNode.style.backgroundColor = color;\r\n        this.nodeChange(newNode, ['background-color'], null, null);\r\n        \r\n        this.submenuOff();\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'horizontalRule',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        core.context.horizontalRule = {\n            currentHR: null,\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu(core);\n\n        /** add event listeners */\n        listDiv.querySelector('ul').addEventListener('click', this.horizontalRulePick.bind(core));\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function (core) {\n        const lang = core.lang;\n        const listDiv = core.util.createElement('DIV');\n\n        listDiv.className = 'se-submenu se-list-layer se-list-line';\n        listDiv.innerHTML = '' +\n            '<div class=\"se-list-inner\">' +\n                '<ul class=\"se-list-basic\">' +\n                    '<li>' +\n                        '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"solid\" title=\"' + lang.toolbar.hr_solid + '\">' +\n                            '<hr style=\"border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;\" />' +\n                        '</button>' +\n                    '</li>' +\n                    '<li>' +\n                        '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dotted\" title=\"' + lang.toolbar.hr_dotted + '\">' +\n                            '<hr style=\"border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;\" />' +\n                        '</button>' +\n                    '</li>' +\n                    '<li>' +\n                        '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dashed\" title=\"' + lang.toolbar.hr_dashed + '\">' +\n                            '<hr style=\"border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;\" />' +\n                        '</button>' +\n                    '</li>' +\n                '</ul>' +\n            '</div>';\n\n        return listDiv;\n    },\n\n    active: function (element) {\n        if (!element) {\n            if (this.util.hasClass(this.context.horizontalRule.currentHR, 'on')) {\n                this.controllersOff();\n            }\n        } else if (/HR/i.test(element.nodeName)) {\n            this.context.horizontalRule.currentHR = element;\n            if (!this.util.hasClass(element, 'on')) {\n                this.util.addClass(element, 'on');\n                this.controllersOn('hr', this.util.removeClass.bind(this.util, element, 'on'));\n            }\n            return true;\n        }\n\n        return false;\n    },\n\n    appendHr: function (className) {\n        const oHr = this.util.createElement('HR');\n        oHr.className = className;\n        this.focus();\n        return this.insertComponent(oHr, false, true, false);\n    },\n\n    horizontalRulePick: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let value = null;\n        \n        while (!value && !/UL/i.test(target.tagName)) {\n            value = target.getAttribute('data-value');\n            target = target.parentNode;\n        }\n\n        if (!value) return;\n\n        const oNode = this.plugins.horizontalRule.appendHr.call(this, '__se__' + value);\n        if (oNode) {\n            this.setRange(oNode, 0, oNode, 0);\n            this.submenuOff();\n        }\n    }\n});\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 20197 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'lineHeight',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.lineHeight = {\n            _sizeList: null,\n            currentSize: -1\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu(core);\n        let listUl = listDiv.querySelector('ul');\n\n        /** add event listeners */\n        listUl.addEventListener('click', this.pickup.bind(core));\n\n        context.lineHeight._sizeList = listUl.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null, listUl = null;\n    },\n\n    setSubmenu: function (core) {\n        const option = core.options;\n        const lang = core.lang;\n        const listDiv = core.util.createElement('DIV');\n\n        listDiv.className = 'se-submenu se-list-layer';\n\n        const sizeList = !option.lineHeights ? [\n            {text: '1', value: 1},\n            {text: '1.15', value: 1.15},\n            {text: '1.5', value: 1.5},\n            {text: '2', value: 2}\n        ] : option.lineHeights;\n\n        let list = '<div class=\"se-list-inner\">' +\n                '<ul class=\"se-list-basic\">' +\n                    '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n        for (let i = 0, len = sizeList.length, text, size; i < len; i++) {\n            size = sizeList[i];\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size.value + '\" title=\"' + size.text + '\">' + size.text + '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @Override submenu\n     */\n    on: function () {\n        const lineHeightContext = this.context.lineHeight;\n        const sizeList = lineHeightContext._sizeList;\n        const format = this.util.getFormatElement(this.getSelectionNode());\n        const currentSize = !format ? '' : format.style.lineHeight + '';\n\n        if (currentSize !== lineHeightContext.currentSize) {\n            for (let i = 0, len = sizeList.length; i < len; i++) {\n                if (currentSize === sizeList[i].getAttribute('data-value')) {\n                    this.util.addClass(sizeList[i], 'active');\n                } else {\n                    this.util.removeClass(sizeList[i], 'active');\n                }\n            }\n\n            lineHeightContext.currentSize = currentSize;\n        }\n    },\n\n    pickup: function (e) {\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n        \n        e.preventDefault();\n        e.stopPropagation();\n\n        const value = e.target.getAttribute('data-value') || '';\n        const formats = this.getSelectedElements();\n\n        for (let i = 0, len = formats.length; i < len; i++) {\n            formats[i].style.lineHeight = value;\n        }\n\n        this.submenuOff();\n\n        // history stack\n        this.history.push(false);\n    }\n});\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'list',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.list = {\n            targetButton: targetElement,\n            _list: null,\n            currentList: '',\n            icons: {\n                bullets: core.icons.list_bullets,\n                number: core.icons.list_number\n            }\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu(core);\n        let listUl = listDiv.querySelector('ul');\n\n        /** add event listeners */\n        listUl.addEventListener('click', this.pickup.bind(core));\n        context.list._list = listUl.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null, listUl = null;\n    },\n\n    setSubmenu: function (core) {\n        const lang = core.lang;\n        const listDiv = core.util.createElement('DIV');\n\n        listDiv.className = 'se-submenu se-list-layer';\n        listDiv.innerHTML = '' +\n            '<div class=\"se-list-inner\">' +\n                '<ul class=\"se-list-basic\">' +\n                    '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"OL\" title=\"' + lang.toolbar.orderList + '\">' +\n                        core.icons.list_number +\n                    '</button></li>' +\n                    '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"UL\" title=\"' + lang.toolbar.unorderList + '\">' +\n                        core.icons.list_bullets +\n                    '</button></li>' +\n                '</ul>' +\n            '</div>';\n\n        return listDiv;\n    },\n\n     /**\n     * @Override core\n     */\n    active: function (element) {\n        const button = this.context.list.targetButton;\n        const icon = button.firstElementChild;\n        const util = this.util;\n\n        if (!element) {\n            button.removeAttribute('data-focus');\n            util.changeElement(icon, this.context.list.icons.number);\n            util.removeClass(button, 'active');\n        } else if (util.isList(element)) {\n            const nodeName = element.nodeName;\n            button.setAttribute('data-focus', nodeName);\n            util.addClass(button, 'active');\n            if (/UL/i.test(nodeName)) {\n                util.changeElement(icon, this.context.list.icons.bullets);\n            } else {\n                util.changeElement(icon, this.context.list.icons.number);\n            }\n            \n            return true;\n        }\n\n        return false;\n    },\n\n     /**\n     * @Override submenu\n     */\n    on: function () {\n        const listContext = this.context.list;\n        const list = listContext._list;\n        const currentList = listContext.targetButton.getAttribute('data-focus') || '';\n\n        if (currentList !== listContext.currentList) {\n            for (let i = 0, len = list.length; i < len; i++) {\n                if (currentList === list[i].getAttribute('data-command')) {\n                    this.util.addClass(list[i], 'active');\n                } else {\n                    this.util.removeClass(list[i], 'active');\n                }\n            }\n\n            listContext.currentList = currentList;\n        }\n    },\n\n    editList: function (command, selectedCells, detach) {\n        let range = this.getRange();\n        let selectedFormats = !selectedCells ? this.getSelectedElementsAndComponents(false) : selectedCells;\n\n        if (selectedFormats.length === 0) {\n            if (selectedCells) return;\n            range = this.getRange_addLine(range, null);\n            selectedFormats = this.getSelectedElementsAndComponents(false);\n            if (selectedFormats.length === 0) return;\n        }\n        \n        const util = this.util;\n        util.sortByDepth(selectedFormats, true);\n\n        // merge\n        let firstSel = selectedFormats[0];\n        let lastSel = selectedFormats[selectedFormats.length - 1];\n        let topEl = (util.isListCell(firstSel) || util.isComponent(firstSel)) && !firstSel.previousElementSibling ? firstSel.parentNode.previousElementSibling : firstSel.previousElementSibling;\n        let bottomEl = (util.isListCell(lastSel) || util.isComponent(lastSel)) && !lastSel.nextElementSibling ? lastSel.parentNode.nextElementSibling : lastSel.nextElementSibling;\n\n        const originRange = {\n            sc: range.startContainer,\n            so: range.startOffset,\n            ec: range.endContainer,\n            eo: range.endOffset\n        };\n\n        let isRemove = true;\n\n        for (let i = 0, len = selectedFormats.length; i < len; i++) {\n            if (!util.isList(util.getRangeFormatElement(selectedFormats[i], function (current) {\n                return this.getRangeFormatElement(current) && current !== selectedFormats[i];\n            }.bind(util)))) {\n                isRemove = false;\n                break;\n            }\n        }\n\n        if (isRemove && (!topEl || (firstSel.tagName !== topEl.tagName || command !== topEl.tagName.toUpperCase())) && (!bottomEl || (lastSel.tagName !== bottomEl.tagName || command !== bottomEl.tagName.toUpperCase()))) {\n            if (detach) {\n                for (let i = 0, len = selectedFormats.length; i < len; i++) {\n                    for (let j = i - 1; j >= 0; j--) {\n                        if (selectedFormats[j].contains(selectedFormats[i])) {\n                            selectedFormats.splice(i, 1);\n                            i--; len--;\n                            break;\n                        }\n                    }\n                }\n            }\n\n            const currentFormat = util.getRangeFormatElement(firstSel);\n            const cancel = currentFormat && currentFormat.tagName === command;\n            let rangeArr, tempList;\n            const passComponent = function (current) {\n                return !this.isComponent(current);\n            }.bind(util);\n            \n            if (!cancel) tempList = util.createElement(command);\n\n            for (let i = 0, len = selectedFormats.length, r, o; i < len; i++) {\n                o = util.getRangeFormatElement(selectedFormats[i], passComponent);\n                if (!o || !util.isList(o)) continue;\n\n                if (!r) {\n                    r = o;\n                    rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\n                } else {\n                    if (r !== o) {\n                        if (detach && util.isListCell(o.parentNode)) {\n                            this.plugins.list._detachNested.call(this, rangeArr.f);\n                        } else {\n                            this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\n                        }\n                        \n                        o = selectedFormats[i].parentNode;\n                        if (!cancel) tempList = util.createElement(command);\n                        \n                        r = o;\n                        rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\n                    } else {\n                        rangeArr.f.push(util.getParentElement(selectedFormats[i], 'LI'));\n                    }\n                }\n                \n                if (i === len - 1) {\n                    if (detach && util.isListCell(o.parentNode)) {\n                        this.plugins.list._detachNested.call(this, rangeArr.f);\n                    } else {\n                        this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\n                    }\n                }\n            }\n        } else {\n            const topElParent = topEl ? topEl.parentNode : topEl;\n            const bottomElParent = bottomEl ? bottomEl.parentNode : bottomEl;\n            topEl = topElParent && !util.isWysiwygDiv(topElParent) && topElParent.nodeName === command ? topElParent : topEl;\n            bottomEl = bottomElParent && !util.isWysiwygDiv(bottomElParent) && bottomElParent.nodeName === command ? bottomElParent : bottomEl;\n\n            const mergeTop = topEl && topEl.tagName === command;\n            const mergeBottom = bottomEl && bottomEl.tagName === command;\n            \n            let list = mergeTop ? topEl : util.createElement(command);\n            let firstList = null;\n            let lastList = null;\n            let topNumber = null;\n            let bottomNumber = null;\n\n            const passComponent = function (current) {\n                return !this.isComponent(current) && !this.isList(current);\n            }.bind(util);\n            \n            for (let i = 0, len = selectedFormats.length, newCell, fTag, isCell, next, originParent, nextParent, parentTag, siblingTag, rangeTag; i < len; i++) {\n                fTag = selectedFormats[i];\n                if (fTag.childNodes.length === 0 && !util._isIgnoreNodeChange(fTag)) {\n                    util.removeItem(fTag);\n                    continue;\n                }\n                next = selectedFormats[i + 1];\n                originParent = fTag.parentNode;\n                nextParent = next ? next.parentNode : null;\n                isCell = util.isListCell(fTag);\n                rangeTag = util.isRangeFormatElement(originParent) ? originParent : null;\n                parentTag = isCell && !util.isWysiwygDiv(originParent) ? originParent.parentNode : originParent;\n                siblingTag = isCell && !util.isWysiwygDiv(originParent) ? (!next || util.isListCell(parentTag)) ? originParent : originParent.nextSibling : fTag.nextSibling;\n\n                newCell = util.createElement('LI');\n                util.copyFormatAttributes(newCell, fTag);\n                if (util.isComponent(fTag)) {\n                    const isHR = /^HR$/i.test(fTag.nodeName);\n                    if (!isHR) newCell.innerHTML = '<br>';\n                    newCell.innerHTML += fTag.outerHTML;\n                    if (isHR) newCell.innerHTML += '<br>';\n                } else {\n                    const fChildren = fTag.childNodes;\n                    while (fChildren[0]) {\n                        newCell.appendChild(fChildren[0]);\n                    }\n                }\n                list.appendChild(newCell);\n\n                if (!next) lastList = list;\n                if (!next || parentTag !== nextParent || util.isRangeFormatElement(siblingTag)) {\n                    if (!firstList) firstList = list;\n                    if ((!mergeTop || !next || parentTag !== nextParent) && !(next && util.isList(nextParent) && nextParent === originParent)) {\n                        if (list.parentNode !== parentTag) parentTag.insertBefore(list, siblingTag);\n                    }\n                }\n\n                util.removeItem(fTag);\n                if (mergeTop && topNumber === null) topNumber = list.children.length - 1;\n                if (next && (util.getRangeFormatElement(nextParent, passComponent) !== util.getRangeFormatElement(originParent, passComponent) || (util.isList(nextParent) && util.isList(originParent) && util.getElementDepth(nextParent) !== util.getElementDepth(originParent)))) {\n                    list = util.createElement(command);\n                }\n\n                if (rangeTag && rangeTag.children.length === 0) util.removeItem(rangeTag);\n            }\n\n            if (topNumber) {\n                firstList = firstList.children[topNumber];\n            }\n\n            if (mergeBottom) {\n                bottomNumber = list.children.length - 1;\n                list.innerHTML += bottomEl.innerHTML;\n                lastList = list.children[bottomNumber];\n                util.removeItem(bottomEl);\n            }\n        }\n        \n        this.effectNode = null;\n        return originRange;\n    },\n\n    _detachNested: function (cells) {\n        const first = cells[0];\n        const last = cells[cells.length - 1];\n        const next = last.nextElementSibling;\n        const originList = first.parentNode;\n        const sibling = originList.parentNode.nextElementSibling;\n        const parentNode = originList.parentNode.parentNode;\n\n        for (let c = 0, cLen = cells.length; c < cLen; c++) {\n            parentNode.insertBefore(cells[c], sibling);\n        }\n\n        if (next && originList.children.length > 0) {\n            const newList = originList.cloneNode(false);\n            const children = originList.childNodes;\n            const index = this.util.getPositionIndex(next);\n            while (children[index]) {\n                newList.appendChild(children[index]);\n            }\n            last.appendChild(newList);\n        }\n\n        if (originList.children.length === 0) this.util.removeItem(originList);\n        this.util.mergeSameTags(parentNode);\n\n        const edge = this.util.getEdgeChildNodes(first, last);\n\n        return {\n            cc: first.parentNode,\n            sc: edge.sc,\n            ec: edge.ec\n        };\n    },\n\n    editInsideList: function (remove, selectedCells) {\n        selectedCells = !selectedCells ? this.getSelectedElements().filter(function (el) { return this.isListCell(el); }.bind(this.util)) : selectedCells;\n        const cellsLen = selectedCells.length;\n        if (cellsLen === 0 || (!remove && (!this.util.isListCell(selectedCells[0].previousElementSibling) && !this.util.isListCell(selectedCells[cellsLen - 1].nextElementSibling)))) {\n            return {\n                sc: selectedCells[0],\n                so: 0,\n                ec: selectedCells[cellsLen - 1],\n                eo: 1\n            };\n        }\n\n        let originList = selectedCells[0].parentNode;\n        let lastCell = selectedCells[cellsLen - 1];\n        let range = null;\n\n        if (remove) {\n            if (originList !== lastCell.parentNode && this.util.isList(lastCell.parentNode.parentNode) && lastCell.nextElementSibling) {\n                lastCell = lastCell.nextElementSibling;\n                while (lastCell) {\n                    selectedCells.push(lastCell);\n                    lastCell = lastCell.nextElementSibling;\n                }\n            }\n            range = this.plugins.list.editList.call(this, originList.nodeName.toUpperCase(), selectedCells, true);\n        } else {\n            let innerList = this.util.createElement(originList.nodeName);\n            let prev = selectedCells[0].previousElementSibling;\n            let next = lastCell.nextElementSibling;\n            const nodePath = { s: null, e: null, sl: originList, el: originList };\n\n            for (let i = 0, len = cellsLen, c; i < len; i++) {\n                c = selectedCells[i];\n                if (c.parentNode !== originList) {\n                    this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\n                    originList = c.parentNode;\n                    innerList = this.util.createElement(originList.nodeName);\n                }\n                \n                prev = c.previousElementSibling;\n                next = c.nextElementSibling;\n                innerList.appendChild(c);\n            }\n            \n            this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\n\n            const sc = this.util.getNodeFromPath(nodePath.s, nodePath.sl);\n            const ec = this.util.getNodeFromPath(nodePath.e, nodePath.el);\n            range = {\n                sc: sc,\n                so: 0,\n                ec: ec,\n                eo: ec.textContent.length\n            };\n        }\n\n        return range;\n    },\n\n    _insiedList: function (originList, innerList, prev, next, nodePath) {\n        let insertPrev = false;\n\n        if (prev && innerList.tagName === prev.tagName) {\n            const children = innerList.children;\n            while (children[0]) {\n                prev.appendChild(children[0]);\n            }\n\n            innerList = prev;\n            insertPrev = true;\n        }\n\n        if (next && innerList.tagName === next.tagName) {\n            const children = next.children;\n            while (children[0]) {\n                innerList.appendChild(children[0]);\n            }\n\n            const temp = next.nextElementSibling;\n            next.parentNode.removeChild(next);\n            next = temp;\n        }\n\n        if (!insertPrev) {\n            if (this.util.isListCell(prev)) {\n                originList = prev;\n                next = null;\n            }\n\n            originList.insertBefore(innerList, next);\n\n            if (!nodePath.s) {\n                nodePath.s = this.util.getNodePath(innerList.firstElementChild.firstChild, originList, null);\n                nodePath.sl = originList;\n            }\n\n            const slPath = originList.contains(nodePath.sl) ? this.util.getNodePath(nodePath.sl, originList) : null;\n            nodePath.e = this.util.getNodePath(innerList.lastElementChild.firstChild, originList, null);\n            nodePath.el = originList;\n\n            this.util.mergeSameTags(originList, [nodePath.s, nodePath.e, slPath], false);\n            this.util.mergeNestedTags(originList);\n            if (slPath) nodePath.sl = this.util.getNodeFromPath(slPath, originList);\n        }\n\n        return innerList;\n    },\n\n    pickup: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let command = '';\n\n        while (!command && !/^UL$/i.test(target.tagName)) {\n            command = target.getAttribute('data-command');\n            target = target.parentNode;\n        }\n\n        if (!command) return;\n\n        const range = this.plugins.list.editList.call(this, command, null, false);\n        if (range) this.setRange(range.sc, range.so, range.ec, range.eo);\n\n        this.submenuOff();\n\n        // history stack\n        this.history.push(false);\n    }\n});\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'paragraphStyle',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.paragraphStyle = {\n            _classList: null\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu(core);\n\n        /** add event listeners */\n        listDiv.querySelector('ul').addEventListener('click', this.pickUp.bind(core));\n\n        context.paragraphStyle._classList = listDiv.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function (core) {\n        const option = core.options;\n        const listDiv = core.util.createElement('DIV');\n        listDiv.className = 'se-submenu se-list-layer se-list-format';\n\n        const menuLang = core.lang.menu;\n        const defaultList = {\n            spaced: {\n                name: menuLang.spaced,\n                class: '__se__p-spaced',\n                _class: ''\n            },\n            bordered: {\n                name: menuLang.bordered,\n                class: '__se__p-bordered',\n                _class: ''\n            },\n            neon: {\n                name: menuLang.neon,\n                class: '__se__p-neon',\n                _class: ''\n            }\n        };\n        const paragraphStyles = !option.paragraphStyles || option.paragraphStyles.length === 0 ? ['spaced', 'bordered', 'neon'] : option.paragraphStyles;\n\n        let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n        for (let i = 0, len = paragraphStyles.length, p, name, attrs, _class; i < len; i++) {\n            p = paragraphStyles[i];\n\n            if (typeof p === 'string') {\n                const defaultStyle = defaultList[p.toLowerCase()];\n                if (!defaultStyle) continue;\n                p = defaultStyle;\n            }\n\n            name = p.name;\n            attrs = p.class ? ' class=\"' + p.class + '\"' : '';\n            _class = p._class;\n\n            list += '<li>' +\n                '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class: '') + '\" data-value=\"' + p.class + '\" title=\"' + name + '\">' +\n                    '<div' + attrs + '>' + name + '</div>' +\n                '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @Override submenu\n     */\n    on: function () {\n        const paragraphContext = this.context.paragraphStyle;\n        const paragraphList = paragraphContext._classList;\n        const currentFormat = this.util.getFormatElement(this.getSelectionNode());\n\n        for (let i = 0, len = paragraphList.length; i < len; i++) {\n            if (this.util.hasClass(currentFormat, paragraphList[i].getAttribute('data-value'))) {\n                this.util.addClass(paragraphList[i], 'active');\n            } else {\n                this.util.removeClass(paragraphList[i], 'active');\n            }\n        }\n    },\n\n    pickUp: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let value = null;\n        \n        while (!/^UL$/i.test(target.tagName)) {\n            value = target.getAttribute('data-value');\n            if (value) break;\n            target = target.parentNode;\n        }\n\n        if (!value) return;\n\n        let selectedFormsts = this.getSelectedElements();\n        if (selectedFormsts.length === 0) {\n            this.getRange_addLine(this.getRange(), null);\n            selectedFormsts = this.getSelectedElements();\n            if (selectedFormsts.length === 0) return;\n        }\n\n        // change format class\n        const toggleClass = this.util.hasClass(target, 'active') ? this.util.removeClass.bind(this.util) : this.util.addClass.bind(this.util);\n        for (let i = 0, len = selectedFormsts.length; i < len; i++) {\n            toggleClass(selectedFormsts[i], value);\n        }\n\n        this.submenuOff();\n\n        // history stack\n        this.history.push(false);\n    }\n});\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'table',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        let contextTable = context.table = {\r\n            _element: null,\r\n            _tdElement: null,\r\n            _trElement: null,\r\n            _trElements: null,\r\n            _tableXY: [],\r\n            _maxWidth: true,\r\n            _fixedColumn: false,\r\n            _rtl: core.options.rtl,\r\n            cellControllerTop: core.options.tableCellControllerPosition === 'top',\r\n            resizeText: null,\r\n            headerButton: null,\r\n            mergeButton: null,\r\n            splitButton: null,\r\n            splitMenu: null,\r\n            maxText: core.lang.controller.maxSize,\r\n            minText: core.lang.controller.minSize,\r\n            _physical_cellCnt: 0,\r\n            _logical_cellCnt: 0,\r\n            _rowCnt: 0,\r\n            _rowIndex: 0,\r\n            _physical_cellIndex: 0,\r\n            _logical_cellIndex: 0,\r\n            _current_colSpan: 0,\r\n            _current_rowSpan: 0,\r\n            icons: {\r\n                expansion: core.icons.expansion,\r\n                reduction: core.icons.reduction\r\n            }\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu(core);\r\n        let tablePicker = listDiv.querySelector('.se-controller-table-picker');\r\n\r\n        contextTable.tableHighlight = listDiv.querySelector('.se-table-size-highlighted');\r\n        contextTable.tableUnHighlight = listDiv.querySelector('.se-table-size-unhighlighted');\r\n        contextTable.tableDisplay = listDiv.querySelector('.se-table-size-display');\r\n        if (core.options.rtl) contextTable.tableHighlight.style.left = (10 * 18 - 13) + 'px';\r\n\r\n        /** set table controller */\r\n        let tableController = this.setController_table(core);\r\n        contextTable.tableController = tableController;\r\n        contextTable.resizeButton = tableController.querySelector('._se_table_resize');\r\n        contextTable.resizeText = tableController.querySelector('._se_table_resize > span > span');\r\n        contextTable.columnFixedButton = tableController.querySelector('._se_table_fixed_column');\r\n        contextTable.headerButton = tableController.querySelector('._se_table_header');\r\n\r\n        /** set resizing */\r\n        let resizeDiv = this.setController_tableEditor(core, contextTable.cellControllerTop);\r\n        contextTable.resizeDiv = resizeDiv;\r\n        contextTable.splitMenu = resizeDiv.querySelector('.se-btn-group-sub');\r\n        contextTable.mergeButton = resizeDiv.querySelector('._se_table_merge_button');\r\n        contextTable.splitButton = resizeDiv.querySelector('._se_table_split_button');\r\n        contextTable.insertRowAboveButton = resizeDiv.querySelector('._se_table_insert_row_a');\r\n        contextTable.insertRowBelowButton = resizeDiv.querySelector('._se_table_insert_row_b');\r\n        \r\n        /** add event listeners */\r\n        tablePicker.addEventListener('mousemove', this.onMouseMove_tablePicker.bind(core, contextTable));\r\n        tablePicker.addEventListener('click', this.appendTable.bind(core));\r\n        resizeDiv.addEventListener('click', this.onClick_tableController.bind(core));\r\n        tableController.addEventListener('click', this.onClick_tableController.bind(core));\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** append controller */\r\n        context.element.relative.appendChild(resizeDiv);\r\n        context.element.relative.appendChild(tableController);\r\n\r\n        /** empty memory */\r\n        listDiv = null, tablePicker = null, resizeDiv = null, tableController = null, contextTable = null;\r\n    },\r\n\r\n    setSubmenu: function (core) {\r\n        const listDiv = core.util.createElement('DIV');\r\n        listDiv.className = 'se-submenu se-selector-table';\r\n        listDiv.innerHTML = '' +\r\n            '<div class=\"se-table-size\">' +\r\n                '<div class=\"se-table-size-picker se-controller-table-picker\"></div>' +\r\n                '<div class=\"se-table-size-highlighted\"></div>' +\r\n                '<div class=\"se-table-size-unhighlighted\"></div>' +\r\n            '</div>' +\r\n            '<div class=\"se-table-size-display\">1 x 1</div>';\r\n\r\n        return listDiv;\r\n    },\r\n\r\n    setController_table: function (core) {\r\n        const lang = core.lang;\r\n        const icons = core.icons;\r\n        const tableResize = core.util.createElement('DIV');\r\n\r\n        tableResize.className = 'se-controller se-controller-table';\r\n        tableResize.innerHTML = '' +\r\n            '<div>' +\r\n                '<div class=\"se-btn-group\">' +\r\n                    '<button type=\"button\" data-command=\"resize\" class=\"se-btn se-tooltip _se_table_resize\">' +\r\n                        icons.expansion +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.maxSize + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"layout\" class=\"se-btn se-tooltip _se_table_fixed_column\">' +\r\n                        icons.fixed_column_width +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.fixedColumnWidth + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"header\" class=\"se-btn se-tooltip _se_table_header\">' +\r\n                        icons.table_header +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.tableHeader + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"remove\" class=\"se-btn se-tooltip\">' +\r\n                        icons.delete +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\r\n                    '</button>' +\r\n                '</div>' +\r\n            '</div>';\r\n\r\n        return tableResize;\r\n    },\r\n\r\n    setController_tableEditor: function (core, cellControllerTop) {\r\n        const lang = core.lang;\r\n        const icons = core.icons;\r\n        const tableResize = core.util.createElement('DIV');\r\n\r\n        tableResize.className = 'se-controller se-controller-table-cell';\r\n        tableResize.innerHTML = (cellControllerTop ? '' : '<div class=\"se-arrow se-arrow-up\"></div>') +\r\n            '<div class=\"se-btn-group\">' +\r\n                '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"up\" class=\"se-btn se-tooltip _se_table_insert_row_a\">' +\r\n                    icons.insert_row_above +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertRowAbove + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"down\" class=\"se-btn se-tooltip _se_table_insert_row_b\">' +\r\n                    icons.insert_row_below +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertRowBelow + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"delete\" data-value=\"row\" class=\"se-btn se-tooltip\">' +\r\n                    icons.delete_row +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.deleteRow + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"merge\" class=\"_se_table_merge_button se-btn se-tooltip\" disabled>' +\r\n                    icons.merge_cell +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mergeCells + '</span></span>' +\r\n                '</button>' +\r\n            '</div>' +\r\n            '<div class=\"se-btn-group\" style=\"padding-top: 0;\">' +\r\n                '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"left\" class=\"se-btn se-tooltip\">' +\r\n                    icons.insert_column_left +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertColumnBefore + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"right\" class=\"se-btn se-tooltip\">' +\r\n                    icons.insert_column_right +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertColumnAfter + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"delete\" data-value=\"cell\" class=\"se-btn se-tooltip\">' +\r\n                    icons.delete_column +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.deleteColumn + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"onsplit\" class=\"_se_table_split_button se-btn se-tooltip\">' +\r\n                    icons.split_cell +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.splitCells + '</span></span>' +\r\n                '</button>' +\r\n                '<div class=\"se-btn-group-sub sun-editor-common se-list-layer se-table-split\">' +\r\n                    '<div class=\"se-list-inner\">' +\r\n                        '<ul class=\"se-list-basic\">' +\r\n                            '<li class=\"se-btn-list\" data-command=\"split\" data-value=\"vertical\" style=\"line-height:32px;\" title=\"' + lang.controller.VerticalSplit + '\">' + \r\n                                lang.controller.VerticalSplit + '</li>' +\r\n                            '<li class=\"se-btn-list\" data-command=\"split\" data-value=\"horizontal\" style=\"line-height:32px;\" title=\"' + lang.controller.HorizontalSplit + '\">' + \r\n                                lang.controller.HorizontalSplit + '</li>' +\r\n                        '</ul>' +\r\n                    '</div>' +\r\n                '</div>' +\r\n            '</div>';\r\n\r\n        return tableResize;\r\n    },\r\n\r\n    appendTable: function () {\r\n        const oTable = this.util.createElement('TABLE');\r\n        const createCells = this.plugins.table.createCells;\r\n\r\n        const x = this.context.table._tableXY[0];\r\n        let y = this.context.table._tableXY[1];\r\n        let tableHTML = '<tbody>';\r\n        while (y > 0) {\r\n            tableHTML += '<tr>' + createCells.call(this, 'td', x) + '</tr>';\r\n            --y;\r\n        }\r\n        tableHTML += '</tbody>';\r\n        oTable.innerHTML = tableHTML;\r\n\r\n        const changed = this.insertComponent(oTable, false, true, false);\r\n        \r\n        if (changed) {\r\n            const firstTd = oTable.querySelector('td div');\r\n            this.setRange(firstTd, 0, firstTd, 0);\r\n            this.plugins.table.reset_table_picker.call(this);\r\n        }\r\n    },\r\n\r\n    createCells: function (nodeName, cnt, returnElement) {\r\n        nodeName = nodeName.toLowerCase();\r\n\r\n        if (!returnElement) {\r\n            let cellsHTML = '';\r\n            while (cnt > 0) {\r\n                cellsHTML += '<' +nodeName + '><div><br></div></' + nodeName + '>';\r\n                cnt--;\r\n            }\r\n            return cellsHTML;\r\n        } else {\r\n            const cell = this.util.createElement(nodeName);\r\n            cell.innerHTML = '<div><br></div>';\r\n            return cell;\r\n        }\r\n    },\r\n\r\n    onMouseMove_tablePicker: function (contextTable, e) {\r\n        e.stopPropagation();\r\n\r\n        let x = this._w.Math.ceil(e.offsetX / 18);\r\n        let y = this._w.Math.ceil(e.offsetY / 18);\r\n        x = x < 1 ? 1 : x;\r\n        y = y < 1 ? 1 : y;\r\n        \r\n        if (contextTable._rtl) {\r\n            contextTable.tableHighlight.style.left = (x * 18 - 13) + 'px';\r\n            x = 11 - x;\r\n        }\r\n        \r\n        contextTable.tableHighlight.style.width = x + 'em';\r\n        contextTable.tableHighlight.style.height = y + 'em';\r\n\r\n        // let x_u = x < 5 ? 5 : (x > 9 ? 10 : x + 1);\r\n        // let y_u = y < 5 ? 5 : (y > 9 ? 10 : y + 1);\r\n        // contextTable.tableUnHighlight.style.width = x_u + 'em';\r\n        // contextTable.tableUnHighlight.style.height = y_u + 'em';\r\n\r\n        this.util.changeTxt(contextTable.tableDisplay, x + ' x ' + y);\r\n        contextTable._tableXY = [x, y];\r\n    },\r\n\r\n    reset_table_picker: function () {\r\n        if (!this.context.table.tableHighlight) return;\r\n\r\n        const highlight = this.context.table.tableHighlight.style;\r\n        const unHighlight = this.context.table.tableUnHighlight.style;\r\n\r\n        highlight.width = '1em';\r\n        highlight.height = '1em';\r\n        unHighlight.width = '10em';\r\n        unHighlight.height = '10em';\r\n\r\n        this.util.changeTxt(this.context.table.tableDisplay, '1 x 1');\r\n        this.submenuOff();\r\n    },\r\n\r\n    init: function () {\r\n        const contextTable = this.context.table;\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        tablePlugin._removeEvents.call(this);\r\n\r\n        if (tablePlugin._selectedTable) {\r\n            const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\r\n            for (let i = 0, len = selectedCells.length; i < len; i++) {\r\n                this.util.removeClass(selectedCells[i], 'se-table-selected-cell');\r\n            }\r\n        }\r\n\r\n        tablePlugin._toggleEditor.call(this, true);\r\n\r\n        contextTable._element = null;\r\n        contextTable._tdElement = null;\r\n        contextTable._trElement = null;\r\n        contextTable._trElements = null;\r\n        contextTable._tableXY = [];\r\n        contextTable._maxWidth = true;\r\n        contextTable._fixedColumn = false;\r\n        contextTable._physical_cellCnt = 0;\r\n        contextTable._logical_cellCnt = 0;\r\n        contextTable._rowCnt = 0;\r\n        contextTable._rowIndex = 0;\r\n        contextTable._physical_cellIndex = 0;\r\n        contextTable._logical_cellIndex = 0;\r\n        contextTable._current_colSpan = 0;\r\n        contextTable._current_rowSpan = 0;\r\n\r\n        tablePlugin._shift = false;\r\n        tablePlugin._selectedCells = null;\r\n        tablePlugin._selectedTable = null;\r\n        tablePlugin._ref = null;\r\n\r\n        tablePlugin._fixedCell = null;\r\n        tablePlugin._selectedCell = null;\r\n        tablePlugin._fixedCellName = null;\r\n    },\r\n\r\n    /** table edit controller */\r\n    call_controller_tableEdit: function (tdElement) {\r\n        const tablePlugin = this.plugins.table;\r\n        const contextTable = this.context.table;\r\n\r\n        if (!this.getSelection().isCollapsed && !tablePlugin._selectedCell) {\r\n            this.controllersOff();\r\n            this.util.removeClass(tdElement, 'se-table-selected-cell');\r\n            return;\r\n        }\r\n\r\n        const tableElement = contextTable._element || this.plugins.table._selectedTable || this.util.getParentElement(tdElement, 'TABLE');\r\n        contextTable._maxWidth = this.util.hasClass(tableElement, 'se-table-size-100') || tableElement.style.width === '100%' || (!tableElement.style.width && !this.util.hasClass(tableElement, 'se-table-size-auto'));\r\n        contextTable._fixedColumn = this.util.hasClass(tableElement, 'se-table-layout-fixed') || tableElement.style.tableLayout === 'fixed';\r\n        tablePlugin.setTableStyle.call(this, contextTable._maxWidth ? 'width|column' : 'width');\r\n        \r\n        tablePlugin.setPositionControllerTop.call(this, tableElement);\r\n        tablePlugin.setPositionControllerDiv.call(this, tdElement, tablePlugin._shift);\r\n        \r\n        if (!tablePlugin._shift) this.controllersOn(contextTable.resizeDiv, contextTable.tableController, tablePlugin.init.bind(this), tdElement, 'table');\r\n    },\r\n\r\n    setPositionControllerTop: function (tableElement) {\r\n        this.setControllerPosition(this.context.table.tableController, tableElement, 'top', {left: 0, top: 0});\r\n    },\r\n\r\n    setPositionControllerDiv: function (tdElement, reset) {\r\n        const contextTable = this.context.table;\r\n        const resizeDiv = contextTable.resizeDiv;\r\n        \r\n        this.plugins.table.setCellInfo.call(this, tdElement, reset);\r\n        \r\n        if (contextTable.cellControllerTop) {\r\n            this.setControllerPosition(resizeDiv, contextTable._element, 'top', {left: contextTable.tableController.offsetWidth, top: 0});\r\n        } else {\r\n            this.setControllerPosition(resizeDiv, tdElement, 'bottom', {left: 0, top: 0});\r\n        }\r\n    },\r\n\r\n    setCellInfo: function (tdElement, reset) {\r\n        const contextTable = this.context.table;\r\n        const table = contextTable._element = this.plugins.table._selectedTable || this.util.getParentElement(tdElement, 'TABLE');\r\n\r\n        if (/THEAD/i.test(table.firstElementChild.nodeName)) {\r\n            this.util.addClass(contextTable.headerButton, 'active');\r\n        } else {\r\n            this.util.removeClass(contextTable.headerButton, 'active');\r\n        }\r\n\r\n        if (reset || contextTable._physical_cellCnt === 0) {\r\n            if (contextTable._tdElement !== tdElement) {\r\n                contextTable._tdElement = tdElement;\r\n                contextTable._trElement = tdElement.parentNode;\r\n            }\r\n\r\n            const rows = contextTable._trElements = table.rows;\r\n            const cellIndex = tdElement.cellIndex;\r\n\r\n            let cellCnt = 0;\r\n            for (let i = 0, cells = rows[0].cells, len = rows[0].cells.length; i < len; i++) {\r\n                cellCnt += cells[i].colSpan;\r\n            }\r\n\r\n            // row cnt, row index\r\n            const rowIndex = contextTable._rowIndex = contextTable._trElement.rowIndex;\r\n            contextTable._rowCnt = rows.length;\r\n\r\n            // cell cnt, physical cell index\r\n            contextTable._physical_cellCnt = contextTable._trElement.cells.length;\r\n            contextTable._logical_cellCnt = cellCnt;\r\n            contextTable._physical_cellIndex = cellIndex;\r\n\r\n            // span\r\n            contextTable._current_colSpan = contextTable._tdElement.colSpan - 1;\r\n            contextTable._current_rowSpan - contextTable._trElement.cells[cellIndex].rowSpan - 1;\r\n\r\n            // find logcal cell index\r\n            let rowSpanArr = [];\r\n            let spanIndex = [];\r\n            for (let i = 0, cells, colSpan; i <= rowIndex; i++) {\r\n                cells = rows[i].cells;\r\n                colSpan = 0;\r\n                for (let c = 0, cLen = cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\r\n                    cell = cells[c];\r\n                    cs = cell.colSpan - 1;\r\n                    rs = cell.rowSpan - 1;\r\n                    logcalIndex = c + colSpan;\r\n\r\n                    if (spanIndex.length > 0) {\r\n                        for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                            arr = spanIndex[r];\r\n                            if (arr.row > i) continue;\r\n                            if (logcalIndex >= arr.index) {\r\n                                colSpan += arr.cs;\r\n                                logcalIndex += arr.cs;\r\n                                arr.rs -= 1;\r\n                                arr.row = i + 1;\r\n                                if (arr.rs < 1) {\r\n                                    spanIndex.splice(r, 1);\r\n                                    r--;\r\n                                }  \r\n                            } else if (c === cLen - 1) {\r\n                                arr.rs -= 1;\r\n                                arr.row = i + 1;\r\n                                if (arr.rs < 1) {\r\n                                    spanIndex.splice(r, 1);\r\n                                    r--;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // logcal cell index\r\n                    if (i === rowIndex && c === cellIndex) {\r\n                        contextTable._logical_cellIndex = logcalIndex;\r\n                        break;\r\n                    }\r\n\r\n                    if (rs > 0) {\r\n                        rowSpanArr.push({\r\n                            index: logcalIndex,\r\n                            cs: cs + 1,\r\n                            rs: rs,\r\n                            row: -1\r\n                        });\r\n                    }\r\n                    \r\n                    colSpan += cs;\r\n                }\r\n\r\n                spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {return a.index - b.index;});\r\n                rowSpanArr = [];\r\n            }\r\n\r\n            rowSpanArr = null;\r\n            spanIndex = null;\r\n        }\r\n    },\r\n\r\n    editTable: function (type, option) {\r\n        const tablePlugin = this.plugins.table;\r\n        const contextTable = this.context.table;\r\n        const table = contextTable._element;\r\n        const isRow = type === 'row';\r\n\r\n        if (isRow) {\r\n            const tableAttr = contextTable._trElement.parentNode;\r\n            if (/^THEAD$/i.test(tableAttr.nodeName)) {\r\n                if (option === 'up') {\r\n                    return;\r\n                } else if (!tableAttr.nextElementSibling || !/^TBODY$/i.test(tableAttr.nextElementSibling.nodeName)) {\r\n                    table.innerHTML += '<tbody><tr>' + tablePlugin.createCells.call(this, 'td', contextTable._logical_cellCnt, false) + '</tr></tbody>';\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n        // multi\r\n        if (tablePlugin._ref) {\r\n            const positionCell = contextTable._tdElement;\r\n            const selectedCells = tablePlugin._selectedCells;\r\n            // multi - row\r\n            if (isRow) {\r\n                // remove row\r\n                if (!option) {\r\n                    let row = selectedCells[0].parentNode;\r\n                    const removeCells = [selectedCells[0]];\r\n\r\n                    for (let i = 1, len = selectedCells.length, cell; i < len; i++) {\r\n                        cell = selectedCells[i];\r\n                        if (row !== cell.parentNode) {\r\n                            removeCells.push(cell);\r\n                            row = cell.parentNode;\r\n                        }\r\n                    }\r\n\r\n                    for (let i = 0, len = removeCells.length; i < len; i++) {\r\n                        tablePlugin.setCellInfo.call(this, removeCells[i], true);\r\n                        tablePlugin.editRow.call(this, option);\r\n                    }\r\n                } else { // edit row\r\n                    tablePlugin.setCellInfo.call(this, option === 'up' ? selectedCells[0] : selectedCells[selectedCells.length - 1], true);\r\n                    tablePlugin.editRow.call(this, option, positionCell);\r\n                }\r\n            } else { // multi - cell\r\n                const firstRow = selectedCells[0].parentNode;\r\n                // remove cell\r\n                if (!option) {\r\n                    const removeCells = [selectedCells[0]];\r\n                    \r\n                    for (let i = 1, len = selectedCells.length, cell; i < len; i++) {\r\n                        cell = selectedCells[i];\r\n                        if (firstRow === cell.parentNode) {\r\n                            removeCells.push(cell);\r\n                        } else {\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    for (let i = 0, len = removeCells.length; i < len; i++) {\r\n                        tablePlugin.setCellInfo.call(this, removeCells[i], true);\r\n                        tablePlugin.editCell.call(this, option);\r\n                    }\r\n                } else { // edit cell\r\n                    let rightCell = null;\r\n\r\n                    for (let i = 0, len = selectedCells.length - 1; i < len; i++) {\r\n                        if (firstRow !== selectedCells[i + 1].parentNode) {\r\n                            rightCell = selectedCells[i];\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    tablePlugin.setCellInfo.call(this, option === 'left' ? selectedCells[0] : rightCell || selectedCells[0], true);\r\n                    tablePlugin.editCell.call(this, option, positionCell);\r\n                }\r\n            }\r\n\r\n            if (!option) tablePlugin.init.call(this);\r\n        } // one\r\n        else {\r\n            tablePlugin[isRow ? 'editRow' : 'editCell'].call(this, option);\r\n        }\r\n\r\n        // after remove\r\n        if (!option) {\r\n            const children = table.children;\r\n            for (let i = 0; i < children.length; i++) {\r\n                if (children[i].children.length === 0) {\r\n                    this.util.removeItem(children[i]);\r\n                    i--;\r\n                }\r\n            }\r\n\r\n            if (table.children.length === 0) this.util.removeItem(table);\r\n        }\r\n    },\r\n\r\n    editRow: function (option, positionResetElement) {\r\n        const contextTable = this.context.table;\r\n        const remove = !option;\r\n\r\n        const up = option === 'up';\r\n        const originRowIndex = contextTable._rowIndex;\r\n        const rowIndex = remove || up ? originRowIndex : originRowIndex + contextTable._current_rowSpan + 1;\r\n        const sign = remove ? -1 : 1;\r\n        \r\n        const rows = contextTable._trElements;\r\n        let cellCnt = contextTable._logical_cellCnt;\r\n\r\n        for (let i = 0, len = originRowIndex + (remove ? -1 : 0), cell; i <= len; i++) {\r\n            cell = rows[i].cells;\r\n            if (cell.length === 0) return;\r\n            \r\n            for (let c = 0, cLen = cell.length, rs, cs; c < cLen; c++) {\r\n                rs = cell[c].rowSpan;\r\n                cs = cell[c].colSpan;\r\n                if (rs < 2 && cs < 2) continue;\r\n\r\n                if (rs + i > rowIndex && rowIndex > i) {\r\n                    cell[c].rowSpan = rs + sign;\r\n                    cellCnt -= cs;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (remove) {\r\n            const next = rows[originRowIndex + 1];\r\n            if (next) {\r\n                const spanCells = [];\r\n                let cells = rows[originRowIndex].cells;\r\n                let colSpan = 0;\r\n\r\n                for (let i = 0, len = cells.length, cell, logcalIndex; i < len; i++) {\r\n                    cell = cells[i];\r\n                    logcalIndex = i + colSpan;\r\n                    colSpan += cell.colSpan - 1;\r\n\r\n                    if (cell.rowSpan > 1) {\r\n                        cell.rowSpan -= 1;\r\n                        spanCells.push({cell: cell.cloneNode(false), index: logcalIndex});\r\n                    }\r\n                }\r\n\r\n                if (spanCells.length > 0) {\r\n                    let spanCell = spanCells.shift();\r\n                    cells = next.cells;\r\n                    colSpan = 0;\r\n\r\n                    for (let i = 0, len = cells.length, cell, logcalIndex; i < len; i++) {\r\n                        cell = cells[i];\r\n                        logcalIndex = i + colSpan;\r\n                        colSpan += cell.colSpan - 1;\r\n    \r\n                        if (logcalIndex >= spanCell.index) {\r\n                            i--, colSpan--;\r\n                            colSpan += spanCell.cell.colSpan - 1;\r\n                            next.insertBefore(spanCell.cell, cell);\r\n                            spanCell = spanCells.shift();\r\n                            if (!spanCell) break;\r\n                        }\r\n                    }\r\n\r\n                    if (spanCell) {\r\n                        next.appendChild(spanCell.cell);\r\n                        for (let i = 0, len = spanCells.length; i < len; i++) {\r\n                            next.appendChild(spanCells[i].cell);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            contextTable._element.deleteRow(rowIndex);\r\n        } else {\r\n            const newRow = contextTable._element.insertRow(rowIndex);\r\n            newRow.innerHTML = this.plugins.table.createCells.call(this, 'td', cellCnt, false);\r\n        }\r\n\r\n        if (!remove) {\r\n            this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\r\n        } else {\r\n            this.controllersOff();\r\n        }\r\n    },\r\n\r\n    editCell: function (option, positionResetElement) {\r\n        const contextTable = this.context.table;\r\n        const util = this.util;\r\n        const remove = !option;\r\n\r\n        const left = option === 'left';\r\n        const colSpan = contextTable._current_colSpan;\r\n        const cellIndex = remove || left ? contextTable._logical_cellIndex : contextTable._logical_cellIndex + colSpan + 1;\r\n\r\n        const rows = contextTable._trElements;\r\n        let rowSpanArr = [];\r\n        let spanIndex = [];\r\n        let passCell = 0;\r\n        const removeCell = [];\r\n        const removeSpanArr = [];\r\n\r\n        for (let i = 0, len = contextTable._rowCnt, row, insertIndex, cells, newCell, applySpan, cellColSpan; i < len; i++) {\r\n            row = rows[i];\r\n            insertIndex = cellIndex;\r\n            applySpan = false;\r\n            cells = row.cells;\r\n            cellColSpan = 0;\r\n\r\n            for (let c = 0, cell, cLen = cells.length, rs, cs, removeIndex; c < cLen; c++) {\r\n                cell = cells[c];\r\n                if (!cell) break;\r\n\r\n                rs = cell.rowSpan - 1;\r\n                cs = cell.colSpan - 1;\r\n\r\n                if (!remove) {\r\n                    if (c >= insertIndex) break;\r\n                    if (cs > 0) {\r\n                        if (passCell < 1 && cs + c >= insertIndex) {\r\n                            cell.colSpan += 1;\r\n                            insertIndex = null;\r\n                            passCell = rs + 1;\r\n                            break;\r\n                        }\r\n\r\n                        insertIndex -= cs;\r\n                    }\r\n\r\n                    if (!applySpan) {\r\n                        for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                            arr = spanIndex[r];\r\n                            insertIndex -= arr.cs;\r\n                            arr.rs -= 1;\r\n                            if (arr.rs < 1) {\r\n                                spanIndex.splice(r, 1);\r\n                                r--;\r\n                            }  \r\n                        }\r\n                        applySpan = true;\r\n                    }\r\n                } else {\r\n                    removeIndex = c + cellColSpan;\r\n\r\n                    if (spanIndex.length > 0) {\r\n                        const lastCell = !cells[c + 1];\r\n                        for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                            arr = spanIndex[r];\r\n                            if (arr.row > i) continue;\r\n\r\n                            if (removeIndex >= arr.index) {\r\n                                cellColSpan += arr.cs;\r\n                                removeIndex = c + cellColSpan;\r\n                                arr.rs -= 1;\r\n                                arr.row = i + 1;\r\n                                if (arr.rs < 1) {\r\n                                    spanIndex.splice(r, 1);\r\n                                    r--;\r\n                                }  \r\n                            } else if (lastCell) {\r\n                                arr.rs -= 1;\r\n                                arr.row = i + 1;\r\n                                if (arr.rs < 1) {\r\n                                    spanIndex.splice(r, 1);\r\n                                    r--;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (rs > 0) {\r\n                        rowSpanArr.push({\r\n                            rs: rs,\r\n                            cs: cs + 1,\r\n                            index: removeIndex,\r\n                            row: -1\r\n                        });\r\n                    }\r\n\r\n                    if (removeIndex >= insertIndex && removeIndex + cs <= insertIndex + colSpan) {\r\n                        removeCell.push(cell);\r\n                    } else if (removeIndex <= insertIndex + colSpan && removeIndex + cs >= insertIndex) {\r\n                        cell.colSpan -= util.getOverlapRangeAtIndex(cellIndex, cellIndex + colSpan, removeIndex, removeIndex + cs); \r\n                    } else if (rs > 0 && (removeIndex < insertIndex || removeIndex + cs > insertIndex + colSpan)) {\r\n                        removeSpanArr.push({\r\n                            cell: cell,\r\n                            i: i,\r\n                            rs: i + rs\r\n                        });\r\n                    }\r\n\r\n                    cellColSpan += cs;\r\n                }\r\n            }\r\n\r\n            spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {return a.index - b.index;});\r\n            rowSpanArr = [];\r\n\r\n            if (!remove) {\r\n                if (passCell > 0) {\r\n                    passCell -= 1;\r\n                    continue;\r\n                }\r\n\r\n                if (insertIndex !== null && cells.length > 0) {\r\n                    newCell = this.plugins.table.createCells.call(this, cells[0].nodeName, 0, true);\r\n                    newCell = row.insertBefore(newCell, cells[insertIndex]);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (remove) {\r\n            let removeFirst, removeEnd;\r\n            for (let r = 0, rLen = removeCell.length, row; r < rLen; r++) {\r\n                row = removeCell[r].parentNode;\r\n                util.removeItem(removeCell[r]);\r\n                if (row.cells.length === 0) {\r\n                    if (!removeFirst) removeFirst = util.getArrayIndex(rows, row);\r\n                    removeEnd = util.getArrayIndex(rows, row);\r\n                    util.removeItem(row);\r\n                }\r\n            }\r\n\r\n            for (let c = 0, cLen = removeSpanArr.length, rowSpanCell; c < cLen; c++) {\r\n                rowSpanCell = removeSpanArr[c];\r\n                rowSpanCell.cell.rowSpan = util.getOverlapRangeAtIndex(removeFirst, removeEnd, rowSpanCell.i, rowSpanCell.rs);\r\n            }\r\n\r\n            this.controllersOff();\r\n        } else {\r\n            this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\r\n        }\r\n    },\r\n\r\n    _closeSplitMenu: null,\r\n    openSplitMenu: function () {\r\n        this.util.addClass(this.context.table.splitButton, 'on');\r\n        this.context.table.splitMenu.style.display = 'inline-table';\r\n\r\n        this.plugins.table._closeSplitMenu = function () {\r\n            this.util.removeClass(this.context.table.splitButton, 'on');\r\n            this.context.table.splitMenu.style.display = 'none';\r\n            this.removeDocEvent('click', this.plugins.table._closeSplitMenu);\r\n            this.plugins.table._closeSplitMenu = null;\r\n        }.bind(this);\r\n\r\n        this.addDocEvent('click', this.plugins.table._closeSplitMenu);\r\n    },\r\n\r\n    splitCells: function (direction) {\r\n        const util = this.util;\r\n        const vertical = direction === 'vertical';\r\n        const contextTable = this.context.table;\r\n        const currentCell = contextTable._tdElement;\r\n        const rows = contextTable._trElements;\r\n        const currentRow = contextTable._trElement;\r\n        const index = contextTable._logical_cellIndex;\r\n        const rowIndex = contextTable._rowIndex;\r\n        const newCell = this.plugins.table.createCells.call(this, currentCell.nodeName, 0, true);\r\n\r\n        // vertical\r\n        if (vertical) {\r\n            const currentColSpan = currentCell.colSpan;\r\n            newCell.rowSpan = currentCell.rowSpan;\r\n\r\n            // colspan > 1\r\n            if (currentColSpan > 1) {\r\n                newCell.colSpan = this._w.Math.floor(currentColSpan/2);\r\n                currentCell.colSpan = currentColSpan - newCell.colSpan;\r\n                currentRow.insertBefore(newCell, currentCell.nextElementSibling);\r\n            } else { // colspan - 1\r\n                let rowSpanArr = [];\r\n                let spanIndex = [];\r\n\r\n                for (let i = 0, len = contextTable._rowCnt, cells, colSpan; i < len; i++) {\r\n                    cells = rows[i].cells;\r\n                    colSpan = 0;\r\n                    for (let c = 0, cLen = cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\r\n                        cell = cells[c];\r\n                        cs = cell.colSpan - 1;\r\n                        rs = cell.rowSpan - 1;\r\n                        logcalIndex = c + colSpan;\r\n\r\n                        if (spanIndex.length > 0) {\r\n                            for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                                arr = spanIndex[r];\r\n                                if (arr.row > i) continue;\r\n                                if (logcalIndex >= arr.index) {\r\n                                    colSpan += arr.cs;\r\n                                    logcalIndex += arr.cs;\r\n                                    arr.rs -= 1;\r\n                                    arr.row = i + 1;\r\n                                    if (arr.rs < 1) {\r\n                                        spanIndex.splice(r, 1);\r\n                                        r--;\r\n                                    }  \r\n                                } else if (c === cLen - 1) {\r\n                                    arr.rs -= 1;\r\n                                    arr.row = i + 1;\r\n                                    if (arr.rs < 1) {\r\n                                        spanIndex.splice(r, 1);\r\n                                        r--;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        if (logcalIndex <= index && rs > 0) {\r\n                            rowSpanArr.push({\r\n                                index: logcalIndex,\r\n                                cs: cs + 1,\r\n                                rs: rs,\r\n                                row: -1\r\n                            });\r\n                        }\r\n\r\n                        if (cell !== currentCell && logcalIndex <= index && logcalIndex + cs >= index + currentColSpan - 1) {\r\n                            cell.colSpan += 1;\r\n                            break;\r\n                        }\r\n\r\n                        if (logcalIndex > index) break;\r\n                        \r\n                        colSpan += cs;\r\n                    }\r\n\r\n                    spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {return a.index - b.index;});\r\n                    rowSpanArr = [];\r\n                }\r\n\r\n                currentRow.insertBefore(newCell, currentCell.nextElementSibling);\r\n            }\r\n        } else { // horizontal\r\n            const currentRowSpan = currentCell.rowSpan;\r\n            newCell.colSpan = currentCell.colSpan;\r\n\r\n            // rowspan > 1\r\n            if (currentRowSpan > 1) {\r\n                newCell.rowSpan = this._w.Math.floor(currentRowSpan/2);\r\n                const newRowSpan = currentRowSpan - newCell.rowSpan;\r\n\r\n                const rowSpanArr = [];\r\n                const nextRowIndex = util.getArrayIndex(rows, currentRow) + newRowSpan;\r\n\r\n                for (let i = 0, cells, colSpan; i < nextRowIndex; i++) {\r\n                    cells = rows[i].cells;\r\n                    colSpan = 0;\r\n                    for (let c = 0, cLen = cells.length, cell, cs, logcalIndex; c < cLen; c++) {\r\n                        logcalIndex = c + colSpan;\r\n                        if (logcalIndex >= index) break;\r\n\r\n                        cell = cells[c];\r\n                        cs = cell.rowSpan - 1;\r\n                        if (cs > 0 && cs + i >= nextRowIndex && logcalIndex < index) {\r\n                            rowSpanArr.push({\r\n                                index: logcalIndex,\r\n                                cs: cell.colSpan\r\n                            });\r\n                        }\r\n                        colSpan += cell.colSpan - 1;\r\n                    }\r\n                }\r\n\r\n                const nextRow = rows[nextRowIndex];\r\n                const nextCells = nextRow.cells;\r\n                let rs = rowSpanArr.shift();\r\n\r\n                for (let c = 0, cLen = nextCells.length, colSpan = 0, cell, cs, logcalIndex, insertIndex; c < cLen; c++) {\r\n                    logcalIndex = c + colSpan;\r\n                    cell = nextCells[c];\r\n                    cs = cell.colSpan - 1;\r\n                    insertIndex = logcalIndex + cs + 1;\r\n\r\n                    if (rs && insertIndex >= rs.index) {\r\n                        colSpan += rs.cs;\r\n                        insertIndex += rs.cs;\r\n                        rs = rowSpanArr.shift();\r\n                    }\r\n                    \r\n                    if (insertIndex >= index || c === cLen - 1) {\r\n                        nextRow.insertBefore(newCell, cell.nextElementSibling);\r\n                        break;\r\n                    }\r\n\r\n                    colSpan += cs;\r\n                }\r\n\r\n                currentCell.rowSpan = newRowSpan;\r\n            } else { // rowspan - 1\r\n                newCell.rowSpan = currentCell.rowSpan;\r\n                const newRow = util.createElement('TR');\r\n                newRow.appendChild(newCell);\r\n\r\n                for (let i = 0, cells; i < rowIndex; i++) {\r\n                    cells = rows[i].cells;\r\n                    if (cells.length === 0) return;\r\n\r\n                    for (let c = 0, cLen = cells.length; c < cLen; c++) {\r\n                        if (i + cells[c].rowSpan - 1 >= rowIndex) {\r\n                            cells[c].rowSpan += 1;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                const physicalIndex = contextTable._physical_cellIndex;\r\n                const cells = currentRow.cells;\r\n\r\n                for (let c = 0, cLen = cells.length; c < cLen; c++) {\r\n                    if (c === physicalIndex) continue;       \r\n                    cells[c].rowSpan += 1;                    \r\n                }\r\n\r\n                currentRow.parentNode.insertBefore(newRow, currentRow.nextElementSibling);\r\n            }\r\n        }\r\n\r\n        this.focusEdge(currentCell);\r\n        this.plugins.table.setPositionControllerDiv.call(this, currentCell, true);\r\n    },\r\n\r\n    mergeCells: function () {\r\n        const tablePlugin = this.plugins.table;\r\n        const contextTable = this.context.table;\r\n        const util = this.util;\r\n\r\n        const ref = tablePlugin._ref;\r\n        const selectedCells = tablePlugin._selectedCells;\r\n        const mergeCell = selectedCells[0];\r\n        \r\n        let emptyRowFirst = null;\r\n        let emptyRowLast = null;\r\n        let cs = (ref.ce - ref.cs) + 1;\r\n        let rs = (ref.re - ref.rs) + 1;\r\n        let mergeHTML = '';\r\n        let row = null;\r\n\r\n        for (let i = 1, len = selectedCells.length, cell, ch; i < len; i++) {\r\n            cell = selectedCells[i];\r\n            if (row !== cell.parentNode) row = cell.parentNode;\r\n\r\n            ch = cell.children;\r\n            for (let c = 0, cLen = ch.length; c < cLen; c++) {\r\n                if (util.isFormatElement(ch[c]) && util.onlyZeroWidthSpace(ch[c].textContent)) {\r\n                    util.removeItem(ch[c]);\r\n                }  \r\n            }\r\n\r\n            mergeHTML += cell.innerHTML;\r\n            util.removeItem(cell);\r\n\r\n            if (row.cells.length === 0) {\r\n                if (!emptyRowFirst) emptyRowFirst = row;\r\n                else emptyRowLast = row;\r\n                rs -= 1;\r\n            }\r\n        }\r\n\r\n        if (emptyRowFirst) {\r\n            const rows = contextTable._trElements;\r\n            const rowIndexFirst = util.getArrayIndex(rows, emptyRowFirst);\r\n            const rowIndexLast = util.getArrayIndex(rows, emptyRowLast || emptyRowFirst);\r\n            const removeRows = [];\r\n    \r\n            for (let i = 0, cells; i <= rowIndexLast; i++) {\r\n                cells = rows[i].cells;\r\n                if (cells.length === 0) {\r\n                    removeRows.push(rows[i]);\r\n                    continue;\r\n                }\r\n    \r\n                for (let c = 0, cLen = cells.length, cell, rs; c < cLen; c++) {\r\n                    cell = cells[c];\r\n                    rs = cell.rowSpan - 1;\r\n                    if (rs > 0 && i + rs >= rowIndexFirst) {\r\n                        cell.rowSpan -= util.getOverlapRangeAtIndex(rowIndexFirst, rowIndexLast, i, i + rs);\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (let i = 0, len = removeRows.length; i < len; i++) {\r\n                util.removeItem(removeRows[i]);\r\n            }\r\n        }\r\n\r\n        mergeCell.innerHTML += mergeHTML;\r\n        mergeCell.colSpan = cs;\r\n        mergeCell.rowSpan = rs;\r\n\r\n        this.controllersOff();\r\n        tablePlugin.setActiveButton.call(this, true, false);\r\n        tablePlugin.call_controller_tableEdit.call(this, mergeCell);\r\n\r\n        util.addClass(mergeCell, 'se-table-selected-cell');\r\n        this.focusEdge(mergeCell);\r\n    },\r\n\r\n    toggleHeader: function () {\r\n        const util = this.util;\r\n        const headerButton = this.context.table.headerButton;\r\n        const active = util.hasClass(headerButton, 'active');\r\n        const table = this.context.table._element;\r\n\r\n        if (!active) {\r\n            const header = util.createElement('THEAD');\r\n            header.innerHTML = '<tr>' + this.plugins.table.createCells.call(this, 'th', this.context.table._logical_cellCnt, false) + '</tr>';\r\n            table.insertBefore(header, table.firstElementChild);\r\n        } else {\r\n            util.removeItem(table.querySelector('thead'));\r\n        }\r\n\r\n        util.toggleClass(headerButton, 'active');\r\n\r\n        if (/TH/i.test(this.context.table._tdElement.nodeName)) {\r\n            this.controllersOff();\r\n        } else {\r\n            this.plugins.table.setPositionControllerDiv.call(this, this.context.table._tdElement, false);\r\n        }\r\n    },\r\n\r\n    setTableStyle: function (styles) {\r\n        const contextTable = this.context.table;\r\n        const tableElement = contextTable._element;\r\n        let icon, span, sizeIcon, text;\r\n\r\n        if (styles.indexOf('width') > -1) {\r\n            icon =  contextTable.resizeButton.firstElementChild;\r\n            span = contextTable.resizeText;\r\n\r\n            if (!contextTable._maxWidth) {\r\n                sizeIcon = contextTable.icons.expansion;\r\n                text = contextTable.maxText;\r\n                contextTable.columnFixedButton.style.display = 'none';\r\n                this.util.removeClass(tableElement, 'se-table-size-100');\r\n                this.util.addClass(tableElement, 'se-table-size-auto');\r\n            } else {\r\n                sizeIcon = contextTable.icons.reduction;\r\n                text = contextTable.minText;\r\n                contextTable.columnFixedButton.style.display = 'block';\r\n                this.util.removeClass(tableElement, 'se-table-size-auto');\r\n                this.util.addClass(tableElement, 'se-table-size-100');\r\n            }\r\n            \r\n            this.util.changeElement(icon, sizeIcon);\r\n            this.util.changeTxt(span, text);\r\n        }\r\n\r\n        if (styles.indexOf('column') > -1) {\r\n            if (!contextTable._fixedColumn) {\r\n                this.util.removeClass(tableElement, 'se-table-layout-fixed');\r\n                this.util.addClass(tableElement, 'se-table-layout-auto');\r\n                this.util.removeClass(contextTable.columnFixedButton, 'active');\r\n            } else {\r\n                this.util.removeClass(tableElement, 'se-table-layout-auto');\r\n                this.util.addClass(tableElement, 'se-table-layout-fixed');\r\n                this.util.addClass(contextTable.columnFixedButton, 'active');\r\n            }\r\n            \r\n        }\r\n    },\r\n\r\n    setActiveButton: function (fixedCell, selectedCell) {\r\n        const contextTable = this.context.table;\r\n\r\n        if (/^TH$/i.test(fixedCell.nodeName)) {\r\n            contextTable.insertRowAboveButton.setAttribute('disabled', true);\r\n            contextTable.insertRowBelowButton.setAttribute('disabled', true);\r\n        } else {\r\n            contextTable.insertRowAboveButton.removeAttribute('disabled');\r\n            contextTable.insertRowBelowButton.removeAttribute('disabled');\r\n        }\r\n\r\n        if (!selectedCell || fixedCell === selectedCell) {\r\n            contextTable.splitButton.removeAttribute('disabled');\r\n            contextTable.mergeButton.setAttribute('disabled', true);\r\n        } else {\r\n            contextTable.splitButton.setAttribute('disabled', true);\r\n            contextTable.mergeButton.removeAttribute('disabled');\r\n        }\r\n    },\r\n\r\n    // multi selecte\r\n    _bindOnSelect: null,\r\n    _bindOffSelect: null,\r\n    _bindOffShift: null,\r\n    _selectedCells: null,\r\n    _shift: false,\r\n    _fixedCell: null,\r\n    _fixedCellName: null,\r\n    _selectedCell: null,\r\n    _selectedTable: null,\r\n    _ref: null,\r\n    _toggleEditor: function (enabled) {\r\n        this.context.element.wysiwyg.setAttribute('contenteditable', enabled);\r\n        if (enabled) this.util.removeClass(this.context.element.wysiwyg, 'se-disabled');\r\n        else this.util.addClass(this.context.element.wysiwyg, 'se-disabled');\r\n    },\r\n\r\n    _offCellMultiSelect: function (e) {\r\n        e.stopPropagation();\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        if (!tablePlugin._shift) {\r\n            tablePlugin._removeEvents.call(this);\r\n            tablePlugin._toggleEditor.call(this, true);\r\n        } else if (tablePlugin._initBind) {\r\n            this._wd.removeEventListener('touchmove', tablePlugin._initBind);\r\n            tablePlugin._initBind = null;\r\n        }\r\n\r\n        if (!tablePlugin._fixedCell || !tablePlugin._selectedTable) return;\r\n        \r\n        tablePlugin.setActiveButton.call(this, tablePlugin._fixedCell, tablePlugin._selectedCell);\r\n        tablePlugin.call_controller_tableEdit.call(this, tablePlugin._selectedCell || tablePlugin._fixedCell);\r\n\r\n        tablePlugin._selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\r\n        if (tablePlugin._selectedCell && tablePlugin._fixedCell) this.focusEdge(tablePlugin._selectedCell);\r\n\r\n        if (!tablePlugin._shift) {\r\n            tablePlugin._fixedCell = null;\r\n            tablePlugin._selectedCell = null;\r\n            tablePlugin._fixedCellName = null;\r\n        }\r\n    },\r\n\r\n    _onCellMultiSelect: function (e) {\r\n        this._antiBlur = true;\r\n        const tablePlugin = this.plugins.table;\r\n        const target = this.util.getParentElement(e.target, this.util.isCell);\r\n\r\n        if (tablePlugin._shift) {\r\n            if (target === tablePlugin._fixedCell) tablePlugin._toggleEditor.call(this, true);\r\n            else tablePlugin._toggleEditor.call(this, false);\r\n        } else if (!tablePlugin._ref) {\r\n            if (target === tablePlugin._fixedCell) return;\r\n            else tablePlugin._toggleEditor.call(this, false);\r\n        }\r\n\r\n        if (!target || target === tablePlugin._selectedCell || tablePlugin._fixedCellName !== target.nodeName || \r\n            tablePlugin._selectedTable !== this.util.getParentElement(target, 'TABLE')) {\r\n            return;\r\n        }\r\n\r\n        tablePlugin._selectedCell = target;\r\n        tablePlugin._setMultiCells.call(this, tablePlugin._fixedCell, target);\r\n    },\r\n\r\n    _setMultiCells: function (startCell, endCell) {\r\n        const tablePlugin = this.plugins.table;\r\n        const rows = tablePlugin._selectedTable.rows;\r\n        const util = this.util;\r\n\r\n        const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\r\n        for (let i = 0, len = selectedCells.length; i < len; i++) {\r\n            util.removeClass(selectedCells[i], 'se-table-selected-cell');\r\n        }\r\n\r\n        if (startCell === endCell) {\r\n            util.addClass(startCell, 'se-table-selected-cell');\r\n            if (!tablePlugin._shift) return;\r\n        }\r\n\r\n        let findSelectedCell = true;\r\n        let spanIndex = [];\r\n        let rowSpanArr = [];\r\n        const ref = tablePlugin._ref = {_i: 0, cs: null, ce: null, rs: null, re: null};\r\n\r\n        for (let i = 0, len = rows.length, cells, colSpan; i < len; i++) {\r\n            cells = rows[i].cells;\r\n            colSpan = 0;\r\n\r\n            for (let c = 0, cLen = cells.length, cell, logcalIndex, cs, rs; c < cLen; c++) {\r\n                cell = cells[c];\r\n                cs = cell.colSpan - 1;\r\n                rs = cell.rowSpan - 1;\r\n                logcalIndex = c + colSpan;\r\n\r\n                if (spanIndex.length > 0) {\r\n                    for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                        arr = spanIndex[r];\r\n                        if (arr.row > i) continue;\r\n                        if (logcalIndex >= arr.index) {\r\n                            colSpan += arr.cs;\r\n                            logcalIndex += arr.cs;\r\n                            arr.rs -= 1;\r\n                            arr.row = i + 1;\r\n                            if (arr.rs < 1) {\r\n                                spanIndex.splice(r, 1);\r\n                                r--;\r\n                            }\r\n                        } else if (c === cLen - 1) {\r\n                            arr.rs -= 1;\r\n                            arr.row = i + 1;\r\n                            if (arr.rs < 1) {\r\n                                spanIndex.splice(r, 1);\r\n                                r--;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (findSelectedCell) {\r\n                    if (cell === startCell || cell === endCell) {\r\n                        ref.cs = ref.cs !== null && ref.cs < logcalIndex ? ref.cs : logcalIndex;\r\n                        ref.ce = ref.ce !== null && ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\r\n                        ref.rs = ref.rs !== null && ref.rs < i ? ref.rs : i;\r\n                        ref.re = ref.re !== null && ref.re > i + rs ? ref.re : i + rs;\r\n                        ref._i += 1;\r\n                    }\r\n                    \r\n                    if (ref._i === 2) {\r\n                        findSelectedCell = false;\r\n                        spanIndex = [];\r\n                        rowSpanArr = [];\r\n                        i = -1;\r\n                        break;\r\n                    }\r\n                } else if (util.getOverlapRangeAtIndex(ref.cs, ref.ce, logcalIndex, logcalIndex + cs) && util.getOverlapRangeAtIndex(ref.rs, ref.re, i, i + rs)) {\r\n                    const newCs = ref.cs < logcalIndex ? ref.cs : logcalIndex;\r\n                    const newCe = ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\r\n                    const newRs = ref.rs < i ? ref.rs : i;\r\n                    const newRe = ref.re > i + rs ? ref.re : i + rs;\r\n\r\n                    if (ref.cs !== newCs || ref.ce !== newCe || ref.rs !== newRs || ref.re !== newRe) {\r\n                        ref.cs = newCs;\r\n                        ref.ce = newCe;\r\n                        ref.rs = newRs;\r\n                        ref.re = newRe;\r\n                        i = -1;\r\n\r\n                        spanIndex = [];\r\n                        rowSpanArr = [];\r\n                        break;\r\n                    }\r\n\r\n                    util.addClass(cell, 'se-table-selected-cell');\r\n                }\r\n\r\n                if (rs > 0) {\r\n                    rowSpanArr.push({\r\n                        index: logcalIndex,\r\n                        cs: cs + 1,\r\n                        rs: rs,\r\n                        row: -1\r\n                    });\r\n                }\r\n\r\n                colSpan += cell.colSpan - 1;\r\n            }\r\n\r\n            spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {return a.index - b.index;});\r\n            rowSpanArr = [];\r\n        }\r\n    },\r\n\r\n    _removeEvents: function () {\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        if (tablePlugin._initBind) {\r\n            this._wd.removeEventListener('touchmove', tablePlugin._initBind);\r\n            tablePlugin._initBind = null;\r\n        }\r\n\r\n        if (tablePlugin._bindOnSelect) {\r\n            this._wd.removeEventListener('mousedown', tablePlugin._bindOnSelect);\r\n            this._wd.removeEventListener('mousemove', tablePlugin._bindOnSelect);\r\n            tablePlugin._bindOnSelect = null;\r\n        }\r\n\r\n        if (tablePlugin._bindOffSelect) {\r\n            this._wd.removeEventListener('mouseup', tablePlugin._bindOffSelect);\r\n            tablePlugin._bindOffSelect = null;\r\n        }\r\n\r\n        if (tablePlugin._bindOffShift) {\r\n            this._wd.removeEventListener('keyup', tablePlugin._bindOffShift);\r\n            tablePlugin._bindOffShift = null;\r\n        }\r\n    },\r\n\r\n    _initBind: null,\r\n    onTableCellMultiSelect: function (tdElement, shift) {\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        tablePlugin._removeEvents.call(this);\r\n        this.controllersOff();\r\n\r\n        tablePlugin._shift = shift;\r\n        tablePlugin._fixedCell = tdElement;\r\n        tablePlugin._fixedCellName = tdElement.nodeName;\r\n        tablePlugin._selectedTable = this.util.getParentElement(tdElement, 'TABLE');\r\n\r\n        const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\r\n        for (let i = 0, len = selectedCells.length; i < len; i++) {\r\n            this.util.removeClass(selectedCells[i], 'se-table-selected-cell');\r\n        }\r\n\r\n        this.util.addClass(tdElement, 'se-table-selected-cell');\r\n        \r\n        tablePlugin._bindOnSelect = tablePlugin._onCellMultiSelect.bind(this);\r\n        tablePlugin._bindOffSelect = tablePlugin._offCellMultiSelect.bind(this);\r\n\r\n        if (!shift) {\r\n            this._wd.addEventListener('mousemove', tablePlugin._bindOnSelect, false);\r\n        } else {\r\n            tablePlugin._bindOffShift = function () {\r\n                this.controllersOn(this.context.table.resizeDiv, this.context.table.tableController, this.plugins.table.init.bind(this), tdElement, 'table');\r\n                if (!tablePlugin._ref) this.controllersOff();\r\n            }.bind(this);\r\n\r\n            this._wd.addEventListener('keyup', tablePlugin._bindOffShift, false);\r\n            this._wd.addEventListener('mousedown', tablePlugin._bindOnSelect, false);\r\n        }\r\n\r\n        this._wd.addEventListener('mouseup', tablePlugin._bindOffSelect, false);\r\n        tablePlugin._initBind = tablePlugin.init.bind(this);\r\n        this._wd.addEventListener('touchmove', tablePlugin._initBind, false);\r\n    },\r\n\r\n    onClick_tableController: function (e) {\r\n        e.stopPropagation();\r\n        const target = e.target.getAttribute('data-command') ? e.target : e.target.parentNode;\r\n\r\n        if (target.getAttribute('disabled')) return;\r\n\r\n        const command = target.getAttribute('data-command');\r\n        const value = target.getAttribute('data-value');\r\n        const option = target.getAttribute('data-option');\r\n        const tablePlugin = this.plugins.table;\r\n        \r\n        if (typeof tablePlugin._closeSplitMenu === 'function') {\r\n            tablePlugin._closeSplitMenu();\r\n            if (command === 'onsplit') return;\r\n        }\r\n\r\n        if (!command) return;\r\n\r\n        e.preventDefault();\r\n        const contextTable = this.context.table;\r\n\r\n        switch (command) {\r\n            case 'insert':\r\n            case 'delete':\r\n                tablePlugin.editTable.call(this, value, option);\r\n                break;\r\n            case 'header':\r\n                tablePlugin.toggleHeader.call(this);\r\n                break;\r\n            case 'onsplit':\r\n                tablePlugin.openSplitMenu.call(this);\r\n                break;\r\n            case 'split':\r\n                tablePlugin.splitCells.call(this, value);\r\n                break;\r\n            case 'merge':\r\n                tablePlugin.mergeCells.call(this);\r\n                break;\r\n            case 'resize':\r\n                contextTable._maxWidth = !contextTable._maxWidth;\r\n                tablePlugin.setTableStyle.call(this, 'width');\r\n                tablePlugin.setPositionControllerTop.call(this, contextTable._element);\r\n                tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\r\n                break;\r\n            case 'layout':\r\n                contextTable._fixedColumn = !contextTable._fixedColumn;\r\n                tablePlugin.setTableStyle.call(this, 'column');\r\n                tablePlugin.setPositionControllerTop.call(this, contextTable._element);\r\n                tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\r\n                break;\r\n            case 'remove':\r\n                const emptyDiv = contextTable._element.parentNode;\r\n                this.util.removeItem(contextTable._element);\r\n                this.controllersOff();\r\n\r\n                if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) { return current.childNodes.length === 0; }, null);\r\n                this.focus();\r\n        }\r\n\r\n        // history stack\r\n        this.history.push(false);\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'template',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.template = {};\n\n        /** set submenu */\n        let templateDiv = this.setSubmenu(core);\n\n        /** add event listeners */\n        templateDiv.querySelector('ul').addEventListener('click', this.pickup.bind(core));\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, templateDiv);\n\n        /** empty memory */\n        templateDiv = null;\n    },\n\n    setSubmenu: function (core) {\n        const templateList = core.options.templates;\n        if (!templateList || templateList.length === 0) {\n            throw Error('[SUNEDITOR.plugins.template.fail] To use the \"template\" plugin, please define the \"templates\" option.');\n        }\n\n        const listDiv = core.util.createElement('DIV');\n        listDiv.className = 'se-list-layer';\n\n        let list = '<div class=\"se-submenu se-list-inner\">' +\n                '<ul class=\"se-list-basic\">';\n        for (let i = 0, len = templateList.length, t; i < len; i++) {\n            t = templateList[i];\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + i + '\" title=\"' + t.name + '\">' + t.name + '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n    pickup: function (e) {\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        const temp = this.options.templates[e.target.getAttribute('data-value')];\n\n        if (temp.html) {\n            this.setContents(temp.html);\n        } else {\n            this.submenuOff();\n            throw Error('[SUNEDITOR.template.fail] cause : \"templates[i].html not found\"');\n        }\n        \n        this.submenuOff();\n    }\n});\n\n/***/ }),\n/* 26 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'textStyle',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.textStyle = {\n            _styleList: null\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu(core);\n        let listUl = listDiv.querySelector('ul');\n\n        /** add event listeners */\n        listUl.addEventListener('click', this.pickup.bind(core));\n\n        context.textStyle._styleList = listDiv.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null, listUl = null;\n    },\n\n    setSubmenu: function (core) {\n        const option = core.options;\n        const listDiv = core.util.createElement('DIV');\n        listDiv.className = 'se-submenu se-list-layer se-list-format';\n\n        const defaultList = {\n            code: {\n                name: core.lang.menu.code,\n                class: '__se__t-code',\n                tag: 'code',\n            },\n            translucent: {\n                name: core.lang.menu.translucent,\n                style: 'opacity: 0.5;',\n                tag: 'span',\n            },\n            shadow: {\n                name: core.lang.menu.shadow,\n                class: '__se__t-shadow',\n                tag: 'span',\n            }\n        };\n        const styleList = !option.textStyles ? core._w.Object.keys(defaultList) : option.textStyles;\n\n        let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n        for (let i = 0, len = styleList.length, t, tag, name, attrs, command, value, _class; i < len; i++) {\n            t = styleList[i];\n            attrs = '', value = '', command = [];\n\n            if (typeof t === 'string') {\n                const defaultStyle = defaultList[t.toLowerCase()];\n                if (!defaultStyle) continue;\n                t = defaultStyle;\n            }\n\n            name = t.name;\n            tag = t.tag || 'span';\n            _class = t._class;\n\n            if (t.style) {\n                attrs += ' style=\"' + t.style + '\"';\n                value += t.style.replace(/:[^;]+(;|$)\\s*/g, ',');\n                command.push('style');\n            }\n            if (t.class) {\n                attrs += ' class=\"' + t.class + '\"';\n                value += '.' + t.class.trim().replace(/\\s+/g, ',.');\n                command.push('class');\n            }\n\n            value = value.replace(/,$/, '');\n\n            list += '<li>' +\n                '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class: '') + '\" data-command=\"' + tag + '\" data-value=\"' + value + '\" title=\"' + name + '\">' +\n                    '<' + tag + attrs + '>' + name +  '</' + tag + '>' +\n                '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @Override submenu\n     */\n    on: function () {\n        const util = this.util;\n        const textStyleContext = this.context.textStyle;\n        const styleButtonList = textStyleContext._styleList;\n        const selectionNode = this.getSelectionNode();\n\n        for (let i = 0, len = styleButtonList.length, btn, data, active; i < len; i++) {\n            btn = styleButtonList[i];\n            data = btn.getAttribute('data-value').split(',');\n            \n            for (let v = 0, node, value; v < data.length; v++) {\n                node = selectionNode;\n                active = false;\n                \n                while (node && !util.isFormatElement(node) && !util.isComponent(node)) {\n                    if (node.nodeName.toLowerCase() === btn.getAttribute('data-command').toLowerCase()) {\n                        value = data[v];\n                        if (/^\\./.test(value) ? util.hasClass(node, value.replace(/^\\./, '')) : !!node.style[value]) {\n                            active = true;\n                            break;\n                        }\n                    }\n                    node = node.parentNode;\n                }\n\n                if (!active) break;\n            }\n\n            active ? util.addClass(btn, 'active') : util.removeClass(btn, 'active');\n        }\n\n    },\n\n    pickup: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let command = null, tag = null;\n        \n        while (!command && !/UL/i.test(target.tagName)) {\n            command = target.getAttribute('data-command');\n            if (command) {\n                tag = target.firstChild;\n                break;\n            }\n            target = target.parentNode;\n        }\n\n        if (!command) return;\n\n        const checkStyles = tag.style.cssText.replace(/:.+(;|$)/g, ',').split(',');\n        checkStyles.pop();\n\n        const classes = tag.classList;\n        for (let i = 0, len = classes.length; i < len; i++) {\n            checkStyles.push('.' + classes[i]);\n        }\n\n        const newNode = this.util.hasClass(target, 'active') ? null : tag.cloneNode(false);\n        const removeNodes = newNode ? null : [tag.nodeName];\n        this.nodeChange(newNode, checkStyles, removeNodes, true);\n\n        this.submenuOff();\n    }\n});\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _modules_anchor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);\n/* harmony import */ var _modules_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2);\n/* harmony import */ var _modules_component__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_modules_component__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _modules_resizing__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6);\n/* harmony import */ var _modules_resizing__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_modules_resizing__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _modules_fileManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(3);\n/* harmony import */ var _modules_fileManager__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_modules_fileManager__WEBPACK_IMPORTED_MODULE_4__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'image',\n    display: 'dialog',\n    add: function (core) {\n        core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_anchor__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"], _modules_component__WEBPACK_IMPORTED_MODULE_2___default.a, _modules_resizing__WEBPACK_IMPORTED_MODULE_3___default.a, _modules_fileManager__WEBPACK_IMPORTED_MODULE_4___default.a]);\n        \n        const options = core.options;\n        const context = core.context;\n        const contextImage = context.image = {\n            _infoList: [], // @Override fileManager\n            _infoIndex: 0, // @Override fileManager\n            _uploadFileLength: 0, // @Override fileManager\n            focusElement: null, // @Override dialog // This element has focus when the dialog is opened.\n            sizeUnit: options._imageSizeUnit,\n            _linkElement: '',\n            _altText: '',\n            _align: 'none',\n            _floatClassRegExp: '__se__float\\\\-[a-z]+',\n            _v_src: {_linkValue: ''},\n            svgDefaultSize: '30%',\n            base64RenderIndex: 0,\n            // @require @Override component\n            _element: null,\n            _cover: null,\n            _container: null,\n            // @Override resizing properties\n            inputX: null,\n            inputY: null,\n            _element_w: 1,\n            _element_h: 1,\n            _element_l: 0,\n            _element_t: 0,\n            _defaultSizeX: 'auto',\n            _defaultSizeY: 'auto',\n            _origin_w: options.imageWidth === 'auto' ? '' : options.imageWidth,\n            _origin_h: options.imageHeight === 'auto' ? '' : options.imageHeight,\n            _proportionChecked: true,\n            _resizing: options.imageResizing,\n            _resizeDotHide: !options.imageHeightShow,\n            _rotation: options.imageRotation,\n            _onlyPercentage: options.imageSizeOnlyPercentage,\n            _ratio: false,\n            _ratioX: 1,\n            _ratioY: 1,\n            _captionShow: true,\n            _captionChecked: false,\n            _caption: null,\n            captionCheckEl: null\n        };\n\n        /** image dialog */\n        let image_dialog = this.setDialog(core);\n        contextImage.modal = image_dialog;\n        contextImage.imgInputFile = image_dialog.querySelector('._se_image_file');\n        contextImage.imgUrlFile = image_dialog.querySelector('._se_image_url');\n        contextImage.focusElement = contextImage.imgInputFile || contextImage.imgUrlFile;\n        contextImage.altText = image_dialog.querySelector('._se_image_alt');\n        contextImage.captionCheckEl = image_dialog.querySelector('._se_image_check_caption');\n        contextImage.previewSrc = image_dialog.querySelector('._se_tab_content_image .se-link-preview');\n\n        /** add event listeners */\n        image_dialog.querySelector('.se-dialog-tabs').addEventListener('click', this.openTab.bind(core));\n        image_dialog.querySelector('form').addEventListener('submit', this.submit.bind(core));\n        if (contextImage.imgInputFile) image_dialog.querySelector('.se-file-remove').addEventListener('click', this._removeSelectedFiles.bind(contextImage.imgInputFile, contextImage.imgUrlFile, contextImage.previewSrc));\n        if (contextImage.imgUrlFile) contextImage.imgUrlFile.addEventListener('input', this._onLinkPreview.bind(contextImage.previewSrc, contextImage._v_src, options.linkProtocol));\n        if (contextImage.imgInputFile && contextImage.imgUrlFile) contextImage.imgInputFile.addEventListener('change', this._fileInputChange.bind(contextImage));\n\n        const imageGalleryButton = image_dialog.querySelector('.__se__gallery');\n        if (imageGalleryButton) imageGalleryButton.addEventListener('click', this._openGallery.bind(core));\n        \n        contextImage.proportion = {};\n        contextImage.inputX = {};\n        contextImage.inputY = {};\n        if (options.imageResizing) {\n            contextImage.proportion = image_dialog.querySelector('._se_image_check_proportion');\n            contextImage.inputX = image_dialog.querySelector('._se_image_size_x');\n            contextImage.inputY = image_dialog.querySelector('._se_image_size_y');\n            contextImage.inputX.value = options.imageWidth;\n            contextImage.inputY.value = options.imageHeight;\n            \n            contextImage.inputX.addEventListener('keyup', this.setInputSize.bind(core, 'x'));\n            contextImage.inputY.addEventListener('keyup', this.setInputSize.bind(core, 'y'));\n\n            contextImage.inputX.addEventListener('change', this.setRatio.bind(core));\n            contextImage.inputY.addEventListener('change', this.setRatio.bind(core));\n            contextImage.proportion.addEventListener('change', this.setRatio.bind(core));\n            \n            image_dialog.querySelector('.se-dialog-btn-revert').addEventListener('click', this.sizeRevert.bind(core));\n        }\n\n        /** append html */\n        context.dialog.modal.appendChild(image_dialog);\n\n        /** link event */\n        core.plugins.anchor.initEvent.call(core, 'image', image_dialog.querySelector('._se_tab_content_url'));\n        contextImage.anchorCtx = core.context.anchor.caller.image;\n\n        /** empty memory */\n        image_dialog = null;\n    },\n\n    /** dialog */\n    setDialog: function (core) {\n        const option = core.options;\n        const lang = core.lang;\n        const dialog = core.util.createElement('DIV');\n\n        dialog.className = 'se-dialog-content se-dialog-image';\n        dialog.style.display = 'none';\n\n        let html = '' +\n            '<div class=\"se-dialog-header\">' +\n                '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\n                    core.icons.cancel +\n                '</button>' +\n                '<span class=\"se-modal-title\">' + lang.dialogBox.imageBox.title + '</span>' +\n            '</div>' +\n            '<div class=\"se-dialog-tabs\">' +\n                '<button type=\"button\" class=\"_se_tab_link active\" data-tab-link=\"image\">' + lang.toolbar.image + '</button>' +\n                '<button type=\"button\" class=\"_se_tab_link\" data-tab-link=\"url\">' + lang.toolbar.link + '</button>' +\n            '</div>' +\n            '<form method=\"post\" enctype=\"multipart/form-data\">' +\n                '<div class=\"_se_tab_content _se_tab_content_image\">' +\n                    '<div class=\"se-dialog-body\"><div style=\"border-bottom: 1px dashed #ccc;\">';\n                    \n                    if (option.imageFileInput) {\n                        html += '' +\n                            '<div class=\"se-dialog-form\">' +\n                                '<label>' + lang.dialogBox.imageBox.file + '</label>' +\n                                '<div class=\"se-dialog-form-files\">' +\n                                    '<input class=\"se-input-form _se_image_file\" type=\"file\" accept=\"' + option.imageAccept + '\"' + (option.imageMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' +\n                                    '<button type=\"button\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\">' + core.icons.cancel + '</button>' +\n                                '</div>' +\n                            '</div>' ;\n                    }\n        \n                    if (option.imageUrlInput) {\n                        html += '' +\n                            '<div class=\"se-dialog-form\">' +\n                                '<label>' + lang.dialogBox.imageBox.url + '</label>' +\n                                '<div class=\"se-dialog-form-files\">' +\n                                    '<input class=\"se-input-form se-input-url _se_image_url\" type=\"text\" />' +\n                                    ((option.imageGalleryUrl && core.plugins.imageGallery) ? '<button type=\"button\" class=\"se-btn se-dialog-files-edge-button __se__gallery\" title=\"' + lang.toolbar.imageGallery + '\">' + core.icons.image_gallery + '</button>' : '') +\n                                '</div>' +\n                                '<pre class=\"se-link-preview\"></pre>' +\n                            '</div>';\n                    }\n        \n                    html += '</div>' +\n                        '<div class=\"se-dialog-form\">' +\n                            '<label>' + lang.dialogBox.imageBox.altText + '</label><input class=\"se-input-form _se_image_alt\" type=\"text\" />' +\n                        '</div>';\n\n            if (option.imageResizing) {\n                const onlyPercentage = option.imageSizeOnlyPercentage;\n                const onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : '';\n                const heightDisplay = !option.imageHeightShow ? ' style=\"display: none !important;\"' : '';\n                html += '<div class=\"se-dialog-form\">';\n                        if (onlyPercentage || !option.imageHeightShow) {\n                            html += '' +\n                            '<div class=\"se-dialog-size-text\">' +\n                                '<label class=\"size-w\">' + lang.dialogBox.size + '</label>' +\n                            '</div>';\n                        } else {\n                            html += '' +\n                            '<div class=\"se-dialog-size-text\">' +\n                                '<label class=\"size-w\">' + lang.dialogBox.width + '</label>' +\n                                '<label class=\"se-dialog-size-x\">&nbsp;</label>' +\n                                '<label class=\"size-h\">' + lang.dialogBox.height + '</label>' +\n                            '</div>';\n                        }\n                        html += '' +\n                            '<input class=\"se-input-control _se_image_size_x\" placeholder=\"auto\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + ' />' +\n                            '<label class=\"se-dialog-size-x\"' + heightDisplay + '>' + (onlyPercentage ? '%' : 'x') + '</label>' +\n                            '<input type=\"text\" class=\"se-input-control _se_image_size_y\" placeholder=\"auto\"' + onlyPercentDisplay + (onlyPercentage ? ' max=\"100\"' : '') + heightDisplay + '/>' +\n                            '<label' + onlyPercentDisplay + heightDisplay + '><input type=\"checkbox\" class=\"se-dialog-btn-check _se_image_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + '</label>' +\n                            '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"se-btn se-dialog-btn-revert\" style=\"float: right;\">' + core.icons.revert + '</button>' +\n                        '</div>' ;\n            }\n\n            html += '' +\n                        '<div class=\"se-dialog-form se-dialog-form-footer\">' +\n                            '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_image_check_caption\" />&nbsp;' + lang.dialogBox.caption + '</label>' +\n                        '</div>' +\n                    '</div>' +\n                '</div>' +\n                '<div class=\"_se_tab_content _se_tab_content_url\" style=\"display: none\">' +\n                    core.context.anchor.forms.innerHTML +\n                '</div>' +\n                '<div class=\"se-dialog-footer\">' +\n                    '<div>' +\n                        '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + '</label>' +\n                        '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + '</label>' +\n                        '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + '</label>' +\n                        '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + '</label>' +\n                    '</div>' +\n                    '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\n                '</div>' +\n            '</form>';\n\n        dialog.innerHTML = html;\n\n        return dialog;\n    },\n\n    _fileInputChange: function () {\n        if (!this.imgInputFile.value) {\n            this.imgUrlFile.removeAttribute('disabled');\n            this.previewSrc.style.textDecoration = '';\n        } else {\n            this.imgUrlFile.setAttribute('disabled', true);\n            this.previewSrc.style.textDecoration = 'line-through';\n        }\n    },\n\n    _removeSelectedFiles: function (urlInput, previewSrc) {\n        this.value = '';\n        if (urlInput) {\n            urlInput.removeAttribute('disabled');\n            previewSrc.style.textDecoration = '';\n        }\n    },\n\n    _openGallery: function () {\n        this.callPlugin('imageGallery', this.plugins.imageGallery.open.bind(this, this.plugins.image._setUrlInput.bind(this.context.image)), null);\n    },\n\n    _setUrlInput: function (target) {\n        this.altText.value = target.alt;\n        this._v_src._linkValue = this.previewSrc.textContent = this.imgUrlFile.value = target.src;\n        this.imgUrlFile.focus();\n    },\n\n    _onLinkPreview: function (context, protocol, e) {\n        const value = e.target.value.trim();\n        context._linkValue = this.textContent = !value ? '' : (protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0) ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\n    },\n\n    /**\n     * @Override @Required fileManager\n     */\n    fileTags: ['img'],\n\n    /**\n     * @Override core, fileManager, resizing\n     * @description It is called from core.selectComponent.\n     * @param {Element} element Target element\n     */\n    select: function (element) {\n        this.plugins.image.onModifyMode.call(this, element, this.plugins.resizing.call_controller_resize.call(this, element, 'image'));\n    },\n\n    /**\n     * @Override fileManager, resizing\n     */\n    destroy: function (element) {\n        const imageEl = element || this.context.image._element;\n        const imageContainer = this.util.getParentElement(imageEl, this.util.isMediaComponent) || imageEl;\n        const dataIndex = imageEl.getAttribute('data-index') * 1;\n        let focusEl = (imageContainer.previousElementSibling || imageContainer.nextElementSibling);\n        \n        const emptyDiv = imageContainer.parentNode;\n        this.util.removeItem(imageContainer);\n        this.plugins.image.init.call(this);\n        this.controllersOff();\n\n        if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) { return current.childNodes.length === 0; }, null);\n\n        // focus\n        this.focusEdge(focusEl);\n        \n        // event\n        this.plugins.fileManager.deleteInfo.call(this, 'image', dataIndex, this.functions.onImageUpload);\n\n        // history stack\n        this.history.push(false);\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    on: function (update) {\n        const contextImage = this.context.image;\n        \n        if (!update) {\n            contextImage.inputX.value = contextImage._origin_w = this.options.imageWidth === contextImage._defaultSizeX ? '' : this.options.imageWidth;\n            contextImage.inputY.value = contextImage._origin_h = this.options.imageHeight === contextImage._defaultSizeY ? '' : this.options.imageHeight;\n            if (contextImage.imgInputFile && this.options.imageMultipleFile) contextImage.imgInputFile.setAttribute('multiple', 'multiple');\n        } else {\n            if (contextImage.imgInputFile && this.options.imageMultipleFile) contextImage.imgInputFile.removeAttribute('multiple');\n        }\n        this.plugins.anchor.on.call(this, contextImage.anchorCtx, update);\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    open: function () {\n        this.plugins.dialog.open.call(this, 'image', 'image' === this.currentControllerName);\n    },\n\n    openTab: function (e) {\n        const modal = this.context.image.modal;\n        const targetElement = (e === 'init' ? modal.querySelector('._se_tab_link') : e.target);\n\n        if (!/^BUTTON$/i.test(targetElement.tagName)) {\n            return false;\n        }\n\n        // Declare all variables\n        const tabName = targetElement.getAttribute('data-tab-link');\n        const contentClassName = '_se_tab_content';\n        let i, tabContent, tabLinks;\n\n        // Get all elements with class=\"tabcontent\" and hide them\n        tabContent = modal.getElementsByClassName(contentClassName);\n        for (i = 0; i < tabContent.length; i++) {\n            tabContent[i].style.display = 'none';\n        }\n\n        // Get all elements with class=\"tablinks\" and remove the class \"active\"\n        tabLinks = modal.getElementsByClassName('_se_tab_link');\n        for (i = 0; i < tabLinks.length; i++) {\n            this.util.removeClass(tabLinks[i], 'active');\n        }\n\n        // Show the current tab, and add an \"active\" class to the button that opened the tab\n        modal.querySelector('.' + contentClassName + '_' + tabName).style.display = 'block';\n        this.util.addClass(targetElement, 'active');\n\n        // focus\n        if (tabName === 'image' && this.context.image.focusElement) {\n            this.context.image.focusElement.focus();\n        } else if (tabName === 'url') {\n            this.context.anchor.caller.image.urlInput.focus();\n        }\n\n        return false;\n    },\n\n    submit: function (e) {\n        const contextImage = this.context.image;\n        const imagePlugin = this.plugins.image;\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        contextImage._altText = contextImage.altText.value;\n        contextImage._align = contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"]:checked').value;\n        contextImage._captionChecked = contextImage.captionCheckEl.checked;\n        if (contextImage._resizing) contextImage._proportionChecked = contextImage.proportion.checked;\n\n        try {\n            if (this.context.dialog.updateModal) {\n                imagePlugin.update_image.call(this, false, true, false);\n            }\n            \n            if (contextImage.imgInputFile && contextImage.imgInputFile.files.length > 0) {\n                this.showLoading();\n                imagePlugin.submitAction.call(this, this.context.image.imgInputFile.files);\n            } else if (contextImage.imgUrlFile && contextImage._v_src._linkValue.length > 0) {\n                this.showLoading();\n                imagePlugin.onRender_imgUrl.call(this);\n            }\n        } catch (error) {\n            this.closeLoading();\n            throw Error('[SUNEDITOR.image.submit.fail] cause : \"' + error.message + '\"');\n        } finally {\n            this.plugins.dialog.close.call(this);\n        }\n\n        return false;\n    },\n\n    submitAction: function (fileList) {\n        if (fileList.length === 0) return;\n\n        let fileSize = 0;\n        let files = [];\n        for (let i = 0, len = fileList.length; i < len; i++) {\n            if (/image/i.test(fileList[i].type)) {\n                files.push(fileList[i]);\n                fileSize += fileList[i].size;\n            }\n        }\n\n        const limitSize = this.options.imageUploadSizeLimit;\n        if (limitSize > 0) {\n            let infoSize = 0;\n            const imagesInfo = this.context.image._infoList;\n            for (let i = 0, len = imagesInfo.length; i < len; i++) {\n                infoSize += imagesInfo[i].size * 1;\n            }\n\n            if ((fileSize + infoSize) > limitSize) {\n                this.closeLoading();\n                const err = '[SUNEDITOR.imageUpload.fail] Size of uploadable total images: ' + (limitSize/1000) + 'KB';\n                if (typeof this.functions.onImageUploadError !== 'function' || this.functions.onImageUploadError(err, { 'limitSize': limitSize, 'currentSize': infoSize, 'uploadSize': fileSize }, this)) {\n                    this.functions.noticeOpen(err);\n                }\n                return;\n            }\n        }\n\n        const contextImage = this.context.image;\n        contextImage._uploadFileLength = files.length;\n        \n        const anchor = this.plugins.anchor.createAnchor.call(this, contextImage.anchorCtx, true);\n        const info = {\n            anchor: anchor,\n            inputWidth: contextImage.inputX.value,\n            inputHeight: contextImage.inputY.value,\n            align: contextImage._align,\n            isUpdate: this.context.dialog.updateModal,\n            element: contextImage._element\n        };\n\n        if (typeof this.functions.onImageUploadBefore === 'function') {\n            const result = this.functions.onImageUploadBefore(files, info, this, function (data) {\n                if (data && this._w.Array.isArray(data.result)) {\n                    this.plugins.image.register.call(this, info, data);\n                } else {\n                    this.plugins.image.upload.call(this, info, data);\n                }\n            }.bind(this));\n            \n            if (typeof result === 'undefined') return;\n            if (!result) {\n                this.closeLoading();\n                return;\n            }\n            if (this._w.Array.isArray(result) && result.length > 0) files = result;\n        }\n\n        this.plugins.image.upload.call(this, info, files);\n    },\n\n    error: function (message, response) {\n        this.closeLoading();\n        if (typeof this.functions.onImageUploadError !== 'function' || this.functions.onImageUploadError(message, response, this)) {\n            this.functions.noticeOpen(message);\n            throw Error('[SUNEDITOR.plugin.image.error] response: ' + message);\n        }\n    },\n\n    upload: function (info, files) {\n        if (!files) {\n            this.closeLoading();\n            return;\n        }\n        if (typeof files === 'string') {\n            this.plugins.image.error.call(this, files, null);\n            return;\n        }\n\n        const imageUploadUrl = this.options.imageUploadUrl;\n        const filesLen = this.context.dialog.updateModal ? 1 : files.length;\n\n        // server upload\n        if (typeof imageUploadUrl === 'string' && imageUploadUrl.length > 0) {\n            const formData = new FormData();\n            for (let i = 0; i < filesLen; i++) {\n                formData.append('file-' + i, files[i]);\n            }\n            this.plugins.fileManager.upload.call(this, imageUploadUrl, this.options.imageUploadHeader, formData, this.plugins.image.callBack_imgUpload.bind(this, info), this.functions.onImageUploadError);\n        } else { // base64\n            this.plugins.image.setup_reader.call(this, files, info.anchor, info.inputWidth, info.inputHeight, info.align, filesLen, info.isUpdate);\n        }\n    },\n\n    callBack_imgUpload: function (info, xmlHttp) {\n        if (typeof this.functions.imageUploadHandler === 'function') {\n            this.functions.imageUploadHandler(xmlHttp, info, this);\n        } else {\n            const response = JSON.parse(xmlHttp.responseText);\n            if (response.errorMessage) {\n                this.plugins.image.error.call(this, response.errorMessage, response);\n            } else {\n                this.plugins.image.register.call(this, info, response);\n            }\n        }\n    },\n\n    register: function (info, response) {\n        const fileList = response.result;\n\n        for (let i = 0, len = fileList.length, file; i < len; i++) {\n            file = { name: fileList[i].name, size: fileList[i].size };\n            if (info.isUpdate) {\n                this.plugins.image.update_src.call(this, fileList[i].url, info.element, file);\n                break;\n            } else {\n                this.plugins.image.create_image.call(this, fileList[i].url, info.anchor, info.inputWidth, info.inputHeight, info.align, file);\n            }\n        }\n        \n        this.closeLoading();\n    },\n\n    setup_reader: function (files, anchor, width, height, align, filesLen, isUpdate) {\n        try {\n            this.context.image.base64RenderIndex = filesLen;\n            const wFileReader = this._w.FileReader;\n            const filesStack = [filesLen];\n            this.context.image.inputX.value = width;\n            this.context.image.inputY.value = height;\n    \n            for (let i = 0, reader, file; i < filesLen; i++) {\n                reader = new wFileReader();\n                file = files[i];\n    \n                reader.onload = function (reader, update, updateElement, file, index) {\n                    filesStack[index] = { result: reader.result, file: file };\n\n                    if (--this.context.image.base64RenderIndex === 0) {\n                        this.plugins.image.onRender_imgBase64.call(this, update, filesStack, updateElement, anchor, width, height, align);\n                        this.closeLoading();\n                    }\n                }.bind(this, reader, isUpdate, this.context.image._element, file, i);\n\n                reader.readAsDataURL(file);\n            }\n        } catch (e) {\n            this.closeLoading();\n            throw Error('[SUNEDITOR.image.setup_reader.fail] cause : \"' + e.message + '\"');\n        }\n    },\n\n    onRender_imgBase64: function (update, filesStack, updateElement, anchor, width, height, align) {\n        const updateMethod = this.plugins.image.update_src;\n        const createMethod = this.plugins.image.create_image;\n        \n        for (let i = 0, len = filesStack.length; i < len; i++) {\n            if (update) {\n                this.context.image._element.setAttribute('data-file-name', filesStack[i].file.name);\n                this.context.image._element.setAttribute('data-file-size', filesStack[i].file.size);\n                updateMethod.call(this, filesStack[i].result, updateElement, filesStack[i].file);\n            } else {\n                createMethod.call(this, filesStack[i].result, anchor, width, height, align, filesStack[i].file);\n            }\n        }\n    },\n\n    onRender_imgUrl: function () {\n        const contextImage = this.context.image;\n        if (contextImage._v_src._linkValue.length === 0) return false;\n\n        try {\n            const file = {name: contextImage._v_src._linkValue.split('/').pop(), size: 0};\n            if (this.context.dialog.updateModal) this.plugins.image.update_src.call(this, contextImage._v_src._linkValue, contextImage._element, file);\n            else this.plugins.image.create_image.call(this, contextImage._v_src._linkValue, this.plugins.anchor.createAnchor.call(this, contextImage.anchorCtx, true), contextImage.inputX.value, contextImage.inputY.value, contextImage._align, file);\n        } catch (e) {\n            throw Error('[SUNEDITOR.image.URLRendering.fail] cause : \"' + e.message + '\"');\n        } finally {\n            this.closeLoading();\n        }\n    },\n\n    onRender_link: function (imgTag, anchor) {\n        if (anchor) {\n            anchor.setAttribute('data-image-link', 'image');\n            imgTag.setAttribute('data-image-link', anchor.href);\n            anchor.appendChild(imgTag);\n            return anchor;\n        }\n\n        return imgTag;\n    },\n\n    /**\n     * @Override resizing\n     * @param {String} xy 'x': width, 'y': height\n     * @param {KeyboardEvent} e Event object\n     */\n    setInputSize: function (xy, e) {\n        if (e && e.keyCode === 32) {\n            e.preventDefault();\n            return;\n        }\n\n        this.plugins.resizing._module_setInputSize.call(this, this.context.image, xy);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setRatio: function () {\n        this.plugins.resizing._module_setRatio.call(this, this.context.image);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    checkFileInfo: function () {\n        const imagePlugin = this.plugins.image;\n        const contextImage = this.context.image;\n\n        const modifyHandler = function (tag) {\n            imagePlugin.onModifyMode.call(this, tag, null);\n            imagePlugin.openModify.call(this, true);\n            // get size\n            contextImage.inputX.value = contextImage._origin_w;\n            contextImage.inputY.value = contextImage._origin_h;\n            // get align\n            const format = this.util.getFormatElement(tag);\n            if (format) contextImage._align = format.style.textAlign || format.style.float;\n            // link\n            const link = this.util.getParentElement(tag, this.util.isAnchor);\n            if (link && !contextImage.anchorCtx.linkValue) contextImage.anchorCtx.linkValue = ' ';\n            \n            imagePlugin.update_image.call(this, true, false, true);\n        }.bind(this);\n\n        this.plugins.fileManager.checkInfo.call(this, 'image', ['img'], this.functions.onImageUpload, modifyHandler, true);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    resetFileInfo: function () {\n        this.plugins.fileManager.resetInfo.call(this, 'image', this.functions.onImageUpload);\n    },\n\n    create_image: function (src, anchor, width, height, align, file) {\n        const imagePlugin = this.plugins.image;\n        const contextImage = this.context.image;\n        this.context.resizing._resize_plugin = 'image';\n\n        let oImg = this.util.createElement('IMG');\n        oImg.src = src;\n        oImg.alt = contextImage._altText;\n        oImg.setAttribute('data-rotate', '0');\n        anchor = imagePlugin.onRender_link.call(this, oImg, anchor);\n\n        if (contextImage._resizing) {\n            oImg.setAttribute('data-proportion', contextImage._proportionChecked);\n        }\n\n        const cover = this.plugins.component.set_cover.call(this, anchor);\n        const container = this.plugins.component.set_container.call(this, cover, 'se-image-container');\n\n        // caption\n        if (contextImage._captionChecked) {\n            contextImage._caption = this.plugins.component.create_caption.call(this);\n            contextImage._caption.setAttribute('contenteditable', false);\n            cover.appendChild(contextImage._caption);\n        }\n\n        contextImage._element = oImg;\n        contextImage._cover = cover;\n        contextImage._container = container;\n\n        // set size\n        imagePlugin.applySize.call(this, width, height);\n\n        // align\n        imagePlugin.setAlign.call(this, align, oImg, cover, container);\n\n        oImg.onload = imagePlugin._image_create_onload.bind(this, oImg, contextImage.svgDefaultSize, container);\n        if (this.insertComponent(container, true, true, true)) this.plugins.fileManager.setInfo.call(this, 'image', oImg, this.functions.onImageUpload, file, true);\n        this.context.resizing._resize_plugin = '';\n    },\n\n    _image_create_onload: function (oImg, svgDefaultSize, container) {\n        // svg exception handling\n        if (oImg.offsetWidth === 0) this.plugins.image.applySize.call(this, svgDefaultSize, '');\n        if (this.options.mediaAutoSelect) {\n            this.selectComponent(oImg, 'image');\n        } else {\n            const line = this.appendFormatTag(container, null);\n            this.setRange(line, 0, line, 0);\n        }\n    },\n\n    update_image: function (init, openController, notHistoryPush) {\n        const contextImage = this.context.image;\n        let imageEl = contextImage._element;\n        let cover = contextImage._cover;\n        let container = contextImage._container;\n        let isNewContainer = false;\n\n        if (cover === null) {\n            isNewContainer = true;\n            imageEl = contextImage._element.cloneNode(true);\n            cover = this.plugins.component.set_cover.call(this, imageEl);\n        }\n\n        if (container === null) {\n            cover = cover.cloneNode(true);\n            imageEl = cover.querySelector('img');\n            isNewContainer = true;\n            container = this.plugins.component.set_container.call(this, cover, 'se-image-container');\n        } else if (isNewContainer) {\n            container.innerHTML = '';\n            container.appendChild(cover);\n            contextImage._cover = cover;\n            contextImage._element = imageEl;\n            isNewContainer = false;\n        }\n\n        // check size\n        let changeSize;\n        const x = this.util.isNumber(contextImage.inputX.value) ? contextImage.inputX.value + contextImage.sizeUnit : contextImage.inputX.value;\n        const y = this.util.isNumber(contextImage.inputY.value) ? contextImage.inputY.value + contextImage.sizeUnit : contextImage.inputY.value;\n        if (/%$/.test(imageEl.style.width)) {\n            changeSize = x !== container.style.width || y !== container.style.height;\n        } else {\n            changeSize = x !== imageEl.style.width || y !== imageEl.style.height;\n        }\n\n        // alt\n        imageEl.alt = contextImage._altText;\n        \n        // caption\n        let modifiedCaption = false;\n        if (contextImage._captionChecked) {\n            if (!contextImage._caption) {\n                contextImage._caption = this.plugins.component.create_caption.call(this);\n                cover.appendChild(contextImage._caption);\n                modifiedCaption = true;\n            }\n        } else {\n            if (contextImage._caption) {\n                this.util.removeItem(contextImage._caption);\n                contextImage._caption = null;\n                modifiedCaption = true;\n            }\n        }\n\n        // link\n        const anchor = this.plugins.anchor.createAnchor.call(this, contextImage.anchorCtx, true);\n        if (anchor) {\n            contextImage._linkElement = contextImage._linkElement === anchor ? anchor.cloneNode(false) : anchor;\n            cover.insertBefore(this.plugins.image.onRender_link.call(this, imageEl, contextImage._linkElement), contextImage._caption);\n        } else if (contextImage._linkElement !== null) {\n            const imageElement = imageEl;\n            imageElement.setAttribute('data-image-link', '');\n            if (cover.contains(contextImage._linkElement)) {\n                const newEl = imageElement.cloneNode(true);\n                cover.removeChild(contextImage._linkElement);\n                cover.insertBefore(newEl, contextImage._caption);\n                imageEl = newEl;\n            }\n        }\n\n        if (isNewContainer) {\n            const existElement = (this.util.isRangeFormatElement(contextImage._element.parentNode) || this.util.isWysiwygDiv(contextImage._element.parentNode)) ? \n                contextImage._element : \n                /^A$/i.test(contextImage._element.parentNode.nodeName) ? contextImage._element.parentNode : this.util.getFormatElement(contextImage._element) || contextImage._element;\n                \n            if (this.util.isFormatElement(existElement) && existElement.childNodes.length > 0) {\n                existElement.parentNode.insertBefore(container, existElement);\n                this.util.removeItem(contextImage._element);\n                // clean format tag\n                this.util.removeEmptyNode(existElement, null);\n                if (existElement.children.length === 0) existElement.innerHTML = this.util.htmlRemoveWhiteSpace(existElement.innerHTML);\n            } else {\n                if (this.util.isFormatElement(existElement.parentNode)) {\n                    const formats = existElement.parentNode;\n                    formats.parentNode.insertBefore(container, existElement.previousSibling ? formats.nextElementSibling : formats);\n                    this.util.removeItem(existElement);\n                } else {\n                    existElement.parentNode.replaceChild(container, existElement);\n                }\n            }\n\n            imageEl = container.querySelector('img');\n\n            contextImage._element = imageEl;\n            contextImage._cover = cover;\n            contextImage._container = container;\n        }\n\n        // transform\n        if (modifiedCaption || (!contextImage._onlyPercentage && changeSize)) {\n            if (!init && (/\\d+/.test(imageEl.style.height) || (this.context.resizing._rotateVertical && contextImage._captionChecked))) {\n                if (/%$/.test(contextImage.inputX.value) || /%$/.test(contextImage.inputY.value)) {\n                    this.plugins.resizing.resetTransform.call(this, imageEl);\n                } else {\n                    this.plugins.resizing.setTransformSize.call(this, imageEl, this.util.getNumber(contextImage.inputX.value, 0), this.util.getNumber(contextImage.inputY.value, 0));\n                }\n            }\n        }\n\n        // size\n        if (contextImage._resizing) {\n            imageEl.setAttribute('data-proportion', contextImage._proportionChecked);\n            if (changeSize) {\n                this.plugins.image.applySize.call(this);\n            }\n        }\n\n        // align\n        this.plugins.image.setAlign.call(this, null, imageEl, null, null);\n\n        // set imagesInfo\n        if (init) {\n            this.plugins.fileManager.setInfo.call(this, 'image', imageEl, this.functions.onImageUpload, null, true);\n        }\n\n        if (openController) {\n            this.selectComponent(imageEl, 'image');\n        }\n\n        // history stack\n        if (!notHistoryPush) this.history.push(false);\n    },\n\n    update_src: function (src, element, file) {\n        element.src = src;\n        this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this, 'image', element, this.functions.onImageUpload, file, true));\n        this.selectComponent(element, 'image');\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    onModifyMode: function (element, size) {\n        if (!element) return;\n        \n        const contextImage = this.context.image;\n        contextImage._linkElement = contextImage.anchorCtx.linkAnchor = /^A$/i.test(element.parentNode.nodeName) ? element.parentNode : null;\n        contextImage._element = element;\n        contextImage._cover = this.util.getParentElement(element, 'FIGURE');\n        contextImage._container = this.util.getParentElement(element, this.util.isMediaComponent);\n        contextImage._caption = this.util.getChildElement(contextImage._cover, 'FIGCAPTION');\n        contextImage._align = element.style.float || element.getAttribute('data-align') || 'none';\n        element.style.float = '';\n        this.plugins.anchor.setCtx(contextImage._linkElement, contextImage.anchorCtx);\n\n        if (size) {\n            contextImage._element_w = size.w;\n            contextImage._element_h = size.h;\n            contextImage._element_t = size.t;\n            contextImage._element_l = size.l;\n        }\n\n        let userSize = contextImage._element.getAttribute('data-size') || contextImage._element.getAttribute('data-origin');\n        let w, h;\n        if (userSize) {\n            userSize = userSize.split(',');\n            w = userSize[0];\n            h = userSize[1];\n        } else if (size) {\n            w = size.w;\n            h = size.h;\n        }\n\n        contextImage._origin_w = w || element.style.width || element.width || '';\n        contextImage._origin_h = h || element.style.height || element.height || '';\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    openModify: function (notOpen) {\n        const contextImage = this.context.image;\n        if (contextImage.imgUrlFile) {\n            contextImage._v_src._linkValue = contextImage.previewSrc.textContent = contextImage.imgUrlFile.value = contextImage._element.src;\n        }\n        contextImage._altText = contextImage.altText.value = contextImage._element.alt;\n        contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"' + contextImage._align + '\"]').checked = true;\n        contextImage._align = contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"]:checked').value;\n        contextImage._captionChecked = contextImage.captionCheckEl.checked = !!contextImage._caption;\n        \n        if (contextImage._resizing) {\n            this.plugins.resizing._module_setModifyInputSize.call(this, contextImage, this.plugins.image);\n        }\n\n        if (!notOpen) this.plugins.dialog.open.call(this, 'image', true);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    applySize: function (w, h) {\n        const contextImage = this.context.image;\n\n        if (!w) w = contextImage.inputX.value || this.options.imageWidth;\n        if (!h) h = contextImage.inputY.value || this.options.imageHeight;\n        \n        if ((contextImage._onlyPercentage && !!w) || /%$/.test(w)) {\n            this.plugins.image.setPercentSize.call(this, w, h);\n            return true;\n        } else if ((!w || w === 'auto') && (!h || h === 'auto')) {\n            this.plugins.image.setAutoSize.call(this);\n        } else {\n            this.plugins.image.setSize.call(this, w, h, false);\n        }\n\n        return false;\n    },\n\n    /**\n     * @Override resizing\n     */\n    sizeRevert: function () {\n        this.plugins.resizing._module_sizeRevert.call(this, this.context.image);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setSize: function (w, h, notResetPercentage, direction) {\n        const contextImage = this.context.image;\n        const onlyW = /^(rw|lw)$/.test(direction);\n        const onlyH = /^(th|bh)$/.test(direction);\n\n        if (!onlyH) {\n            contextImage._element.style.width = this.util.isNumber(w) ? w + contextImage.sizeUnit : w;\n            this.plugins.image.cancelPercentAttr.call(this);\n        }\n        if (!onlyW) {\n            contextImage._element.style.height = this.util.isNumber(h) ? h + contextImage.sizeUnit : /%$/.test(h) ? '' : h;\n        }\n\n        if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n        if (!notResetPercentage) contextImage._element.removeAttribute('data-percentage');\n\n        // save current size\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setAutoSize: function () {\n        const contextImage = this.context.image;\n\n        this.plugins.resizing.resetTransform.call(this, contextImage._element);\n        this.plugins.image.cancelPercentAttr.call(this);\n\n        contextImage._element.style.maxWidth = '';\n        contextImage._element.style.width = '';\n        contextImage._element.style.height = '';\n        contextImage._cover.style.width = '';\n        contextImage._cover.style.height = '';\n\n        this.plugins.image.setAlign.call(this, null, null, null, null);\n        contextImage._element.setAttribute('data-percentage', 'auto,auto');\n\n        // save current size\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n    \n    /**\n     * @Override resizing\n     */\n    setOriginSize: function () {\n        const contextImage = this.context.image;\n        contextImage._element.removeAttribute('data-percentage');\n\n        this.plugins.resizing.resetTransform.call(this, contextImage._element);\n        this.plugins.image.cancelPercentAttr.call(this);\n\n        const originSize = (contextImage._element.getAttribute('data-origin') || '').split(',');\n        const w = originSize[0];\n        const h = originSize[1];\n\n        if (originSize) {\n            if (contextImage._onlyPercentage || (/%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h)))) {\n                this.plugins.image.setPercentSize.call(this, w, h);\n            } else {\n                this.plugins.image.setSize.call(this, w, h);\n            }\n\n            // save current size\n            this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n        }\n    },\n\n    /**\n     * @Override resizing\n     */\n    setPercentSize: function (w, h) {\n        const contextImage = this.context.image;\n        h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + '%' : h : this.util.isNumber(h) ? h + contextImage.sizeUnit : (h || '');\n        const heightPercentage = /%$/.test(h);\n\n        contextImage._container.style.width = this.util.isNumber(w) ? w + '%' : w;\n        contextImage._container.style.height = '';\n        contextImage._cover.style.width = '100%';\n        contextImage._cover.style.height = !heightPercentage ? '' : h;\n        contextImage._element.style.width = '100%';\n        contextImage._element.style.height = heightPercentage ? '' : h;\n        contextImage._element.style.maxWidth = '';\n\n        if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n\n        contextImage._element.setAttribute('data-percentage', w + ',' + h);\n        this.plugins.resizing.setCaptionPosition.call(this, contextImage._element);\n\n        // save current size\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n\n    /**\n     * @Override resizing\n     */\n    cancelPercentAttr: function () {\n        const contextImage = this.context.image;\n        \n        contextImage._cover.style.width = '';\n        contextImage._cover.style.height = '';\n        contextImage._container.style.width = '';\n        contextImage._container.style.height = '';\n\n        this.util.removeClass(contextImage._container, this.context.image._floatClassRegExp);\n        this.util.addClass(contextImage._container, '__se__float-' + contextImage._align);\n\n        if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setAlign: function (align, element, cover, container) {\n        const contextImage = this.context.image;\n        \n        if (!align) align = contextImage._align;\n        if (!element) element = contextImage._element;\n        if (!cover) cover = contextImage._cover;\n        if (!container) container = contextImage._container;\n\n        if (align && align !== 'none') {\n            cover.style.margin = 'auto';\n        } else {\n            cover.style.margin = '0';\n        }\n\n        if (/%$/.test(element.style.width) && align === 'center') {\n            container.style.minWidth = '100%';\n            cover.style.width = container.style.width;\n        } else {\n            container.style.minWidth = '';\n            cover.style.width = this.context.resizing._rotateVertical ? (element.style.height || element.offsetHeight) : ((!element.style.width || element.style.width === 'auto') ? '' : element.style.width || '100%');\n        }\n\n        if (!this.util.hasClass(container, '__se__float-' + align)) {\n            this.util.removeClass(container, contextImage._floatClassRegExp);\n            this.util.addClass(container, '__se__float-' + align);\n        }\n        \n        element.setAttribute('data-align', align);\n    },\n\n    /**\n     * @Override dialog\n     */\n    init: function () {\n        const contextImage = this.context.image;\n        if (contextImage.imgInputFile) contextImage.imgInputFile.value = '';\n        if (contextImage.imgUrlFile) contextImage._v_src._linkValue = contextImage.previewSrc.textContent = contextImage.imgUrlFile.value = '';\n        if (contextImage.imgInputFile && contextImage.imgUrlFile) {\n            contextImage.imgUrlFile.removeAttribute('disabled');\n            contextImage.previewSrc.style.textDecoration = '';\n        }\n\n        contextImage.altText.value = '';\n        contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"none\"]').checked = true;\n        contextImage.captionCheckEl.checked = false;\n        contextImage._element = null;\n        this.plugins.image.openTab.call(this, 'init');\n\n        if (contextImage._resizing) {\n            contextImage.inputX.value = this.options.imageWidth === contextImage._defaultSizeX ? '' : this.options.imageWidth;\n            contextImage.inputY.value = this.options.imageHeight === contextImage._defaultSizeY ? '' : this.options.imageHeight;\n            contextImage.proportion.checked = true;\n            contextImage._ratio = false;\n            contextImage._ratioX = 1;\n            contextImage._ratioY = 1;\n        }\n\n        this.plugins.anchor.init.call(this, contextImage.anchorCtx);\n    }\n});\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _modules_anchor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'link',\n    display: 'dialog',\n    add: function (core) {\n        core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_anchor__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"]]);\n\n        const context = core.context;\n        const contextLink = context.link = {\n            focusElement: null, // @Override dialog // This element has focus when the dialog is opened.\n            _linkAnchor: null,\n            anchorCtx: null\n        };\n\n        /** link dialog */\n        let link_dialog = this.setDialog(core);\n        contextLink.modal = link_dialog;\n        \n        /** link controller */\n        let link_controller = this.setController_LinkButton(core);\n        contextLink.linkController = link_controller;\n\n        link_dialog.querySelector('form').addEventListener('submit', this.submit.bind(core));\n        link_controller.addEventListener('click', this.onClick_linkController.bind(core));\n\n        /** append html */\n        context.dialog.modal.appendChild(link_dialog);\n\n        /** append controller */\n        context.element.relative.appendChild(link_controller);\n\n        /** link event */\n        core.plugins.anchor.initEvent.call(core, 'link', link_dialog);\n        contextLink.focusElement = context.anchor.caller.link.urlInput;\n\n        /** empty memory */\n        link_dialog = null, link_controller = null;\n    },\n\n    /** dialog */\n    setDialog: function (core) {\n        const lang = core.lang;\n        const dialog = core.util.createElement('DIV');\n        const icons = core.icons;\n\n        dialog.className = 'se-dialog-content';\n        dialog.style.display = 'none';\n        let html = '' +\n            '<form>' +\n                '<div class=\"se-dialog-header\">' +\n                    '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\n                        icons.cancel +\n                    '</button>' +\n                    '<span class=\"se-modal-title\">' + lang.dialogBox.linkBox.title + '</span>' +\n                '</div>' +\n                core.context.anchor.forms.innerHTML +\n                '<div class=\"se-dialog-footer\">' +\n                    '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\n                '</div>' +\n            '</form>';\n\n        dialog.innerHTML = html;\n        return dialog;\n    },\n\n    /** modify controller button */\n    setController_LinkButton: function (core) {\n        const lang = core.lang;\n        const icons = core.icons;\n        const link_btn = core.util.createElement('DIV');\n\n        link_btn.className = 'se-controller se-controller-link';\n        link_btn.innerHTML = '' +\n            '<div class=\"se-arrow se-arrow-up\"></div>' +\n            '<div class=\"link-content\"><span><a target=\"_blank\" href=\"\"></a>&nbsp;</span>' +\n                '<div class=\"se-btn-group\">' +\n                    '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\n                        icons.edit +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"unlink\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\n                        icons.unlink +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.unlink + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\n                        icons.delete +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\n                    '</button>' +\n                '</div>' +\n            '</div>';\n\n        return link_btn;\n    },\n\n    /**\n     * @Override dialog\n     */\n    open: function () {\n        this.plugins.dialog.open.call(this, 'link', 'link' === this.currentControllerName);\n    },\n\n    submit: function (e) {\n        this.showLoading();\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        try {\n            const oA = this.plugins.anchor.createAnchor.call(this, this.context.anchor.caller.link, false);\n    \n            if (!this.context.dialog.updateModal) {\n                const selectedFormats = this.getSelectedElements();\n                if (selectedFormats.length > 1) {\n                    const oFormat = this.util.createElement(selectedFormats[0].nodeName);\n                    oFormat.appendChild(oA);\n                    if (!this.insertNode(oFormat, null, true)) return;\n                } else {\n                    if (!this.insertNode(oA, null, true)) return;\n                }\n    \n                this.setRange(oA.childNodes[0], 0, oA.childNodes[0], oA.textContent.length);\n            } else {\n                // set range\n                const textNode = this.context.link._linkAnchor.childNodes[0];\n                this.setRange(textNode, 0, textNode, textNode.textContent.length);\n            }\n        } finally {\n            this.plugins.dialog.close.call(this);\n            this.closeLoading();\n            // history stack\n            this.history.push(false);\n        }\n\n        return false;\n    },\n\n    /**\n     * @Override core\n     */\n    active: function (element) {\n        if (!element) {\n            if (this.controllerArray.indexOf(this.context.link.linkController) > -1) {\n                this.controllersOff();\n            }\n        } else if (this.util.isAnchor(element) && element.getAttribute('data-image-link') === null) {\n            if (this.controllerArray.indexOf(this.context.link.linkController) < 0) {\n                this.plugins.link.call_controller.call(this, element);\n            }\n            return true;\n        }\n\n        return false;\n    },\n\n    /**\n     * @Override dialog\n     */\n    on: function (update) {\n        this.plugins.anchor.on.call(this, this.context.anchor.caller.link, update);\n    },\n\n    call_controller: function (selectionATag) {\n        this.editLink = this.context.link._linkAnchor = this.context.anchor.caller.link.linkAnchor = selectionATag;\n        const linkBtn = this.context.link.linkController;\n        const link = linkBtn.querySelector('a');\n\n        link.href = selectionATag.href;\n        link.title = selectionATag.textContent;\n        link.textContent = selectionATag.textContent;\n\n        this.util.addClass(selectionATag, 'on');\n        this.setControllerPosition(linkBtn, selectionATag, 'bottom', {left: 0, top: 0});\n        this.controllersOn(linkBtn, selectionATag, 'link', this.util.removeClass.bind(this.util, this.context.link._linkAnchor, 'on'));\n    },\n\n    onClick_linkController: function (e) {\n        e.stopPropagation();\n\n        const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n        if (!command) return;\n\n        e.preventDefault();\n\n        if (/update/.test(command)) {\n            this.plugins.dialog.open.call(this, 'link', true);\n        } else if (/unlink/.test(command)) {\n            const sc = this.util.getChildElement(this.context.link._linkAnchor, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, false);\n            const ec = this.util.getChildElement(this.context.link._linkAnchor, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, true);\n            this.setRange(sc, 0, ec, ec.textContent.length);\n            this.nodeChange(null, null, ['A'], false);\n        } else {\n            /** delete */\n            this.util.removeItem(this.context.link._linkAnchor);\n            this.context.anchor.caller.link.linkAnchor = null;\n            this.focus();\n\n            // history stack\n            this.history.push(false);\n        }\n\n        this.controllersOff();\n    },\n\n    /**\n     * @Override dialog\n     */\n    init: function () {\n        this.context.link.linkController.style.display = 'none';\n        this.plugins.anchor.init.call(this, this.context.anchor.caller.link);\n    }\n});\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _modules_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n/* harmony import */ var _modules_component__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_component__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _modules_resizing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);\n/* harmony import */ var _modules_resizing__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_modules_resizing__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _modules_fileManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3);\n/* harmony import */ var _modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_modules_fileManager__WEBPACK_IMPORTED_MODULE_3__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'video',\n    display: 'dialog',\n    add: function (core) {\n        core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_component__WEBPACK_IMPORTED_MODULE_1___default.a, _modules_resizing__WEBPACK_IMPORTED_MODULE_2___default.a, _modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default.a]);\n\n        const options = core.options;\n        const context = core.context;\n        const contextVideo = context.video = {\n            _infoList: [], // @Override fileManager\n            _infoIndex: 0, // @Override fileManager\n            _uploadFileLength: 0, // @Override fileManager\n            focusElement: null, // @Override dialog // This element has focus when the dialog is opened.\n            sizeUnit: options._videoSizeUnit,\n            _align: 'none',\n            _floatClassRegExp: '__se__float\\\\-[a-z]+',\n            _youtubeQuery: options.youtubeQuery,\n            _videoRatio: (options.videoRatio * 100) + '%',\n            _defaultRatio: (options.videoRatio * 100) + '%',\n            _linkValue: '',\n            // @require @Override component\n            _element: null,\n            _cover: null,\n            _container: null,\n            // @Override resizing properties\n            inputX: null,\n            inputY: null,\n            _element_w: 1,\n            _element_h: 1,\n            _element_l: 0,\n            _element_t: 0,\n            _defaultSizeX: '100%',\n            _defaultSizeY: (options.videoRatio * 100) + '%',\n            _origin_w: options.videoWidth === '100%' ? '' : options.videoWidth,\n            _origin_h: options.videoHeight === '56.25%' ? '' : options.videoHeight,\n            _proportionChecked: true,\n            _resizing: options.videoResizing,\n            _resizeDotHide: !options.videoHeightShow,\n            _rotation: options.videoRotation,\n            _onlyPercentage: options.videoSizeOnlyPercentage,\n            _ratio: false,\n            _ratioX: 1,\n            _ratioY: 1,\n            _captionShow: false\n        };\n\n        /** video dialog */\n        let video_dialog = this.setDialog(core);\n        contextVideo.modal = video_dialog;\n        contextVideo.videoInputFile = video_dialog.querySelector('._se_video_file');\n        contextVideo.videoUrlFile = video_dialog.querySelector('.se-input-url');\n        contextVideo.focusElement = contextVideo.videoUrlFile || contextVideo.videoInputFile;\n        contextVideo.preview = video_dialog.querySelector('.se-link-preview');\n\n        /** add event listeners */\n        video_dialog.querySelector('form').addEventListener('submit', this.submit.bind(core));\n        if (contextVideo.videoInputFile) video_dialog.querySelector('.se-dialog-files-edge-button').addEventListener('click', this._removeSelectedFiles.bind(contextVideo.videoInputFile, contextVideo.videoUrlFile, contextVideo.preview));\n        if (contextVideo.videoInputFile && contextVideo.videoUrlFile) contextVideo.videoInputFile.addEventListener('change', this._fileInputChange.bind(contextVideo));\n        if (contextVideo.videoUrlFile) contextVideo.videoUrlFile.addEventListener('input', this._onLinkPreview.bind(contextVideo.preview, contextVideo, options.linkProtocol));\n\n        contextVideo.proportion = {};\n        contextVideo.videoRatioOption = {};\n        contextVideo.inputX = {};\n        contextVideo.inputY = {};\n        if (options.videoResizing) {\n            contextVideo.proportion = video_dialog.querySelector('._se_video_check_proportion');\n            contextVideo.videoRatioOption = video_dialog.querySelector('.se-video-ratio');\n            contextVideo.inputX = video_dialog.querySelector('._se_video_size_x');\n            contextVideo.inputY = video_dialog.querySelector('._se_video_size_y');\n            contextVideo.inputX.value = options.videoWidth;\n            contextVideo.inputY.value = options.videoHeight;\n\n            contextVideo.inputX.addEventListener('keyup', this.setInputSize.bind(core, 'x'));\n            contextVideo.inputY.addEventListener('keyup', this.setInputSize.bind(core, 'y'));\n\n            contextVideo.inputX.addEventListener('change', this.setRatio.bind(core));\n            contextVideo.inputY.addEventListener('change', this.setRatio.bind(core));\n            contextVideo.proportion.addEventListener('change', this.setRatio.bind(core));\n            contextVideo.videoRatioOption.addEventListener('change', this.setVideoRatio.bind(core));\n\n            video_dialog.querySelector('.se-dialog-btn-revert').addEventListener('click', this.sizeRevert.bind(core));\n        }\n\n        /** append html */\n        context.dialog.modal.appendChild(video_dialog);\n\n        /** empty memory */\n        video_dialog = null;\n    },\n\n    /** dialog */\n    setDialog: function (core) {\n        const option = core.options;\n        const lang = core.lang;\n        const dialog = core.util.createElement('DIV');\n\n        dialog.className = 'se-dialog-content';\n        dialog.style.display = 'none';\n        let html = '' +\n            '<form method=\"post\" enctype=\"multipart/form-data\">' +\n                '<div class=\"se-dialog-header\">' +\n                    '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\n                        core.icons.cancel +\n                    '</button>' +\n                    '<span class=\"se-modal-title\">' + lang.dialogBox.videoBox.title + '</span>' +\n                '</div>' +\n                '<div class=\"se-dialog-body\">';\n\n                if (option.videoFileInput) {\n                    html += '' +\n                        '<div class=\"se-dialog-form\">' +\n                            '<label>' + lang.dialogBox.videoBox.file + '</label>' +\n                            '<div class=\"se-dialog-form-files\">' +\n                                '<input class=\"se-input-form _se_video_file\" type=\"file\" accept=\"' + option.videoAccept + '\"' + (option.videoMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' +\n                                '<button type=\"button\" data-command=\"filesRemove\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\">' + core.icons.cancel + '</button>' +\n                            '</div>' +\n                        '</div>' ;\n                }\n    \n                if (option.videoUrlInput) {\n                    html += '' +\n                        '<div class=\"se-dialog-form\">' +\n                            '<label>' + lang.dialogBox.videoBox.url + '</label>' +\n                            '<input class=\"se-input-form se-input-url\" type=\"text\" />' +\n                            '<pre class=\"se-link-preview\"></pre>' +\n                        '</div>';\n                }\n\n            if (option.videoResizing) {\n                const ratioList = option.videoRatioList || [{name: '16:9', value: 0.5625}, {name: '4:3', value: 0.75}, {name: '21:9', value: 0.4285}];\n                const ratio = option.videoRatio;\n                const onlyPercentage = option.videoSizeOnlyPercentage;\n                const onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : '';\n                const heightDisplay = !option.videoHeightShow ? ' style=\"display: none !important;\"' : '';\n                const ratioDisplay = !option.videoRatioShow ? ' style=\"display: none !important;\"' : '';\n                const onlyWidthDisplay = !onlyPercentage && !option.videoHeightShow && !option.videoRatioShow ? ' style=\"display: none !important;\"' : '';\n                html += '' +\n                    '<div class=\"se-dialog-form\">' +\n                        '<div class=\"se-dialog-size-text\">' +\n                            '<label class=\"size-w\">' + lang.dialogBox.width + '</label>' +\n                            '<label class=\"se-dialog-size-x\">&nbsp;</label>' +\n                            '<label class=\"size-h\"' + heightDisplay + '>' + lang.dialogBox.height + '</label>' +\n                            '<label class=\"size-h\"' + ratioDisplay + '>(' + lang.dialogBox.ratio + ')</label>' +\n                        '</div>' +\n                        '<input class=\"se-input-control _se_video_size_x\" placeholder=\"100%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + '/>' +\n                        '<label class=\"se-dialog-size-x\"' + onlyWidthDisplay + '>' + (onlyPercentage ? '%' : 'x') + '</label>' +\n                        '<input class=\"se-input-control _se_video_size_y\" placeholder=\"' + (option.videoRatio * 100) + '%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + heightDisplay + '/>' +\n                        '<select class=\"se-input-select se-video-ratio\" title=\"' + lang.dialogBox.ratio + '\"' + ratioDisplay + '>';\n                            if (!heightDisplay) html += '<option value=\"\"> - </option>';\n                            for (let i = 0, len = ratioList.length; i < len; i++) {\n                                html += '<option value=\"' + ratioList[i].value + '\"' + (ratio.toString() === ratioList[i].value.toString() ? ' selected' : '') + '>' + ratioList[i].name + '</option>';\n                            }\n                        html += '</select>' +\n                        '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"se-btn se-dialog-btn-revert\" style=\"float: right;\">' + core.icons.revert + '</button>' +\n                    '</div>' +\n                    '<div class=\"se-dialog-form se-dialog-form-footer\"' + onlyPercentDisplay + onlyWidthDisplay + '>' +\n                        '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_video_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + '</label>' +\n                    '</div>';\n            }\n\n            html += '' +\n                '</div>' +\n                '<div class=\"se-dialog-footer\">' +\n                    '<div>' +\n                        '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + '</label>' +\n                        '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + '</label>' +\n                        '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + '</label>' +\n                        '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + '</label>' +\n                    '</div>' +\n                    '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\n                '</div>' +\n            '</form>';\n\n        dialog.innerHTML = html;\n\n        return dialog;\n    },\n\n    _fileInputChange: function () {\n        if (!this.videoInputFile.value) {\n            this.videoUrlFile.removeAttribute('disabled');\n            this.preview.style.textDecoration = '';\n        } else {\n            this.videoUrlFile.setAttribute('disabled', true);\n            this.preview.style.textDecoration = 'line-through';\n        }\n    },\n\n    _removeSelectedFiles: function (urlInput, preview) {\n        this.value = '';\n        if (urlInput) {\n            urlInput.removeAttribute('disabled');\n            preview.style.textDecoration = '';\n        }\n    },\n\n    _onLinkPreview: function (context, protocol, e) {\n        const value = e.target.value.trim();\n        if (/^<iframe.*\\/iframe>$/.test(value)) {\n            context._linkValue = value;\n            this.textContent = '<IFrame :src=\"..\"></IFrame>';\n        } else {\n            context._linkValue = this.textContent = !value ? '' : (protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0) ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\n        }\n    },\n\n    _setTagAttrs: function (element) {\n        element.setAttribute('controls', true);\n\n        const attrs = this.options.videoTagAttrs;\n        if (!attrs) return;\n\n        for (let key in attrs) {\n            if (!this.util.hasOwn(attrs, key)) continue;\n            element.setAttribute(key, attrs[key]);\n        }\n    },\n\n    createVideoTag: function () {\n        const videoTag = this.util.createElement('VIDEO');\n        this.plugins.video._setTagAttrs.call(this, videoTag);\n        return videoTag;\n    },\n\n    _setIframeAttrs: function (element) {\n        element.frameBorder = '0';\n        element.allowFullscreen = true;\n\n        const attrs = this.options.videoIframeAttrs;\n        if (!attrs) return;\n\n        for (let key in attrs) {\n            if (!this.util.hasOwn(attrs, key)) continue;\n            element.setAttribute(key, attrs[key]);\n        }\n    },\n\n    createIframeTag: function () {\n        const iframeTag = this.util.createElement('IFRAME');\n        this.plugins.video._setIframeAttrs.call(this, iframeTag);\n        return iframeTag;\n    },\n\n    /**\n     * @Override @Required fileManager\n     */\n    fileTags: ['iframe', 'video'],\n\n    /**\n     * @Override core, resizing, fileManager\n     * @description It is called from core.selectComponent.\n     * @param {Element} element Target element\n     */\n    select: function (element) {\n        this.plugins.video.onModifyMode.call(this, element, this.plugins.resizing.call_controller_resize.call(this, element, 'video'));\n    },\n\n    /**\n     * @Override fileManager, resizing\n     */\n    destroy: function (element) {\n        const frame = element || this.context.video._element;\n        const container = this.context.video._container;\n        const dataIndex = frame.getAttribute('data-index') * 1;\n        let focusEl = (container.previousElementSibling || container.nextElementSibling);\n\n        const emptyDiv = container.parentNode;\n        this.util.removeItem(container);\n        this.plugins.video.init.call(this);\n        this.controllersOff();\n\n        if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) { return current.childNodes.length === 0; }, null);\n\n        // focus\n        this.focusEdge(focusEl);\n\n        // event\n        this.plugins.fileManager.deleteInfo.call(this, 'video', dataIndex, this.functions.onVideoUpload);\n\n        // history stack\n        this.history.push(false);\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    on: function (update) {\n        const contextVideo = this.context.video;\n\n        if (!update) {\n            contextVideo.inputX.value = contextVideo._origin_w = this.options.videoWidth === contextVideo._defaultSizeX ? '' : this.options.videoWidth;\n            contextVideo.inputY.value = contextVideo._origin_h = this.options.videoHeight === contextVideo._defaultSizeY ? '' : this.options.videoHeight;\n            contextVideo.proportion.disabled = true;\n            if (contextVideo.videoInputFile && this.options.videoMultipleFile) contextVideo.videoInputFile.setAttribute('multiple', 'multiple');\n        } else {\n            if (contextVideo.videoInputFile && this.options.videoMultipleFile) contextVideo.videoInputFile.removeAttribute('multiple');\n        }\n\n        if (contextVideo._resizing) {\n            this.plugins.video.setVideoRatioSelect.call(this, contextVideo._origin_h || contextVideo._defaultRatio);\n        }\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    open: function () {\n        this.plugins.dialog.open.call(this, 'video', 'video' === this.currentControllerName);\n    },\n    \n    setVideoRatio: function (e) {\n        const contextVideo = this.context.video;\n        const value = e.target.options[e.target.selectedIndex].value;\n\n        contextVideo._defaultSizeY = contextVideo._videoRatio = !value ? contextVideo._defaultSizeY : (value * 100) + '%';\n        contextVideo.inputY.placeholder = !value ? '' : (value * 100) + '%';\n        contextVideo.inputY.value = '';\n    },\n\n    /**\n     * @Override resizing\n     * @param {String} xy 'x': width, 'y': height\n     * @param {KeyboardEvent} e Event object\n     */\n    setInputSize: function (xy, e) {\n        if (e && e.keyCode === 32) {\n            e.preventDefault();\n            return;\n        }\n\n        const contextVideo = this.context.video;\n        this.plugins.resizing._module_setInputSize.call(this, contextVideo, xy);\n\n        if (xy === 'y') {\n            this.plugins.video.setVideoRatioSelect.call(this, e.target.value || contextVideo._defaultRatio);\n        }\n    },\n\n    /**\n     * @Override resizing\n     */\n    setRatio: function () {\n        this.plugins.resizing._module_setRatio.call(this, this.context.video);\n    },\n\n    submit: function (e) {\n        const contextVideo = this.context.video;\n        const videoPlugin = this.plugins.video;\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        contextVideo._align = contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"]:checked').value;\n\n        try {\n            if (contextVideo.videoInputFile && contextVideo.videoInputFile.files.length > 0) {\n                this.showLoading();\n                videoPlugin.submitAction.call(this, this.context.video.videoInputFile.files);\n            } else if (contextVideo.videoUrlFile && contextVideo._linkValue.length > 0) {\n                this.showLoading();\n                videoPlugin.setup_url.call(this);\n            }\n        } catch (error) {\n            this.closeLoading();\n            throw Error('[SUNEDITOR.video.submit.fail] cause : \"' + error.message + '\"');\n        } finally {\n            this.plugins.dialog.close.call(this);\n        }\n\n        return false;\n    },\n\n    submitAction: function (fileList) {\n        if (fileList.length === 0) return;\n\n        let fileSize = 0;\n        let files = [];\n        for (let i = 0, len = fileList.length; i < len; i++) {\n            if (/video/i.test(fileList[i].type)) {\n                files.push(fileList[i]);\n                fileSize += fileList[i].size;\n            }\n        }\n\n        const limitSize = this.options.videoUploadSizeLimit;\n        if (limitSize > 0) {\n            let infoSize = 0;\n            const videosInfo = this.context.video._infoList;\n            for (let i = 0, len = videosInfo.length; i < len; i++) {\n                infoSize += videosInfo[i].size * 1;\n            }\n\n            if ((fileSize + infoSize) > limitSize) {\n                this.closeLoading();\n                const err = '[SUNEDITOR.videoUpload.fail] Size of uploadable total videos: ' + (limitSize/1000) + 'KB';\n                if (typeof this.functions.onVideoUploadError !== 'function' || this.functions.onVideoUploadError(err, { 'limitSize': limitSize, 'currentSize': infoSize, 'uploadSize': fileSize }, this)) {\n                    this.functions.noticeOpen(err);\n                }\n                return;\n            }\n        }\n\n        const contextVideo = this.context.video;\n        contextVideo._uploadFileLength = files.length;\n\n        const info = {\n            inputWidth: contextVideo.inputX.value,\n            inputHeight: contextVideo.inputY.value,\n            align: contextVideo._align,\n            isUpdate: this.context.dialog.updateModal,\n            element: contextVideo._element\n        };\n\n        if (typeof this.functions.onVideoUploadBefore === 'function') {\n            const result = this.functions.onVideoUploadBefore(files, info, this, function (data) {\n                if (data && this._w.Array.isArray(data.result)) {\n                    this.plugins.video.register.call(this, info, data);\n                } else {\n                    this.plugins.video.upload.call(this, info, data);\n                }\n            }.bind(this));\n\n            if (typeof result === 'undefined') return;\n            if (!result) {\n                this.closeLoading();\n                return;\n            }\n            if (typeof result === 'object' && result.length > 0) files = result;\n        }\n\n        this.plugins.video.upload.call(this, info, files);\n    },\n\n    error: function (message, response) {\n        this.closeLoading();\n        if (typeof this.functions.onVideoUploadError !== 'function' || this.functions.onVideoUploadError(message, response, this)) {\n            this.functions.noticeOpen(message);\n            throw Error('[SUNEDITOR.plugin.video.error] response: ' + message);\n        }\n    },\n\n    upload: function (info, files) {\n        if (!files) {\n            this.closeLoading();\n            return;\n        }\n        if (typeof files === 'string') {\n            this.plugins.video.error.call(this, files, null);\n            return;\n        }\n\n        const videoUploadUrl = this.options.videoUploadUrl;\n        const filesLen = this.context.dialog.updateModal ? 1 : files.length;\n\n        // server upload\n        if (typeof videoUploadUrl === 'string' && videoUploadUrl.length > 0) {\n            const formData = new FormData();\n            for (let i = 0; i < filesLen; i++) {\n                formData.append('file-' + i, files[i]);\n            }\n            this.plugins.fileManager.upload.call(this, videoUploadUrl, this.options.videoUploadHeader, formData, this.plugins.video.callBack_videoUpload.bind(this, info), this.functions.onVideoUploadError);\n        } else {\n            throw Error('[SUNEDITOR.videoUpload.fail] cause : There is no \"videoUploadUrl\" option.');\n        }\n    },\n\n    callBack_videoUpload: function (info, xmlHttp) {\n        if (typeof this.functions.videoUploadHandler === 'function') {\n            this.functions.videoUploadHandler(xmlHttp, info, this);\n        } else {\n            const response = JSON.parse(xmlHttp.responseText);\n            if (response.errorMessage) {\n                this.plugins.video.error.call(this, response.errorMessage, response);\n            } else {\n                this.plugins.video.register.call(this, info, response);\n            }\n        }\n    },\n\n    register: function (info, response) {\n        const fileList = response.result;\n        const videoTag = this.plugins.video.createVideoTag.call(this);\n\n        for (let i = 0, len = fileList.length, file; i < len; i++) {\n            file = { name: fileList[i].name, size: fileList[i].size };\n            this.plugins.video.create_video.call(this, (info.isUpdate ? info.element : videoTag.cloneNode(false)), fileList[i].url, info.inputWidth, info.inputHeight, info.align, file, info.isUpdate);\n        }\n\n        this.closeLoading();\n    },\n\n    setup_url: function () {\n        try {\n            const contextVideo = this.context.video;\n            let url = contextVideo._linkValue;\n\n            if (url.length === 0) return false;\n\n            /** iframe source */\n            if (/^<iframe.*\\/iframe>$/.test(url)) {\n                const oIframe = (new this._w.DOMParser()).parseFromString(url, 'text/html').querySelector('iframe');\n                url = oIframe.src;\n                if (url.length === 0) return false;\n            }\n            \n            /** youtube */\n            if (/youtu\\.?be/.test(url)) {\n                if (!/^http/.test(url)) url = 'https://' + url;\n                url = url.replace('watch?v=', '');\n                if (!/^\\/\\/.+\\/embed\\//.test(url)) {\n                    url = url.replace(url.match(/\\/\\/.+\\//)[0], '//www.youtube.com/embed/').replace('&', '?&');\n                }\n\n                if (contextVideo._youtubeQuery.length > 0) {\n                    if (/\\?/.test(url)) {\n                        const splitUrl = url.split('?');\n                        url = splitUrl[0] + '?' + contextVideo._youtubeQuery + '&' + splitUrl[1];\n                    } else {\n                        url += '?' + contextVideo._youtubeQuery;\n                    }\n                }\n            } else if (/vimeo\\.com/.test(url)) {\n                if (url.endsWith('/')) {\n                    url = url.slice(0, -1);\n                }\n                url = 'https://player.vimeo.com/video/' + url.slice(url.lastIndexOf('/') + 1);\n            }\n\n            this.plugins.video.create_video.call(this, this.plugins.video.createIframeTag.call(this), url, contextVideo.inputX.value, contextVideo.inputY.value, contextVideo._align, null, this.context.dialog.updateModal);\n        } catch (error) {\n            throw Error('[SUNEDITOR.video.upload.fail] cause : \"' + error.message + '\"');\n        } finally {\n            this.closeLoading();\n        }\n    },\n\n    create_video: function (oFrame, src, width, height, align, file, isUpdate) {\n        this.context.resizing._resize_plugin = 'video';\n        const contextVideo = this.context.video;\n        \n        let cover = null;\n        let container = null;\n        let init = false;\n\n        /** update */\n        if (isUpdate) {\n            oFrame = contextVideo._element;\n            if (oFrame.src !== src) {\n                init = true;\n                const isYoutube = /youtu\\.?be/.test(src);\n                const isVimeo = /vimeo\\.com/.test(src);\n                if ((isYoutube || isVimeo) && !/^iframe$/i.test(oFrame.nodeName)) {\n                    const newTag = this.plugins.video.createIframeTag.call(this);\n                    newTag.src = src;\n                    oFrame.parentNode.replaceChild(newTag, oFrame);\n                    contextVideo._element = oFrame = newTag;\n                } else if (!isYoutube && !isVimeo && !/^videoo$/i.test(oFrame.nodeName)) {\n                    const newTag = this.plugins.video.createVideoTag.call(this);\n                    newTag.src = src;\n                    oFrame.parentNode.replaceChild(newTag, oFrame);\n                    contextVideo._element = oFrame = newTag;\n                } else {\n                    oFrame.src = src;\n                }\n            }\n            container = contextVideo._container;\n            cover = this.util.getParentElement(oFrame, 'FIGURE');\n        }\n        /** create */\n        else {\n            init = true;\n            oFrame.src = src;\n            contextVideo._element = oFrame;\n            cover = this.plugins.component.set_cover.call(this, oFrame);\n            container = this.plugins.component.set_container.call(this, cover, 'se-video-container');\n        }\n\n        /** rendering */\n        contextVideo._cover = cover;\n        contextVideo._container = container;\n\n        const inputUpdate = (this.plugins.resizing._module_getSizeX.call(this, contextVideo) !== (width || contextVideo._defaultSizeX)) || (this.plugins.resizing._module_getSizeY.call(this, contextVideo) !== (height || contextVideo._videoRatio));\n        const changeSize = !isUpdate || inputUpdate;\n\n        if (contextVideo._resizing) {\n            this.context.video._proportionChecked = contextVideo.proportion.checked;\n            oFrame.setAttribute('data-proportion', contextVideo._proportionChecked);\n        }\n\n        // size\n        let isPercent = false;\n        if (changeSize) {\n            isPercent = this.plugins.video.applySize.call(this);\n        }\n\n        // align\n        if (!(isPercent && align === 'center')) {\n            this.plugins.video.setAlign.call(this, null, oFrame, cover, container);\n        }\n\n        let changed = true;\n        if (!isUpdate) {\n            changed = this.insertComponent(container, false, true, !this.options.mediaAutoSelect);\n            if (!this.options.mediaAutoSelect) {\n                const line = this.appendFormatTag(container, null);\n                this.setRange(line, 0, line, 0);\n            }\n        } else if (contextVideo._resizing && this.context.resizing._rotateVertical && changeSize) {\n            this.plugins.resizing.setTransformSize.call(this, oFrame, null, null);\n        }\n\n        if (changed) {\n            if (init) {\n                this.plugins.fileManager.setInfo.call(this, 'video', oFrame, this.functions.onVideoUpload, file, true);\n            }\n            if (isUpdate) {\n                this.selectComponent(oFrame, 'video');\n                // history stack\n                this.history.push(false);\n            }\n        }\n\n        this.context.resizing._resize_plugin = '';\n    },\n\n    _update_videoCover: function (oFrame) {\n        if (!oFrame) return;\n\n        const contextVideo = this.context.video;\n        \n        if (/^video$/i.test(oFrame.nodeName)) this.plugins.video._setTagAttrs.call(this, oFrame);\n        else this.plugins.video._setIframeAttrs.call(this, oFrame);\n        \n        const existElement = this.util.getParentElement(oFrame, this.util.isMediaComponent) || \n            this.util.getParentElement(oFrame, function (current) {\n                return this.isWysiwygDiv(current.parentNode);\n            }.bind(this.util));\n\n        const prevFrame = oFrame;\n        contextVideo._element = oFrame = oFrame.cloneNode(true);\n        const cover = contextVideo._cover = this.plugins.component.set_cover.call(this, oFrame);\n        const container = contextVideo._container = this.plugins.component.set_container.call(this, cover, 'se-video-container');\n\n        try {\n            const figcaption = existElement.querySelector('figcaption');\n            let caption = null;\n            if (!!figcaption) {\n                caption = this.util.createElement('DIV');\n                caption.innerHTML = figcaption.innerHTML;\n                this.util.removeItem(figcaption);\n            }\n\n            // size\n            const size = (oFrame.getAttribute('data-size') || oFrame.getAttribute('data-origin') || '').split(',');\n            this.plugins.video.applySize.call(this, (size[0] || prevFrame.style.width || prevFrame.width || ''), (size[1] || prevFrame.style.height || prevFrame.height || ''));\n\n            // align\n            const format = this.util.getFormatElement(prevFrame);\n            if (format) contextVideo._align = format.style.textAlign || format.style.float;\n            this.plugins.video.setAlign.call(this, null, oFrame, cover, container);\n\n            if (this.util.isFormatElement(existElement) && existElement.childNodes.length > 0) {\n                existElement.parentNode.insertBefore(container, existElement);\n                this.util.removeItem(prevFrame);\n                // clean format tag\n                this.util.removeEmptyNode(existElement, null);\n                if (existElement.children.length === 0) existElement.innerHTML = this.util.htmlRemoveWhiteSpace(existElement.innerHTML);\n            } else {\n                existElement.parentNode.replaceChild(container, existElement);\n            }\n\n            if (!!caption) existElement.parentNode.insertBefore(caption, container.nextElementSibling);\n        } catch (error) {\n            console.warn('[SUNEDITOR.video.error] Maybe the video tag is nested.', error);\n        }\n\n        this.plugins.fileManager.setInfo.call(this, 'video', oFrame, this.functions.onVideoUpload, null, true);\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    onModifyMode: function (element, size) {\n        const contextVideo = this.context.video;\n        contextVideo._element = element;\n        contextVideo._cover = this.util.getParentElement(element, 'FIGURE');\n        contextVideo._container = this.util.getParentElement(element, this.util.isMediaComponent);\n        contextVideo._align = element.style.float || element.getAttribute('data-align') || 'none';\n        element.style.float = '';\n\n        if (size) {\n            contextVideo._element_w = size.w;\n            contextVideo._element_h = size.h;\n            contextVideo._element_t = size.t;\n            contextVideo._element_l = size.l;\n        }\n\n        let origin = contextVideo._element.getAttribute('data-size') || contextVideo._element.getAttribute('data-origin');\n        let w, h;\n        if (origin) {\n            origin = origin.split(',');\n            w = origin[0];\n            h = origin[1];\n        } else if (size) {\n            w = size.w;\n            h = size.h;\n        }\n\n        contextVideo._origin_w = w || element.style.width || element.width || '';\n        contextVideo._origin_h = h || element.style.height || element.height || '';\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    openModify: function (notOpen) {\n        const contextVideo = this.context.video;\n\n        if (contextVideo.videoUrlFile) contextVideo._linkValue = contextVideo.preview.textContent = contextVideo.videoUrlFile.value = (contextVideo._element.src || (contextVideo._element.querySelector('source') || '').src || '');\n        contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"' + contextVideo._align + '\"]').checked = true;\n\n        if (contextVideo._resizing) {\n            this.plugins.resizing._module_setModifyInputSize.call(this, contextVideo, this.plugins.video);\n            \n            const y = contextVideo._videoRatio = this.plugins.resizing._module_getSizeY.call(this, contextVideo);\n            const ratioSelected = this.plugins.video.setVideoRatioSelect.call(this, y);\n            if (!ratioSelected) contextVideo.inputY.value = contextVideo._onlyPercentage ? this.util.getNumber(y, 2) : y;\n        }\n\n        if (!notOpen) this.plugins.dialog.open.call(this, 'video', true);\n    },\n    \n    setVideoRatioSelect: function (value) {\n        let ratioSelected = false;\n        const contextVideo = this.context.video;\n        const ratioOptions = contextVideo.videoRatioOption.options;\n\n        if (/%$/.test(value) || contextVideo._onlyPercentage) value = (this.util.getNumber(value, 2) / 100) + '';\n        else if (!this.util.isNumber(value) || (value * 1) >= 1) value = '';\n\n        contextVideo.inputY.placeholder = '';\n        for (let i = 0, len = ratioOptions.length; i < len; i++) {\n            if (ratioOptions[i].value === value) {\n                ratioSelected = ratioOptions[i].selected = true;\n                contextVideo.inputY.placeholder = !value ? '' : (value * 100) + '%';\n            }\n            else ratioOptions[i].selected = false;\n        }\n\n        return ratioSelected;\n    },\n\n    /**\n     * @Override fileManager\n     */\n    checkFileInfo: function () {\n        this.plugins.fileManager.checkInfo.call(this, 'video', ['iframe', 'video'], this.functions.onVideoUpload, this.plugins.video._update_videoCover.bind(this), true);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    resetFileInfo: function () {\n        this.plugins.fileManager.resetInfo.call(this, 'video', this.functions.onVideoUpload);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    applySize: function (w, h) {\n        const contextVideo = this.context.video;\n\n        if (!w) w = contextVideo.inputX.value || this.options.videoWidth;\n        if (!h) h = contextVideo.inputY.value || this.options.videoHeight;\n        \n        if (contextVideo._onlyPercentage || /%$/.test(w) || !w) {\n            this.plugins.video.setPercentSize.call(this, (w || '100%'), (h || (/%$/.test(contextVideo._videoRatio) ? contextVideo._videoRatio : contextVideo._defaultRatio)));\n            return true;\n        } else if ((!w || w === 'auto') && (!h || h === 'auto')) {\n            this.plugins.video.setAutoSize.call(this);\n        } else {\n            this.plugins.video.setSize.call(this, w, (h || contextVideo._videoRatio || contextVideo._defaultRatio), false);\n        }\n\n        return false;\n    },\n\n    /**\n     * @Override resizing\n     */\n    sizeRevert: function () {\n        this.plugins.resizing._module_sizeRevert.call(this, this.context.video);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setSize: function (w, h, notResetPercentage, direction) {\n        const contextVideo = this.context.video;\n        const onlyW = /^(rw|lw)$/.test(direction);\n        const onlyH = /^(th|bh)$/.test(direction);\n\n        if (!onlyH) w = this.util.getNumber(w, 0);\n        if (!onlyW) h = this.util.isNumber(h) ? h + contextVideo.sizeUnit : !h ? '' : h;\n\n        if (!onlyH) contextVideo._element.style.width = w ? w + contextVideo.sizeUnit : '';\n        if (!onlyW) contextVideo._cover.style.paddingBottom = contextVideo._cover.style.height = h;\n\n        if (!onlyH && !/%$/.test(w)) {\n            contextVideo._cover.style.width = '';\n            contextVideo._container.style.width = '';\n        }\n\n        if (!onlyW && !/%$/.test(h)) {\n            contextVideo._element.style.height = h;\n        } else {\n            contextVideo._element.style.height = '';\n        }\n\n        if (!notResetPercentage) contextVideo._element.removeAttribute('data-percentage');\n\n        // save current size\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setAutoSize: function () {\n        this.plugins.video.setPercentSize.call(this, 100, this.context.video._defaultRatio);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setOriginSize: function (dataSize) {\n        const contextVideo = this.context.video;\n        contextVideo._element.removeAttribute('data-percentage');\n\n        this.plugins.resizing.resetTransform.call(this, contextVideo._element);\n        this.plugins.video.cancelPercentAttr.call(this);\n\n        const originSize = ((dataSize ? contextVideo._element.getAttribute('data-size') : '') || contextVideo._element.getAttribute('data-origin') || '').split(',');\n        \n        if (originSize) {\n            const w = originSize[0];\n            const h = originSize[1];\n\n            if (contextVideo._onlyPercentage || (/%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h)))) {\n                this.plugins.video.setPercentSize.call(this, w, h);\n            } else {\n                this.plugins.video.setSize.call(this, w, h);\n            }\n\n            // save current size\n            this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n        }\n    },\n\n    /**\n     * @Override resizing\n     */\n    setPercentSize: function (w, h) {\n        const contextVideo = this.context.video;\n        h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + '%' : h : this.util.isNumber(h) ? h + contextVideo.sizeUnit : (h || contextVideo._defaultRatio);\n\n        contextVideo._container.style.width = this.util.isNumber(w) ? w + '%' : w;\n        contextVideo._container.style.height = '';\n        contextVideo._cover.style.width = '100%';\n        contextVideo._cover.style.height = h;\n        contextVideo._cover.style.paddingBottom = h;\n        contextVideo._element.style.width = '100%';\n        contextVideo._element.style.height = '100%';\n        contextVideo._element.style.maxWidth = '';\n\n        if (contextVideo._align === 'center') this.plugins.video.setAlign.call(this, null, null, null, null);\n        contextVideo._element.setAttribute('data-percentage', w + ',' + h);\n\n        // save current size\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n    },\n\n    /**\n     * @Override resizing\n     */\n    cancelPercentAttr: function () {\n        const contextVideo = this.context.video;\n        \n        contextVideo._cover.style.width = '';\n        contextVideo._cover.style.height = '';\n        contextVideo._cover.style.paddingBottom = '';\n        contextVideo._container.style.width = '';\n        contextVideo._container.style.height = '';\n\n        this.util.removeClass(contextVideo._container, this.context.video._floatClassRegExp);\n        this.util.addClass(contextVideo._container, '__se__float-' + contextVideo._align);\n\n        if (contextVideo._align === 'center') this.plugins.video.setAlign.call(this, null, null, null, null);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setAlign: function (align, element, cover, container) {\n        const contextVideo = this.context.video;\n        \n        if (!align) align = contextVideo._align;\n        if (!element) element = contextVideo._element;\n        if (!cover) cover = contextVideo._cover;\n        if (!container) container = contextVideo._container;\n\n        if (align && align !== 'none') {\n            cover.style.margin = 'auto';\n        } else {\n            cover.style.margin = '0';\n        }\n\n        if (/%$/.test(element.style.width) && align === 'center') {\n            container.style.minWidth = '100%';\n            cover.style.width = container.style.width;\n            cover.style.height = cover.style.height;\n            cover.style.paddingBottom = !/%$/.test(cover.style.height) ? cover.style.height : this.util.getNumber((this.util.getNumber(cover.style.height, 2) / 100) * this.util.getNumber(cover.style.width, 2), 2) + '%';\n        } else {\n            container.style.minWidth = '';\n            cover.style.width = this.context.resizing._rotateVertical ? (element.style.height || element.offsetHeight) : (element.style.width || '100%');\n            cover.style.paddingBottom = cover.style.height;\n        }\n\n        if (!this.util.hasClass(container, '__se__float-' + align)) {\n            this.util.removeClass(container, contextVideo._floatClassRegExp);\n            this.util.addClass(container, '__se__float-' + align);\n        }\n        \n        element.setAttribute('data-align', align);\n    },\n\n    /**\n     * @Override dialog\n     */\n    init: function () {\n        const contextVideo = this.context.video;\n        if (contextVideo.videoInputFile) contextVideo.videoInputFile.value = '';\n        if (contextVideo.videoUrlFile) contextVideo._linkValue = contextVideo.preview.textContent = contextVideo.videoUrlFile.value = '';\n        if (contextVideo.videoInputFile && contextVideo.videoUrlFile) {\n            contextVideo.videoUrlFile.removeAttribute('disabled');\n            contextVideo.preview.style.textDecoration = '';\n        }\n\n        contextVideo._origin_w = this.options.videoWidth;\n        contextVideo._origin_h = this.options.videoHeight;\n        contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"none\"]').checked = true;\n        \n        if (contextVideo._resizing) {\n            contextVideo.inputX.value = this.options.videoWidth === contextVideo._defaultSizeX ? '' : this.options.videoWidth;\n            contextVideo.inputY.value = this.options.videoHeight === contextVideo._defaultSizeY ? '' : this.options.videoHeight;\n            contextVideo.proportion.checked = true;\n            contextVideo.proportion.disabled = true;\n            this.plugins.video.setVideoRatioSelect.call(this, contextVideo._defaultRatio);\n        }\n    }\n});\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _modules_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n/* harmony import */ var _modules_component__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_component__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _modules_fileManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3);\n/* harmony import */ var _modules_fileManager__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_modules_fileManager__WEBPACK_IMPORTED_MODULE_2__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'audio',\n    display: 'dialog',\n    add: function (core) {\n        core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_component__WEBPACK_IMPORTED_MODULE_1___default.a, _modules_fileManager__WEBPACK_IMPORTED_MODULE_2___default.a]);\n\n        const context = core.context;\n        const contextAudio = context.audio = {\n            _infoList: [], // @Override fileManager\n            _infoIndex: 0, // @Override fileManager\n            _uploadFileLength: 0, // @Override fileManager\n            focusElement: null, // @Override dialog // This element has focus when the dialog is opened.\n            targetSelect: null,\n            _origin_w: core.options.audioWidth,\n            _origin_h: core.options.audioHeight,\n            _linkValue: '',\n            // @require @Override component\n            _element: null,\n            _cover: null,\n            _container: null,\n        };\n\n        /** dialog */\n        let audio_dialog = this.setDialog(core);\n        contextAudio.modal = audio_dialog;\n        contextAudio.audioInputFile = audio_dialog.querySelector('._se_audio_files');\n        contextAudio.audioUrlFile = audio_dialog.querySelector('.se-input-url');\n        contextAudio.focusElement = contextAudio.audioInputFile || contextAudio.audioUrlFile;\n        contextAudio.preview = audio_dialog.querySelector('.se-link-preview');\n\n        /** controller */\n        let audio_controller = this.setController(core);\n        contextAudio.controller = audio_controller;\n\n        /** add event listeners */\n        audio_dialog.querySelector('form').addEventListener('submit', this.submit.bind(core));\n        if (contextAudio.audioInputFile) audio_dialog.querySelector('.se-dialog-files-edge-button').addEventListener('click', this._removeSelectedFiles.bind(contextAudio.audioInputFile, contextAudio.audioUrlFile, contextAudio.preview));\n        if (contextAudio.audioInputFile && contextAudio.audioUrlFile) contextAudio.audioInputFile.addEventListener('change', this._fileInputChange.bind(contextAudio));\n        audio_controller.addEventListener('click', this.onClick_controller.bind(core));\n        if (contextAudio.audioUrlFile) contextAudio.audioUrlFile.addEventListener('input', this._onLinkPreview.bind(contextAudio.preview, contextAudio, core.options.linkProtocol));\n\n        /** append html */\n        context.dialog.modal.appendChild(audio_dialog);\n\n        /** append controller */\n        context.element.relative.appendChild(audio_controller);\n\n        /** empty memory */\n        audio_dialog = null, audio_controller = null;\n    },\n\n    /** HTML - dialog */\n    setDialog: function (core) {\n        const option = core.options;\n        const lang = core.lang;\n        const dialog = core.util.createElement('DIV');\n\n        dialog.className = 'se-dialog-content';\n        dialog.style.display = 'none';\n        let html = '' +\n            '<form method=\"post\" enctype=\"multipart/form-data\">' +\n                '<div class=\"se-dialog-header\">' +\n                    '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\n                        core.icons.cancel +\n                    '</button>' +\n                    '<span class=\"se-modal-title\">' + lang.dialogBox.audioBox.title + '</span>' +\n                '</div>' +\n                '<div class=\"se-dialog-body\">';\n\n                if (option.audioFileInput) {\n                    html += '' +\n                        '<div class=\"se-dialog-form\">' +\n                            '<label>' + lang.dialogBox.audioBox.file + '</label>' +\n                            '<div class=\"se-dialog-form-files\">' +\n                                '<input class=\"se-input-form _se_audio_files\" type=\"file\" accept=\"' + option.audioAccept + '\"' + (option.audioMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' +\n                                '<button type=\"button\" data-command=\"filesRemove\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\">' + core.icons.cancel + '</button>' +\n                            '</div>' +\n                        '</div>';\n                }\n                 \n                if (option.audioUrlInput) {\n                    html += '' +\n                        '<div class=\"se-dialog-form\">' +\n                            '<label>' + lang.dialogBox.audioBox.url + '</label>' +\n                            '<input class=\"se-input-form se-input-url\" type=\"text\" />' +\n                            '<pre class=\"se-link-preview\"></pre>' +\n                        '</div>';\n                }\n                    \n                html += '' +\n                '</div>' +\n                '<div class=\"se-dialog-footer\">' +\n                    '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\n                '</div>' +\n            '</form>';\n\n        dialog.innerHTML = html;\n\n        return dialog;\n    },\n\n    /** HTML - controller */\n    setController: function (core) {\n        const lang = core.lang;\n        const icons = core.icons;\n        const link_btn = core.util.createElement('DIV');\n\n        link_btn.className = 'se-controller se-controller-link';\n        link_btn.innerHTML = '' +\n            '<div class=\"se-arrow se-arrow-up\"></div>' +\n            '<div class=\"link-content\">' +\n                '<div class=\"se-btn-group\">' +\n                    '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-tooltip\">' +\n                        icons.edit +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-tooltip\">' +\n                        icons.delete +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\n                    '</button>' +\n                '</div>' +\n            '</div>';\n\n        return link_btn;\n    },\n\n    // Disable url input when uploading files\n    _fileInputChange: function () {\n        if (!this.audioInputFile.value) {\n            this.audioUrlFile.removeAttribute('disabled');\n            this.preview.style.textDecoration = '';\n        } else {\n            this.audioUrlFile.setAttribute('disabled', true);\n            this.preview.style.textDecoration = 'line-through';\n        }\n    },\n\n    // Disable url input when uploading files\n    _removeSelectedFiles: function (urlInput, preview) {\n        this.value = '';\n        if (urlInput) {\n            urlInput.removeAttribute('disabled');\n            preview.style.textDecoration = '';\n        }\n    },\n\n    // create new audio tag\n    _createAudioTag: function () {\n        const oAudio = this.util.createElement('AUDIO');\n        this.plugins.audio._setTagAttrs.call(this, oAudio);\n\n        const w = this.context.audio._origin_w;\n        const h = this.context.audio._origin_h;\n        oAudio.setAttribute('origin-size', w + ',' + h);\n        oAudio.style.cssText = (w ? ('width:' + w + '; ') : '') + (h ? ('height:' + h + ';') : '');\n\n        return oAudio;\n    },\n\n    _setTagAttrs: function (element) {\n        element.setAttribute('controls', true);\n\n        const attrs = this.options.audioTagAttrs;\n        if (!attrs) return;\n\n        for (let key in attrs) {\n            if (!this.util.hasOwn(attrs, key)) continue;\n            element.setAttribute(key, attrs[key]);\n        }\n    },\n\n    _onLinkPreview: function (context, protocol, e) {\n        const value = e.target.value.trim();\n        context._linkValue = this.textContent = !value ? '' : (protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0) ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\n    },\n\n    /**\n     * @Required @Override fileManager\n     */\n    fileTags: ['audio'],\n\n    /**\n     * @Override core, fileManager, resizing\n     * @description It is called from core.selectComponent.\n     * @param {Element} element Target element\n     */\n    select: function (element) {\n        this.plugins.audio.onModifyMode.call(this, element);\n    },\n\n    /**\n     * @Override fileManager, resizing \n     */\n    destroy: function (element) {\n        element = element || this.context.audio._element;\n        const container = this.util.getParentElement(element, this.util.isComponent) || element;\n        const dataIndex = element.getAttribute('data-index') * 1;\n        const focusEl = (container.previousElementSibling || container.nextElementSibling);\n\n        const emptyDiv = container.parentNode;\n        this.util.removeItem(container);\n        this.plugins.audio.init.call(this);\n        this.controllersOff();\n\n        if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) { return current.childNodes.length === 0; }, null);\n\n        // focus\n        this.focusEdge(focusEl);\n\n        // fileManager event\n        this.plugins.fileManager.deleteInfo.call(this, 'audio', dataIndex, this.functions.onAudioUpload);\n\n        // history stack\n        this.history.push(false);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    checkFileInfo: function () {\n        this.plugins.fileManager.checkInfo.call(this, 'audio', ['audio'], this.functions.onAudioUpload, this.plugins.audio.updateCover.bind(this), false);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    resetFileInfo: function () {\n        this.plugins.fileManager.resetInfo.call(this, 'audio', this.functions.onAudioUpload);\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    on: function (update) {\n        const contextAudio = this.context.audio;\n\n        if (!update) {\n            this.plugins.audio.init.call(this);\n            if (contextAudio.audioInputFile && this.options.audioMultipleFile) contextAudio.audioInputFile.setAttribute('multiple', 'multiple');\n        } else if (contextAudio._element) {\n            this.context.dialog.updateModal = true;\n            contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = contextAudio._element.src;\n            if (contextAudio.audioInputFile && this.options.audioMultipleFile) contextAudio.audioInputFile.removeAttribute('multiple');\n        } else {\n            if (contextAudio.audioInputFile && this.options.audioMultipleFile) contextAudio.audioInputFile.removeAttribute('multiple');\n        }\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    open: function () {\n        this.plugins.dialog.open.call(this, 'audio', 'audio' === this.currentControllerName);\n    },\n\n    submit: function (e) {\n        const contextAudio = this.context.audio;\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        try {\n            if (contextAudio.audioInputFile && contextAudio.audioInputFile.files.length > 0) {\n                this.showLoading();\n                this.plugins.audio.submitAction.call(this, contextAudio.audioInputFile.files);\n            } else if (contextAudio.audioUrlFile && contextAudio._linkValue.length > 0) {\n                this.showLoading();\n                this.plugins.audio.setupUrl.call(this, contextAudio._linkValue);\n            }\n        } catch (error) {\n            this.closeLoading();\n            throw Error('[SUNEDITOR.audio.submit.fail] cause : \"' + error.message + '\"');\n        } finally {\n            this.plugins.dialog.close.call(this);\n        }\n\n        return false;\n    },\n\n    submitAction: function (fileList) {\n        if (fileList.length === 0) return;\n\n        let fileSize = 0;\n        let files = [];\n        for (let i = 0, len = fileList.length; i < len; i++) {\n            if (/audio/i.test(fileList[i].type)) {\n                files.push(fileList[i]);\n                fileSize += fileList[i].size;\n            }\n        }\n\n        const limitSize = this.options.audioUploadSizeLimit;\n        if (limitSize > 0) {\n            let infoSize = 0;\n            const audiosInfo = this.context.audio._infoList;\n            for (let i = 0, len = audiosInfo.length; i < len; i++) {\n                infoSize += audiosInfo[i].size * 1;\n            }\n\n            if ((fileSize + infoSize) > limitSize) {\n                this.closeLoading();\n                const err = '[SUNEDITOR.audioUpload.fail] Size of uploadable total audios: ' + (limitSize/1000) + 'KB';\n                if (typeof this.functions.onAudioUploadError !== 'function' || this.functions.onAudioUploadError(err, { 'limitSize': limitSize, 'currentSize': infoSize, 'uploadSize': fileSize }, this)) {\n                    this.functions.noticeOpen(err);\n                }\n                return;\n            }\n        }\n\n        const contextAudio = this.context.audio;\n        contextAudio._uploadFileLength = files.length;\n\n        const info = {\n            isUpdate: this.context.dialog.updateModal,\n            element: contextAudio._element\n        };\n\n        if (typeof this.functions.onAudioUploadBefore === 'function') {\n            const result = this.functions.onAudioUploadBefore(files, info, this, function (data) {\n                if (data && this._w.Array.isArray(data.result)) {\n                    this.plugins.audio.register.call(this, info, data);\n                } else {\n                    this.plugins.audio.upload.call(this, info, data);\n                }\n            }.bind(this));\n\n            if (typeof result === 'undefined') return;\n            if (!result) {\n                this.closeLoading();\n                return;\n            }\n            if (typeof result === 'object' && result.length > 0) files = result;\n        }\n\n        this.plugins.audio.upload.call(this, info, files);\n    },\n\n    error: function (message, response) {\n        this.closeLoading();\n        if (typeof this.functions.onAudioUploadError !== 'function' || this.functions.onAudioUploadError(message, response, this)) {\n            this.functions.noticeOpen(message);\n            throw Error('[SUNEDITOR.plugin.audio.exception] response: ' + message);\n        }\n    },\n\n    upload: function (info, files) {\n        if (!files) {\n            this.closeLoading();\n            return;\n        }\n        if (typeof files === 'string') {\n            this.plugins.audio.error.call(this, files, null);\n            return;\n        }\n\n        const audioUploadUrl = this.options.audioUploadUrl;\n        const filesLen = this.context.dialog.updateModal ? 1 : files.length;\n\n        // create formData\n        const formData = new FormData();\n        for (let i = 0; i < filesLen; i++) {\n            formData.append('file-' + i, files[i]);\n        }\n\n        // server upload\n        this.plugins.fileManager.upload.call(this, audioUploadUrl, this.options.audioUploadHeader, formData, this.plugins.audio.callBack_upload.bind(this, info), this.functions.onAudioUploadError);\n    },\n\n    callBack_upload: function (info, xmlHttp) {\n        if (typeof this.functions.audioUploadHandler === 'function') {\n            this.functions.audioUploadHandler(xmlHttp, info, this);\n        } else {\n            const response = JSON.parse(xmlHttp.responseText);\n            if (response.errorMessage) {\n                this.plugins.audio.error.call(this, response.errorMessage, response);\n            } else {\n                this.plugins.audio.register.call(this, info, response);\n            }\n        }\n    },\n\n    register: function (info, response) {\n        const fileList = response.result;\n\n        for (let i = 0, len = fileList.length, file, oAudio; i < len; i++) {\n            if (info.isUpdate) oAudio = info.element;\n            else oAudio = this.plugins.audio._createAudioTag.call(this);\n\n            file = { name: fileList[i].name, size: fileList[i].size };\n            this.plugins.audio.create_audio.call(this, oAudio, fileList[i].url, file, info.isUpdate);\n        }\n\n        this.closeLoading();\n    },\n\n    setupUrl: function (src) {\n        try {\n            if (src.length === 0) return false;\n            this.plugins.audio.create_audio.call(this, this.plugins.audio._createAudioTag.call(this), src, null, this.context.dialog.updateModal);\n        } catch (error) {\n            throw Error('[SUNEDITOR.audio.audio.fail] cause : \"' + error.message + '\"');\n        } finally {\n            this.closeLoading();\n        }\n    },\n\n    create_audio: function (element, src, file, isUpdate) {\n        const contextAudio = this.context.audio;\n        \n        // create new tag\n        if (!isUpdate) {\n            element.src = src;\n            const cover = this.plugins.component.set_cover.call(this, element);\n            const container = this.plugins.component.set_container.call(this, cover, '');\n            if (!this.insertComponent(container, false, true, !this.options.mediaAutoSelect)) {\n                this.focus();\n                return;\n            }\n            if (!this.options.mediaAutoSelect) {\n                const line = this.appendFormatTag(container, null);\n                this.setRange(line, 0, line, 0);\n            }\n        } // update\n        else {\n            if (contextAudio._element) element = contextAudio._element;\n            if (element && element.src !== src) {\n                element.src = src;\n                this.selectComponent(element, 'audio');\n            } else {\n                this.selectComponent(element, 'audio');\n                return;\n            }\n        }\n\n        this.plugins.fileManager.setInfo.call(this, 'audio', element, this.functions.onAudioUpload, file, false);\n        if (isUpdate) this.history.push(false);\n    },\n\n    updateCover: function (element) {\n        const contextAudio = this.context.audio;\n        this.plugins.audio._setTagAttrs.call(this, element);\n        \n        // find component element\n        const existElement = this.util.getParentElement(element, this.util.isMediaComponent) || \n            this.util.getParentElement(element, function (current) {\n                return this.isWysiwygDiv(current.parentNode);\n            }.bind(this.util));\n\n        // clone element\n        const prevElement = element;\n        contextAudio._element = element = element.cloneNode(false);\n        const cover = this.plugins.component.set_cover.call(this, element);\n        const container = this.plugins.component.set_container.call(this, cover, 'se-audio-container');\n\n        try {\n            if (this.util.isFormatElement(existElement) && existElement.childNodes.length > 0) {\n                existElement.parentNode.insertBefore(container, existElement);\n                this.util.removeItem(prevElement);\n                // clean format tag\n                this.util.removeEmptyNode(existElement, null);\n                if (existElement.children.length === 0) existElement.innerHTML = this.util.htmlRemoveWhiteSpace(existElement.innerHTML);\n            } else {\n                existElement.parentNode.replaceChild(container, existElement);\n            }\n        } catch (error) {\n            console.warn('[SUNEDITOR.audio.error] Maybe the audio tag is nested.', error);\n        }\n\n        this.plugins.fileManager.setInfo.call(this, 'audio', element, this.functions.onAudioUpload, null, false);\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    onModifyMode: function (selectionTag) {\n        const contextAudio = this.context.audio;\n        \n        this.setControllerPosition(contextAudio.controller, selectionTag, 'bottom', {left: 0, top: 0});\n        this.controllersOn(contextAudio.controller, selectionTag, this.plugins.audio.onControllerOff.bind(this, selectionTag), 'audio');\n\n        this.util.addClass(selectionTag, 'active');\n        contextAudio._element = selectionTag;\n        contextAudio._cover = this.util.getParentElement(selectionTag, 'FIGURE');\n        contextAudio._container = this.util.getParentElement(selectionTag, this.util.isComponent);\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    openModify: function (notOpen) {\n        if (this.context.audio.audioUrlFile) {\n            const contextAudio = this.context.audio;\n            contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = contextAudio._element.src;\n        }\n        if (!notOpen) this.plugins.dialog.open.call(this, 'audio', true);\n    },\n\n    onClick_controller: function (e) {\n        e.stopPropagation();\n\n        const command = e.target.getAttribute('data-command');\n        if (!command) return;\n\n        e.preventDefault();\n\n        if (/update/.test(command)) {\n            this.plugins.audio.openModify.call(this, false);\n        }\n        else { /** delete */\n            this.plugins.audio.destroy.call(this, this.context.audio._element);\n        }\n\n        this.controllersOff();\n    },\n\n    onControllerOff: function (selectionTag) {\n        this.util.removeClass(selectionTag, 'active');\n        this.context.audio.controller.style.display = 'none';\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    init: function () {\n        if (this.context.dialog.updateModal) return;\n        const contextAudio = this.context.audio;\n\n        if (contextAudio.audioInputFile) contextAudio.audioInputFile.value = '';\n        if (contextAudio.audioUrlFile) contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = '';\n        if (contextAudio.audioInputFile && contextAudio.audioUrlFile) {\n            contextAudio.audioUrlFile.removeAttribute('disabled');\n            contextAudio.preview.style.textDecoration = '';\n        }\n\n        contextAudio._element = null;\n    }\n});\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * \n * Danish translation by davidkonrad at github or gmail\n *\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'da',\n        toolbar: {\n            default: 'Default',\n            save: 'Gem',\n            font: 'Skrifttype',\n            formats: 'Format',\n            fontSize: 'Skriftstrrelse',\n            bold: 'Fed',\n            underline: 'Understreget',\n            italic: 'Skrskrift',\n            strike: 'Overstreget',\n            subscript: 'Snket skrift',\n            superscript: 'Hvet skrift',\n            removeFormat: 'Fjern formatering',\n            fontColor: 'Skriftfarve',\n            hiliteColor: 'Baggrundsfarve',\n            indent: 'Ryk ind',\n            outdent: 'Ryk ud',\n            align: 'Justering',\n            alignLeft: 'Venstrejustering',\n            alignRight: 'Hjrejustering',\n            alignCenter: 'Midterjustering',\n            alignJustify: 'Tilpas margin',\n            list: 'Lister',\n            orderList: 'Nummereret liste',\n            unorderList: 'Uordnet liste',\n            horizontalRule: 'Horisontal linie',\n            hr_solid: 'Almindelig',\n            hr_dotted: 'Punkteret',\n            hr_dashed: 'Streget',\n            table: 'Tabel',\n            link: 'Link',\n            math: 'Math',\n            image: 'Billede',\n            video: 'Video',\n            audio: 'Audio',\n            fullScreen: 'Fuld skrm',\n            showBlocks: 'Vis blokke',\n            codeView: 'Vis koder',\n            undo: 'Undo',\n            redo: 'Redo',\n            preview: 'Preview',\n            print: 'Print',\n            tag_p: 'Paragraph',\n            tag_div: 'Normal (DIV)',\n            tag_h: 'Overskrift',\n            tag_blockquote: 'Citer',\n            tag_pre: 'Code',\n            template: 'Schablone',\n            lineHeight: 'Linjehjde',\n            paragraphStyle: 'Afsnitstil',\n            textStyle: 'Tekststil',\n            imageGallery: 'Billedgalleri',\n            mention: 'Nvne'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Indst link',\n                url: 'URL til link',\n                text: 'Tekst for link',\n                newWindowCheck: 'ben i nyt faneblad',\n                downloadLinkCheck: 'Download link',\n                bookmark: 'Bogmrke'\n            },\n            mathBox: {\n                title: 'Math',\n                inputLabel: 'Matematisk notation',\n                fontSizeLabel: 'Skriftstrrelse',\n                previewLabel: 'Preview'\n            },\n            imageBox: {\n                title: 'Indst billede',\n                file: 'Indst fra fil',\n                url: 'Indst fra URL',\n                altText: 'Alternativ tekst'\n            },\n            videoBox: {\n                title: 'Indst Video',\n                file: 'Indst fra fil',\n                url: 'Indlejr video / YouTube,Vimeo'\n            },\n            audioBox: {\n                title: 'Indst Audio',\n                file: 'Indst fra fil',\n                url: 'Indst fra URL'\n            },\n            browser: {\n                tags: 'Tags',\n                search: 'Sg',\n            },\n            caption: 'Indst beskrivelse',\n            close: 'Luk',\n            submitButton: 'Gennemfr',\n            revertButton: 'Gendan',\n            proportion: 'Bevar proportioner',\n            basic: 'Basis',\n            left: 'Venstre',\n            right: 'Hjre',\n            center: 'Center',\n            width: 'Bredde',\n            height: 'Hjde',\n            size: 'Strrelse',\n            ratio: 'Forhold'\n        },\n        controller: {\n            edit: 'Rediger',\n            unlink: 'Fjern link',\n            remove: 'Fjern',\n            insertRowAbove: 'Indst rkke foroven',\n            insertRowBelow: 'Indst rkke nedenfor',\n            deleteRow: 'Slet rkke',\n            insertColumnBefore: 'Indst kolonne fr',\n            insertColumnAfter: 'Indst kolonne efter',\n            deleteColumn: 'Slet kolonne',\n            fixedColumnWidth: 'Fast sjlebredde',\n            resize100: 'Forstr 100%',\n            resize75: 'Forstr 75%',\n            resize50: 'Forstr 50%',\n            resize25: 'Forstr 25%',\n            autoSize: 'Auto strrelse',\n            mirrorHorizontal: 'Spejling, horisontal',\n            mirrorVertical: 'Spejling, vertikal',\n            rotateLeft: 'Roter til venstre',\n            rotateRight: 'Toter til hjre',\n            maxSize: 'Max strrelse',\n            minSize: 'Min strrelse',\n            tableHeader: 'Tabel overskrift',\n            mergeCells: 'Sammenlg celler (merge)',\n            splitCells: 'Opdel celler',\n            HorizontalSplit: 'Opdel horisontalt',\n            VerticalSplit: 'Opdel vertikalt'\n        },\n        menu: {\n            spaced: 'Brev Afstand',\n            bordered: 'Afgrnsningslinje',\n            neon: 'Neon',\n            translucent: 'Gennemsigtig',\n            shadow: 'Skygge',\n            code: 'Code'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'da', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2019 @Gundolf68\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'de',\n        toolbar: {\n            default: 'Standard',\n            save: 'Speichern',\n            font: 'Schriftart',\n            formats: 'Format',\n            fontSize: 'Schriftgre',\n            bold: 'Fett',\n            underline: 'Unterstrichen',\n            italic: 'Kursiv',\n            strike: 'Durchgestrichen',\n            subscript: 'Tiefgestellt',\n            superscript: 'Hochgestellt',\n            removeFormat: 'Format entfernen',\n            fontColor: 'Schriftfarbe',\n            hiliteColor: 'Farbe fr Hervorhebungen',\n            indent: 'Einzug vergrern',\n            outdent: 'Einzug verkleinern',\n            align: 'Ausrichtung',\n            alignLeft: 'Links ausrichten',\n            alignRight: 'Rechts ausrichten',\n            alignCenter: 'Zentriert ausrichten',\n            alignJustify: 'Blocksatz',\n            list: 'Liste',\n            orderList: 'Nummerierte Liste',\n            unorderList: 'Aufzhlung',\n            horizontalRule: 'Horizontale Linie',\n            hr_solid: 'Strich',\n            hr_dotted: 'Gepunktet',\n            hr_dashed: 'Gestrichelt',\n            table: 'Tabelle',\n            link: 'Link',\n            math: 'Mathematik',\n            image: 'Bild',\n            video: 'Video',\n            audio: 'Audio',\n            fullScreen: 'Vollbild',\n            showBlocks: 'Blockformatierungen anzeigen',\n            codeView: 'Quelltext anzeigen',\n            undo: 'Rckgngig',\n            redo: 'Wiederholen',\n            preview: 'Vorschau',\n            print: 'Drucken',\n            tag_p: 'Absatz',\n            tag_div: 'Normal (DIV)',\n            tag_h: 'Header',\n            tag_blockquote: 'Zitat',\n            tag_pre: 'Quellcode',\n            template: 'Vorlage',\n            lineHeight: 'Zeilenhhe',\n            paragraphStyle: 'Absatzstil',\n            textStyle: 'Textstil',\n            imageGallery: 'Bildergalerie',\n            mention: 'Erwhnen'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Link einfgen',\n                url: 'Link-URL',\n                text: 'Link-Text',\n                newWindowCheck: 'In neuem Fenster anzeigen',\n                downloadLinkCheck: 'Download-Link',\n                bookmark: 'Lesezeichen'\n            },\n            mathBox: {\n                title: 'Mathematik',\n                inputLabel: 'Mathematische Notation',\n                fontSizeLabel: 'Schriftgre',\n                previewLabel: 'Vorschau'\n            },\n            imageBox: {\n                title: 'Bild einfgen',\n                file: 'Datei auswhlen',\n                url: 'Bild-URL',\n                altText: 'Alternativer Text'\n            },\n            videoBox: {\n                title: 'Video enfgen',\n                file: 'Datei auswhlen',\n                url: 'Video-URL, YouTube/Vimeo'\n            },\n            audioBox: {\n                title: 'Audio enfgen',\n                file: 'Datei auswhlen',\n                url: 'Audio-URL'\n            },\n            browser: {\n                tags: 'Stichworte',\n                search: 'Suche',\n            },\n            caption: 'Beschreibung eingeben',\n            close: 'Schlieen',\n            submitButton: 'bernehmen',\n            revertButton: 'Rckgngig',\n            proportion: 'Seitenverhltnis beibehalten',\n            basic: 'Standard',\n            left: 'Links',\n            right: 'Rechts',\n            center: 'Zentriert',\n            width: 'Breite',\n            height: 'Hhe',\n            size: 'Gre',\n            ratio: 'Verhltnis'\n        },\n        controller: {\n            edit: 'Bearbeiten',\n            unlink: 'Link entfernen',\n            remove: 'Lschen',\n            insertRowAbove: 'Zeile oberhalb einfgen',\n            insertRowBelow: 'Zeile unterhalb einfgen',\n            deleteRow: 'Zeile lschen',\n            insertColumnBefore: 'Spalte links einfgen',\n            insertColumnAfter: 'Spalte rechts einfgen',\n            deleteColumn: 'Spalte lschen',\n            fixedColumnWidth: 'Feste Spaltenbreite',\n            resize100: 'Zoom 100%',\n            resize75: 'Zoom 75%',\n            resize50: 'Zoom 50%',\n            resize25: 'Zoom 25%',\n            autoSize: 'Automatische Grenanpassung',\n            mirrorHorizontal: 'Horizontal spiegeln',\n            mirrorVertical: 'Vertikal spiegeln',\n            rotateLeft: 'Nach links drehen',\n            rotateRight: 'Nach rechts drehen',\n            maxSize: 'Maximale Gre',\n            minSize: 'Mindestgre',\n            tableHeader: 'Tabellenberschrift',\n            mergeCells: 'Zellen verbinden',\n            splitCells: 'Zellen teilen',\n            HorizontalSplit: 'Horizontal teilen',\n            VerticalSplit: 'Vertikal teilen'\n        },\n        menu: {\n            spaced: 'Buchstabenabstand',\n            bordered: 'Umrandet',\n            neon: 'Neon',\n            translucent: 'Durchscheinend',\n            shadow: 'Schatten',\n            code: 'Quellcode'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'de', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n\tif ( true && typeof module.exports === 'object') {\n\t\tmodule.exports = global.document ?\n\t\t\tfactory(global, true) :\n\t\t\tfunction (w) {\n\t\t\t\tif (!w.document) {\n\t\t\t\t\tthrow new Error('SUNEDITOR_LANG a window with a document');\n\t\t\t\t}\n\t\t\t\treturn factory(w);\n\t\t\t};\n\t} else {\n\t\tfactory(global);\n\t}\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n\tconst lang = {\n\t\tcode: 'es',\n\t\ttoolbar: {\n\t\t\tdefault: 'Valor por defecto',\n\t\t\tsave: 'Guardar',\n\t\t\tfont: 'Fuente',\n\t\t\tformats: 'Formato',\n\t\t\tfontSize: 'Tamao de fuente',\n\t\t\tbold: 'Negrita',\n\t\t\tunderline: 'Subrayado',\n\t\t\titalic: 'Cursiva',\n\t\t\tstrike: 'Tachado',\n\t\t\tsubscript: 'Subndice',\n\t\t\tsuperscript: 'Superndice',\n\t\t\tremoveFormat: 'Eliminar formato',\n\t\t\tfontColor: 'Color de fuente',\n\t\t\thiliteColor: 'Color de resaltado',\n\t\t\tindent: 'Ms tabulacin',\n\t\t\toutdent: 'Menos tabulacin',\n\t\t\talign: 'Alinear',\n\t\t\talignLeft: 'Alinear a la izquierda',\n\t\t\talignRight: 'Alinear a la derecha',\n\t\t\talignCenter: 'Alinear al centro',\n\t\t\talignJustify: 'Justificar',\n\t\t\tlist: 'Lista',\n\t\t\torderList: 'Lista ordenada',\n\t\t\tunorderList: 'Lista desordenada',\n\t\t\thorizontalRule: 'Horizontal line',\n\t\t\thr_solid: 'Lnea horizontal solida',\n\t\t\thr_dotted: 'Lnea horizontal punteada',\n\t\t\thr_dashed: 'Lnea horizontal discontinua',\n\t\t\ttable: 'Tabla',\n\t\t\tlink: 'Link',\n\t\t\tmath: 'Matemticas',\n\t\t\timage: 'Imagen',\n\t\t\tvideo: 'Video',\n\t\t\taudio: 'Audio',\n\t\t\tfullScreen: 'Pantalla completa',\n\t\t\tshowBlocks: 'Ver bloques',\n\t\t\tcodeView: 'Ver cdigo fuente',\n\t\t\tundo: 'UndoDeshacer ltima accin',\n\t\t\tredo: 'Rehacer ltima accin',\n\t\t\tpreview: 'Vista previa',\n\t\t\tprint: 'Imprimir',\n\t\t\ttag_p: 'Prrafo',\n\t\t\ttag_div: 'Normal (DIV)',\n\t\t\ttag_h: 'Header',\n\t\t\ttag_blockquote: 'Cita',\n\t\t\ttag_pre: 'Cdigo',\n\t\t\ttemplate: 'Plantilla',\n\t\t\tlineHeight: 'Altura de la lnea',\n\t\t\tparagraphStyle: 'Estilo del parrafo',\n\t\t\ttextStyle: 'Estilo del texto',\n\t\t\timageGallery: 'Galera de imgenes',\n\t\t\tmention: 'Mencionar'\n\t\t},\n\t\tdialogBox: {\n\t\t\tlinkBox: {\n\t\t\t\ttitle: 'Insertar Link',\n\t\t\t\turl: 'Hacia que URL lleva el link?',\n\t\t\t\ttext: 'Texto para mostrar',\n\t\t\t\tnewWindowCheck: 'Abrir en una nueva ventana',\n\t\t\t\tdownloadLinkCheck: 'Enlace de descarga',\n                bookmark: 'Marcador'\n\t\t\t},\n\t\t\tmathBox: {\n                title: 'Matemticas',\n                inputLabel: 'Notacin Matemtica',\n                fontSizeLabel: 'Tamao de fuente',\n                previewLabel: 'Vista previa'\n            },\n\t\t\timageBox: {\n\t\t\t\ttitle: 'Insertar imagen',\n\t\t\t\tfile: 'Seleccionar desde los archivos',\n\t\t\t\turl: 'URL de la imagen',\n\t\t\t\taltText: 'Texto alternativo'\n\t\t\t},\n\t\t\tvideoBox: {\n\t\t\t\ttitle: 'Insertar Video',\n\t\t\t\tfile: 'Seleccionar desde los archivos',\n\t\t\t\turl: 'URL del vdeo? Youtube/Vimeo'\n\t\t\t},\n\t\t\taudioBox: {\n                title: 'Insertar Audio',\n                file: 'Seleccionar desde los archivos',\n                url: 'URL de la audio'\n            },\n            browser: {\n                tags: 'Etiquetas',\n                search: 'Buscar',\n            },\n\t\t\tcaption: 'Insertar descripcin',\n\t\t\tclose: 'Cerrar',\n\t\t\tsubmitButton: 'Enviar',\n\t\t\trevertButton: 'revertir',\n\t\t\tproportion: 'Restringir las proporciones',\n\t\t\tbasic: 'Basico',\n\t\t\tleft: 'Izquierda',\n\t\t\tright: 'derecha',\n\t\t\tcenter: 'Centro',\n\t\t\twidth: 'Ancho',\n\t\t\theight: 'Alto',\n\t\t\tsize: 'Tamao',\n\t\t\tratio: 'Proporcin'\n\t\t},\n\t\tcontroller: {\n\t\t\tedit: 'Editar',\n\t\t\tunlink: 'Desvincular',\n\t\t\tremove: 'RemoveQuitar',\n\t\t\tinsertRowAbove: 'Insertar fila arriba',\n\t\t\tinsertRowBelow: 'Insertar fila debajo',\n\t\t\tdeleteRow: 'Eliminar fila',\n\t\t\tinsertColumnBefore: 'Insertar columna antes',\n\t\t\tinsertColumnAfter: 'Insertar columna despus',\n\t\t\tdeleteColumn: 'Eliminar columna',\n\t\t\tfixedColumnWidth: 'Ancho de columna fijo',\n\t\t\tresize100: 'Redimensionar 100%',\n\t\t\tresize75: 'Redimensionar 75%',\n\t\t\tresize50: 'Redimensionar 50%',\n\t\t\tresize25: 'Redimensionar 25%',\n\t\t\tautoSize: 'Tamao automtico',\n\t\t\tmirrorHorizontal: 'Espejo, Horizontal',\n\t\t\tmirrorVertical: 'Espejo, Vertical',\n\t\t\trotateLeft: 'Girar a la izquierda',\n\t\t\trotateRight: 'Girar a la derecha',\n\t\t\tmaxSize: 'Tamao mximo',\n\t\t\tminSize: 'Tamao minmo',\n\t\t\ttableHeader: 'Encabezado de tabla',\n\t\t\tmergeCells: 'Combinar celdas',\n\t\t\tsplitCells: 'Dividir celdas',\n\t\t\tHorizontalSplit: 'Divisin horizontal',\n\t\t\tVerticalSplit: 'Divisin vertical'\n\t\t},\n\t\tmenu: {\n\t\t\tspaced: 'Espaciado',\n\t\t\tbordered: 'Bordeado',\n\t\t\tneon: 'Nen',\n\t\t\ttranslucent: 'Translcido',\n\t\t\tshadow: 'Sombreado',\n            code: 'Cdigo'\n\t\t}\n\t};\n\n\tif (typeof noGlobal === typeof undefined) {\n\t\tif (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'es', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n\t}\n\n\treturn lang;\n}));\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2019 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'fr',\n        toolbar: {\n            default: 'Dfaut',\n            save: 'Sauvegarder',\n            font: 'Police',\n            formats: 'Formats',\n            fontSize: 'Taille',\n            bold: 'Gras',\n            underline: 'Soulign',\n            italic: 'Italique',\n            strike: 'Barr',\n            subscript: 'Indice',\n            superscript: 'Exposant',\n            removeFormat: 'ffacer  le Formatage',\n            fontColor: 'Couleur du texte',\n            hiliteColor: 'Couleur en arrire plan',\n            indent: 'Indenter',\n            outdent: 'Dsindenter',\n            align: 'Alignenement',\n            alignLeft: ' gauche',\n            alignRight: ' droite',\n            alignCenter: 'Centr',\n            alignJustify: 'Justifi',\n            list: 'Liste',\n            orderList: 'Ordonne',\n            unorderList: 'Non-ordonne',\n            horizontalRule: 'Ligne horizontale',\n            hr_solid: 'Solide',\n            hr_dotted: 'Points',\n            hr_dashed: 'Tirets',\n            table: 'Table',\n            link: 'Lien',\n            math: 'Math',\n            image: 'Image',\n            video: 'Video',\n            audio: 'l\\'audio',\n            fullScreen: 'Plein cran',\n            showBlocks: 'Voir les blocs',\n            codeView: 'Voir le code',\n            undo: 'Annuler',\n            redo: 'Rtablir',\n            preview: 'Previsualiser',\n            print: 'Imprimer',\n            tag_p: 'Paragraphe',\n            tag_div: 'Normal (DIV)',\n            tag_h: 'Titre',\n            tag_blockquote: 'Citation',\n            tag_pre: 'Code',\n            template: 'Template',\n            lineHeight: 'Hauteur de la ligne',\n            paragraphStyle: 'Style de paragraphe',\n            textStyle: 'Style de texte',\n            imageGallery: 'Galerie d\\'images',\n            mention: 'Mention'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Insrer un lien',\n                url: 'Adresse URL du lien',\n                text: 'Texte  afficher',\n                newWindowCheck: 'Ouvrir dans une nouvelle fentre',\n                downloadLinkCheck: 'Lien de tlchargement',\n                bookmark: 'Signet'\n            },\n            mathBox: {\n                title: 'Math',\n                inputLabel: 'Notation mathmatique',\n                fontSizeLabel: 'Taille',\n                previewLabel: 'Previsualiser'\n            },\n            imageBox: {\n                title: 'Insrer une image',\n                file: 'Slectionner le fichier',\n                url: 'Adresse URL du fichier',\n                altText: 'Texte Alternatif'\n            },\n            videoBox: {\n                title: 'Insrer une Vido',\n                file: 'Slectionner le fichier',\n                url: 'URL dintgration du mdia, YouTube/Vimeo'\n            },\n            audioBox: {\n                title: 'Insertar une l\\'audio',\n                file: 'Slectionner le fichier',\n                url: 'Adresse URL du fichier'\n            },\n            browser: {\n                tags: 'Mots cls',\n                search: 'Chercher',\n            },\n            caption: 'Insrer une description',\n            close: 'Fermer',\n            submitButton: 'Appliquer',\n            revertButton: 'Revenir en arrire',\n            proportion: 'Maintenir le rapport hauteur/largeur',\n            basic: 'Basique',\n            left: 'Gauche',\n            right: 'Droite',\n            center: 'Centr',\n            width: 'Largeur',\n            height: 'Hauteur',\n            size: 'La taille',\n            ratio: 'Rapport'\n        },\n        controller: {\n            edit: 'Modifier',\n            unlink: 'Supprimer un lien',\n            remove: 'Effacer',\n            insertRowAbove: 'Insrer une ligne en dessous',\n            insertRowBelow: 'Insrer une ligne au dessus',\n            deleteRow: 'Effacer la ligne',\n            insertColumnBefore: 'Insrer une colonne avant',\n            insertColumnAfter: 'Insrer une colonne aprs',\n            deleteColumn: 'Effacer la colonne',\n            fixedColumnWidth: 'Largeur de colonne fixe',\n            resize100: 'Redimensionner  100%',\n            resize75: 'Redimensionner  75%',\n            resize50: 'Redimensionner  50%',\n            resize25: 'Redimensionner  25%',\n            autoSize: 'Taille automatique',\n            mirrorHorizontal: 'Mirroir, Horizontal',\n            mirrorVertical: 'Mirroir, Vertical',\n            rotateLeft: 'Rotation  gauche',\n            rotateRight: 'Rotation  droite',\n            maxSize: 'Taille max',\n            minSize: 'Taille min',\n            tableHeader: 'En-tte de table',\n            mergeCells: 'Fusionner les cellules',\n            splitCells: 'Diviser les Cellules',\n            HorizontalSplit: 'Scission horizontale',\n            VerticalSplit: 'Scission verticale'\n        },\n        menu: {\n            spaced: 'Espacement',\n            bordered: 'Ligne de dmarcation',\n            neon: 'Non',\n            translucent: 'Translucide',\n            shadow: 'L\\'ombre',\n            code: 'Code'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'fr', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2019 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'ja',\n        toolbar: {\n            default: '',\n            save: '',\n            font: '',\n            formats: '',\n            fontSize: '',\n            bold: '',\n            underline: '',\n            italic: '',\n            strike: '',\n            subscript: '',\n            superscript: '',\n            removeFormat: '',\n            fontColor: '',\n            hiliteColor: '',\n            indent: '',\n            outdent: '',\n            align: '',\n            alignLeft: '',\n            alignRight: '',\n            alignCenter: '',\n            alignJustify: '',\n            list: '',\n            orderList: '',\n            unorderList: '',\n            horizontalRule: '',\n            hr_solid: '',\n            hr_dotted: '',\n            hr_dashed: '',\n            table: '',\n            link: '',\n            math: '',\n            image: '',\n            video: '',\n            audio: '',\n            fullScreen: '',\n            showBlocks: '',\n            codeView: 'HTML',\n            undo: '',\n            redo: '',\n            preview: '',\n            print: '',\n            tag_p: '',\n            tag_div: 'DIV',\n            tag_h: '',\n            tag_blockquote: '',\n            tag_pre: '',\n            template: '',\n            lineHeight: '',\n            paragraphStyle: '',\n            textStyle: '',\n            imageGallery: '',\n            mention: ''\n        },\n        dialogBox: {\n            linkBox: {\n                title: '',\n                url: '',\n                text: '',\n                newWindowCheck: '',\n                downloadLinkCheck: '',\n                bookmark: ''\n            },\n            mathBox: {\n                title: '',\n                inputLabel: '',\n                fontSizeLabel: '',\n                previewLabel: ''\n            },\n            imageBox: {\n                title: '',\n                file: '',\n                url: '',\n                altText: ''\n            },\n            videoBox: {\n                title: '',\n                file: '',\n                url: ', YouTube/Vimeo'\n            },\n            audioBox: {\n                title: '',\n                file: '',\n                url: ''\n            },\n            browser: {\n                tags: '',\n                search: '',\n            },\n            caption: '',\n            close: '',\n            submitButton: '',\n            revertButton: '',\n            proportion: '',\n            basic: '',\n            left: '',\n            right: '',\n            center: '',\n            width: '',\n            height: '',\n            size: '',\n            ratio: ''\n        },\n        controller: {\n            edit: '',\n            unlink: '',\n            remove: '',\n            insertRowAbove: '',\n            insertRowBelow: '',\n            deleteRow: '',\n            insertColumnBefore: '',\n            insertColumnAfter: '',\n            deleteColumn: '',\n            fixedColumnWidth: '',\n            resize100: '100 ',\n            resize75: '75 ',\n            resize50: '50 ',\n            resize25: '25 ',\n            autoSize: '',\n            mirrorHorizontal: '',\n            mirrorVertical: '',\n            rotateLeft: '',\n            rotateRight: '',\n            maxSize: '',\n            minSize: '',\n            tableHeader: '',\n            mergeCells: '',\n            splitCells: '',\n            HorizontalSplit: '',\n            VerticalSplit: ''\n        },\n        menu: {\n            spaced: '',\n            bordered: '',\n            neon: '',\n            translucent: '',\n            shadow: '',\n            code: ''\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ja', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'ko',\n        toolbar: {\n            default: '',\n            save: '',\n            font: '',\n            formats: ' ',\n            fontSize: '',\n            bold: '',\n            underline: '',\n            italic: '',\n            strike: '',\n            subscript: ' ',\n            superscript: ' ',\n            removeFormat: ' ',\n            fontColor: '',\n            hiliteColor: '',\n            indent: '',\n            outdent: '',\n            align: '',\n            alignLeft: ' ',\n            alignRight: ' ',\n            alignCenter: ' ',\n            alignJustify: ' ',\n            list: '',\n            orderList: ' ',\n            unorderList: ' ',\n            horizontalRule: '  ',\n            hr_solid: '',\n            hr_dotted: '',\n            hr_dashed: '',\n            table: '',\n            link: '',\n            math: '',\n            image: '',\n            video: '',\n            audio: '',\n            fullScreen: ' ',\n            showBlocks: ' ',\n            codeView: 'HTML ',\n            undo: ' ',\n            redo: ' ',\n            preview: '',\n            print: '',\n            tag_p: '',\n            tag_div: ' (DIV)',\n            tag_h: '',\n            tag_blockquote: '',\n            tag_pre: '',\n            template: '',\n            lineHeight: ' ',\n            paragraphStyle: ' ',\n            textStyle: ' ',\n            imageGallery: ' ',\n            mention: ''\n        },\n        dialogBox: {\n            linkBox: {\n                title: ' ',\n                url: ' ',\n                text: ' ',\n                newWindowCheck: ' ',\n                downloadLinkCheck: ' ',\n                bookmark: ''\n            },\n            mathBox: {\n                title: '',\n                inputLabel: ' ',\n                fontSizeLabel: ' ',\n                previewLabel: ''\n            },\n            imageBox: {\n                title: ' ',\n                file: ' ',\n                url: ' ',\n                altText: ' '\n            },\n            videoBox: {\n                title: ' ',\n                file: ' ',\n                url: '  , /'\n            },\n            audioBox: {\n                title: ' ',\n                file: ' ',\n                url: '  '\n            },\n            browser: {\n                tags: '',\n                search: '',\n            },\n            caption: ' ',\n            close: '',\n            submitButton: '',\n            revertButton: '',\n            proportion: ' ',\n            basic: '',\n            left: '',\n            right: '',\n            center: '',\n            width: '',\n            height: '',\n            size: '',\n            ratio: ''\n        },\n        controller: {\n            edit: '',\n            unlink: ' ',\n            remove: '',\n            insertRowAbove: '  ',\n            insertRowBelow: '  ',\n            deleteRow: ' ',\n            insertColumnBefore: '  ',\n            insertColumnAfter: '  ',\n            deleteColumn: ' ',\n            fixedColumnWidth: '   ',\n            resize100: '100% ',\n            resize75: '75% ',\n            resize50: '50% ',\n            resize25: '25% ',\n            autoSize: ' ',\n            mirrorHorizontal: ' ',\n            mirrorVertical: ' ',\n            rotateLeft: ' ',\n            rotateRight: ' ',\n            maxSize: '',\n            minSize: '',\n            tableHeader: ' ',\n            mergeCells: ' ',\n            splitCells: ' ',\n            HorizontalSplit: ' ',\n            VerticalSplit: ' '\n        },\n        menu: {\n            spaced: ' ',\n            bordered: '',\n            neon: '',\n            translucent: '',\n            shadow: '',\n            code: ''\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ko', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * Brazilian Portuguese translation by lpeil github\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'pt_br',\n        toolbar: {\n            default: 'Padro',\n            save: 'Salvar',\n            font: 'Fonte',\n            formats: 'Formatos',\n            fontSize: 'Tamanho',\n            bold: 'Negrito',\n            underline: 'Sublinhado',\n            italic: 'Itlico',\n            strike: 'Riscado',\n            subscript: 'Subescrito',\n            superscript: 'Sobrescrito',\n            removeFormat: 'Remover Formatao',\n            fontColor: 'Cor da Fonte',\n            hiliteColor: 'Cor de destaque',\n            indent: 'Recuo',\n            outdent: 'Avanar',\n            align: 'Alinhar',\n            alignLeft: 'Alinhar  esquerda',\n            alignRight: 'Alinhar  direita',\n            alignCenter: 'Alinhar ao centro',\n            alignJustify: 'Alinhat justificado',\n            list: 'Lista',\n            orderList: 'Lista ordenada',\n            unorderList: 'Lista desordenada',\n            horizontalRule: 'Linha horizontal',\n            hr_solid: 'solida',\n            hr_dotted: 'pontilhada',\n            hr_dashed: 'tracejada',\n            table: 'Tabela',\n            link: 'Link',\n            math: 'Matemtica',\n            image: 'Imagem',\n            video: 'Vdeo',\n            audio: 'udio',\n            fullScreen: 'Tela cheia',\n            showBlocks: 'Mostrar blocos',\n            codeView: 'Mostrar cdigos',\n            undo: 'Voltar',\n            redo: 'Refazer',\n            preview: 'Prever',\n            print: 'imprimir',\n            tag_p: 'Paragrfo',\n            tag_div: '(DIV) Normal',\n            tag_h: 'Cabealho',\n            tag_blockquote: 'Citar',\n            tag_pre: 'Cdigo',\n            template: 'Modelo',\n            lineHeight: 'Altura da linha',\n            paragraphStyle: 'Estilo do pargrafo',\n            textStyle: 'Estilo do texto',\n            imageGallery: 'Galeria de imagens',\n            mention: 'Meno'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Inserir link',\n                url: 'URL para link',\n                text: 'Texto  mostrar',\n                newWindowCheck: 'Abrir em nova guia',\n                downloadLinkCheck: 'Link para Download',\n                bookmark: 'marca pginas'\n            },\n            mathBox: {\n                title: 'Matemtica',\n                inputLabel: 'Notao matemtica',\n                fontSizeLabel: 'Tamanho',\n                previewLabel: 'Prever'\n            },\n            imageBox: {\n                title: 'Inserir imagens',\n                file: 'Selecionar arquivos',\n                url: 'URL da imagem',\n                altText: 'Texto alternativo'\n            },\n            videoBox: {\n                title: 'Inserir vdeo',\n                file: 'Selecionar arquivos',\n                url: 'URL do YouTube/Vimeo'\n            },\n            audioBox: {\n                title: 'Inserir audio',\n                file: 'Selecionar arquivos',\n                url: 'URL da audio'\n            },\n            browser: {\n                tags: 'Tag',\n                search: 'Procurar',\n            },\n            caption: 'Inserir descrio',\n            close: 'Fechar',\n            submitButton: 'Enviar',\n            revertButton: 'Reverter',\n            proportion: 'restringir propores',\n            basic: 'Bsico',\n            left: 'Esquerda',\n            right: 'Direita',\n            center: 'Centro',\n            width: 'Largura',\n            height: 'Altura',\n            size: 'Tamanho',\n            ratio: 'Propores'\n        },\n        controller: {\n            edit: 'Editar',\n            unlink: 'Retirar link',\n            remove: 'Remover',\n            insertRowAbove: 'Inserir linha acima',\n            insertRowBelow: 'Inserir linha abaixo',\n            deleteRow: 'Deletar linha',\n            insertColumnBefore: 'Inserir coluna antes',\n            insertColumnAfter: 'Inserir coluna depois',\n            deleteColumn: 'Deletar coluna',\n            fixedColumnWidth: 'Largura fixa da coluna',\n            resize100: 'Redimensionar para 100%',\n            resize75: 'Redimensionar para 75%',\n            resize50: 'Redimensionar para 50%',\n            resize25: 'Redimensionar para 25%',\n            autoSize: 'Tamanho automtico',\n            mirrorHorizontal: 'Espelho, Horizontal',\n            mirrorVertical: 'Espelho, Vertical',\n            rotateLeft: 'Girar para esquerda',\n            rotateRight: 'Girar para direita',\n            maxSize: 'Tam max',\n            minSize: 'Tam min',\n            tableHeader: 'Cabealho da tabela',\n            mergeCells: 'Mesclar clulas',\n            splitCells: 'Dividir clulas',\n            HorizontalSplit: 'Diviso horizontal',\n            VerticalSplit: 'Diviso vertical'\n        },\n        menu: {\n            spaced: 'Espaado',\n            bordered: 'Com borda',\n            neon: 'Non',\n            translucent: 'Translcido',\n            shadow: 'Sombreado',\n            code: 'Cdigo'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'pt_br', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'ru',\n        toolbar: {\n            default: ' ',\n            save: '',\n            font: '',\n            formats: ' ',\n            fontSize: ' ',\n            bold: '',\n            underline: '',\n            italic: '',\n            strike: '',\n            subscript: ' ',\n            superscript: ' ',\n            removeFormat: ' ',\n            fontColor: ' ',\n            hiliteColor: ' ',\n            indent: ' ',\n            outdent: ' ',\n            align: '',\n            alignLeft: '',\n            alignRight: '',\n            alignCenter: ' ',\n            alignJustify: ' ',\n            list: '',\n            orderList: '',\n            unorderList: '',\n            horizontalRule: ' ',\n            hr_solid: '',\n            hr_dotted: '',\n            hr_dashed: '',\n            table: '',\n            link: '',\n            math: '',\n            image: '',\n            video: '',\n            audio: '',\n            fullScreen: ' ',\n            showBlocks: ' ',\n            codeView: ' HTML',\n            undo: '',\n            redo: '',\n            preview: ' ',\n            print: '',\n            tag_p: '',\n            tag_div: '',\n            tag_h: '',\n            tag_blockquote: '',\n            tag_pre: '',\n            template: '',\n            lineHeight: ' ',\n            paragraphStyle: ' ',\n            textStyle: ' ',\n            imageGallery: '',\n            mention: ''\n        },\n        dialogBox: {\n            linkBox: {\n                title: ' ',\n                url: '',\n                text: '',\n                newWindowCheck: '   ',\n                downloadLinkCheck: '  ',\n                bookmark: ''\n            },\n            mathBox: {\n                title: '',\n                inputLabel: ' ',\n                fontSizeLabel: '',\n                previewLabel: ' '\n            },\n            imageBox: {\n                title: ' ',\n                file: ' ',\n                url: ' ',\n                altText: '  '\n            },\n            videoBox: {\n                title: ' ',\n                file: ' ',\n                url: '  , Youtube,Vimeo'\n            },\n            audioBox: {\n                title: ' ',\n                file: ' ',\n                url: ' '\n            },\n            browser: {\n                tags: '',\n                search: '',\n            },\n            caption: ' ',\n            close: '',\n            submitButton: '',\n            revertButton: '',\n            proportion: ' ',\n            basic: ' ',\n            left: '',\n            right: '',\n            center: ' ',\n            width: '',\n            height: '',\n            size: '',\n            ratio: ''\n        },\n        controller: {\n            edit: '',\n            unlink: ' ',\n            remove: '',\n            insertRowAbove: '  ',\n            insertRowBelow: '  ',\n            deleteRow: ' ',\n            insertColumnBefore: '  ',\n            insertColumnAfter: '  ',\n            deleteColumn: ' ',\n            fixedColumnWidth: '  ',\n            resize100: ' 100%',\n            resize75: ' 75%',\n            resize50: ' 50%',\n            resize25: ' 25%',\n            autoSize: ' ',\n            mirrorHorizontal: '  ',\n            mirrorVertical: '  ',\n            rotateLeft: '   ',\n            rotateRight: '   ',\n            maxSize: '   ',\n            minSize: '  ',\n            tableHeader: ' ',\n            mergeCells: ' ',\n            splitCells: ' ',\n            HorizontalSplit: ' ',\n            VerticalSplit: ' '\n        },\n        menu: {\n            spaced: '',\n            bordered: ' ',\n            neon: '',\n            translucent: '',\n            shadow: '',\n            code: ''\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ru', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2019 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'zh_cn',\n        toolbar: {\n            default: '',\n            save: '',\n            font: '',\n            formats: '',\n            fontSize: '',\n            bold: '',\n            underline: '',\n            italic: '',\n            strike: '',\n            subscript: '',\n            superscript: '',\n            removeFormat: '',\n            fontColor: '',\n            hiliteColor: '',\n            indent: '',\n            outdent: '',\n            align: '',\n            alignLeft: '',\n            alignRight: '',\n            alignCenter: '',\n            alignJustify: '',\n            list: '',\n            orderList: '',\n            unorderList: '',\n            horizontalRule: '',\n            hr_solid: '',\n            hr_dotted: '',\n            hr_dashed: '',\n            table: '',\n            link: '',\n            math: '',\n            image: '',\n            video: '',\n            audio: '',\n            fullScreen: '',\n            showBlocks: '',\n            codeView: '',\n            undo: '',\n            redo: '',\n            preview: '',\n            print: '',\n            tag_p: '',\n            tag_div: ' (DIV)',\n            tag_h: '',\n            tag_blockquote: '',\n            tag_pre: '',\n            template: '',\n            lineHeight: '',\n            paragraphStyle: '',\n            textStyle: '',\n            imageGallery: '',\n            mention: ''\n        },\n        dialogBox: {\n            linkBox: {\n                title: '',\n                url: '',\n                text: '',\n                newWindowCheck: '',\n                downloadLinkCheck: '',\n                bookmark: ''\n            },\n            mathBox: {\n                title: '',\n                inputLabel: '',\n                fontSizeLabel: '',\n                previewLabel: ''\n            },\n            imageBox: {\n                title: '',\n                file: '',\n                url: '',\n                altText: ''\n            },\n            videoBox: {\n                title: '',\n                file: '',\n                url: ', Youtube,Vimeo'\n            },\n            audioBox: {\n                title: '',\n                file: '',\n                url: ''\n            },\n            browser: {\n                tags: '',\n                search: '',\n            },\n            caption: '',\n            close: '',\n            submitButton: '',\n            revertButton: '',\n            proportion: '',\n            basic: '',\n            left: '',\n            right: '',\n            center: '',\n            width: '',\n            height: '',\n            size: '',\n            ratio: ''\n        },\n        controller: {\n            edit: '',\n            unlink: '',\n            remove: '',\n            insertRowAbove: '',\n            insertRowBelow: '',\n            deleteRow: '',\n            insertColumnBefore: '',\n            insertColumnAfter: '',\n            deleteColumn: '',\n            fixedColumnWidth: '',\n            resize100: ' 100%',\n            resize75: ' 75%',\n            resize50: ' 50%',\n            resize25: ' 25%',\n            mirrorHorizontal: '',\n            mirrorVertical: '',\n            rotateLeft: '',\n            rotateRight: '',\n            maxSize: '',\n            minSize: '',\n            tableHeader: '',\n            mergeCells: '',\n            splitCells: '',\n            HorizontalSplit: '',\n            VerticalSplit: ''\n        },\n        menu: {\n            spaced: '',\n            bordered: '',\n            neon: '',\n            translucent: '',\n            shadow: '',\n            code: ''\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'zh_cn', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'ro',\n        toolbar: {\n            default: 'Default',\n            save: 'Salveaz',\n            font: 'Font',\n            formats: 'Format',\n            fontSize: 'Dimensiune',\n            bold: 'ngroat',\n            underline: 'Subliniat',\n            italic: 'nclinat',\n            strike: 'Tiat',\n            subscript: 'Subscript',\n            superscript: 'Superscript',\n            removeFormat: 'terge formatare',\n            fontColor: 'Culoare font',\n            hiliteColor: 'Culoare de evideniere',\n            indent: 'Indenteaz',\n            outdent: 'Fr indentare',\n            align: 'Aliniere',\n            alignLeft: 'Aliniere la stnga',\n            alignRight: 'Aliniere la dreapta',\n            alignCenter: 'Aliniere la centru',\n            alignJustify: 'Aliniere stnga - dreapta',\n            list: 'List',\n            orderList: 'List ordonat',\n            unorderList: 'List neordonat',\n            horizontalRule: 'Linie orizontal',\n            hr_solid: 'Solid',\n            hr_dotted: 'Punctat',\n            hr_dashed: 'Punctate',\n            table: 'Tabel',\n            link: 'Link',\n            math: 'Matematic',\n            image: 'Imagine',\n            video: 'Video',\n            audio: 'Audio',\n            fullScreen: 'Tot ecranul',\n            showBlocks: 'Arat blocuri',\n            codeView: 'Vizualizare cod',\n            undo: 'Anuleaz',\n            redo: 'Ref',\n            preview: 'Previzualizare',\n            print: 'printeaz',\n            tag_p: 'Paragraf',\n            tag_div: 'Normal (DIV)',\n            tag_h: 'Antet',\n            tag_blockquote: 'Quote',\n            tag_pre: 'Citat',\n            template: 'Template',\n            lineHeight: 'nlime linie',\n            paragraphStyle: 'Stil paragraf',\n            textStyle: 'Stil text',\n            imageGallery: 'Galerie de imagini',\n            mention: 'Mentiune'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Insereaz Link',\n                url: 'Adres link',\n                text: 'Text de afiat',\n                newWindowCheck: 'Deschide n fereastr nou',\n                downloadLinkCheck: 'Link de descrcare',\n                bookmark: 'Marcaj'\n            },\n            mathBox: {\n                title: 'Matematic',\n                inputLabel: 'Notaie matematic',\n                fontSizeLabel: 'Dimensiune font',\n                previewLabel: 'Previzualizare'\n            },\n            imageBox: {\n                title: 'Insereaz imagine',\n                file: 'Selecteaz',\n                url: 'URL imagine',\n                altText: 'text alternativ'\n            },\n            videoBox: {\n                title: 'Insereaz video',\n                file: 'Selecteaz',\n                url: 'Include URL, youtube/vimeo'\n            },\n            audioBox: {\n                title: 'Insereaz Audio',\n                file: 'Selecteaz',\n                url: 'URL Audio'\n            },\n            browser: {\n                tags: 'Etichete',\n                search: 'Cutareim',\n            },\n            caption: 'Insereaz descriere',\n            close: 'nchide',\n            submitButton: 'Salveaz',\n            revertButton: 'Revenire',\n            proportion: 'Constrnge proporiile',\n            basic: 'De baz',\n            left: 'Stnga',\n            right: 'Dreapta',\n            center: 'Centru',\n            width: 'Lime',\n            height: 'nlime',\n            size: 'Dimensiune',\n            ratio: 'Ratie'\n        },\n        controller: {\n            edit: 'Editeaz',\n            unlink: 'Scoate link',\n            remove: 'Elimin',\n            insertRowAbove: 'Insereaz rnd deasupra',\n            insertRowBelow: 'Insereaz rnd dedesupt',\n            deleteRow: 'terge linie',\n            insertColumnBefore: 'Insereaz coloan nainte',\n            insertColumnAfter: 'Insereaz coloan dup',\n            deleteColumn: 'terge coloan',\n            fixedColumnWidth: 'Lime fix coloan',\n            resize100: 'Redimensionare 100%',\n            resize75: 'Redimensionare 75%',\n            resize50: 'Redimensionare 50%',\n            resize25: 'Redimensionare 25%',\n            autoSize: 'Dimensiune automat',\n            mirrorHorizontal: 'Oglind, orizontal',\n            mirrorVertical: 'Oglind, vertical',\n            rotateLeft: 'Rotete la stnga',\n            rotateRight: 'Rotete la dreapta',\n            maxSize: 'Dimensiune maxim',\n            minSize: 'Dimensiune minim',\n            tableHeader: 'Antet tabel',\n            mergeCells: 'mbin celule',\n            splitCells: 'Divizeaz celule',\n            HorizontalSplit: 'Despicare orizontal',\n            VerticalSplit: 'Despicare vertical'\n        },\n        menu: {\n            spaced: 'Spaiat',\n            bordered: 'Mrginit',\n            neon: 'Neon',\n            translucent: 'Translucent',\n            shadow: 'Umbr',\n            code: 'Citat'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ro', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'pl',\n        toolbar: {\n            default: 'Domylne',\n            save: 'Zapisz',\n            font: 'Czcionka',\n            formats: 'Formaty',\n            fontSize: 'Rozmiar',\n            bold: 'Pogrubienie',\n            underline: 'Podkrelenie',\n            italic: 'Kursywa',\n            strike: 'Przekrelenie',\n            subscript: 'Indeks dolny',\n            superscript: 'Indeks grny',\n            removeFormat: 'Wyczy formatowanie',\n            fontColor: 'Kolor tekstu',\n            hiliteColor: 'Kolor ta tekstu',\n            indent: 'Zwiksz wcicie',\n            outdent: 'Zmniejsz wcicie',\n            align: 'Wyrwnaj',\n            alignLeft: 'Do lewej',\n            alignRight: 'Do prawej',\n            alignCenter: 'Do rodka',\n            alignJustify: 'Wyjustuj',\n            list: 'Lista',\n            orderList: 'Lista numerowana',\n            unorderList: 'Lista wypunktowana',\n            horizontalRule: 'Pozioma linia',\n            hr_solid: 'Ciga',\n            hr_dotted: 'Kropkowana',\n            hr_dashed: 'Przerywana',\n            table: 'Tabela',\n            link: 'Odnonik',\n            math: 'Matematyczne',\n            image: 'Obraz',\n            video: 'Wideo',\n            audio: 'Audio',\n            fullScreen: 'Peny ekran',\n            showBlocks: 'Poka bloki',\n            codeView: 'Widok kodu',\n            undo: 'Cofnij',\n            redo: 'Ponw',\n            preview: 'Podgld', \n            print: 'Drukuj',\n            tag_p: 'Akapit',\n            tag_div: 'Blok (DIV)',\n            tag_h: 'Nagwek H',\n            tag_blockquote: 'Cytat',\n            tag_pre: 'Kod',\n            template: 'Szablon',\n            lineHeight: 'Odstp midzy wierszami',\n            paragraphStyle: 'Styl akapitu',\n            textStyle: 'Styl tekstu',\n            imageGallery: 'Galeria obrazw',\n            mention: 'Wzmianka'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Wstaw odnonik',\n                url: 'Adres URL',\n                text: 'Tekst do wywietlenia',\n                newWindowCheck: 'Otwrz w nowym oknie',\n                downloadLinkCheck: 'Link do pobrania',\n                bookmark: 'Zakadka'\n            },\n            mathBox: {\n                title: 'Matematyczne',\n                inputLabel: 'Zapis matematyczny',\n                fontSizeLabel: 'Rozmiar czcionki',\n                previewLabel: 'Podgld'\n            },\n            imageBox: {\n                title: 'Wstaw obraz',\n                file: 'Wybierz plik',\n                url: 'Adres URL obrazka',\n                altText: 'Tekst alternatywny'\n            },\n            videoBox: {\n                title: 'Wstaw wideo',\n                file: 'Wybierz plik',\n                url: 'Adres URL video, np. YouTube/Vimeo'\n            },\n            audioBox: {\n                title: 'Wstaw audio',\n                file: 'Wybierz plik',\n                url: 'Adres URL audio'\n            },\n            browser: {\n                tags: 'Tagi',\n                search: 'Szukaj',\n            },\n            caption: 'Wstaw opis',\n            close: 'Zamknij',\n            submitButton: 'Zatwierd',\n            revertButton: 'Cofnij zmiany',\n            proportion: 'Ogranicz proporcje',\n            basic: 'Bez wyrwnania',\n            left: 'Do lewej',\n            right: 'Do prawej',\n            center: 'Do rodka',\n            width: 'Szeroko',\n            height: 'Wysoko',\n            size: 'Rozmiar',\n            ratio: 'Proporcje'\n        },\n        controller: {\n            edit: 'Edycja',\n            unlink: 'Usu odnonik',\n            remove: 'Usu',\n            insertRowAbove: 'Wstaw wiersz powyej',\n            insertRowBelow: 'Wstaw wiersz poniej',\n            deleteRow: 'Usu wiersz',\n            insertColumnBefore: 'Wstaw kolumn z lewej',\n            insertColumnAfter: 'Wstaw kolumn z prawej',\n            deleteColumn: 'Usu kolumn',\n            fixedColumnWidth: 'Staa szeroko kolumny',\n            resize100: 'Zmie rozmiar - 100%',\n            resize75: 'Zmie rozmiar - 75%',\n            resize50: 'Zmie rozmiar - 50%',\n            resize25: 'Zmie rozmiar - 25%',\n            autoSize: 'Rozmiar automatyczny',\n            mirrorHorizontal: 'Odbicie lustrzane w poziomie',\n            mirrorVertical: 'Odbicie lustrzane w pionie',\n            rotateLeft: 'Obr w lewo',\n            rotateRight: 'Obr w prawo',\n            maxSize: 'Maksymalny rozmiar',\n            minSize: 'Minimalny rozmiar',\n            tableHeader: 'Nagwek tabeli',\n            mergeCells: 'Scal komrki',\n            splitCells: 'Podziel komrki',\n            HorizontalSplit: 'Podzia poziomy',\n            VerticalSplit: 'Podzia pionowy'\n        },\n        menu: {\n            spaced: 'Rozstawiony',\n            bordered: 'Z obwdk',\n            neon: 'Neon',\n            translucent: 'Pprzezroczysty',\n            shadow: 'Cie',\n            code: 'Kod'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'pl', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'ckb',\n        toolbar: {\n            default: '',\n            save: '',\n            font: '',\n            formats: 'Formats',\n            fontSize: '',\n            bold: '',\n            underline: '  ',\n            italic: '',\n            strike: '  ',\n            subscript: '',\n            superscript: '',\n            removeFormat: ' ',\n            fontColor: ' ',\n            hiliteColor: ' ',\n            indent: ' ',\n            outdent: ' ',\n            align: '',\n            alignLeft: ' ',\n            alignRight: ' ',\n            alignCenter: '',\n            alignJustify: '  ',\n            list: '',\n            orderList: ' ',\n            unorderList: ' ',\n            horizontalRule: ' ',\n            hr_solid: '',\n            hr_dotted: ' ',\n            hr_dashed: ' ',\n            table: '',\n            link: '',\n            math: '',\n            image: '',\n            video: '',\n            audio: '',\n            fullScreen: '  ',\n            showBlocks: ' ',\n            codeView: ' ',\n            undo: '   ',\n            redo: '',\n            preview: '',\n            print: '',\n            tag_p: '',\n            tag_div: '  (DIV)',\n            tag_h: '',\n            tag_blockquote: '',\n            tag_pre: '',\n            template: '',\n            lineHeight: ' ',\n            paragraphStyle: ' ',\n            textStyle: ' ',\n            imageGallery: ' ',\n            mention: ' '\n        },\n        dialogBox: {\n            linkBox: {\n                title: ' ',\n                url: '',\n                text: ' ',\n                newWindowCheck: '   ',\n                downloadLinkCheck: ' ',\n                bookmark: ''\n            },\n            mathBox: {\n                title: '',\n                inputLabel: ' ',\n                fontSizeLabel: ' ',\n                previewLabel: ''\n            },\n            imageBox: {\n                title: ' ',\n                file: ' ',\n                url: ' ',\n                altText: ' '\n            },\n            videoBox: {\n                title: ' ',\n                file: ' ',\n                url: 'YouTube/Vimeo    '\n            },\n            audioBox: {\n                title: ' ',\n                file: ' ',\n                url: ' '\n            },\n            browser: {\n                tags: '',\n                search: '',\n            },\n            caption: ' ',\n            close: '',\n            submitButton: '',\n            revertButton: '   ',\n            proportion: '   ',\n            basic: '',\n            left: '',\n            right: '',\n            center: '',\n            width: '',\n            height: '',\n            size: '',\n            ratio: ''\n        },\n        controller: {\n            edit: '',\n            unlink: ' ',\n            remove: '',\n            insertRowAbove: '   ',\n            insertRowBelow: '   ',\n            deleteRow: ' ',\n            insertColumnBefore: '   ',\n            insertColumnAfter: '   ',\n            deleteColumn: ' ',\n            fixedColumnWidth: '  ',\n            resize100: '   %',\n            resize75: '   %',\n            resize50: '   %',\n            resize25: '   %',\n            autoSize: ' ',\n            mirrorHorizontal: '   ',\n            mirrorVertical: '   ',\n            rotateLeft: '  ',\n            rotateRight: '  ',\n            maxSize: ' ',\n            minSize: ' ',\n            tableHeader: ' ',\n            mergeCells: ' ',\n            splitCells: '  ',\n            HorizontalSplit: ' ',\n            VerticalSplit: ' '\n        },\n        menu: {\n            spaced: ' ',\n            bordered: ' ',\n            neon: '',\n            translucent: '  ',\n            shadow: '',\n            code: ''\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ckb', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'lv',\n        toolbar: {\n            default: 'Noklusjuma',\n            save: 'Saglabt',\n            font: 'Fonts',\n            formats: 'Formti',\n            fontSize: 'Fonta lielums',\n            bold: 'Treknraksts',\n            underline: 'Pasvtrot',\n            italic: 'Slpraksts',\n            strike: 'Prsvtrojums',\n            subscript: 'Apakraksts',\n            superscript: 'Augraksts',\n            removeFormat: 'Noemt formtu',\n            fontColor: 'Fonta krsa',\n            hiliteColor: 'Teksta iezmanas krsa',\n            indent: 'Palielint atkpi',\n            outdent: 'Samazint atkpi',\n            align: 'Izldzint',\n            alignLeft: 'Ldzint pa kreisi',\n            alignRight: 'Ldzint pa labi',\n            alignCenter: 'Centrt',\n            alignJustify: 'Taisnot',\n            list: 'Saraksts',\n            orderList: 'Numercija',\n            unorderList: 'Aizzimes',\n            horizontalRule: 'Horizontla lnija',\n            hr_solid: 'Ciets',\n            hr_dotted: 'Punkti',\n            hr_dashed: 'Braa',\n            table: 'Tabula',\n            link: 'Saite',\n            math: 'Matemtika',\n            image: 'Attls',\n            video: 'Video',\n            audio: 'Audio',\n            fullScreen: 'Pilnekrna rems',\n            showBlocks: 'Pardit blokus',\n            codeView: 'Koda skats',\n            undo: 'Atsaukt',\n            redo: 'Atkrtot',\n            preview: 'Priekskatjums',\n            print: 'Drukt',\n            tag_p: 'Paragrfs',\n            tag_div: 'Normli (DIV)',\n            tag_h: 'Galvene',\n            tag_blockquote: 'Citts',\n            tag_pre: 'Kods',\n            template: 'Veidne',\n            lineHeight: 'Lnijas augstums',\n            paragraphStyle: 'Paragrfa stils',\n            textStyle: 'Teksta stils',\n            imageGallery: 'Attlu galerija',\n            mention: 'Piemint'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Ievietot saiti',\n                url: 'Saites URL',\n                text: 'Pardmais teksts',\n                newWindowCheck: 'Atvrt jaun log',\n                downloadLinkCheck: 'Lejupieldes saite',\n                bookmark: 'Grmatzme'\n            },\n            mathBox: {\n                title: 'Matemtika',\n                inputLabel: 'Matemtisk notcija',\n                fontSizeLabel: 'Fonta lielums',\n                previewLabel: 'Priekskatjums'\n            },\n            imageBox: {\n                title: 'Ievietot attlu',\n                file: 'Izvlieties no failiem',\n                url: 'Attla URL',\n                altText: 'Alternatvs teksts'\n            },\n            videoBox: {\n                title: 'Ievietot video',\n                file: 'Izvlieties no failiem',\n                url: 'Multivides iegulanas URL, YouTube/Vimeo'\n            },\n            audioBox: {\n                title: 'Ievietot audio',\n                file: 'Izvlieties no failiem',\n                url: 'Audio URL'\n            },\n            browser: {\n                tags: 'Tagi',\n                search: 'Meklt'\n            },\n            caption: 'Ievietot aprakstu',\n            close: 'Aizvrt',\n            submitButton: 'Iesniegt',\n            revertButton: 'Atjaunot',\n            proportion: 'Ierobeo proporcijas',\n            basic: 'Nav iesaiojuma',\n            left: 'Pa kreisi',\n            right: 'Labaj pus',\n            center: 'Centrs',\n            width: 'Platums',\n            height: 'Augstums',\n            size: 'Izmrs',\n            ratio: 'Attiecba'\n        },\n        controller: {\n            edit: 'Redit',\n            unlink: 'Atsaistt',\n            remove: 'Noemt',\n            insertRowAbove: 'Ievietot rindu virs',\n            insertRowBelow: 'Ievietot rindu zemk',\n            deleteRow: 'Dzst rindu',\n            insertColumnBefore: 'Ievietot kolonnu pirms',\n            insertColumnAfter: 'Ievietot kolonnu aiz',\n            deleteColumn: 'Dzst kolonnu',\n            fixColumnWidth: 'Fiksts kolonnas platums',\n            resize100: 'Maint izmru 100%',\n            resize75: 'Maint izmru 75%',\n            resize50: 'Maint izmru 50%',\n            resize25: 'Maint izmru 25%',\n            autoSize: 'Automtiskais izmrs',\n            mirrorHorizontal: 'Spogulis, horizontls',\n            mirrorVertical: 'Spogulis, vertikls',\n            rotateLeft: 'Pagriezt pa kreisi',\n            rotateRight: 'Pagriezt pa labi',\n            maxSize: 'Maksimlais izmrs',\n            minSize: 'Minimlais izmrs',\n            tableHeader: 'Tabulas galvene',\n            mergeCells: 'Apvienot nas',\n            splitCells: 'Sadalt nas',\n            HorizontalSplit: 'Horizontls sadaljums',\n            VerticalSplit: 'Vertikls sadaljums'\n        },\n        menu: {\n            spaced: 'Ar atstarpi',\n            bordered: 'Robeojs',\n            neon: 'Neona',\n            translucent: 'Caurspdgs',\n            shadow: 'na',\n            code: 'Kods'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'lv', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * \n * Swedish translation by olehrb at github or gmail\n *\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'se',\n        toolbar: {\n            default: 'Default',\n            save: 'Spara',\n            font: 'Typsnitt',\n            formats: 'Format',\n            fontSize: 'Textstorlek',\n            bold: 'Fet',\n            underline: 'Understruket',\n            italic: 'Kursiv',\n            strike: 'verstruket',\n            subscript: 'Snkt skrift',\n            superscript: 'Hjd skrift',\n            removeFormat: 'Ta bort formattering',\n            fontColor: 'Textfrg',\n            hiliteColor: 'Bakgrundsfrg',\n            indent: 'Minska indrag',\n            outdent: 'ka indrag',\n            align: 'Justering',\n            alignLeft: 'Vnsterjustering',\n            alignRight: 'Hgerjustering',\n            alignCenter: 'Mittenjusteirng',\n            alignJustify: 'Justera indrag',\n            list: 'Listor',\n            orderList: 'Numrerad lista',\n            unorderList: 'Oordnad lista',\n            horizontalRule: 'Horisontell linje',\n            hr_solid: 'Solid',\n            hr_dotted: 'Punkter',\n            hr_dashed: 'Prickad',\n            table: 'Tabell',\n            link: 'Lnk',\n            math: 'Math',\n            image: 'Bild',\n            video: 'Video',\n            audio: 'Ljud',\n            fullScreen: 'Helskrm',\n            showBlocks: 'Visa block',\n            codeView: 'Visa koder',\n            undo: 'ngra',\n            redo: 'Gr om',\n            preview: 'Preview',\n            print: 'Print',\n            tag_p: 'Paragraf',\n            tag_div: 'Normal (DIV)',\n            tag_h: 'Rubrik',\n            tag_blockquote: 'Citer',\n            tag_pre: 'Kod',\n            template: 'Mall',\n            lineHeight: 'Linjehjd',\n            paragraphStyle: 'Stil p stycke',\n            textStyle: 'Textstil',\n            imageGallery: 'Bildgalleri',\n            mention: 'Namn'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Lgg till lnk',\n                url: 'URL till lnk',\n                text: 'Lnktext',\n                newWindowCheck: 'ppna i nytt fnster',\n                downloadLinkCheck: 'Nedladdningslnk',\n                bookmark: 'Bokmrke'\n            },\n            mathBox: {\n                title: 'Math',\n                inputLabel: 'Matematisk notation',\n                fontSizeLabel: 'Textstorlek',\n                previewLabel: 'Preview'\n            },\n            imageBox: {\n                title: 'Lgg till bild',\n                file: 'Lgg till frn fil',\n                url: 'Lgg till frn URL',\n                altText: 'Alternativ text'\n            },\n            videoBox: {\n                title: 'Lgg till video',\n                file: 'Lgg till frn fil',\n                url: 'Bdda in video / YouTube,Vimeo'\n            },\n            audioBox: {\n                title: 'Lgg till ljud',\n                file: 'Lgg till frn fil',\n                url: 'Lgg till frn URL'\n            },\n            browser: {\n                tags: 'Tags',\n                search: 'Sk',\n            },\n            caption: 'Lgg till beskrivning',\n            close: 'Stng',\n            submitButton: 'Skicka',\n            revertButton: 'terg',\n            proportion: 'Spara proportioner',\n            basic: 'Basic',\n            left: 'Vnster',\n            right: 'Hger',\n            center: 'Center',\n            width: 'Bredd',\n            height: 'Hjd',\n            size: 'Storlek',\n            ratio: 'Frhllande'\n        },\n        controller: {\n            edit: 'Redigera',\n            unlink: 'Ta bort lnk',\n            remove: 'Ta bort',\n            insertRowAbove: 'Lgg till rad ver',\n            insertRowBelow: 'Lgg till rad under',\n            deleteRow: 'Ta bort rad',\n            insertColumnBefore: 'Lgg till kolumn fre',\n            insertColumnAfter: 'Lgg till kolumn efter',\n            deleteColumn: 'Ta bort kolumner',\n            fixedColumnWidth: 'Fast kolumnbredd',\n            resize100: 'Frstora 100%',\n            resize75: 'Frstora 75%',\n            resize50: 'Frstora 50%',\n            resize25: 'Frstora 25%',\n            autoSize: 'Autostorlek',\n            mirrorHorizontal: 'Spegling, horisontell',\n            mirrorVertical: 'Spegling, vertikal',\n            rotateLeft: 'Rotera till vnster',\n            rotateRight: 'Rotera till hger',\n            maxSize: 'Maxstorlek',\n            minSize: 'Minsta storlek',\n            tableHeader: 'Rubrik tabell',\n            mergeCells: 'Sammanfoga celler (merge)',\n            splitCells: 'Separera celler',\n            HorizontalSplit: 'Separera horisontalt',\n            VerticalSplit: 'Separera vertikalt'\n        },\n        menu: {\n            spaced: 'Avstnd',\n            bordered: 'Avgrnsningslinje',\n            neon: 'Neon',\n            translucent: 'Genomskinlig',\n            shadow: 'Skugga',\n            code: 'Kod'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'se', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n})(typeof window !== \"undefined\" ? window : this, function(window, noGlobal) {\n    const lang = {\n        code: \"ua\",\n        toolbar: {\n            default: \" \",\n            save: \"\",\n            font: \"\",\n            formats: \" \",\n            fontSize: \" \",\n            bold: \"\",\n            underline: \"\",\n            italic: \"\",\n            strike: \"\",\n            subscript: \" \",\n            superscript: \" \",\n            removeFormat: \" \",\n            fontColor: \" \",\n            hiliteColor: \" \",\n            indent: \" \",\n            outdent: \" \",\n            align: \"\",\n            alignLeft: \"  \",\n            alignRight: \"  \",\n            alignCenter: \" \",\n            alignJustify: \" \",\n            list: \"\",\n            orderList: \"\",\n            unorderList: \"\",\n            horizontalRule: \" \",\n            hr_solid: \"\",\n            hr_dotted: \"\",\n            hr_dashed: \"\",\n            table: \"\",\n            link: \"\",\n            math: \"\",\n            image: \"\",\n            video: \"\",\n            audio: \"\",\n            fullScreen: \" \",\n            showBlocks: \" \",\n            codeView: \"  HTML\",\n            undo: \"\",\n            redo: \" \",\n            preview: \" \",\n            print: \"\",\n            tag_p: \"\",\n            tag_div: \"\",\n            tag_h: \"\",\n            tag_blockquote: \"\",\n            tag_pre: \"\",\n            template: \"\",\n            lineHeight: \" \",\n            paragraphStyle: \" \",\n            textStyle: \" \",\n            imageGallery: \"\",\n            mention: \"\"\n        },\n        dialogBox: {\n            linkBox: {\n                title: \" \",\n                url: \"\",\n                text: \"\",\n                newWindowCheck: \"   \",\n                downloadLinkCheck: '  ',\n                bookmark: ''\n            },\n            mathBox: {\n                title: \"\",\n                inputLabel: \" \",\n                fontSizeLabel: \" \",\n                previewLabel: \" \"\n            },\n            imageBox: {\n                title: \" \",\n                file: \" \",\n                url: \"  \",\n                altText: \"  \"\n            },\n            videoBox: {\n                title: \" \",\n                file: \" \",\n                url: \"  , Youtube, Vimeo\"\n            },\n            audioBox: {\n                title: \" \",\n                file: \" \",\n                url: \"  \"\n            },\n            browser: {\n                tags: \"\",\n                search: \"\"\n            },\n            caption: \" \",\n            close: \"\",\n            submitButton: \"\",\n            revertButton: \"\",\n            proportion: \" \",\n            basic: \" \",\n            left: \"\",\n            right: \"\",\n            center: \" \",\n            width: \"\",\n            height: \"\",\n            size: \"\",\n            ratio: \"\"\n        },\n        controller: {\n            edit: \"\",\n            unlink: \" \",\n            remove: \"\",\n            insertRowAbove: \"  \",\n            insertRowBelow: \"  \",\n            deleteRow: \" \",\n            insertColumnBefore: \"  \",\n            insertColumnAfter: \"  \",\n            deleteColumn: \" \",\n            fixedColumnWidth: \"  \",\n            resize100: \" 100%\",\n            resize75: \" 75%\",\n            resize50: \" 50%\",\n            resize25: \" 25%\",\n            autoSize: \" \",\n            mirrorHorizontal: \"  \",\n            mirrorVertical: \"  \",\n            rotateLeft: \"   \",\n            rotateRight: \"   \",\n            maxSize: \"   \",\n            minSize: \"  \",\n            tableHeader: \" \",\n            mergeCells: \"' \",\n            splitCells: \" \",\n            HorizontalSplit: \" \",\n            VerticalSplit: \" \"\n        },\n        menu: {\n            spaced: \"\",\n            bordered: \" \",\n            neon: \"\",\n            translucent: \"\",\n            shadow: \"\",\n            code: \"\"\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, \"SUNEDITOR_LANG\", {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {},\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, \"ua\", {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang,\n        });\n    }\n\n    return lang;\n});\n\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'he',\n        toolbar: {\n            default: ' ',\n            save: '',\n            font: '',\n            formats: '',\n            fontSize: '',\n            bold: '',\n            underline: ' ',\n            italic: '',\n            strike: ' ',\n            subscript: '',\n            superscript: '',\n            removeFormat: ' ',\n            fontColor: ' ',\n            hiliteColor: '  ',\n            indent: ' ',\n            outdent: ' ',\n            align: '',\n            alignLeft: ' ',\n            alignRight: ' ',\n            alignCenter: '',\n            alignJustify: '  ',\n            list: '',\n            orderList: '',\n            unorderList: '',\n            horizontalRule: ' ',\n            hr_solid: '',\n            hr_dotted: '',\n            hr_dashed: '',\n            table: '',\n            link: '',\n            math: '',\n            image: '',\n            video: '',\n            audio: '',\n            fullScreen: ' ',\n            showBlocks: ' ',\n            codeView: ' ',\n            undo: '',\n            redo: '',\n            preview: ' ',\n            print: '',\n            tag_p: '',\n            tag_div: ' (DIV)',\n            tag_h: '',\n            tag_blockquote: '',\n            tag_pre: '',\n            template: '',\n            lineHeight: ' ',\n            paragraphStyle: ' ',\n            textStyle: ' ',\n            imageGallery: ' ',\n            mention: ''\n        },\n        dialogBox: {\n            linkBox: {\n                title: ' ',\n                url: ' ',\n                text: '',\n                newWindowCheck: '  ',\n                downloadLinkCheck: ' ',\n                bookmark: ''\n            },\n            mathBox: {\n                title: '',\n                inputLabel: ' ',\n                fontSizeLabel: ' ',\n                previewLabel: ' '\n            },\n            imageBox: {\n                title: ' ',\n                file: ' ',\n                url: ' URL ',\n                altText: ' ( alt)'\n            },\n            videoBox: {\n                title: ' ',\n                file: ' ',\n                url: '  YouTube/Vimeo'\n            },\n            audioBox: {\n                title: ' ',\n                file: ' ',\n                url: ' URL '\n            },\n            browser: {\n                tags: '',\n                search: '',\n            },\n            caption: ' ',\n            close: '',\n            submitButton: '',\n            revertButton: '',\n            proportion: ' ',\n            basic: '',\n            left: '',\n            right: '',\n            center: '',\n            width: '',\n            height: '',\n            size: '',\n            ratio: ''\n        },\n        controller: {\n            edit: '',\n            unlink: ' ',\n            remove: '',\n            insertRowAbove: '  ',\n            insertRowBelow: '  ',\n            deleteRow: ' ',\n            insertColumnBefore: '  ',\n            insertColumnAfter: '  ',\n            deleteColumn: ' ',\n            fixedColumnWidth: '  ',\n            resize100: ' ',\n            resize75: ' 75%',\n            resize50: ' 50%',\n            resize25: ' 25%',\n            autoSize: ' ',\n            mirrorHorizontal: ' ',\n            mirrorVertical: ' ',\n            rotateLeft: ' ',\n            rotateRight: ' ',\n            maxSize: ' ',\n            minSize: ' ',\n            tableHeader: ' ',\n            mergeCells: ' ',\n            splitCells: ' ',\n            HorizontalSplit: ' ',\n            VerticalSplit: ' '\n        },\n        menu: {\n            spaced: '',\n            bordered: ' ',\n            neon: '',\n            translucent: ' ',\n            shadow: '',\n            code: ''\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'he', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = __webpack_require__(48);\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"buttonList\", function() { return /* reexport */ buttonList_namespaceObject; });\n\n// NAMESPACE OBJECT: ./misc/buttonList.js\nvar buttonList_namespaceObject = {};\n__webpack_require__.r(buttonList_namespaceObject);\n__webpack_require__.d(buttonList_namespaceObject, \"basic\", function() { return basic; });\n__webpack_require__.d(buttonList_namespaceObject, \"complex\", function() { return complex; });\n__webpack_require__.d(buttonList_namespaceObject, \"formatting\", function() { return formatting; });\n__webpack_require__.d(buttonList_namespaceObject, \"default\", function() { return misc_buttonList; });\n\n// CONCATENATED MODULE: ./misc/buttonList.js\nvar basic = [[\"font\", \"fontSize\"], [\"fontColor\"], [\"horizontalRule\"], [\"link\", \"image\"]];\nvar complex = [[\"undo\", \"redo\"], [\"font\", \"fontSize\", \"formatBlock\"], [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"], [\"removeFormat\"], \"/\", [\"fontColor\", \"hiliteColor\"], [\"outdent\", \"indent\"], [\"align\", \"horizontalRule\", \"list\", \"table\"], [\"link\", \"image\", \"video\"], [\"fullScreen\", \"showBlocks\", \"codeView\"], [\"preview\", \"print\"], [\"save\", \"template\"]];\nvar formatting = [[\"undo\", \"redo\"], [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"], [\"removeFormat\"], [\"outdent\", \"indent\"], [\"fullScreen\", \"showBlocks\", \"codeView\"], [\"preview\", \"print\"]];\n/* harmony default export */ var misc_buttonList = ({\n  basic,\n  complex,\n  formatting\n});\n// EXTERNAL MODULE: external \"react\"\nvar external_react_ = __webpack_require__(8);\nvar external_react_default = /*#__PURE__*/__webpack_require__.n(external_react_);\n\n// CONCATENATED MODULE: ./node_modules/suneditor/src/assets/defaultIcons.js\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2020 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ var defaultIcons = ({\n   // rtl icon\n   rtl: {\n      italic: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.5 15.8\" xml:space=\"preserve\"><g><path d=\"M0.3,0.1c0.3,0,0.5,0,0.7,0c1,0.1,1.7,0.1,2.2,0.1H4L7.2,0l0.2,1.1H7c-0.5,0-1,0.1-1.5,0.3v0.4l0.3,1.9L6,4.4L6.3,6 l0.1,0.4l0.1,0.5c0.1,0.2,0.1,0.4,0.2,0.7s0.1,0.6,0.2,0.9L7,9.1l0.6,2.8l0.3,1.4c0.1,0.4,0.2,0.7,0.4,1c0.4,0.2,0.8,0.3,1.2,0.4 l0.8,0.2l0.2,0.9l-1.1,0c-0.9-0.1-1.5-0.1-1.8-0.1h-2c-0.9,0.1-1.4,0.2-1.5,0.2c-0.1,0-0.2,0-0.3,0H3.4c-0.1,0-0.2,0-0.2,0 l-0.1-0.4c0-0.2-0.1-0.4-0.1-0.6l0.7-0.1c0.4,0,0.8-0.1,1.2-0.2c0-0.1,0-0.2,0-0.3l-0.1-0.5l-0.4-2.4L4,9.6L3.4,6.4 C3.2,5.7,3,4.7,2.7,3.3c0-0.3-0.1-0.5-0.1-0.8C2.5,2.1,2.4,1.9,2.3,1.6C2,1.4,1.6,1.3,1.3,1.2C0.9,1.2,0.5,1.1,0.2,0.9L0,0.4L0,0 L0.3,0.1L0.3,0.1z\"/></g></svg>',\n      indent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 12.4\" xml:space=\"preserve\"><g><g><path d=\"M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z\"/></g><path d=\"M13.1,3.5L15.7,6c0.1,0.1,0.1,0.3,0,0.4l-2.5,2.5C13.1,9,13,9,12.9,9c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2V3.7 c0-0.1,0-0.2,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C13,3.4,13.1,3.4,13.1,3.5z\"/></g></svg>',\n      outdent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 12.4\" xml:space=\"preserve\"><g><g><path d=\"M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z\"/></g><path d=\"M15.5,3.4c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2v5.1c0,0.1,0,0.1-0.1,0.2C15.6,9,15.5,9,15.5,9 c-0.1,0-0.1,0-0.2-0.1l-2.5-2.5c-0.1-0.1-0.1-0.3,0-0.4l2.5-2.5C15.3,3.4,15.4,3.4,15.5,3.4z\"/></g></svg>',\n      list_bullets: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 12.4\" xml:space=\"preserve\"><g><path d=\"M12.4,10.7c0,0.9,0.8,1.7,1.7,1.7c0.9,0,1.7-0.8,1.7-1.7C15.7,9.8,15,9,14.1,9c-0.4,0-0.9,0.2-1.2,0.5 C12.5,9.8,12.4,10.2,12.4,10.7C12.4,10.7,12.4,10.7,12.4,10.7z M12.4,6.2c0,0.9,0.8,1.7,1.7,1.7c0.4,0,0.9-0.2,1.2-0.5 c0.3-0.3,0.4-0.7,0.4-1.1c0-0.9-0.7-1.7-1.6-1.7C13.1,4.6,12.4,5.3,12.4,6.2C12.4,6.2,12.4,6.2,12.4,6.2z M0,9.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1l10.7,0c0,0,0,0,0,0c0.1,0,0.3-0.1,0.3-0.3V9.8c0-0.1,0-0.1-0.1-0.2 C11.1,9.6,11,9.6,11,9.6l-10.7,0c-0.1,0-0.1,0-0.2,0.1C0,9.7,0,9.8,0,9.8L0,9.8z M12.9,2.9c0.3,0.3,0.7,0.5,1.2,0.5 c0.4,0,0.9-0.2,1.2-0.5c0.7-0.7,0.7-1.7,0-2.4C14.9,0.2,14.5,0,14.1,0c-0.4,0-0.9,0.2-1.2,0.5c-0.3,0.3-0.5,0.7-0.5,1.2 C12.4,2.1,12.5,2.6,12.9,2.9z M0,5.3V7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.1,0,0.2-0.1 c0.1-0.1,0.1-0.1,0.1-0.2V5.3c0,0,0,0,0,0c0-0.1-0.1-0.3-0.3-0.3H0.3c-0.1,0-0.1,0-0.2,0.1C0,5.2,0,5.3,0,5.3L0,5.3z M0,0.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1h10.7c0.1,0,0.1,0,0.2-0.1c0,0,0.1-0.1,0.1-0.2V0.8c0-0.1,0-0.1-0.1-0.2 c0-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.1,0-0.2,0.1C0,0.7,0,0.8,0,0.8L0,0.8z\"/></g></svg>',\n      list_number: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.7\" xml:space=\"preserve\"><g><path d=\"M0,11.5l0,1.7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2v-1.7 c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.2,0-0.2,0.1C0,11.4,0,11.4,0,11.5L0,11.5z M0,8.7c0,0.1,0,0.1,0.1,0.2 C0.1,8.9,0.2,9,0.3,9H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V7c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1l-10.7,0 c-0.1,0-0.2,0-0.2,0.1C0,6.8,0,6.9,0,7C0,7,0,8.7,0,8.7z M0,2.5v1.7c0,0.1,0,0.1,0.1,0.2c0,0,0.1,0.1,0.2,0.1l10.7,0 c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V2.4c0-0.1,0-0.1-0.1-0.2c-0.1,0-0.1,0-0.2,0H0.3c-0.1,0-0.1,0-0.2,0 C0,2.3,0,2.4,0,2.5L0,2.5z\"/></g><path d=\"M15.6,14.2c0-0.3-0.1-0.6-0.3-0.8c-0.2-0.2-0.4-0.4-0.7-0.4l0.9-1v-0.8h-2.9v1.3h0.9v-0.5h0.9l0,0c-0.1,0.1-0.2,0.2-0.3,0.3 s-0.2,0.3-0.4,0.5l-0.3,0.3l0.2,0.5c0.6,0,0.9,0.1,0.9,0.5c0,0.1-0.1,0.3-0.2,0.4c-0.1,0.1-0.3,0.1-0.4,0.1c-0.3,0-0.7-0.1-0.9-0.3 l-0.5,0.8c0.4,0.4,0.9,0.6,1.5,0.6c0.4,0,0.9-0.1,1.2-0.4C15.5,15.1,15.6,14.7,15.6,14.2z\"/><path d=\"M15.6,8.7h-0.9v0.5h-1.1c0-0.2,0.2-0.4,0.4-0.5c0.2-0.2,0.4-0.3,0.7-0.4c0.3-0.2,0.5-0.3,0.7-0.6c0.2-0.2,0.3-0.5,0.3-0.8 c0-0.4-0.2-0.8-0.5-1c-0.6-0.4-1.4-0.5-2-0.1c-0.3,0.2-0.5,0.4-0.6,0.7L13.3,7c0.1-0.3,0.4-0.5,0.7-0.5c0.1,0,0.3,0,0.3,0.1 c0.1,0.1,0.1,0.2,0.1,0.3c0,0.2-0.1,0.3-0.2,0.4c-0.2,0.1-0.3,0.3-0.5,0.4c-0.2,0.1-0.4,0.3-0.6,0.4c-0.2,0.2-0.4,0.4-0.5,0.6 c-0.1,0.2-0.2,0.5-0.2,0.8c0,0.2,0,0.3,0,0.5h3.2L15.6,8.7L15.6,8.7z\"/><path d=\"M15.6,3.6h-1V0h-0.9l-1.2,1.1l0.6,0.7c0.2-0.1,0.3-0.3,0.4-0.5l0,0v2.2h-0.9v0.9h3L15.6,3.6L15.6,3.6z\"/></svg>',\n      link: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.7\" xml:space=\"preserve\"><g><path d=\"M7.4,9.9l3.1,3.1c0.3,0.3,0.8,0.5,1.3,0.5c0.5,0,0.9-0.2,1.3-0.5c0,0,0,0,0,0c0.7-0.7,0.7-1.9,0-2.6L9.9,7.3 c0-0.1,0-0.2,0-0.3C9.9,7,10,7,10.1,7l2.2-0.2c0.1,0,0.1,0,0.2,0.1l2.1,2.1c0.4,0.4,0.7,0.8,0.9,1.3c0.2,0.5,0.3,1,0.3,1.5 c0,0.5-0.1,1-0.3,1.5c-0.8,2-3.2,3-5.2,2.2c-0.5-0.2-0.9-0.5-1.3-0.9l-2.1-2.1c-0.1,0-0.1-0.1-0.1-0.2L7,10.1C7,10,7,9.9,7.1,9.9 C7.2,9.8,7.3,9.9,7.4,9.9z M1.2,1.1C1.6,0.7,2,0.4,2.5,0.3c1-0.4,2.1-0.4,3.1,0C6,0.4,6.5,0.7,6.8,1.1L9,3.2C9,3.3,9.1,3.3,9,3.4 L8.8,5.6c0,0.1-0.1,0.2-0.2,0.2c-0.1,0.1-0.2,0.1-0.3,0L5.3,2.7C5,2.3,4.5,2.1,4,2.1c-0.5,0-0.9,0.2-1.3,0.5c0,0,0,0,0,0 C2,3.4,2,4.5,2.7,5.2l3.1,3.2c0.1,0.1,0.1,0.2,0,0.3c0,0.1-0.1,0.1-0.2,0.1L3.5,9C3.4,9,3.4,9,3.3,8.9L1.2,6.8c0,0,0,0,0,0 C-0.4,5.2-0.4,2.7,1.2,1.1L1.2,1.1z M14.3,6h-2.6c0,0,0,0,0,0c-0.1,0-0.2-0.1-0.2-0.2c0-0.1,0-0.2,0.1-0.3l2.5-0.7 c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0.1,0.1,0.2l0.1,0.8c0,0.1,0,0.1-0.1,0.2C14.5,6,14.4,6,14.3,6L14.3,6z M10.2,4.1 c0,0.1-0.1,0.2-0.2,0.2l0,0c0,0,0,0,0,0C9.8,4.2,9.7,4.1,9.8,4L9.7,1.4c0-0.1,0-0.1,0.1-0.2c0.1,0,0.1,0,0.2,0h0.8 c0.1,0,0.1,0,0.2,0.1c0,0.1,0,0.1,0,0.2L10.2,4.1L10.2,4.1z M1.5,9.7h1.3h1.3c0.1,0,0.2,0.1,0.2,0.2c0,0.1,0,0.2-0.1,0.3l-2.5,0.6 H1.6c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.1-0.2L1.2,9.9c0-0.1,0-0.1,0.1-0.2c0-0.1,0.1-0.1,0.2-0.1L1.5,9.7z M5.6,11.6 C5.6,11.6,5.6,11.6,5.6,11.6c0-0.1,0.1-0.2,0.3-0.1c0,0,0,0,0,0c0.1,0,0.2,0.1,0.2,0.2v2.6c0,0.1,0,0.1-0.1,0.2 c0,0-0.1,0.1-0.2,0.1L5,14.5c-0.1,0-0.1,0-0.2-0.1c0-0.1,0-0.1,0-0.2L5.6,11.6L5.6,11.6z\"/></g></svg>',\n      unlink: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.7\" xml:space=\"preserve\"><g><path d=\"M14.6,14.6c1.6-1.6,1.6-4.1,0-5.7l0,0l-3.1-3.1l-1.2,1.6l2.9,2.9c0.4,0.4,0.6,0.9,0.6,1.5c0,1.1-0.9,2.1-2.1,2.1l0,0 c-0.6,0-1.1-0.2-1.5-0.6l-0.4-0.4l-1.7,1l0.8,0.8C10.4,16.2,13,16.2,14.6,14.6L14.6,14.6L14.6,14.6z M3.6,6C3,5.9,2.6,5.5,2.3,5 S1.9,4,2.1,3.4C2.3,2.9,2.6,2.5,3,2.2C3.5,2,4.1,1.9,4.6,2l3.3,1.4l0.5-2L5.1,0.1C4-0.1,2.9,0,2,0.5C1.1,1.1,0.4,1.9,0.2,3 C-0.1,4,0,5.1,0.6,6C1.1,6.9,1.9,7.6,3,7.8l5.4,2l0.5-2L6.2,6.9L3.6,6z\"/></g></svg>'\n   },\n   // common, ltr icon\n   redo: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.59 14.18\"><g><path d=\"M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z\" transform=\"translate(-4.48 -4.54)\"/></g></svg>',\n   undo: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.59 14.18\"><g><path d=\"M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z\" transform=\"translate(-4.49 -4.53)\"/></g></svg>',\n   bold: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.76 15.75\"><g><path d=\"M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z\" transform=\"translate(-6.4 -3.75)\"/></g></svg>',\n   underline: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 9.78 15.74\"><g><path d=\"M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z\" transform=\"translate(-7.38 -3.76)\"/></g></svg>',\n   italic: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.49 15.76\"><g><path d=\"M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z\" transform=\"translate(-7.04 -3.76)\"/></g></svg>',\n   strike: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.9\"><g><path d=\"M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z\" transform=\"translate(-4.41 -4.17)\"/></g></svg>',\n   subscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 14.61\"><g><path d=\"M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z\" transform=\"translate(-4.4 -4.33)\"/></g></svg>',\n   superscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.42\"><g><path d=\"M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z\" transform=\"translate(-4.4 -3.91)\"/></g></svg>',\n   erase: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.76\"><g><path d=\"M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z\" transform=\"translate(-4.41 -4.75)\"/></g></svg>',\n   indent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.36\"><g><path d=\"M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n   outdent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.36\"><g><path d=\"M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n   expansion: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   reduction: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n   code_view: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 11.8\"><g><path d=\"M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z\" transform=\"translate(-4.41 -5.73)\"/></g></svg>',\n   preview: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.65 15.66\"><g><path d=\"M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z\" transform=\"translate(-4.45 -3.8)\"/></g></svg>',\n   print: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16.05 16.04\"><g><path d=\"M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z\" transform=\"translate(-4.25 -3.61)\"/></g></svg>',\n   template: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.27 15.64\"><g><path d=\"M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z\" transform=\"translate(-5.14 -3.77)\"/><path d=\"M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z\" transform=\"translate(-5.14 -3.77)\"/></g></svg>',\n   line_height: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 13.56\"><g><path d=\"M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z\" transform=\"translate(-4.4 -4.86)\"/></g></svg>',\n   paragraph_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.81 15.74\"><g><path d=\"M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z\" transform=\"translate(-6.37 -3.76)\"/></g></svg>',\n   text_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.76 15.74\"><g><path d=\"M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z\" transform=\"translate(-5.4 -3.76)\"/></g></svg>',\n   save: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   blockquote: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 475.082 475.081\"><g><path d=\"M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z\"/><path d=\"M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z\"/></g></svg>',\n   arrow_down: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 8.67\"><g><path d=\"M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z\" transform=\"translate(-4.41 -7.29)\"/></g></svg>',\n   align_justify: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n   align_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n   align_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n   align_center: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n   font_color: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.61\"><g><path d=\"M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z\" transform=\"translate(-4.41 -4.32)\"/></g></svg>',\n   highlight_color:'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.66 15.74\"><g><path d=\"M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\n   list_bullets: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.37\"><g><path d=\"M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n   list_number: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.69 15.74\"><g><path d=\"M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z\" transform=\"translate(-4.43 -3.76)\"/></g></svg>',\n   table: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   horizontal_rule: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 2.24\"><g><path d=\"M20.15,12.75V10.51H4.41v2.24H20.15Z\" transform=\"translate(-4.41 -10.51)\"/></g></svg>',\n   show_blocks: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.66 15.67\"><g><path d=\"M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z\" transform=\"translate(-4.44 -3.79)\"/></g></svg>',\n   cancel: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   image: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.77\"><g><path d=\"M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z\" transform=\"translate(-4.4 -3.75)\"/></g></svg>',\n   video: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.55\"><g><path d=\"M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z\" transform=\"translate(-4.41 -4.35)\"/></g></svg>',\n   link: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.72\"><g><path d=\"M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\n   math: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.81 15.73\"><g><path d=\"M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z\" transform=\"translate(-6.38 -3.77)\"/></g></svg>',\n   unlink: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.72\"><g><path d=\"M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   table_header: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.74\"><g><path d=\"M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n   merge_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 15.74\"><g><path d=\"M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n   split_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.74\"><g><path d=\"M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n   caption: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.79\"><g><path d=\"M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z\" transform=\"translate(-4.41 -4.73)\"/></g></svg>',\n   edit: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.73\"><g><path d=\"M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\n   delete: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 15.74\"><g><path d=\"M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   modify: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.74\"><g><path d=\"M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\n   revert: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 14.69\"><g><path d=\"M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z\" transform=\"translate(-4.4 -4.28)\"/></g></svg>',\n   auto_size: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   insert_row_below: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z\"/><path d=\"M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z\"/></g></svg>',\n   insert_row_above: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z\"/><path d=\"M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z\"/></g></svg>',\n   insert_column_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z\"/><path d=\"M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z\"/></g></svg>',\n   insert_column_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z\"/><path d=\"M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z\"/></g></svg>',\n   delete_row: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 13.83\"><g><path d=\"M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z\" transform=\"translate(-4.4 -4.71)\"/></g></svg>',\n   delete_column: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.81 15.74\"><g><path d=\"M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z\" transform=\"translate(-5.37 -3.76)\"/></g></svg>',\n   fixed_column_width: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z\" /></svg>',\n   rotate_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z\"/><path d=\"M2.2,11.5L2.2,11.5L2.2,11.5z\"/><path d=\"M5.9,3.6L5.9,3.6L5.9,3.6z\"/><path d=\"M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z\"/><path d=\"M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z\"/><path d=\"M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z\"/><path d=\"M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z\"/><path d=\"M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z\"/><path d=\"M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z\"/><path d=\"M11.4,14.7L11.4,14.7L11.4,14.7z\"/><path d=\"M9.5,15.3L9.5,15.3L9.5,15.3z\"/><path d=\"M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z\"/><path d=\"M6.8,15.5L6.8,15.5L6.8,15.5z\"/></g></svg>',\n   rotate_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M9.9,15.3L9.9,15.3L9.9,15.3z\"/><path d=\"M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z\"/><path d=\"M6.5,14.4L6.5,14.4L6.5,14.4z\"/><path d=\"M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z\"/><path d=\"M9,15.5L9,15.5L9,15.5z\"/><path d=\"M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z\"/><path d=\"M9,14.5L9,14.5L9,14.5z\"/><path d=\"M9.6,14.4L9.6,14.4L9.6,14.4z\"/><path d=\"M11.7,14L11.7,14L11.7,14z\"/><path d=\"M15.6,7.4L15.6,7.4L15.6,7.4z\"/><path d=\"M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z\"/><path d=\"M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z\"/><path d=\"M14.6,7.4L14.6,7.4L14.6,7.4z\"/><path d=\"M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z\"/><path d=\"M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z\"/><path d=\"M12.1,13.8L12.1,13.8L12.1,13.8z\"/><path d=\"M11.9,13.3L11.9,13.3L11.9,13.3z\"/><path d=\"M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z\"/></g></svg>',\n   mirror_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.75 15.74\"><g><path d=\"M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z\" transform=\"translate(-4.9 -3.76)\"/></g></svg>',\n   mirror_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.75\"><g><path d=\"M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z\" transform=\"translate(-4.41 -4.25)\"/></g></svg>',\n   checked: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 12.1\"><g><path d=\"M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z\" transform=\"translate(-4.38 -5.58)\"/></g></svg>',\n   line_break: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z\"/></svg>',\n   audio: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z\" /></svg>',\n   image_gallery: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"30 30 150 150\"><g><path d=\"M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z\"/></g></svg>',\n   bookmark: '<svg viewBox=\"0 0 24 24\"><path d=\"M17,3H7A2,2 0 0,0 5,5V21L12,18L19,21V5C19,3.89 18.1,3 17,3Z\" /></svg>',\n   download: '<svg viewBox=\"0 0 24 24\"><path d=\"M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z\" /></svg>',\n   // More icons\n   more_text: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"10 10 180 180\"><g><path d=\"M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n   more_paragraph: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"10 10 180 180\"><g><path d=\"M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n   more_plus: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"35 30 140 140\"><g><path d=\"M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n   more_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 3.58\"><g><path d=\"M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z\" transform=\"translate(-4.39 -9.84)\"/></g></svg>',\n   more_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 3.94 15.75\"><g><path d=\"M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z\" transform=\"translate(-10.31 -3.75)\"/></g></svg>',\n   // Not currently used\n   attachment: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 8.38 15.68\"><g><path d=\"M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z\" transform=\"translate(-8.08 -3.78)\"/></g></svg>',\n   map: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.7 15.62\"><g><path d=\"M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z\" transform=\"translate(-6.2 -3.76)\"/></g></svg>',\n   magic_stick: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 15.75\"><g><path d=\"M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z\" transform=\"translate(-4.41 -3.74)\"/></g></svg>',\n   empty_file: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12.78 15.75\"><g><path d=\"M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z\" transform=\"translate(-5.89 -3.76)\"/></g></svg>'\n});\n\n// EXTERNAL MODULE: ./node_modules/suneditor/src/lang/en.js\nvar en = __webpack_require__(4);\nvar en_default = /*#__PURE__*/__webpack_require__.n(en);\n\n// CONCATENATED MODULE: ./node_modules/suneditor/src/lib/util.js\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/**\r\n * @description utility function\r\n */\r\nconst util_util = {\r\n    _d: null,\r\n    _w: null,\r\n    isIE: null,\r\n    isIE_Edge: null,\r\n    isOSX_IOS: null,\r\n    _propertiesInit: function () {\r\n        if (this._d) return;\r\n        this._d =  document;\r\n        this._w = window;\r\n        this.isIE = navigator.userAgent.indexOf('Trident') > -1;\r\n        this.isIE_Edge = (navigator.userAgent.indexOf('Trident') > -1) || (navigator.appVersion.indexOf('Edge') > -1);\r\n        this.isOSX_IOS = /(Mac|iPhone|iPod|iPad)/.test(navigator.platform);\r\n    },\r\n\r\n    _allowedEmptyNodeList: '.se-component, pre, blockquote, hr, li, table, img, iframe, video, audio, canvas',\r\n\r\n    /**\r\n     * @description HTML Reserved Word Converter.\r\n     * @param {String} contents \r\n     * @returns {String} HTML string\r\n     * @private\r\n     */\r\n    _HTMLConvertor: function (contents) {\r\n        const ec = {'&': '&amp;', '\\u00A0': '&nbsp;', '\\'': '&apos;', '\"': '&quot;', '<':'&lt;','>':'&gt;'};\r\n        return contents.replace(/&|\\u00A0|'|\"|<|>/g, function (m) {\r\n            return (typeof ec[m] === 'string') ? ec[m] : m;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * @description Unicode Character 'ZERO WIDTH SPACE' (\\u200B)\r\n     */\r\n    zeroWidthSpace: String.fromCharCode(8203),\r\n\r\n    /**\r\n     * @description Regular expression to find 'zero width space' (/\\u200B/g)\r\n     */\r\n    zeroWidthRegExp: new RegExp(String.fromCharCode(8203), 'g'),\r\n\r\n    /**\r\n     * @description Regular expression to find only 'zero width space' (/^\\u200B+$/)\r\n     */\r\n    onlyZeroWidthRegExp: new RegExp('^' + String.fromCharCode(8203) + '+$'),\r\n\r\n    /**\r\n     * @description A method that checks If the text is blank or to see if it contains 'ZERO WIDTH SPACE' or empty (util.zeroWidthSpace)\r\n     * @param {String|Node} text String value or Node\r\n     * @returns {Boolean}\r\n     */\r\n    onlyZeroWidthSpace: function (text) {\r\n        if (typeof text !== 'string') text = text.textContent;\r\n        return text === '' || this.onlyZeroWidthRegExp.test(text);\r\n    },\r\n\r\n    /**\r\n     * @description Gets XMLHttpRequest object\r\n     * @returns {XMLHttpRequest|ActiveXObject}\r\n     */\r\n    getXMLHttpRequest: function () {\r\n        /** IE */\r\n        if (this._w.ActiveXObject) {\r\n            try {\r\n                return new ActiveXObject('Msxml2.XMLHTTP');\r\n            } catch (e) {\r\n                try {\r\n                    return new ActiveXObject('Microsoft.XMLHTTP');\r\n                } catch (e1) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        /** netscape */\r\n        else if (this._w.XMLHttpRequest) {\r\n            return new XMLHttpRequest();\r\n        }\r\n        /** fail */\r\n        else {\r\n            return null;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Create Element node\r\n     * @param {String} elementName Element name\r\n     * @returns {Element}\r\n     */\r\n    createElement: function (elementName) {\r\n        return this._d.createElement(elementName);\r\n    },\r\n\r\n    /**\r\n     * @description Create text node\r\n     * @param {String} text text contents\r\n     * @returns {Node}\r\n     */\r\n    createTextNode: function (text) {\r\n        return this._d.createTextNode(text || '');\r\n    },\r\n\r\n    /**\r\n     * @description The editor checks tags by string.\r\n     * If there is \"<\" or \">\" in the attribute of tag, HTML is broken when checking the tag.\r\n     * When using an attribute with \"<\" or \">\", use \"HTMLEncoder\" to save. (ex: math(katex))\r\n     * @param {String} contents HTML or Text string\r\n     * @returns {String}\r\n     */\r\n    HTMLEncoder: function (contents) {\r\n        const ec = {'<':'$lt;','>':'$gt;'};\r\n        return contents.replace(/<|>/g, function (m) {\r\n            return (typeof ec[m] === 'string') ? ec[m] : m;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * @description The editor checks tags by string.\r\n     * If there is \"<\" or \">\" in the attribute of tag, HTML is broken when checking the tag.\r\n     * Decoder of data stored as \"HTMLEncoder\" (ex: math(katex))\r\n     * @param {String} contents HTML or Text string\r\n     * @returns {String}\r\n     */\r\n    HTMLDecoder: function (contents) {\r\n        const ec = {'$lt;':'<','$gt;':'>'};\r\n        return contents.replace(/\\$lt;|\\$gt;/g, function (m) {\r\n            return (typeof ec[m] === 'string') ? ec[m] : m;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * @description This method run Object.prototype.hasOwnProperty.call(obj, key)\r\n     * @param {Object} obj Object\r\n     * @param {String} key obj.key\r\n     * @returns {Boolean}\r\n     */\r\n    hasOwn: function (obj, key) {\r\n        return this._hasOwn.call(obj, key);\r\n    },\r\n    _hasOwn: Object.prototype.hasOwnProperty,\r\n\r\n    /**\r\n     * @deprecated\r\n     * @description Get the the tag path of the arguments value\r\n     * If not found, return the first found value\r\n     * @param {Array} nameArray File name array\r\n     * @param {String} extension js, css\r\n     * @returns {String}\r\n     */\r\n    getIncludePath: function (nameArray, extension) {\r\n        let path = '';\r\n        const pathList = [];\r\n        const tagName = extension === 'js' ? 'script' : 'link';\r\n        const src = extension === 'js' ? 'src' : 'href';\r\n        \r\n        let fileName = '(?:';\r\n        for (let i = 0, len = nameArray.length; i < len; i++) {\r\n            fileName += nameArray[i] + (i < len - 1 ? '|' : ')');\r\n        }\r\n\r\n        const regExp = new this._w.RegExp('(^|.*[\\\\/])' + fileName + '(\\\\.[^\\\\/]+)?\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\r\n        const extRegExp = new this._w.RegExp('.+\\\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\r\n            \r\n        for (let c = this._d.getElementsByTagName(tagName), i = 0; i < c.length; i++) {\r\n            if (extRegExp.test(c[i][src])) {\r\n                pathList.push(c[i]);\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < pathList.length; i++) {\r\n            let editorTag = pathList[i][src].match(regExp);\r\n            if (editorTag) {\r\n                path = editorTag[0];\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (path === '') path = pathList.length > 0 ? pathList[0][src] : '';\r\n\r\n        -1 === path.indexOf(':/') && '//' !== path.slice(0, 2) && (path = 0 === path.indexOf('/') ? location.href.match(/^.*?:\\/\\/[^\\/]*/)[0] + path : location.href.match(/^[^\\?]*\\/(?:)/)[0] + path);\r\n\r\n        if (!path) throw '[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +' + name + ', extension: ' + extension + ')';\r\n\r\n        return path;\r\n    },\r\n\r\n    /**\r\n     * @deprecated\r\n     * @description Returns the CSS text that has been applied to the current page.\r\n     * @param {Document|null} doc To get the CSS text of an document(core._wd). If null get the current document.\r\n     * @returns {String} Styles string\r\n     */\r\n    getPageStyle: function (doc) {\r\n        let cssText = '';\r\n        const sheets = (doc || this._d).styleSheets;\r\n        \r\n        for (let i = 0, len = sheets.length, rules; i < len; i++) {\r\n            try {\r\n                rules = sheets[i].cssRules;\r\n            } catch (e) {\r\n                continue;\r\n            }\r\n            \r\n            if (rules) {\r\n                for (let c = 0, cLen = rules.length; c < cLen; c++) {\r\n                    cssText += rules[c].cssText;\r\n                }\r\n            }\r\n        }\r\n\r\n        return cssText;\r\n    },\r\n\r\n    /**\r\n     * @description Get the argument iframe's document object\r\n     * @param {Element} iframe Iframe element (context.element.wysiwygFrame)\r\n     * @returns {Document}\r\n     */\r\n    getIframeDocument: function (iframe) {\r\n        let wDocument = iframe.contentWindow || iframe.contentDocument;\r\n        if (wDocument.document) wDocument = wDocument.document;\r\n        return wDocument;\r\n    },\r\n\r\n    /**\r\n     * @description Get attributes of argument element to string ('class=\"---\" name=\"---\" ')\r\n     * @param {Element} element Element object\r\n     * @param {Array|null} exceptAttrs Array of attribute names to exclude from the result\r\n     * @returns {String}\r\n     */\r\n    getAttributesToString: function (element, exceptAttrs) {\r\n        if (!element.attributes) return '';\r\n\r\n        const attrs = element.attributes;\r\n        let attrString = '';\r\n\r\n        for (let i = 0, len = attrs.length; i < len; i++) {\r\n            if (exceptAttrs && exceptAttrs.indexOf(attrs[i].name) > -1) continue;\r\n            attrString += attrs[i].name + '=\"' + attrs[i].value + '\" ';\r\n        }\r\n\r\n        return attrString;\r\n    },\r\n\r\n    /**\r\n     * @descriptionGets Get the length in bytes of a string.\r\n     * referencing code: \"https://github.com/shaan1974/myrdin/blob/master/expressions/string.js#L11\"\r\n     * @param {String} text String text\r\n     * @returns {Number}\r\n     */\r\n    getByteLength: function(text) {\r\n        if (!text || !text.toString) return 0;\r\n        text = text.toString();\r\n\r\n        const encoder = this._w.encodeURIComponent;\r\n        let cr, cl;\r\n        if (this.isIE_Edge) {\r\n            cl = this._w.unescape(encoder(text)).length;\r\n            cr = 0;\r\n\r\n            if (encoder(text).match(/(%0A|%0D)/gi) !== null) {\r\n                cr = encoder(text).match(/(%0A|%0D)/gi).length;\r\n            }\r\n\r\n            return cl + cr;\r\n        } else {\r\n            cl = (new this._w.TextEncoder('utf-8').encode(text)).length;\r\n            cr = 0;\r\n\r\n            if (encoder(text).match(/(%0A|%0D)/gi) !== null) {\r\n                cr = encoder(text).match(/(%0A|%0D)/gi).length;\r\n            }\r\n\r\n            return cl + cr;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the edit region top div element or iframe's body tag.\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isWysiwygDiv: function (element) {\r\n        return element && element.nodeType === 1 && (this.hasClass(element, 'se-wrapper-wysiwyg') || /^BODY$/i.test(element.nodeName));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the contenteditable property is false.\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isNonEditable: function (element) {\r\n        return element && element.nodeType === 1 && element.getAttribute('contenteditable') === 'false';\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is a node related to the text style.\r\n     * (strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isTextStyleElement: function (element) {\r\n        return element && element.nodeType !== 3 && /^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)$/i.test(element.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the format element (P, DIV, H[1-6], PRE, LI | class=\"__se__format__replace_xxx\")\r\n     * Format element also contain \"free format Element\"\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && (/^(P|DIV|H[1-6]|PRE|LI|TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__replace_.+(\\\\s|$)|(\\\\s|^)__se__format__free_.+(\\\\s|$)')) && !this.isComponent(element) && !this.isWysiwygDiv(element);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the range format element. (BLOCKQUOTE, OL, UL, FIGCAPTION, TABLE, THEAD, TBODY, TR, TH, TD | class=\"__se__format__range_xxx\")\r\n     * Range format element is wrap the \"format element\" and \"component\"\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isRangeFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && (/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__range_.+(\\\\s|$)'));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the closure range format element. (TH, TD | class=\"__se__format__range__closure_xxx\")\r\n     * Closure range format elements is included in the range format element.\r\n     *  - Closure range format element is wrap the \"format element\" and \"component\"\r\n     *  You cannot exit this format with the Enter key or Backspace key.\r\n     *  Use it only in special cases. ([ex] format of table cells)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isClosureRangeFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && (/^(TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__range__closure_.+(\\\\s|$)'));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the free format element. (PRE | class=\"__se__format__free_xxx\")\r\n     * Free format elements is included in the format element.\r\n     * Free format elements's line break is \"BR\" tag.\r\n     *  Entering the Enter key in the space on the last line ends \"Free Format\" and appends \"Format\".\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isFreeFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && (/^PRE$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__free_.+(\\\\s|$)')) && !this.isComponent(element) && !this.isWysiwygDiv(element);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the closure free format element. (class=\"__se__format__free__closure_xxx\")\r\n     * Closure free format elements is included in the free format element.\r\n     *  - Closure free format elements's line break is \"BR\" tag.\r\n     *  You cannot exit this format with the Enter key or Backspace key.\r\n     *  Use it only in special cases. ([ex] format of table cells)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isClosureFreeFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && this.hasClass(element, '(\\\\s|^)__se__format__free__closure_.+(\\\\s|$)');\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the component[img, iframe, video, audio, table] cover(class=\"se-component\") and table, hr\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isComponent: function (element) {\r\n        return element && (/se-component/.test(element.className) || /^(TABLE|HR)$/.test(element.nodeName));\r\n    },\r\n\r\n    /**\r\n     * @description Checks for \"__se__uneditable\" in the class list.\r\n     * Components with class \"__se__uneditable\" cannot be modified.\r\n     * @param {Element} element The element to check\r\n     * @returns {Boolean}\r\n     */\r\n    isUneditableComponent: function (element) {\r\n        return element && this.hasClass(element, '__se__uneditable');\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the component [img, iframe] cover(class=\"se-component\")\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isMediaComponent: function (element) {\r\n        return element && /se-component/.test(element.className);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the not checking node. (class=\"katex\", \"__se__tag\")\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isNotCheckingNode: function (element) {\r\n        return element && /katex|__se__tag/.test(element.className);\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a format node (util.isFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isRangeFormatElement(element)) element.firstElementChild;\r\n            if (this.isFormatElement(element) && validation(element)) return element;\r\n\r\n            element = element.parentNode;\r\n        }\r\n        \r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a format node (util.isRangeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getRangeFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isRangeFormatElement(element) && !/^(THEAD|TBODY|TR)$/i.test(element.nodeName) && validation(element)) return element;\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a free format node (util.isFreeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getFreeFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isFreeFormatElement(element) && validation(element)) return element;\r\n\r\n            element = element.parentNode;\r\n        }\r\n        \r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a closure free format node (util.isClosureFreeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getClosureFreeFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isClosureFreeFormatElement(element) && validation(element)) return element;\r\n\r\n            element = element.parentNode;\r\n        }\r\n        \r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description Add style and className of copyEl to originEl\r\n     * @param {Element} originEl Origin element\r\n     * @param {Element} copyEl Element to copy\r\n     */\r\n    copyTagAttributes: function (originEl, copyEl) {\r\n        if (copyEl.style.cssText) {\r\n            originEl.style.cssText += copyEl.style.cssText;\r\n        }\r\n\r\n        const classes = copyEl.classList;\r\n        for (let i = 0, len = classes.length; i < len; i++) {\r\n            this.addClass(originEl, classes[i]);\r\n        }\r\n\r\n        if (!originEl.style.cssText) originEl.removeAttribute('style');\r\n        if (!originEl.className.trim()) originEl.removeAttribute('class');\r\n    },\r\n\r\n    /**\r\n     * @description Copy and apply attributes of format tag that should be maintained. (style, class) Ignore \"__se__format__\" class\r\n     * @param {Element} originEl Origin element\r\n     * @param {Element} copyEl Element to copy\r\n     */\r\n    copyFormatAttributes: function (originEl, copyEl) {\r\n        copyEl = copyEl.cloneNode(false);\r\n        copyEl.className = copyEl.className.replace(/(\\s|^)__se__format__[^\\s]+/g, '');\r\n        this.copyTagAttributes(originEl, copyEl);\r\n    },\r\n\r\n    /**\r\n     * @description Get the item from the array that matches the condition.\r\n     * @param {Array|HTMLCollection|NodeList} array Array to get item\r\n     * @param {Function|null} validation Conditional function\r\n     * @param {Boolean} multi If true, returns all items that meet the criteria otherwise, returns an empty array.\r\n     * If false, returns only one item that meet the criteria otherwise return null.\r\n     * @returns {Array|Node|null}\r\n     */\r\n    getArrayItem: function (array, validation, multi) {\r\n        if (!array || array.length === 0) return null;\r\n\r\n        validation = validation || function () { return true; };\r\n        const arr = [];\r\n        \r\n        for (let i = 0, len = array.length, a; i < len; i++) {\r\n            a = array[i];\r\n            if (validation(a)) {\r\n                if (!multi) return a;\r\n                else arr.push(a);\r\n            }\r\n        }\r\n\r\n        return !multi ? null : arr;\r\n    },\r\n\r\n    /**\r\n     * @description Get the index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} element The element to find index\r\n     * @returns {Number}\r\n     */\r\n    getArrayIndex: function (array, element) {\r\n        let idx = -1;\r\n        for (let i = 0, len = array.length; i < len; i++) {\r\n            if (array[i] === element) {\r\n                idx = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return idx;\r\n    },\r\n\r\n    /**\r\n     * @description Get the next index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} item The element to find index\r\n     * @returns {Number}\r\n     */\r\n    nextIdx: function (array, item) {\r\n        let idx = this.getArrayIndex(array, item);\r\n        if (idx === -1) return -1;\r\n        return idx + 1;\r\n    },\r\n\r\n    /**\r\n     * @description Get the previous index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array Element array\r\n     * @param {Node} item The element to find index\r\n     * @returns {Number}\r\n     */\r\n    prevIdx: function (array, item) {\r\n        let idx = this.getArrayIndex(array, item);\r\n        if (idx === -1) return -1;\r\n        return idx - 1;\r\n    },\r\n\r\n    /**\r\n     * @description Returns the index compared to other sibling nodes.\r\n     * @param {Node} node The Node to find index\r\n     * @returns {Number}\r\n     */\r\n    getPositionIndex: function (node) {\r\n        let idx = 0;\r\n        while ((node = node.previousSibling)) {\r\n            idx += 1;\r\n        }\r\n        return idx;\r\n    },\r\n\r\n    /**\r\n     * @description Returns the position of the \"node\" in the \"parentNode\" in a numerical array.\r\n     * ex) <p><span>aa</span><span>bb</span></p> : getNodePath(node: \"bb\", parentNode: \"<P>\") -> [1, 0]\r\n     * @param {Node} node The Node to find position path\r\n     * @param {Node|null} parentNode Parent node. If null, wysiwyg div area\r\n     * @param {Object|null} _newOffsets If you send an object of the form \"{s: 0, e: 0}\", the text nodes that are attached together are merged into one, centered on the \"node\" argument.\r\n     * \"_newOffsets.s\" stores the length of the combined characters after \"node\" and \"_newOffsets.e\" stores the length of the combined characters before \"node\".\r\n     * Do not use unless absolutely necessary.\r\n     * @returns {Array}\r\n     */\r\n    getNodePath: function (node, parentNode, _newOffsets) {\r\n        const path = [];\r\n        let finds = true;\r\n\r\n        this.getParentElement(node, function (el) {\r\n            if (el === parentNode) finds = false;\r\n            if (finds && !this.isWysiwygDiv(el)) {\r\n                // merge text nodes\r\n                if (_newOffsets && el.nodeType === 3) {\r\n                    let temp = null, tempText = null;\r\n                    _newOffsets.s = _newOffsets.e = 0;\r\n\r\n                    let previous = el.previousSibling;\r\n                    while (previous && previous.nodeType === 3) {\r\n                        tempText = previous.textContent.replace(this.zeroWidthRegExp, '');\r\n                        _newOffsets.s += tempText.length;\r\n                        el.textContent = tempText + el.textContent;\r\n                        temp = previous;\r\n                        previous = previous.previousSibling;\r\n                        this.removeItem(temp);\r\n                    }\r\n\r\n                    let next = el.nextSibling;\r\n                    while (next && next.nodeType === 3) {\r\n                        tempText = next.textContent.replace(this.zeroWidthRegExp, '');\r\n                        _newOffsets.e += tempText.length;\r\n                        el.textContent += tempText;\r\n                        temp = next;\r\n                        next = next.nextSibling;\r\n                        this.removeItem(temp);\r\n                    }\r\n                }\r\n\r\n                // index push\r\n                path.push(el);\r\n            }\r\n            return false;\r\n        }.bind(this));\r\n        \r\n        return path.map(this.getPositionIndex).reverse();\r\n    },\r\n\r\n    /**\r\n     * @description Returns the node in the location of the path array obtained from \"util.getNodePath\".\r\n     * @param {Array} offsets Position array, array obtained from \"util.getNodePath\"\r\n     * @param {Node} parentNode Base parent element\r\n     * @returns {Node}\r\n     */\r\n    getNodeFromPath: function (offsets, parentNode) {\r\n        let current = parentNode;\r\n        let nodes;\r\n\r\n        for (let i = 0, len = offsets.length; i < len; i++) {\r\n            nodes = current.childNodes;\r\n            if (nodes.length === 0) break;\r\n            if (nodes.length <= offsets[i]) {\r\n                current = nodes[nodes.length - 1];\r\n            } else {\r\n                current = nodes[offsets[i]];\r\n            }\r\n        }\r\n\r\n        return current;\r\n    },\r\n\r\n    /**\r\n     * @description Compares the style and class for equal values.\r\n     * Returns true if both are text nodes.\r\n     * @param {Node} a Node to compare\r\n     * @param {Node} b Node to compare\r\n     * @returns {Boolean}\r\n     */\r\n    isSameAttributes: function (a, b) {\r\n        if (a.nodeType === 3 && b.nodeType === 3) return true;\r\n        if (a.nodeType === 3 || b.nodeType === 3) return false;\r\n\r\n        const style_a = a.style;\r\n        const style_b = b.style;\r\n        let compStyle = 0;\r\n\r\n        for (let i = 0, len = style_a.length; i < len; i++) {\r\n            if (style_a[style_a[i]] === style_b[style_a[i]]) compStyle++;\r\n        }\r\n\r\n        const class_a = a.classList;\r\n        const class_b = b.classList;\r\n        const reg = this._w.RegExp;\r\n        let compClass = 0;\r\n\r\n        for (let i = 0, len = class_a.length; i < len; i++) {\r\n            if (reg('(\\s|^)' + class_a[i] + '(\\s|$)').test(class_b.value)) compClass++;\r\n        }\r\n\r\n        return (compStyle === style_b.length && compStyle === style_a.length) && (compClass === class_b.length && compClass === class_a.length);\r\n    },\r\n\r\n    /**\r\n     * @description Check the line element(util.isFormatElement) is empty.\r\n     * @param {Element} element Format element node\r\n     * @returns {Boolean}\r\n     */\r\n    isEmptyLine: function (element) {\r\n        return !element || !element.parentNode || (!element.querySelector('IMG, IFRAME, AUDIO, VIDEO, CANVAS, TABLE') && this.onlyZeroWidthSpace(element.textContent));\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a list (ol, ul)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isList: function (node) {\r\n        return node && /^(OL|UL)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a list cell (li)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isListCell: function (node) {\r\n        return node && /^LI$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a table (table, thead, tbody, tr, th, td)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isTable: function (node) {\r\n        return node && /^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a table cell (td, th)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isCell: function (node) {\r\n        return node && /^(TD|TH)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a break node (BR)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isBreak: function (node) {\r\n        return node && /^BR$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n\r\n    /**\r\n     * @description Check the node is a anchor node (A)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isAnchor: function (node) {\r\n        return node && /^A$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a media node (img, iframe, audio, video, canvas)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isMedia: function (node) {\r\n        return node && /^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Checks for numeric (with decimal point).\r\n     * @param {String|Number} text Text string or number\r\n     * @returns {Boolean}\r\n     */\r\n    isNumber: function (text) {\r\n        return !!text && /^-?\\d+(\\.\\d+)?$/.test(text + '');\r\n    },\r\n\r\n    /**\r\n     * @description Get a number.\r\n     * @param {String|Number} text Text string or number\r\n     * @param {Number} maxDec Maximum number of decimal places (-1 : Infinity)\r\n     * @returns {Number}\r\n     */\r\n    getNumber: function (text, maxDec) {\r\n        if (!text) return 0;\r\n        \r\n        let number = (text + '').match(/-?\\d+(\\.\\d+)?/);\r\n        if (!number || !number[0]) return 0;\r\n\r\n        number = number[0];\r\n        return maxDec < 0 ? number * 1 : maxDec === 0 ? this._w.Math.round(number * 1) : (number * 1).toFixed(maxDec) * 1;\r\n    },\r\n\r\n    /**\r\n     * @description Get all \"children\" of the argument value element (Without text nodes)\r\n     * @param {Element} element element to get child node\r\n     * @param {Function|null} validation Conditional function\r\n     * @returns {Array}\r\n     */\r\n    getListChildren: function (element, validation) {\r\n        const children = [];\r\n        if (!element || !element.children || element.children.length === 0) return children;\r\n\r\n        validation = validation || function () { return true; };\r\n\r\n        (function recursionFunc(current) {\r\n            if (element !== current && validation(current)) {\r\n                children.push(current);\r\n            }\r\n\r\n            if (!!current.children) {\r\n                for (let i = 0, len = current.children.length; i < len; i++) {\r\n                    recursionFunc(current.children[i]);\r\n                }\r\n            }\r\n        })(element);\r\n\r\n        return children;\r\n    },\r\n\r\n    /**\r\n     * @description Get all \"childNodes\" of the argument value element (Include text nodes)\r\n     * @param {Node} element element to get child node\r\n     * @param {Function|null} validation Conditional function\r\n     * @returns {Array}\r\n     */\r\n    getListChildNodes: function (element, validation) {\r\n        const children = [];\r\n        if (!element || element.childNodes.length === 0) return children;\r\n\r\n        validation = validation || function () { return true; };\r\n\r\n        (function recursionFunc(current) {\r\n            if (element !== current && validation(current)) {\r\n                children.push(current);\r\n            }\r\n\r\n            for (let i = 0, len = current.childNodes.length; i < len; i++) {\r\n                recursionFunc(current.childNodes[i]);\r\n            }\r\n        })(element);\r\n\r\n        return children;\r\n    },\r\n\r\n    /**\r\n     * @description Returns the number of parents nodes.\r\n     * \"0\" when the parent node is the WYSIWYG area.\r\n     * \"-1\" when the element argument is the WYSIWYG area.\r\n     * @param {Node} element The element to check\r\n     * @returns {Number}\r\n     */\r\n    getElementDepth: function (element) {\r\n        if (!element || this.isWysiwygDiv(element)) return -1;\r\n\r\n        let depth = 0;\r\n        element = element.parentNode;\r\n\r\n        while (element && !this.isWysiwygDiv(element)) {\r\n            depth += 1;\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return depth;\r\n    },\r\n\r\n    /**\r\n     * @description Compares two elements to find a common ancestor, and returns the order of the two elements.\r\n     * @param {Node} a Node to compare.\r\n     * @param {Node} b Node to compare.\r\n     * @returns {Object} { ancesstor, a, b, result: (a > b ? 1 : a < b ? -1 : 0) };\r\n     */\r\n    compareElements: function (a, b) {\r\n        let aNode = a, bNode = b;\r\n        while (aNode && bNode && aNode.parentNode !== bNode.parentNode) {\r\n            aNode = aNode.parentNode;\r\n            bNode = bNode.parentNode;\r\n        }\r\n\r\n        if (!aNode || !bNode) return { ancestor: null, a: a, b: b, result: 0 };\r\n\r\n        const children = aNode.parentNode.childNodes;\r\n        const aIndex = this.getArrayIndex(children, aNode);\r\n        const bIndex = this.getArrayIndex(children, bNode);\r\n\r\n        return {\r\n            ancestor: aNode.parentNode,\r\n            a: aNode,\r\n            b: bNode,\r\n            result: aIndex > bIndex ? 1 : aIndex < bIndex ? -1 : 0\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Get the parent element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element Reference element\r\n     * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\r\n    getParentElement: function (element, query) {\r\n        let check;\r\n\r\n        if (typeof query === 'function') {\r\n            check = query;\r\n        } else {\r\n            let attr;\r\n            if (/^\\./.test(query)) {\r\n                attr = 'className';\r\n                query = query.split('.')[1];\r\n            } else if (/^#/.test(query)) {\r\n                attr = 'id';\r\n                query = '^' + query.split('#')[1] + '$';\r\n            } else if (/^:/.test(query)) {\r\n                attr = 'name';\r\n                query = '^' + query.split(':')[1] + '$';\r\n            } else {\r\n                attr = 'nodeName';\r\n                query = '^' + query + '$';\r\n            }\r\n\r\n            const regExp = new this._w.RegExp(query, 'i');\r\n            check = function (el) {\r\n                return regExp.test(el[attr]);\r\n            };\r\n        }\r\n\r\n        while (element && !check(element)) {\r\n            if (this.isWysiwygDiv(element)) {\r\n                return null;\r\n            }\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return element;\r\n    },\r\n\r\n    /**\r\n     * @description Get the child element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element Reference element\r\n     * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n     * @param {Boolean} last If true returns the last node among the found child nodes. (default: first node)\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\r\n    getChildElement: function (element, query, last) {\r\n        let check;\r\n\r\n        if (typeof query === 'function') {\r\n            check = query;\r\n        } else {\r\n            let attr;\r\n            if (/^\\./.test(query)) {\r\n                attr = 'className';\r\n                query = query.split('.')[1];\r\n            } else if (/^#/.test(query)) {\r\n                attr = 'id';\r\n                query = '^' + query.split('#')[1] + '$';\r\n            } else if (/^:/.test(query)) {\r\n                attr = 'name';\r\n                query = '^' + query.split(':')[1] + '$';\r\n            } else {\r\n                attr = 'nodeName';\r\n                query = '^' + (query === 'text' ? '#' + query : query) + '$';\r\n            }\r\n\r\n            const regExp = new this._w.RegExp(query, 'i');\r\n            check = function (el) {\r\n                return regExp.test(el[attr]);\r\n            };\r\n        }\r\n\r\n        const childList = this.getListChildNodes(element, function (current) {\r\n            return check(current);\r\n        });\r\n\r\n        return childList[last ? childList.length - 1 : 0];\r\n    },\r\n\r\n    /**\r\n     * @description 1. The first node of all the child nodes of the \"first\" element is returned.\r\n     * 2. The last node of all the child nodes of the \"last\" element is returned.\r\n     * 3. When there is no \"last\" element, the first and last nodes of all the children of the \"first\" element are returned.\r\n     * { sc: \"first\", ec: \"last\" }\r\n     * @param {Node} first First element\r\n     * @param {Node|null} last Last element\r\n     * @returns {Object}\r\n     */\r\n    getEdgeChildNodes: function (first, last) {\r\n        if (!first) return;\r\n        if (!last) last = first;\r\n\r\n        while (first && first.nodeType === 1 && first.childNodes.length > 0 && !this.isBreak(first)) first = first.firstChild;\r\n        while (last && last.nodeType === 1 && last.childNodes.length > 0 &&  !this.isBreak(last)) last = last.lastChild;\r\n\r\n        return {\r\n            sc: first,\r\n            ec: last || first\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Returns the position of the left and top of argument. {left:0, top:0}\r\n     * @param {Node} element Target node\r\n     * @param {Element|null} wysiwygFrame When use iframe option, iframe object should be sent (context.element.wysiwygFrame)\r\n     * @returns {Object}\r\n     */\r\n    getOffset: function (element, wysiwygFrame) {\r\n        let offsetLeft = 0;\r\n        let offsetTop = 0;\r\n        let offsetElement = element.nodeType === 3 ? element.parentElement : element;\r\n        const wysiwyg = this.getParentElement(element, this.isWysiwygDiv.bind(this));\r\n\r\n        while (offsetElement && !this.hasClass(offsetElement, 'se-container') && offsetElement !== wysiwyg) {\r\n            offsetLeft += offsetElement.offsetLeft;\r\n            offsetTop += offsetElement.offsetTop;\r\n            offsetElement = offsetElement.offsetParent;\r\n        }\r\n\r\n        const iframe = wysiwygFrame && /iframe/i.test(wysiwygFrame.nodeName);\r\n\r\n        return {\r\n            left: offsetLeft + (iframe ? wysiwygFrame.parentElement.offsetLeft : 0),\r\n            top: (offsetTop - (wysiwyg ? wysiwyg.scrollTop : 0)) + (iframe ? wysiwygFrame.parentElement.offsetTop : 0)\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description It compares the start and end indexes of \"a\" and \"b\" and returns the number of overlapping indexes in the range.\r\n     * ex) 1, 5, 4, 6 => \"2\" (4 ~ 5)\r\n     * @param {Number} aStart Start index of \"a\"\r\n     * @param {Number} aEnd End index of \"a\"\r\n     * @param {Number} bStart Start index of \"b\"\r\n     * @param {Number} bEnd Start index of \"b\"\r\n     * @returns {Number}\r\n     */\r\n    getOverlapRangeAtIndex: function (aStart, aEnd, bStart, bEnd) {\r\n        if (aStart <= bEnd ? aEnd < bStart : aEnd > bStart) return 0;\r\n\r\n        const overlap = (aStart > bStart ? aStart : bStart) - (aEnd < bEnd ? aEnd : bEnd);\r\n        return (overlap < 0 ? overlap * -1 : overlap) + 1;\r\n    },\r\n\r\n    /**\r\n     * @description Set the text content value of the argument value element\r\n     * @param {Node} element Element to replace text content\r\n     * @param {String} txt Text to be applied\r\n     */\r\n    changeTxt: function (element, txt) {\r\n        if (!element || !txt) return;\r\n        element.textContent = txt;\r\n    },\r\n\r\n    /**\r\n     * @description Replace element\r\n     * @param {Element} element Target element\r\n     * @param {String|Element} newElement String or element of the new element to apply\r\n     */\r\n    changeElement: function (element, newElement) {\r\n        if (typeof newElement === 'string') {\r\n            if (element.outerHTML) {\r\n                element.outerHTML = newElement;\r\n            } else {\r\n                const doc = this.createElement('DIV');\r\n                doc.innerHTML = newElement;\r\n                newElement = doc.firstChild;\r\n                element.parentNode.replaceChild(newElement, element);\r\n            }\r\n        } else if (newElement.nodeType === 1) {\r\n            element.parentNode.replaceChild(newElement, element);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Set style, if all styles are deleted, the style properties are deleted.\r\n     * @param {Element} element Element to set style\r\n     * @param {String} styleName Style attribute name (marginLeft, textAlign...)\r\n     * @param {String|Number} value Style value\r\n     */\r\n    setStyle: function (element, styleName, value) {\r\n        element.style[styleName] = value;\r\n\r\n        if (!value && !element.style.cssText) {\r\n            element.removeAttribute('style');\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Determine whether any of the matched elements are assigned the given class\r\n     * @param {Element} element Elements to search class name\r\n     * @param {String} className Class name to search for\r\n     * @returns {Boolean}\r\n     */\r\n    hasClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        return (new this._w.RegExp(className)).test(element.className);\r\n    },\r\n\r\n    /**\r\n     * @description Append the className value of the argument value element\r\n     * @param {Element} element Elements to add class name\r\n     * @param {String} className Class name to be add\r\n     */\r\n    addClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        if (check.test(element.className)) return;\r\n\r\n        element.className += (element.className.length > 0 ? ' ' : '') + className;\r\n    },\r\n\r\n    /**\r\n     * @description Delete the className value of the argument value element\r\n     * @param {Element} element Elements to remove class name\r\n     * @param {String} className Class name to be remove\r\n     */\r\n    removeClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        element.className = element.className.replace(check, ' ').trim();\r\n\r\n        if (!element.className.trim()) element.removeAttribute('class');\r\n    },\r\n\r\n    /**\r\n     * @description Argument value If there is no class name, insert it and delete the class name if it exists\r\n     * @param {Element} element Elements to replace class name\r\n     * @param {String} className Class name to be change\r\n     * @returns {Boolean|undefined}\r\n     */\r\n    toggleClass: function (element, className) {\r\n        if (!element) return;\r\n        let result = false;\r\n\r\n        const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        if (check.test(element.className)) {\r\n            element.className = element.className.replace(check, ' ').trim();\r\n        } else {\r\n            element.className += ' ' + className;\r\n            result = true;\r\n        }\r\n\r\n        if (!element.className.trim()) element.removeAttribute('class');\r\n\r\n        return result;\r\n    },\r\n\r\n    /**\r\n     * @description In the predefined code view mode, the buttons except the executable button are changed to the 'disabled' state.\r\n     * core.codeViewDisabledButtons (An array of buttons whose class name is not \"se-code-view-enabled\")\r\n     * core.resizingDisabledButtons (An array of buttons whose class name is not \"se-resizing-enabled\")\r\n     * @param {Boolean} disabled Disabled value\r\n     * @param {Array|HTMLCollection|NodeList} buttonList Button array\r\n     */\r\n    setDisabledButtons: function (disabled, buttonList) {\r\n        for (let i = 0, len = buttonList.length; i < len; i++) {\r\n            buttonList[i].disabled = disabled;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Delete argumenu value element\r\n     * @param {Node} item Node to be remove\r\n     */\r\n    removeItem: function (item) {\r\n        if (!item) return;\r\n\r\n        if(typeof item.remove === 'function') item.remove();\r\n        else if (item.parentNode) item.parentNode.removeChild(item);\r\n    },\r\n\r\n    /**\r\n     * @description Delete all parent nodes that match the condition.\r\n     * Returns an {sc: previousSibling, ec: nextSibling}(the deleted node reference) or null.\r\n     * @param {Node} item Node to be remove\r\n     * @param {Function|null} validation Validation function. default(Deleted if it only have breakLine and blanks)\r\n     * @param {Element|null} stopParent Stop when the parent node reaches stopParent\r\n     * @returns {Object|null} {sc: previousSibling, ec: nextSibling}\r\n     */\r\n    removeItemAllParents: function (item, validation, stopParent) {\r\n        if (!item) return null;\r\n        let cc = null;\r\n        if (!validation) {\r\n            validation = function (current) {\r\n                if (current === stopParent || this.isComponent(current)) return false;\r\n                const text = current.textContent.trim();\r\n                return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\r\n            }.bind(this);\r\n        }\r\n\r\n        (function recursionFunc (element) {\r\n            if (!util_util.isWysiwygDiv(element)) {\r\n                const parent = element.parentNode;\r\n                if (parent && validation(element)) {\r\n                    cc = {\r\n                        sc: element.previousElementSibling,\r\n                        ec: element.nextElementSibling\r\n                    };\r\n                    util_util.removeItem(element);\r\n                    recursionFunc(parent);\r\n                }\r\n            }\r\n        }(item));\r\n\r\n        return cc;\r\n    },\r\n\r\n    /**\r\n     * @description Detach Nested all nested lists under the \"baseNode\".\r\n     * Returns a list with nested removed.\r\n     * @param {Node} baseNode Element on which to base.\r\n     * @param {Boolean} all If true, it also detach all nested lists of a returned list.\r\n     * @returns {Element}\r\n     */\r\n    detachNestedList: function (baseNode, all) {\r\n        const rNode = this._deleteNestedList(baseNode);\r\n        let rangeElement, cNodes;\r\n\r\n        if (rNode) {\r\n            rangeElement = rNode.cloneNode(false);\r\n            cNodes = rNode.childNodes;\r\n            const index = this.getPositionIndex(baseNode);\r\n            while (cNodes[index]) {\r\n                rangeElement.appendChild(cNodes[index]);\r\n            }\r\n        } else {\r\n            rangeElement = baseNode;\r\n        }\r\n        \r\n        let rChildren;\r\n        if (!all) {\r\n            const depth = this.getElementDepth(baseNode) + 2;\r\n            rChildren = this.getListChildren(baseNode, function (current) { return this.isListCell(current) && !current.previousElementSibling && this.getElementDepth(current) === depth; }.bind(this));\r\n        } else {\r\n            rChildren = this.getListChildren(rangeElement, function (current) { return this.isListCell(current) && !current.previousElementSibling; }.bind(this));\r\n        }\r\n\r\n        for (let i = 0, len = rChildren.length; i < len; i++) {\r\n            this._deleteNestedList(rChildren[i]);\r\n        }\r\n        \r\n        if (rNode) {\r\n            rNode.parentNode.insertBefore(rangeElement, rNode.nextSibling);\r\n            if (cNodes && cNodes.length === 0) this.removeItem(rNode);\r\n        }\r\n\r\n        return rangeElement === baseNode ? rangeElement.parentNode : rangeElement;\r\n    },\r\n\r\n    /**\r\n     * @description Sub function of util.detachNestedList method.\r\n     * @private\r\n     */\r\n    _deleteNestedList: function (baseNode) {\r\n        const baseParent = baseNode.parentNode;\r\n        let sibling = baseParent;\r\n        let parent = sibling.parentNode;\r\n        let liSibling, liParent, child, index, c;\r\n        \r\n        while (this.isListCell(parent)) {\r\n            index = this.getPositionIndex(baseNode);\r\n            liSibling = parent.nextElementSibling;\r\n            liParent = parent.parentNode;\r\n            child = sibling;\r\n            while(child) {\r\n                sibling = sibling.nextSibling;\r\n                if (this.isList(child)) {\r\n                    c = child.childNodes;\r\n                    while (c[index]) {\r\n                        liParent.insertBefore(c[index], liSibling);\r\n                    }\r\n                    if (c.length === 0) this.removeItem(child);\r\n                } else {\r\n                    liParent.appendChild(child);\r\n                }\r\n                child = sibling;\r\n            }\r\n            sibling = liParent;\r\n            parent = liParent.parentNode;\r\n        }\r\n\r\n        if (baseParent.children.length === 0) this.removeItem(baseParent);\r\n\r\n        return liParent;\r\n    },\r\n\r\n    /**\r\n     * @description Split all tags based on \"baseNode\"\r\n     * Returns the last element of the splited tag.\r\n     * @param {Node} baseNode Element or text node on which to base\r\n     * @param {Number|null} offset Text offset of \"baseNode\" (Only valid when \"baseNode\" is a text node)\r\n     * @param {Number} depth The nesting depth of the element being split. (default: 0)\r\n     * @returns {Element}\r\n     */\r\n    splitElement: function (baseNode, offset, depth) {\r\n        const bp = baseNode.parentNode;\r\n        let index = 0, newEl, children, temp;\r\n        let next = true;\r\n        if (!depth || depth < 0) depth = 0;\r\n\r\n        if (baseNode.nodeType === 3) {\r\n            index = this.getPositionIndex(baseNode);\r\n            if (offset >= 0) {\r\n                baseNode.splitText(offset);\r\n                const after = this.getNodeFromPath([index + 1], bp);\r\n                if (this.onlyZeroWidthSpace(after)) after.data = this.zeroWidthSpace;\r\n            }\r\n        } else if (baseNode.nodeType === 1) {\r\n            if (!baseNode.previousSibling) {\r\n                if (this.getElementDepth(baseNode) === depth) next = false;\r\n            } else {\r\n                baseNode = baseNode.previousSibling;\r\n            }\r\n        }\r\n\r\n        let depthEl = baseNode;\r\n        while (this.getElementDepth(depthEl) > depth) {\r\n            index = this.getPositionIndex(depthEl) + 1;\r\n            depthEl = depthEl.parentNode;\r\n\r\n            temp = newEl;\r\n            newEl = depthEl.cloneNode(false);\r\n            children = depthEl.childNodes;\r\n\r\n            if (temp) {\r\n                if (this.isListCell(newEl) && this.isList(temp) && temp.firstElementChild) {\r\n                    newEl.innerHTML = temp.firstElementChild.innerHTML;\r\n                    util_util.removeItem(temp.firstElementChild);\r\n                    if (temp.children.length > 0) newEl.appendChild(temp);\r\n                } else {\r\n                    newEl.appendChild(temp);\r\n                }\r\n            }\r\n\r\n            while (children[index]) {\r\n                newEl.appendChild(children[index]);\r\n            }\r\n        }\r\n\r\n        if (depthEl.childNodes.length <= 1 && (!depthEl.firstChild || depthEl.firstChild.textContent.length === 0)) depthEl.innerHTML = '<br>';\r\n\r\n        const pElement = depthEl.parentNode;\r\n        if (next) depthEl = depthEl.nextSibling;\r\n        if (!newEl) return depthEl;\r\n\r\n        this.mergeSameTags(newEl, null, false);\r\n        this.mergeNestedTags(newEl, function (current) { return this.isList(current); }.bind(this));\r\n        \r\n        if (newEl.childNodes.length > 0) pElement.insertBefore(newEl, depthEl);\r\n        else newEl = depthEl;\r\n\r\n        if (bp.childNodes.length === 0) this.removeItem(bp);\r\n\r\n        return newEl;\r\n    },\r\n\r\n    /**\r\n     * @description Use with \"npdePath (util.getNodePath)\" to merge the same attributes and tags if they are present and modify the nodepath.\r\n     * If \"offset\" has been changed, it will return as much \"offset\" as it has been modified.\r\n     * An array containing change offsets is returned in the order of the \"nodePathArray\" array.\r\n     * @param {Element} element Element\r\n     * @param {Array|null} nodePathArray Array of NodePath object ([util.getNodePath(), ..])\r\n     * @param {Boolean} onlyText If true, non-text nodes(!util._isIgnoreNodeChange) like 'span', 'strong'.. are ignored.\r\n     * @returns {Array} [offset, ..]\r\n     */\r\n    mergeSameTags: function (element, nodePathArray, onlyText) {\r\n        const inst = this;\r\n        const nodePathLen = nodePathArray ? nodePathArray.length : 0;\r\n        let offsets = null;\r\n        \r\n        if (nodePathLen) {\r\n            offsets = this._w.Array.apply(null, new this._w.Array(nodePathLen)).map(this._w.Number.prototype.valueOf, 0);\r\n        }\r\n\r\n        (function recursionFunc(current, depth, depthIndex) {\r\n            const children = current.childNodes;\r\n            \r\n            for (let i = 0, len = children.length, child, next; i < len; i++) {\r\n                child = children[i];\r\n                next = children[i + 1];\r\n                if (!child) break;\r\n                if((onlyText && inst._isIgnoreNodeChange(child)) || (!onlyText && (inst.isTable(child) || inst.isListCell(child) || (inst.isFormatElement(child) && !inst.isFreeFormatElement(child))))) {\r\n                    if (inst.isTable(child) || inst.isListCell(child)) {\r\n                        recursionFunc(child, depth + 1, i);\r\n                    }\r\n                    continue;\r\n                }\r\n                if (len === 1 && current.nodeName === child.nodeName && current.parentNode) {\r\n                    // update nodePath\r\n                    if (nodePathLen) {\r\n                        let path, c, p, cDepth, spliceDepth;\r\n                        for (let n = 0; n < nodePathLen; n++) {\r\n                            path = nodePathArray[n];\r\n                            if (path && path[depth] === i) {\r\n                                c = child, p = current, cDepth = depth, spliceDepth = true;\r\n                                while (cDepth >= 0) {\r\n                                    if (inst.getArrayIndex(p.childNodes, c) !== path[cDepth]) {\r\n                                        spliceDepth = false;\r\n                                        break;\r\n                                    }\r\n                                    c = child.parentNode;\r\n                                    p = c.parentNode;\r\n                                    cDepth--;\r\n                                }\r\n                                if (spliceDepth) {\r\n                                    path.splice(depth, 1);\r\n                                    path[depth] = i;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // merge tag\r\n                    inst.copyTagAttributes(child, current);\r\n                    current.parentNode.insertBefore(child, current);\r\n                    inst.removeItem(current);\r\n                }\r\n                if (!next) {\r\n                    if (child.nodeType === 1) recursionFunc(child, depth + 1, i);\r\n                    break;\r\n                }\r\n\r\n                if (child.nodeName === next.nodeName && inst.isSameAttributes(child, next) && child.href === next.href) {\r\n                    const childs = child.childNodes;\r\n                    let childLength = 0;\r\n                    for (let n = 0, nLen = childs.length; n < nLen; n++) {\r\n                        if (childs[n].textContent.length > 0) childLength++;\r\n                    }\r\n\r\n                    const l = child.lastChild;\r\n                    const r = next.firstChild;\r\n                    let addOffset = 0;\r\n                    if (l && r) {\r\n                        const textOffset = l.nodeType === 3 && r.nodeType === 3;\r\n                        addOffset = l.textContent.length;\r\n                        let tempL = l.previousSibling;\r\n                        while(tempL && tempL.nodeType === 3) {\r\n                            addOffset += tempL.textContent.length;\r\n                            tempL = tempL.previousSibling;\r\n                        }\r\n\r\n                        if (childLength > 0 && l.nodeType === 3 && r.nodeType === 3 && (l.textContent.length > 0 || r.textContent.length > 0)) childLength--;\r\n\r\n                        if (nodePathLen) {\r\n                            let path = null;\r\n                            for (let n = 0; n < nodePathLen; n++) {\r\n                                path = nodePathArray[n];\r\n                                if (path && path[depth] > i) {\r\n                                    if (depth > 0 && path[depth - 1] !== depthIndex) continue;\r\n    \r\n                                    path[depth] -= 1;\r\n                                    if (path[depth + 1] >= 0 && path[depth] === i) {\r\n                                        path[depth + 1] += childLength;\r\n                                        if (textOffset) {\r\n                                            if (l && l.nodeType === 3 && r && r.nodeType === 3) {\r\n                                                offsets[n] += addOffset;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (child.nodeType === 3) {\r\n                        addOffset = child.textContent.length;\r\n                        child.textContent += next.textContent;\r\n                        if (nodePathLen) {\r\n                            let path = null;\r\n                            for (let n = 0; n < nodePathLen; n++) {\r\n                                path = nodePathArray[n];\r\n                                if (path && path[depth] > i) {\r\n                                    if (depth > 0 && path[depth - 1] !== depthIndex) continue;\r\n    \r\n                                    path[depth] -= 1;\r\n                                    if (path[depth + 1] >= 0 && path[depth] === i) {\r\n                                        path[depth + 1] += childLength;\r\n                                        offsets[n] += addOffset;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    } else {\r\n                        child.innerHTML += next.innerHTML;\r\n                    }\r\n                    \r\n                    inst.removeItem(next);\r\n                    i--;\r\n                } else if (child.nodeType === 1) {\r\n                    recursionFunc(child, depth + 1, i);\r\n                }\r\n            }\r\n        })(element, 0, 0);\r\n\r\n        return offsets;\r\n    },\r\n\r\n    /**\r\n     * @description Remove nested tags without other child nodes.\r\n     * @param {Element} element Element object\r\n     * @param {Function|String|null} validation Validation function / String(\"tag1|tag2..\") / If null, all tags are applicable.\r\n     */\r\n    mergeNestedTags: function (element, validation) {\r\n        if (typeof validation === 'string') {\r\n            validation = function (current) { return this.test(current.tagName); }.bind(new this._w.RegExp('^(' + (validation ? validation : '.+') + ')$', 'i'));\r\n        } else if (typeof validation !== 'function') {\r\n            validation = function () { return true; };\r\n        }\r\n        \r\n        (function recursionFunc(current) {\r\n            let children = current.children;\r\n            if (children.length === 1 && children[0].nodeName === current.nodeName && validation(current)) {\r\n                const temp = children[0];\r\n                children = temp.children;\r\n                while (children[0]) {\r\n                    current.appendChild(children[0]);\r\n                }\r\n                current.removeChild(temp);\r\n            }\r\n\r\n            for (let i = 0, len = current.children.length; i < len; i++) {\r\n                recursionFunc(current.children[i]);\r\n            }\r\n        })(element);\r\n    },\r\n\r\n    /**\r\n     * @description Delete a empty child node of argument element\r\n     * @param {Element} element Element node\r\n     * @param {Node|null} notRemoveNode Do not remove node\r\n     */\r\n    removeEmptyNode: function (element, notRemoveNode) {\r\n        const inst = this;\r\n\r\n        if (notRemoveNode) {\r\n            notRemoveNode = inst.getParentElement(notRemoveNode, function (current) {\r\n                return element === current.parentElement;\r\n            });\r\n        }\r\n        \r\n        (function recursionFunc(current) {\r\n            if (inst._notTextNode(current) || current === notRemoveNode || inst.isNonEditable(current)) return 0;\r\n            if (current !== element && inst.onlyZeroWidthSpace(current.textContent) && (!current.firstChild || !inst.isBreak(current.firstChild)) && !current.querySelector(inst._allowedEmptyNodeList)) {\r\n                if (current.parentNode) {\r\n                    current.parentNode.removeChild(current);\r\n                    return -1;\r\n                }\r\n            } else {\r\n                const children = current.children;\r\n                for (let i = 0, len = children.length, r = 0; i < len; i++) {\r\n                    if (!children[i + r] || inst.isComponent(children[i + r])) continue;\r\n                    r += recursionFunc(children[i + r]);\r\n                }\r\n            }\r\n\r\n            return 0;\r\n        })(element);\r\n\r\n        if (element.childNodes.length === 0) element.innerHTML = '<br>';\r\n    },\r\n\r\n    /**\r\n     * @description Remove whitespace between tags in HTML string.\r\n     * @param {String} html HTML string\r\n     * @returns {String}\r\n     */\r\n    htmlRemoveWhiteSpace: function (html) {\r\n        if (!html) return '';\r\n        return html.trim().replace(/<\\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)[^>^<]+>\\s+(?=<)/ig, function (m) { return m.trim(); });\r\n    },\r\n\r\n    /**\r\n     * @description Sort a element array by depth of element.\r\n     * @param {Array} array Array object\r\n     * @param {Boolean} des true: descending order / false: ascending order\r\n     */\r\n    sortByDepth: function (array, des) {\r\n        const t = !des ? -1 : 1;\r\n        const f = t * -1;\r\n\r\n        array.sort(function (a, b) {\r\n            if (!this.isListCell(a) || !this.isListCell(b)) return 0;\r\n            a = this.getElementDepth(a);\r\n            b = this.getElementDepth(b);\r\n            return a > b ? t : a < b ? f : 0;\r\n        }.bind(this));\r\n    },\r\n\r\n    /**\r\n     * @description Nodes that need to be added without modification when changing text nodes\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _isIgnoreNodeChange: function (element) {\r\n        return element && element.nodeType !== 3 && (this.isNonEditable(element) || !this.isTextStyleElement(element));\r\n    },\r\n\r\n    /**\r\n     * @description Nodes that must remain undetached when changing text nodes (A, Label, Code, Span:font-size)\r\n     * @param {Node|String} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _isMaintainedNode: function (element) {\r\n        return element && element.nodeType !== 3 && /^(a|label|code)$/i.test(typeof element === 'string' ? element : element.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Node with font-size style\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _isSizeNode: function (element) {\r\n        return element && element.nodeType !== 3 && this.isTextStyleElement(element) && !!element.style.fontSize;\r\n    },\r\n\r\n    /**\r\n     * @description Nodes without text\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _notTextNode: function (element) {\r\n        return element && element.nodeType !== 3 && (this.isComponent(element) || /^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof element === 'string' ? element : element.nodeName));\r\n    },\r\n\r\n    /**\r\n     * @description Check disallowed tags\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _disallowedTags: function (element) {\r\n        return /^(meta|script|link|style|[a-z]+\\:[a-z]+)$/i.test(element.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Create whitelist RegExp object.\r\n     * Return RegExp format: new RegExp(\"<\\\\/?\\\\b(?!\" + list + \")\\\\b[^>^<]*+>\", \"gi\")\r\n     * @param {String} list Tags list (\"br|p|div|pre...\")\r\n     * @returns {RegExp}\r\n     */\r\n    createTagsWhitelist: function (list) {\r\n        return new RegExp('<\\\\/?\\\\b(?!\\\\b' + list.replace(/\\|/g, '\\\\b|\\\\b') + '\\\\b)[^>]*>', 'gi');\r\n    },\r\n\r\n    /**\r\n     * @description Fix tags that do not fit the editor format.\r\n     * @param {Element} documentFragment Document fragment \"DOCUMENT_FRAGMENT_NODE\" (nodeType === 11)\r\n     * @param {RegExp} htmlCheckWhitelistRegExp Editor tags whitelist (core._htmlCheckWhitelistRegExp)\r\n     * @private\r\n     */\r\n    _consistencyCheckOfHTML: function (documentFragment, htmlCheckWhitelistRegExp) {\r\n        /**\r\n         * It is can use \".children(util.getListChildren)\" to exclude text nodes, but \"documentFragment.children\" is not supported in IE.\r\n         * So check the node type and exclude the text no (current.nodeType !== 1)\r\n         */\r\n        const removeTags = [], emptyTags = [], wrongList = [], withoutFormatCells = [];\r\n\r\n        // wrong position\r\n        const wrongTags = this.getListChildNodes(documentFragment, function (current) {\r\n            if (current.nodeType !== 1) return false;\r\n\r\n            // white list\r\n            if (!htmlCheckWhitelistRegExp.test(current.nodeName) && current.childNodes.length === 0 && this.isNotCheckingNode(current)) {\r\n                removeTags.push(current);\r\n                return false;\r\n            }\r\n\r\n            const nrtag = !this.getParentElement(current, this.isNotCheckingNode);\r\n            // empty tags\r\n            if ((!this.isTable(current) && !this.isListCell(current)) && (this.isFormatElement(current) || this.isRangeFormatElement(current) || this.isTextStyleElement(current)) && current.childNodes.length === 0 && nrtag) {\r\n                emptyTags.push(current);\r\n                return false;\r\n            }\r\n\r\n            // wrong list\r\n            if (this.isList(current.parentNode) && !this.isList(current) && !this.isListCell(current)) {\r\n                wrongList.push(current);\r\n                return false;\r\n            }\r\n\r\n            // table cells\r\n            if (this.isCell(current)) {\r\n                const fel = current.firstElementChild;\r\n                if (!this.isFormatElement(fel) && !this.isRangeFormatElement(fel) && !this.isComponent(fel)) {\r\n                    withoutFormatCells.push(current);\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            const result = current.parentNode !== documentFragment &&\r\n             (this.isFormatElement(current) || this.isComponent(current) || this.isList(current)) &&\r\n             !this.isRangeFormatElement(current.parentNode) && !this.isListCell(current.parentNode) &&\r\n             !this.getParentElement(current, this.isComponent) && nrtag;\r\n\r\n            return result;\r\n        }.bind(this));\r\n\r\n        for (let i = 0, len = removeTags.length; i < len; i++) {\r\n            this.removeItem(removeTags[i]);\r\n        }\r\n        \r\n        const checkTags = [];\r\n        for (let i = 0, len = wrongTags.length, t, p; i < len; i++) {\r\n            t = wrongTags[i];\r\n            p = t.parentNode;\r\n            if (!p || !p.parentNode) continue;\r\n            p.parentNode.insertBefore(t, p);\r\n            checkTags.push(p);\r\n        }\r\n\r\n        for (let i = 0, len = checkTags.length, t; i < len; i++) {\r\n            t = checkTags[i];\r\n            if (this.onlyZeroWidthSpace(t.textContent.trim())) {\r\n                this.removeItem(t);\r\n            }\r\n        }\r\n\r\n        for (let i = 0, len = emptyTags.length; i < len; i++) {\r\n            this.removeItem(emptyTags[i]);\r\n        }\r\n\r\n        for (let i = 0, len = wrongList.length, t, tp, children, p; i < len; i++) {\r\n            t = wrongList[i];\r\n\r\n            tp = this.createElement('LI');\r\n            children = t.childNodes;\r\n            while (children[0]) {\r\n                tp.appendChild(children[0]);\r\n            }\r\n            \r\n            p = t.parentNode;\r\n            if (!p) continue;\r\n            p.insertBefore(tp, t);\r\n            this.removeItem(t);\r\n        }\r\n\r\n        for (let i = 0, len = withoutFormatCells.length, t, f; i < len; i++) {\r\n            t = withoutFormatCells[i];\r\n            f = this.createElement('DIV');\r\n            f.innerHTML = (t.textContent.trim().length === 0 && t.children.length === 0) ? '<br>' : t.innerHTML;\r\n            t.innerHTML = f.outerHTML;\r\n        }\r\n    },\r\n\r\n    _setDefaultOptionStyle: function (options, defaultStyle) {\r\n        let optionStyle = '';\r\n        if (options.height) optionStyle += 'height:' + options.height + ';';\r\n        if (options.minHeight) optionStyle += 'min-height:' + options.minHeight + ';';\r\n        if (options.maxHeight) optionStyle += 'max-height:' + options.maxHeight + ';';\r\n        if (options.position) optionStyle += 'position:' + options.position + ';';\r\n        if (options.width) optionStyle += 'width:' + options.width + ';';\r\n        if (options.minWidth) optionStyle += 'min-width:' + options.minWidth + ';';\r\n        if (options.maxWidth) optionStyle += 'max-width:' + options.maxWidth + ';';\r\n\r\n        let top = '', frame = '', editor = '';\r\n        defaultStyle = optionStyle + defaultStyle;\r\n        const styleArr = defaultStyle.split(';');\r\n        for (let i = 0, len = styleArr.length, s; i < len; i++) {\r\n            s = styleArr[i].trim();\r\n            if (!s) continue;\r\n            if (/^(min-|max-)?width\\s*:/.test(s) || /^(z-index|position)\\s*:/.test(s)) {\r\n                top += s + ';';\r\n                continue;\r\n            }\r\n            if (/^(min-|max-)?height\\s*:/.test(s)) {\r\n                if (/^height/.test(s) && s.split(':')[1].trim() === 'auto') {\r\n                    options.height = 'auto';\r\n                }\r\n                frame += s + ';';\r\n                continue;\r\n            }\r\n            editor += s + ';';\r\n        }\r\n\r\n        return {\r\n            top: top,\r\n            frame: frame,\r\n            editor: editor\r\n        };\r\n    },\r\n\r\n    _setIframeDocument: function (frame, options) {\r\n        frame.setAttribute('scrolling', 'auto');\r\n        frame.contentDocument.head.innerHTML = '' +\r\n            '<meta charset=\"utf-8\" />' +\r\n            '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' +\r\n            this._setIframeCssTags(options);\r\n        frame.contentDocument.body.className = options._editableClass;\r\n        frame.contentDocument.body.setAttribute('contenteditable', true);\r\n    },\r\n\r\n    _setIframeCssTags: function (options) {\r\n        const linkNames = options.iframeCSSFileName;\r\n        const wRegExp = this._w.RegExp;\r\n        let tagString = '';\r\n\r\n        for (let f = 0, len = linkNames.length, path; f < len; f++) {\r\n            path = [];\r\n\r\n            if (/(^https?:\\/\\/)|(^data:text\\/css,)/.test(linkNames[f])) {\r\n                path.push(linkNames[f]);\r\n            } else {\r\n                const CSSFileName = new wRegExp('(^|.*[\\\\/])' + linkNames[f] + '(\\\\..+)?\\\\.css(?:\\\\?.*|;.*)?$', 'i');\r\n                for (let c = document.getElementsByTagName('link'), i = 0, len = c.length, styleTag; i < len; i++) {\r\n                    styleTag = c[i].href.match(CSSFileName);\r\n                    if (styleTag) path.push(styleTag[0]);\r\n                }\r\n            }\r\n\r\n            if (!path || path.length === 0) throw '[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property \"iframeCSSFileName\" before creating editor instances.';\r\n\r\n            for (let i = 0, len = path.length; i < len; i++) {\r\n                tagString += '<link href=\"' + path[i] + '\" rel=\"stylesheet\">';\r\n            }\r\n        }\r\n\r\n        return tagString + (options.height === 'auto' ? '<style>\\n/** Iframe height auto */\\nbody{height: min-content; overflow: hidden;}\\n</style>' : '');\r\n    }\r\n};\r\n\r\n/* harmony default export */ var lib_util = (util_util);\n// CONCATENATED MODULE: ./node_modules/suneditor/src/lib/constructor.js\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* harmony default export */ var lib_constructor = ({\r\n    /**\r\n     * @description document create\r\n     * @param {Element} element Textarea\r\n     * @param {Object} options Options\r\n     * @returns {Object}\r\n     */\r\n    init: function (element, options) {\r\n        if (typeof options !== 'object') options = {};\r\n\r\n        const doc = document;\r\n\r\n        /** --- init options --- */\r\n        this._initOptions(element, options);\r\n    \r\n        // suneditor div\r\n        const top_div = doc.createElement('DIV');\r\n        top_div.className = 'sun-editor' + (options.rtl ? ' se-rtl' : '');\r\n        if (element.id) top_div.id = 'suneditor_' + element.id;\r\n    \r\n        // relative div\r\n        const relative = doc.createElement('DIV');\r\n        relative.className = 'se-container';\r\n    \r\n        // toolbar\r\n        const tool_bar = this._createToolBar(doc, options.buttonList, options.plugins, options);\r\n        tool_bar.element.style.visibility = 'hidden';\r\n        if (tool_bar.pluginCallButtons.math) this._checkKatexMath(options.katex);\r\n        const arrow = doc.createElement('DIV');\r\n        arrow.className = 'se-arrow';\r\n\r\n        // sticky toolbar dummy\r\n        const sticky_dummy = doc.createElement('DIV');\r\n        sticky_dummy.className = 'se-toolbar-sticky-dummy';\r\n    \r\n        // inner editor div\r\n        const editor_div = doc.createElement('DIV');\r\n        editor_div.className = 'se-wrapper';\r\n\r\n        /** --- init elements and create bottom bar --- */\r\n        const initElements = this._initElements(options, top_div, tool_bar.element, arrow);\r\n\r\n        const bottomBar = initElements.bottomBar;\r\n        const wysiwyg_div = initElements.wysiwygFrame;\r\n        const placeholder_span = initElements.placeholder;\r\n        let textarea = initElements.codeView;\r\n\r\n        // resizing bar\r\n        const resizing_bar = bottomBar.resizingBar;\r\n        const navigation = bottomBar.navigation;\r\n        const char_wrapper = bottomBar.charWrapper;\r\n        const char_counter = bottomBar.charCounter;\r\n    \r\n        // loading box\r\n        const loading_box = doc.createElement('DIV');\r\n        loading_box.className = 'se-loading-box sun-editor-common';\r\n        loading_box.innerHTML = '<div class=\"se-loading-effect\"></div>';\r\n\r\n        // enter line\r\n        const line_breaker = doc.createElement('DIV');\r\n        line_breaker.className = 'se-line-breaker';\r\n        line_breaker.innerHTML = '<button class=\"se-btn\">' + options.icons.line_break + '</button>';\r\n        const line_breaker_t = doc.createElement('DIV');\r\n        line_breaker_t.className += 'se-line-breaker-component';\r\n        const line_breaker_b = line_breaker_t.cloneNode(true);\r\n        line_breaker_t.innerHTML = line_breaker_b.innerHTML = options.icons.line_break;\r\n    \r\n        // resize operation background\r\n        const resize_back = doc.createElement('DIV');\r\n        resize_back.className = 'se-resizing-back';\r\n\r\n        // toolbar container\r\n        const toolbarContainer = options.toolbarContainer;\r\n        if (toolbarContainer) {\r\n            toolbarContainer.appendChild(tool_bar.element);\r\n        }\r\n    \r\n        /** append html */\r\n        editor_div.appendChild(textarea);\r\n        if (placeholder_span) editor_div.appendChild(placeholder_span);\r\n        if (!toolbarContainer) relative.appendChild(tool_bar.element);\r\n        relative.appendChild(sticky_dummy);\r\n        relative.appendChild(editor_div);\r\n        relative.appendChild(resize_back);\r\n        relative.appendChild(loading_box);\r\n        relative.appendChild(line_breaker);\r\n        relative.appendChild(line_breaker_t);\r\n        relative.appendChild(line_breaker_b);\r\n        if (resizing_bar) relative.appendChild(resizing_bar);\r\n        top_div.appendChild(relative);\r\n\r\n        textarea = this._checkCodeMirror(options, textarea);\r\n    \r\n        return {\r\n            constructed: {\r\n                _top: top_div,\r\n                _relative: relative,\r\n                _toolBar: tool_bar.element,\r\n                _menuTray: tool_bar._menuTray,\r\n                _editorArea: editor_div,\r\n                _wysiwygArea: wysiwyg_div,\r\n                _codeArea: textarea,\r\n                _placeholder: placeholder_span,\r\n                _resizingBar: resizing_bar,\r\n                _navigation: navigation,\r\n                _charWrapper: char_wrapper,\r\n                _charCounter: char_counter,\r\n                _loading: loading_box,\r\n                _lineBreaker: line_breaker,\r\n                _lineBreaker_t: line_breaker_t,\r\n                _lineBreaker_b: line_breaker_b,\r\n                _resizeBack: resize_back,\r\n                _stickyDummy: sticky_dummy,\r\n                _arrow: arrow\r\n            },\r\n            options: options,\r\n            plugins: tool_bar.plugins,\r\n            pluginCallButtons: tool_bar.pluginCallButtons,\r\n            _responsiveButtons: tool_bar.responsiveButtons\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Check the CodeMirror option to apply the CodeMirror and return the CodeMirror element.\r\n     * @param {Object} options options\r\n     * @param {Element} textarea textarea element\r\n     * @private\r\n     */\r\n    _checkCodeMirror: function (options, textarea) {\r\n        if (options.codeMirror) {\r\n            const cmOptions = [{\r\n                mode: 'htmlmixed',\r\n                htmlMode: true,\r\n                lineNumbers: true,\r\n                lineWrapping: true\r\n            }, (options.codeMirror.options || {})].reduce(function (init, option) {\r\n                for (let key in option) {\r\n                    if (lib_util.hasOwn(option, key)) init[key] = option[key];\r\n                }\r\n                return init;\r\n            }, {});\r\n\r\n            if (options.height === 'auto') {\r\n                cmOptions.viewportMargin = Infinity;\r\n                cmOptions.height = 'auto';\r\n            }\r\n            \r\n            const cm = options.codeMirror.src.fromTextArea(textarea, cmOptions);\r\n            cm.display.wrapper.style.cssText = textarea.style.cssText;\r\n            \r\n            options.codeMirrorEditor = cm;\r\n            textarea = cm.display.wrapper;\r\n            textarea.className += ' se-wrapper-code-mirror';\r\n        }\r\n\r\n        return textarea;\r\n    },\r\n\r\n    /**\r\n     * @description Check for a katex object.\r\n     * @param {Object} katex katex object\r\n     * @private\r\n     */\r\n    _checkKatexMath: function (katex) {\r\n        if (!katex) throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a \"katex\" object to the options.');\r\n\r\n        const katexOptions = [{\r\n            throwOnError: false,\r\n        }, (katex.options || {})].reduce(function (init, option) {\r\n            for (let key in option) {\r\n                if (lib_util.hasOwn(option, key)) init[key] = option[key];\r\n            }\r\n            return init;\r\n        }, {});\r\n\r\n        katex.options = katexOptions;\r\n    },\r\n\r\n    /**\r\n     * @description Add or reset options\r\n     * @param {Object} mergeOptions New options property\r\n     * @param {Object} context Context object of core\r\n     * @param {Object} originOptions Origin options\r\n     * @returns {Object} pluginCallButtons\r\n     * @private\r\n     */\r\n    _setOptions: function (mergeOptions, context, originOptions) {\r\n        this._initOptions(context.element.originElement, mergeOptions);\r\n\r\n        const el = context.element;\r\n        const relative = el.relative;\r\n        const editorArea = el.editorArea;\r\n        const isNewToolbarContainer = mergeOptions.toolbarContainer && mergeOptions.toolbarContainer !== originOptions.toolbarContainer;\r\n        const isNewToolbar = mergeOptions.lang !== originOptions.lang || mergeOptions.buttonList !== originOptions.buttonList || mergeOptions.mode !== originOptions.mode || isNewToolbarContainer;\r\n\r\n        const tool_bar = this._createToolBar(document, (isNewToolbar ? mergeOptions.buttonList : originOptions.buttonList), mergeOptions.plugins, mergeOptions);\r\n        if (tool_bar.pluginCallButtons.math) this._checkKatexMath(mergeOptions.katex);\r\n        const arrow = document.createElement('DIV');\r\n        arrow.className = 'se-arrow';\r\n\r\n        if (isNewToolbar) {\r\n            tool_bar.element.style.visibility = 'hidden';\r\n            // toolbar container\r\n            if (isNewToolbarContainer) {\r\n                mergeOptions.toolbarContainer.appendChild(tool_bar.element);\r\n                el.toolbar.parentElement.removeChild(el.toolbar);\r\n            } else {\r\n                el.toolbar.parentElement.replaceChild(tool_bar.element, el.toolbar);\r\n            }\r\n\r\n            el.toolbar = tool_bar.element;\r\n            el._menuTray = tool_bar._menuTray;\r\n            el._arrow = arrow;\r\n        }\r\n        \r\n        const initElements = this._initElements(mergeOptions, el.topArea, (isNewToolbar ? tool_bar.element : el.toolbar), arrow);\r\n\r\n        const bottomBar = initElements.bottomBar;\r\n        const wysiwygFrame = initElements.wysiwygFrame;\r\n        const placeholder_span = initElements.placeholder;\r\n        let code = initElements.codeView;\r\n\r\n        if (el.resizingBar) relative.removeChild(el.resizingBar);\r\n        if (bottomBar.resizingBar) relative.appendChild(bottomBar.resizingBar);\r\n\r\n        editorArea.innerHTML = '';\r\n        editorArea.appendChild(code);\r\n        if (placeholder_span) editorArea.appendChild(placeholder_span);\r\n\r\n        code = this._checkCodeMirror(mergeOptions, code);\r\n        \r\n        el.resizingBar = bottomBar.resizingBar;\r\n        el.navigation = bottomBar.navigation;\r\n        el.charWrapper = bottomBar.charWrapper;\r\n        el.charCounter = bottomBar.charCounter;\r\n        el.wysiwygFrame = wysiwygFrame;\r\n        el.code = code;\r\n        el.placeholder = placeholder_span;\r\n\r\n        if (mergeOptions.rtl) lib_util.addClass(el.topArea, 'se-rtl');\r\n        else lib_util.removeClass(el.topArea, 'se-rtl');\r\n\r\n        return {\r\n            callButtons: tool_bar.pluginCallButtons,\r\n            plugins: tool_bar.plugins,\r\n            toolbar: tool_bar\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Initialize property of suneditor elements\r\n     * @param {Object} options Options\r\n     * @param {Element} topDiv Suneditor top div\r\n     * @param {Element} toolBar Tool bar\r\n     * @param {Element} toolBarArrow Tool bar arrow (balloon editor)\r\n     * @returns {Object} Bottom bar elements (resizingBar, navigation, charWrapper, charCounter)\r\n     * @private\r\n     */\r\n    _initElements: function (options, topDiv, toolBar, toolBarArrow) {\r\n        /** top div */\r\n        topDiv.style.cssText = options._editorStyles.top;\r\n\r\n        /** toolbar */\r\n        if (/inline/i.test(options.mode)) {\r\n            toolBar.className += ' se-toolbar-inline';\r\n            toolBar.style.width = options.toolbarWidth;\r\n        } else if (/balloon/i.test(options.mode)) {\r\n            toolBar.className += ' se-toolbar-balloon';\r\n            toolBar.style.width = options.toolbarWidth;\r\n            toolBar.appendChild(toolBarArrow);\r\n        }\r\n\r\n        /** editor */\r\n        // wysiwyg div or iframe\r\n        const wysiwygDiv = document.createElement(!options.iframe ? 'DIV' : 'IFRAME');\r\n        wysiwygDiv.className = 'se-wrapper-inner se-wrapper-wysiwyg';\r\n        \r\n        if (!options.iframe) {\r\n            wysiwygDiv.setAttribute('contenteditable', true);\r\n            wysiwygDiv.setAttribute('scrolling', 'auto');\r\n            wysiwygDiv.className += ' ' + options._editableClass;\r\n            wysiwygDiv.style.cssText = options._editorStyles.frame + options._editorStyles.editor;\r\n        } else {\r\n            wysiwygDiv.allowFullscreen = true;\r\n            wysiwygDiv.frameBorder = 0;\r\n            wysiwygDiv.style.cssText = options._editorStyles.frame;\r\n        }\r\n\r\n        // textarea for code view\r\n        const textarea = document.createElement('TEXTAREA');\r\n        textarea.className = 'se-wrapper-inner se-wrapper-code';\r\n        textarea.style.cssText = options._editorStyles.frame;\r\n        textarea.style.display = 'none';\r\n        if (options.height === 'auto') textarea.style.overflow = 'hidden';\r\n\r\n        /** resize bar */\r\n        let resizingBar = null;\r\n        let navigation = null;\r\n        let charWrapper = null;\r\n        let charCounter = null;\r\n        if (options.resizingBar) {\r\n            resizingBar = document.createElement('DIV');\r\n            resizingBar.className = 'se-resizing-bar sun-editor-common';\r\n\r\n            /** navigation */\r\n            navigation = document.createElement('DIV');\r\n            navigation.className = 'se-navigation sun-editor-common';\r\n            resizingBar.appendChild(navigation);\r\n\r\n            /** char counter */\r\n            if (options.charCounter) {\r\n                charWrapper = document.createElement('DIV');\r\n                charWrapper.className = 'se-char-counter-wrapper';\r\n\r\n                if (options.charCounterLabel) {\r\n                    const charLabel = document.createElement('SPAN');\r\n                    charLabel.className = 'se-char-label';\r\n                    charLabel.textContent = options.charCounterLabel;\r\n                    charWrapper.appendChild(charLabel);\r\n                }\r\n    \r\n                charCounter = document.createElement('SPAN');\r\n                charCounter.className = 'se-char-counter';\r\n                charCounter.textContent = '0';\r\n                charWrapper.appendChild(charCounter);\r\n    \r\n                if (options.maxCharCount > 0) {\r\n                    const char_max = document.createElement('SPAN');\r\n                    char_max.textContent = ' / ' + options.maxCharCount;\r\n                    charWrapper.appendChild(char_max);\r\n                }\r\n\r\n                resizingBar.appendChild(charWrapper);\r\n            }\r\n        }\r\n        \r\n        let placeholder = null;\r\n        if (options.placeholder) {\r\n            placeholder = document.createElement('SPAN');\r\n            placeholder.className = 'se-placeholder';\r\n            placeholder.innerText = options.placeholder;\r\n        }\r\n\r\n        return {\r\n            bottomBar: {\r\n                resizingBar: resizingBar,\r\n                navigation: navigation,\r\n                charWrapper: charWrapper,\r\n                charCounter: charCounter\r\n            },\r\n            wysiwygFrame: wysiwygDiv,\r\n            codeView: textarea,\r\n            placeholder: placeholder\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Initialize options\r\n     * @param {Element} element Options object\r\n     * @param {Object} options Options object\r\n     * @private\r\n     */\r\n    _initOptions: function (element, options) {\r\n        /** Values */\r\n        options.lang = options.lang || en_default.a;\r\n        options.defaultTag = typeof options.defaultTag === 'string' ? options.defaultTag : 'p';\r\n        const textTags = options.textTags = [{bold: 'STRONG', underline: 'U', italic: 'EM', strike: 'DEL', sub: 'SUB', sup: 'SUP'}, (options.textTags || {})].reduce(function (_default, _new) {\r\n            for (let key in _new) {\r\n                _default[key] = _new[key];\r\n            }\r\n            return _default;\r\n        }, {});\r\n        options._textTagsMap = {\r\n            'strong': textTags.bold,\r\n            'b': textTags.bold,\r\n            'u': textTags.underline,\r\n            'ins': textTags.underline,\r\n            'em': textTags.italic,\r\n            'i': textTags.italic,\r\n            'del': textTags.strike,\r\n            'strike': textTags.strike,\r\n            's': textTags.strike,\r\n            'sub': textTags.sub,\r\n            'sup': textTags.sup\r\n        };\r\n        options.value = typeof options.value === 'string' ? options.value : null;\r\n        options.historyStackDelayTime = typeof options.historyStackDelayTime === 'number' ? options.historyStackDelayTime : 400;\r\n        /** Whitelist */\r\n        const whitelist = 'br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path';\r\n        options._defaultTagsWhitelist = typeof options._defaultTagsWhitelist === 'string' ? options._defaultTagsWhitelist : whitelist;\r\n        options._editorTagsWhitelist = this._setWhitelist(options._defaultTagsWhitelist + (typeof options.addTagsWhitelist === 'string' && options.addTagsWhitelist.length > 0 ? '|' + options.addTagsWhitelist : ''), options.tagsBlacklist);\r\n        options.pasteTagsWhitelist = this._setWhitelist(typeof options.pasteTagsWhitelist === 'string' ? options.pasteTagsWhitelist : options._editorTagsWhitelist, options.pasteTagsBlacklist);\r\n        options.attributesWhitelist = (!options.attributesWhitelist || typeof options.attributesWhitelist !== 'object') ? null : options.attributesWhitelist;\r\n        /** Layout */\r\n        options.mode = options.mode || 'classic'; // classic, inline, balloon, balloon-always\r\n        options.rtl = !!options.rtl;\r\n        options._editableClass = 'sun-editor-editable' + (options.rtl ? ' se-rtl' : '');\r\n        options._printClass = typeof options._printClass === 'string' ? options._printClass : null;\r\n        options.toolbarWidth = options.toolbarWidth ? (lib_util.isNumber(options.toolbarWidth) ? options.toolbarWidth + 'px' : options.toolbarWidth) : 'auto';\r\n        options.toolbarContainer = typeof options.toolbarContainer === 'string' ? document.querySelector(options.toolbarContainer) : options.toolbarContainer;\r\n        options.stickyToolbar = (/balloon/i.test(options.mode) || !!options.toolbarContainer) ? -1 : options.stickyToolbar === undefined ? 0 : (/^\\d+/.test(options.stickyToolbar) ? lib_util.getNumber(options.stickyToolbar, 0) : -1);\r\n        options.fullScreenOffset = options.fullScreenOffset === undefined ? 0 : (/^\\d+/.test(options.fullScreenOffset) ? lib_util.getNumber(options.fullScreenOffset, 0) : 0);\r\n        options.iframe = options.fullPage || options.iframe;\r\n        options.fullPage = !!options.fullPage;\r\n        options.iframeCSSFileName = options.iframe ? typeof options.iframeCSSFileName === 'string' ? [options.iframeCSSFileName] : (options.iframeCSSFileName || ['suneditor']) : null;\r\n        options.previewTemplate = typeof options.previewTemplate === 'string' ? options.previewTemplate : null;\r\n        options.printTemplate = typeof options.printTemplate === 'string' ? options.printTemplate : null;\r\n        /** CodeMirror object */\r\n        options.codeMirror = options.codeMirror ? options.codeMirror.src ? options.codeMirror : {src: options.codeMirror} : null;\r\n        /** katex object (Math plugin) */\r\n        options.katex = options.katex ? options.katex.src ? options.katex : {src: options.katex} : null;\r\n        options.mathFontSize = !!options.mathFontSize ? options.mathFontSize : [\r\n            {text: '1', value: '1em'},\r\n            {text: '1.5', value: '1.5em'},\r\n            {text: '2', value: '2em'},\r\n            {text: '2.5', value: '2.5em'}\r\n        ];\r\n        /** Display */\r\n        options.position = typeof options.position === 'string' ? options.position : null;\r\n        options.display = options.display || (element.style.display === 'none' || !element.style.display ? 'block' : element.style.display);\r\n        options.popupDisplay = options.popupDisplay || 'full';\r\n        /** Bottom resizing bar */\r\n        options.resizingBar = options.resizingBar === undefined ? (/inline|balloon/i.test(options.mode) ? false : true) : options.resizingBar;\r\n        options.showPathLabel = !options.resizingBar ? false : typeof options.showPathLabel === 'boolean' ? options.showPathLabel : true;\r\n        /** Character count */\r\n        options.charCounter = options.maxCharCount > 0 ? true : typeof options.charCounter === 'boolean' ? options.charCounter : false;\r\n        options.charCounterType = typeof options.charCounterType === 'string' ? options.charCounterType : 'char';\r\n        options.charCounterLabel = typeof options.charCounterLabel === 'string' ? options.charCounterLabel.trim() : null;\r\n        options.maxCharCount = lib_util.isNumber(options.maxCharCount) && options.maxCharCount > -1 ? options.maxCharCount * 1 : null;\r\n        /** Width size */\r\n        options.width = options.width ? (lib_util.isNumber(options.width) ? options.width + 'px' : options.width) : (element.clientWidth ? element.clientWidth + 'px' : '100%');\r\n        options.minWidth = (lib_util.isNumber(options.minWidth) ? options.minWidth + 'px' : options.minWidth) || '';\r\n        options.maxWidth = (lib_util.isNumber(options.maxWidth) ? options.maxWidth + 'px' : options.maxWidth) || '';\r\n        /** Height size */\r\n        options.height = options.height ? (lib_util.isNumber(options.height) ? options.height + 'px' : options.height) : (element.clientHeight ? element.clientHeight + 'px' : 'auto');\r\n        options.minHeight = (lib_util.isNumber(options.minHeight) ? options.minHeight + 'px' : options.minHeight) || '';\r\n        options.maxHeight = (lib_util.isNumber(options.maxHeight) ? options.maxHeight + 'px' : options.maxHeight) || '';\r\n        /** Editing area default style */\r\n        options.defaultStyle = typeof options.defaultStyle === 'string' ? options.defaultStyle : '';\r\n        /** Defining menu items */\r\n        options.font = !options.font ? null : options.font;\r\n        options.fontSize = !options.fontSize ? null : options.fontSize;\r\n        options.formats = !options.formats ? null : options.formats;\r\n        options.colorList = !options.colorList ? null : options.colorList;\r\n        options.lineHeights = !options.lineHeights ? null : options.lineHeights;\r\n        options.paragraphStyles = !options.paragraphStyles ? null : options.paragraphStyles;\r\n        options.textStyles = !options.textStyles ? null : options.textStyles;\r\n        options.fontSizeUnit = typeof options.fontSizeUnit === 'string' ? (options.fontSizeUnit.trim() || 'px') : 'px';\r\n        /** Image */\r\n        options.imageResizing = options.imageResizing === undefined ? true : options.imageResizing;\r\n        options.imageHeightShow = options.imageHeightShow === undefined ? true : !!options.imageHeightShow;\r\n        options.imageWidth = !options.imageWidth ? 'auto' : lib_util.isNumber(options.imageWidth) ? options.imageWidth + 'px' : options.imageWidth;\r\n        options.imageHeight = !options.imageHeight ? 'auto' : lib_util.isNumber(options.imageHeight) ? options.imageHeight + 'px' : options.imageHeight;\r\n        options.imageSizeOnlyPercentage = !!options.imageSizeOnlyPercentage;\r\n        options._imageSizeUnit = options.imageSizeOnlyPercentage ? '%' : 'px';\r\n        options.imageRotation = options.imageRotation !== undefined ? options.imageRotation : !(options.imageSizeOnlyPercentage || !options.imageHeightShow);\r\n        options.imageFileInput = options.imageFileInput === undefined ? true : options.imageFileInput;\r\n        options.imageUrlInput = (options.imageUrlInput === undefined || !options.imageFileInput) ? true : options.imageUrlInput;\r\n        options.imageUploadHeader = options.imageUploadHeader || null;\r\n        options.imageUploadUrl = typeof options.imageUploadUrl === 'string' ? options.imageUploadUrl : null;\r\n        options.imageUploadSizeLimit = /\\d+/.test(options.imageUploadSizeLimit) ? lib_util.getNumber(options.imageUploadSizeLimit, 0) : null;\r\n        options.imageMultipleFile = !!options.imageMultipleFile;\r\n        options.imageAccept = (typeof options.imageAccept !== 'string' || options.imageAccept.trim() === \"*\") ? 'image/*' : options.imageAccept.trim() || 'image/*';\r\n        /** Image - image gallery */\r\n        options.imageGalleryUrl = typeof options.imageGalleryUrl === 'string' ? options.imageGalleryUrl : null;\r\n        options.imageGalleryHeader = options.imageGalleryHeader || null;\r\n        /** Video */\r\n        options.videoResizing = options.videoResizing === undefined ? true : options.videoResizing;\r\n        options.videoHeightShow = options.videoHeightShow === undefined ? true : !!options.videoHeightShow;\r\n        options.videoRatioShow = options.videoRatioShow === undefined ? true : !!options.videoRatioShow;\r\n        options.videoWidth = !options.videoWidth || !lib_util.getNumber(options.videoWidth, 0) ? '' : lib_util.isNumber(options.videoWidth) ? options.videoWidth + 'px' : options.videoWidth;\r\n        options.videoHeight = !options.videoHeight || !lib_util.getNumber(options.videoHeight, 0) ? '' : lib_util.isNumber(options.videoHeight) ? options.videoHeight + 'px' : options.videoHeight;\r\n        options.videoSizeOnlyPercentage = !!options.videoSizeOnlyPercentage;\r\n        options._videoSizeUnit = options.videoSizeOnlyPercentage ? '%' : 'px';\r\n        options.videoRotation = options.videoRotation !== undefined ? options.videoRotation : !(options.videoSizeOnlyPercentage || !options.videoHeightShow);\r\n        options.videoRatio = (lib_util.getNumber(options.videoRatio, 4) || 0.5625);\r\n        options.videoRatioList = !options.videoRatioList ? null : options.videoRatioList;\r\n        options.youtubeQuery = (options.youtubeQuery || '').replace('?', '');\r\n        options.videoFileInput = !!options.videoFileInput;\r\n        options.videoUrlInput = (options.videoUrlInput === undefined || !options.videoFileInput) ? true : options.videoUrlInput;\r\n        options.videoUploadHeader = options.videoUploadHeader || null;\r\n        options.videoUploadUrl = typeof options.videoUploadUrl === 'string' ? options.videoUploadUrl : null;\r\n        options.videoUploadSizeLimit = /\\d+/.test(options.videoUploadSizeLimit) ? lib_util.getNumber(options.videoUploadSizeLimit, 0) : null;\r\n        options.videoMultipleFile = !!options.videoMultipleFile;\r\n        options.videoTagAttrs = options.videoTagAttrs || null;\r\n        options.videoIframeAttrs = options.videoIframeAttrs || null;\r\n        options.videoAccept = (typeof options.videoAccept !== 'string' || options.videoAccept.trim() === \"*\") ? 'video/*' : options.videoAccept.trim() || 'video/*';\r\n        /** Audio */\r\n        options.audioWidth = !options.audioWidth ? '' : lib_util.isNumber(options.audioWidth) ? options.audioWidth + 'px' : options.audioWidth;\r\n        options.audioHeight = !options.audioHeight ? '' : lib_util.isNumber(options.audioHeight) ? options.audioHeight + 'px' : options.audioHeight;\r\n        options.audioFileInput = !!options.audioFileInput;\r\n        options.audioUrlInput = (options.audioUrlInput === undefined || !options.audioFileInput) ? true : options.audioUrlInput;\r\n        options.audioUploadHeader = options.audioUploadHeader || null;\r\n        options.audioUploadUrl = typeof options.audioUploadUrl === 'string' ? options.audioUploadUrl : null;\r\n        options.audioUploadSizeLimit = /\\d+/.test(options.audioUploadSizeLimit) ? lib_util.getNumber(options.audioUploadSizeLimit, 0) : null;\r\n        options.audioMultipleFile = !!options.audioMultipleFile;\r\n        options.audioTagAttrs = options.audioTagAttrs || null;\r\n        options.audioAccept = (typeof options.audioAccept !== 'string' || options.audioAccept.trim() === \"*\") ? 'audio/*' : options.audioAccept.trim() || 'audio/*';\r\n        /** Table */\r\n        options.tableCellControllerPosition = typeof options.tableCellControllerPosition === 'string' ? options.tableCellControllerPosition.toLowerCase() : 'cell';\r\n        /** Link */\r\n        options.linkProtocol = typeof options.linkProtocol === 'string' ? options.linkProtocol : null;\r\n        options.linkRel = Array.isArray(options.linkRel) ? options.linkRel : [];\r\n        options.linkRelDefault = options.linkRelDefault || {};\r\n        /** Key actions */\r\n        options.tabDisable = !!options.tabDisable;\r\n        options.shortcutsDisable = Array.isArray(options.shortcutsDisable) ? options.shortcutsDisable : [];\r\n        options.shortcutsHint = options.shortcutsHint === undefined ? true : !!options.shortcutsHint;\r\n        /** Defining save button */\r\n        options.callBackSave = !options.callBackSave ? null : options.callBackSave;\r\n        /** Templates Array */\r\n        options.templates = !options.templates ? null : options.templates;\r\n        /** ETC */\r\n        options.placeholder = typeof options.placeholder === 'string' ? options.placeholder : null;\r\n        options.mediaAutoSelect = options.mediaAutoSelect === undefined ? true : !!options.mediaAutoSelect;\r\n        /** Buttons */\r\n        options.buttonList = !!options.buttonList ? options.buttonList : [\r\n            ['undo', 'redo'],\r\n            ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'],\r\n            ['removeFormat'],\r\n            ['outdent', 'indent'],\r\n            ['fullScreen', 'showBlocks', 'codeView'],\r\n            ['preview', 'print']\r\n        ];\r\n\r\n        /** RTL - buttons */\r\n        if (options.rtl) {\r\n            options.buttonList = options.buttonList.reverse();\r\n        }\r\n\r\n        /** --- Define icons --- */\r\n        // custom icons\r\n        options.icons = (!options.icons || typeof options.icons !== 'object') ? defaultIcons : [defaultIcons, options.icons].reduce(function (_default, _new) {\r\n            for (let key in _new) {\r\n                if (lib_util.hasOwn(_new, key)) _default[key] = _new[key];\r\n            }\r\n            return _default;\r\n        }, {});\r\n        // rtl icons\r\n        options.icons = !options.rtl ? options.icons : [options.icons, options.icons.rtl].reduce(function (_default, _new) {\r\n            for (let key in _new) {\r\n                if (lib_util.hasOwn(_new, key)) _default[key] = _new[key];\r\n            }\r\n            return _default;\r\n        }, {});\r\n\r\n        /** _init options */\r\n        options._editorStyles = lib_util._setDefaultOptionStyle(options, options.defaultStyle);\r\n    },\r\n\r\n    _setWhitelist: function (whitelist, blacklist) {\r\n        if (typeof blacklist !== 'string') return whitelist;\r\n        blacklist = blacklist.split('|');\r\n        whitelist = whitelist.split('|');\r\n        for (let i = 0, len = blacklist.length, index; i < len; i++) {\r\n            index = whitelist.indexOf(blacklist[i]);\r\n            if (index > -1) whitelist.splice(index, 1);\r\n        }\r\n        return whitelist.join('|');\r\n    },\r\n\r\n    /**\r\n     * @description Suneditor's Default button list\r\n     * @param {Object} options options\r\n     * @private\r\n     */\r\n    _defaultButtons: function (options) {\r\n        const icons = options.icons;\r\n        const lang = options.lang;\r\n        const cmd = lib_util.isOSX_IOS ? '' : 'CTRL';\r\n        const addShift = lib_util.isOSX_IOS ? '' : '+SHIFT';\r\n        const shortcutsDisable = !options.shortcutsHint ? ['bold', 'strike', 'underline', 'italic', 'undo', 'indent', 'save'] : options.shortcutsDisable;\r\n        const indentKey = options.rtl ? ['[',']'] : [']','['];\r\n\r\n        return {\r\n            /** default command */\r\n            bold: ['_se_command_bold', lang.toolbar.bold + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('bold') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">B</span>') + '</span>', 'bold', '', icons.bold],\r\n            underline: ['_se_command_underline', lang.toolbar.underline + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('underline') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">U</span>') + '</span>', 'underline', '', icons.underline],\r\n            italic: ['_se_command_italic', lang.toolbar.italic + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('italic') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">I</span>') + '</span>', 'italic', '', icons.italic],\r\n            strike: ['_se_command_strike', lang.toolbar.strike + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('strike') > -1 ? '' : cmd + addShift + '+<span class=\"se-shortcut-key\">S</span>') + '</span>', 'strike', '', icons.strike],\r\n            subscript: ['_se_command_subscript', lang.toolbar.subscript, 'SUB', '', icons.subscript],\r\n            superscript: ['_se_command_superscript', lang.toolbar.superscript, 'SUP', '', icons.superscript],\r\n            removeFormat: ['', lang.toolbar.removeFormat, 'removeFormat', '', icons.erase],\r\n            indent: ['_se_command_indent', lang.toolbar.indent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[0] + '</span>') + '</span>', 'indent', '', icons.outdent],\r\n            outdent: ['_se_command_outdent', lang.toolbar.outdent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[1] + '</span>') + '</span>', 'outdent', '', icons.indent],\r\n            fullScreen: ['se-code-view-enabled se-resizing-enabled _se_command_fullScreen', lang.toolbar.fullScreen, 'fullScreen', '', icons.expansion],\r\n            showBlocks: ['_se_command_showBlocks', lang.toolbar.showBlocks, 'showBlocks', '', icons.show_blocks],\r\n            codeView: ['se-code-view-enabled se-resizing-enabled _se_command_codeView', lang.toolbar.codeView, 'codeView', '', icons.code_view],\r\n            undo: ['_se_command_undo se-resizing-enabled', lang.toolbar.undo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'undo', '', icons.undo],\r\n            redo: ['_se_command_redo se-resizing-enabled', lang.toolbar.redo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Y</span> / ' + cmd + addShift + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'redo', '', icons.redo],\r\n            preview: ['se-resizing-enabled', lang.toolbar.preview, 'preview', '', icons.preview],\r\n            print: ['se-resizing-enabled', lang.toolbar.print, 'print', '', icons.print],\r\n            save: ['_se_command_save se-resizing-enabled', lang.toolbar.save + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('save') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">S</span>') + '</span>', 'save', '', icons.save],\r\n            /** plugins - command */\r\n            blockquote: ['', lang.toolbar.tag_blockquote, 'blockquote', 'command', icons.blockquote],\r\n            /** plugins - submenu */\r\n            font: ['se-btn-select se-btn-tool-font', lang.toolbar.font, 'font', 'submenu', '<span class=\"txt\">' + lang.toolbar.font + '</span>' + icons.arrow_down],\r\n            formatBlock: ['se-btn-select se-btn-tool-format', lang.toolbar.formats, 'formatBlock', 'submenu', '<span class=\"txt\">' + lang.toolbar.formats + '</span>' + icons.arrow_down],\r\n            fontSize: ['se-btn-select se-btn-tool-size', lang.toolbar.fontSize, 'fontSize', 'submenu', '<span class=\"txt\">' + lang.toolbar.fontSize + '</span>' + icons.arrow_down],\r\n            fontColor: ['', lang.toolbar.fontColor, 'fontColor', 'submenu', icons.font_color],\r\n            hiliteColor: ['', lang.toolbar.hiliteColor, 'hiliteColor', 'submenu', icons.highlight_color],\r\n            align: ['se-btn-align', lang.toolbar.align, 'align', 'submenu', (options.rtl ? icons.align_right : icons.align_left)],\r\n            list: ['', lang.toolbar.list, 'list', 'submenu', icons.list_number],\r\n            horizontalRule: ['btn_line', lang.toolbar.horizontalRule, 'horizontalRule', 'submenu', icons.horizontal_rule],\r\n            table: ['', lang.toolbar.table, 'table', 'submenu', icons.table],\r\n            lineHeight: ['', lang.toolbar.lineHeight, 'lineHeight', 'submenu', icons.line_height],\r\n            template: ['', lang.toolbar.template, 'template', 'submenu', icons.template],\r\n            paragraphStyle: ['', lang.toolbar.paragraphStyle, 'paragraphStyle', 'submenu', icons.paragraph_style],\r\n            textStyle: ['', lang.toolbar.textStyle, 'textStyle', 'submenu', icons.text_style],\r\n            /** plugins - dialog */\r\n            link: ['', lang.toolbar.link, 'link', 'dialog', icons.link],\r\n            image: ['', lang.toolbar.image, 'image', 'dialog', icons.image],\r\n            video: ['', lang.toolbar.video, 'video', 'dialog', icons.video],\r\n            audio: ['', lang.toolbar.audio, 'audio', 'dialog', icons.audio],\r\n            math: ['', lang.toolbar.math, 'math', 'dialog', icons.math],\r\n            /** plugins - fileBrowser */\r\n            imageGallery: ['', lang.toolbar.imageGallery, 'imageGallery', 'fileBrowser', icons.image_gallery]\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create a group div containing each module\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    _createModuleGroup: function () {\r\n        const oDiv = lib_util.createElement('DIV');\r\n        oDiv.className = 'se-btn-module se-btn-module-border';\r\n\r\n        const oUl = lib_util.createElement('UL');\r\n        oUl.className = 'se-menu-list';\r\n        oDiv.appendChild(oUl);\r\n\r\n        return {\r\n            'div': oDiv,\r\n            'ul': oUl\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create a button element\r\n     * @param {string} buttonClass className in button\r\n     * @param {string} title Title in button\r\n     * @param {string} dataCommand The data-command property of the button\r\n     * @param {string} dataDisplay The data-display property of the button ('dialog', 'submenu', 'command')\r\n     * @param {string} innerHTML Html in button\r\n     * @param {string} _disabled Button disabled\r\n     * @param {Object} _icons Icons\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    _createButton: function (buttonClass, title, dataCommand, dataDisplay, innerHTML, _disabled, _icons) {\r\n        const oLi = lib_util.createElement('LI');\r\n        const oButton = lib_util.createElement('BUTTON');\r\n\r\n        oButton.setAttribute('type', 'button');\r\n        oButton.setAttribute('class', 'se-btn' + (buttonClass ? ' ' + buttonClass : '') + ' se-tooltip');\r\n        oButton.setAttribute('data-command', dataCommand);\r\n        oButton.setAttribute('data-display', dataDisplay);\r\n        oButton.setAttribute('tabindex', '-1');\r\n        \r\n        if (!innerHTML) innerHTML = '<span class=\"se-icon-text\">!</span>';\r\n        if (/^default\\./i.test(innerHTML)) {\r\n            innerHTML = _icons[innerHTML.replace(/^default\\./i, '')];\r\n        }\r\n        if (/^text\\./i.test(innerHTML)) {\r\n            innerHTML = innerHTML.replace(/^text\\./i, '');\r\n            oButton.className += ' se-btn-more-text';\r\n        }\r\n\r\n        innerHTML += '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + (title || dataCommand) + '</span></span>';\r\n\r\n        if (_disabled) oButton.setAttribute('disabled', true);\r\n        \r\n        oButton.innerHTML = innerHTML;\r\n        oLi.appendChild(oButton);\r\n\r\n        return {\r\n            'li': oLi,\r\n            'button': oButton\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create editor HTML\r\n     * @param {Array} doc document object\r\n     * @param {Array} buttonList option.buttonList\r\n     * @param {Array|Object|null} _plugins Plugins\r\n     * @param {Array} options options\r\n     * @returns {Object} { element: (Element) Toolbar element, plugins: (Array|null) Plugins Array, pluginCallButtons: (Object), responsiveButtons: (Array) }\r\n     * @private\r\n     */\r\n    _createToolBar: function (doc, buttonList, _plugins, options) {\r\n        const separator_vertical = doc.createElement('DIV');\r\n        separator_vertical.className = 'se-toolbar-separator-vertical';\r\n\r\n        const tool_bar = doc.createElement('DIV');\r\n        tool_bar.className = 'se-toolbar sun-editor-common';\r\n\r\n        const _buttonTray = doc.createElement('DIV');\r\n        _buttonTray.className = 'se-btn-tray';\r\n        tool_bar.appendChild(_buttonTray);\r\n\r\n        /** create button list */\r\n        buttonList = JSON.parse(JSON.stringify(buttonList));\r\n        const icons = options.icons;\r\n        const defaultButtonList = this._defaultButtons(options);\r\n        const pluginCallButtons = {};\r\n        const responsiveButtons = [];\r\n        const plugins = {};\r\n        if (_plugins) {\r\n            const pluginsValues = _plugins.length ? _plugins : Object.keys(_plugins).map(function(name) { return _plugins[name]; });\r\n            for (let i = 0, len = pluginsValues.length, p; i < len; i++) {\r\n                p = pluginsValues[i].default || pluginsValues[i];\r\n                plugins[p.name] = p;\r\n            }\r\n        }\r\n\r\n        let module = null;\r\n        let button = null;\r\n        let moduleElement = null;\r\n        let buttonElement = null;\r\n        let pluginName = '';\r\n        let vertical = false;\r\n        const moreLayer = lib_util.createElement('DIV');\r\n        moreLayer.className = 'se-toolbar-more-layer';\r\n\r\n        buttonGroupLoop:\r\n        for (let i = 0, more, moreContainer, moreCommand, buttonGroup, align; i < buttonList.length; i++) {\r\n            more = false;\r\n            align = '';\r\n            buttonGroup = buttonList[i];\r\n            moduleElement = this._createModuleGroup();\r\n\r\n            // button object\r\n            if (typeof buttonGroup === 'object') {\r\n                // buttons loop\r\n                for (let j = 0, moreButton; j < buttonGroup.length; j++) {\r\n                    button = buttonGroup[j];\r\n                    moreButton = false;\r\n\r\n                    if (/^\\%\\d+/.test(button) && j === 0) {\r\n                        buttonGroup[0] = button.replace(/[^\\d]/g, '');\r\n                        responsiveButtons.push(buttonGroup);\r\n                        buttonList.splice(i--, 1);\r\n                        continue buttonGroupLoop;\r\n                    }\r\n                    \r\n                    if (typeof button === 'object') {\r\n                        if (typeof button.add === 'function') {\r\n                            pluginName = button.name;\r\n                            module = defaultButtonList[pluginName];\r\n                            plugins[pluginName] = button;\r\n                        } else {\r\n                            pluginName = button.name;\r\n                            module = [button.buttonClass, button.title, button.name, button.dataDisplay, button.innerHTML, button._disabled];\r\n                        }\r\n                    } else {\r\n                        // align\r\n                        if (/^\\-/.test(button)) {\r\n                            align = button.substr(1);\r\n                            moduleElement.div.style.float = align;\r\n                            continue;\r\n                        }\r\n                        \r\n                        // more button\r\n                        if (/^\\:/.test(button)) {\r\n                            moreButton = true;\r\n                            const matched = button.match(/^\\:([^\\-]+)\\-([^\\-]+)\\-([^\\-]+)/);\r\n                            moreCommand = '__se__' + matched[1].trim();\r\n                            const title = matched[2].trim();\r\n                            const innerHTML = matched[3].trim();\r\n                            module = ['se-btn-more', title, moreCommand, 'MORE', innerHTML];\r\n                        }\r\n                        // buttons\r\n                        else {\r\n                            module = defaultButtonList[button];\r\n                        }\r\n\r\n                        pluginName = button;\r\n                        if (!module) {\r\n                            const custom = plugins[pluginName];\r\n                            if (!custom) throw Error('[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. [' + pluginName + ']');\r\n                            module = [custom.buttonClass, custom.title, custom.name, custom.display, custom.innerHTML, custom._disabled];\r\n                        }\r\n                    }\r\n\r\n                    buttonElement = this._createButton(module[0], module[1], module[2], module[3], module[4], module[5], icons);\r\n                    (more ? moreContainer : moduleElement.ul).appendChild(buttonElement.li);\r\n\r\n                    if (plugins[pluginName]) {\r\n                        pluginCallButtons[pluginName] = buttonElement.button;\r\n                    }\r\n\r\n                    // more button\r\n                    if (moreButton) {\r\n                        more = true;\r\n                        moreContainer = lib_util.createElement('DIV');\r\n                        moreContainer.className = 'se-more-layer ' + moreCommand;\r\n                        moreContainer.innerHTML = '<div class=\"se-more-form\"><ul class=\"se-menu-list\"' + (align ? ' style=\"float: ' + align + ';\"' : '') + '></ul></div>';\r\n                        moreLayer.appendChild(moreContainer);\r\n                        moreContainer = moreContainer.firstElementChild.firstElementChild;\r\n                    }\r\n                }\r\n\r\n                if (vertical) {\r\n                    const sv =  separator_vertical.cloneNode(false);\r\n                    _buttonTray.appendChild(sv);\r\n                }\r\n                \r\n                _buttonTray.appendChild(moduleElement.div);\r\n                vertical = true;\r\n            }\r\n            /** line break  */\r\n            else if (/^\\/$/.test(buttonGroup)) {\r\n                const enterDiv = doc.createElement('DIV');\r\n                enterDiv.className = 'se-btn-module-enter';\r\n                _buttonTray.appendChild(enterDiv);\r\n                vertical = false;\r\n            }\r\n        }\r\n\r\n        switch (_buttonTray.children.length) {\r\n            case 0:\r\n                _buttonTray.style.display = 'none';\r\n                break;\r\n            case 1:\r\n                lib_util.removeClass(_buttonTray.firstElementChild, 'se-btn-module-border');\r\n                break;\r\n            default:\r\n                if (options.rtl) {\r\n                    const sv =  separator_vertical.cloneNode(false);\r\n                    sv.style.float = _buttonTray.lastElementChild.style.float;\r\n                    _buttonTray.appendChild(sv);\r\n                }\r\n        }\r\n\r\n        if (responsiveButtons.length > 0) responsiveButtons.unshift(buttonList);\r\n        if (moreLayer.children.length > 0) _buttonTray.appendChild(moreLayer);\r\n\r\n        // menu tray\r\n        const _menuTray = doc.createElement('DIV');\r\n        _menuTray.className = 'se-menu-tray';\r\n        tool_bar.appendChild(_menuTray);\r\n\r\n        // cover\r\n        const tool_cover = doc.createElement('DIV');\r\n        tool_cover.className = 'se-toolbar-cover';\r\n        tool_bar.appendChild(tool_cover);\r\n\r\n        return {\r\n            'element': tool_bar,\r\n            'plugins': plugins,\r\n            'pluginCallButtons': pluginCallButtons,\r\n            'responsiveButtons': responsiveButtons,\r\n            '_menuTray': _menuTray,\r\n            '_buttonTray': _buttonTray\r\n        };\r\n    }\r\n});\n// CONCATENATED MODULE: ./node_modules/suneditor/src/lib/context.js\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/**\r\n * @description Elements and variables you should have\r\n * @param {Element} element textarea element\r\n * @param {object} cons Toolbar element you created\r\n * @param {JSON|Object} options Inserted options\r\n * @returns {Object} {Elements, variables of the editor, option}\r\n * @private\r\n */\r\nconst _Context = function (element, cons, options) {\r\n    return {\r\n        element: {\r\n            originElement: element,\r\n            topArea: cons._top,\r\n            relative: cons._relative,\r\n            toolbar: cons._toolBar,\r\n            _buttonTray: cons._toolBar.querySelector('.se-btn-tray'),\r\n            _menuTray: cons._menuTray,\r\n            resizingBar: cons._resizingBar,\r\n            navigation: cons._navigation,\r\n            charWrapper: cons._charWrapper,\r\n            charCounter: cons._charCounter,\r\n            editorArea: cons._editorArea,\r\n            wysiwygFrame: cons._wysiwygArea,\r\n            wysiwyg: cons._wysiwygArea, // if (options.iframe) cons._wysiwygArea.contentDocument.body\r\n            code: cons._codeArea,\r\n            placeholder: cons._placeholder,\r\n            loading: cons._loading,\r\n            lineBreaker: cons._lineBreaker,\r\n            lineBreaker_t: cons._lineBreaker_t,\r\n            lineBreaker_b: cons._lineBreaker_b,\r\n            resizeBackground: cons._resizeBack,\r\n            _stickyDummy: cons._stickyDummy,\r\n            _arrow: cons._arrow\r\n        },\r\n        tool: {\r\n            cover: cons._toolBar.querySelector('.se-toolbar-cover'),\r\n            bold: cons._toolBar.querySelector('._se_command_bold'),\r\n            underline: cons._toolBar.querySelector('._se_command_underline'),\r\n            italic: cons._toolBar.querySelector('._se_command_italic'),\r\n            strike: cons._toolBar.querySelector('._se_command_strike'),\r\n            subscript: cons._toolBar.querySelector('._se_command_subscript'),\r\n            superscript: cons._toolBar.querySelector('._se_command_superscript'),\r\n            undo: cons._toolBar.querySelector('._se_command_undo'),\r\n            redo: cons._toolBar.querySelector('._se_command_redo'),\r\n            save: cons._toolBar.querySelector('._se_command_save'),\r\n            outdent: cons._toolBar.querySelector('._se_command_outdent'),\r\n            indent: cons._toolBar.querySelector('._se_command_indent'),\r\n            fullScreen: cons._toolBar.querySelector('._se_command_fullScreen'),\r\n            showBlocks: cons._toolBar.querySelector('._se_command_showBlocks'),\r\n            codeView: cons._toolBar.querySelector('._se_command_codeView')\r\n        },\r\n        options: options,\r\n        option: options\r\n    };\r\n};\r\n\r\n/* harmony default export */ var lib_context = (_Context);\n// CONCATENATED MODULE: ./node_modules/suneditor/src/lib/history.js\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2019 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ var lib_history = (function (core, change) {\n    const _w = core._w;\n    const util = core.util;\n    const delayTime = core.options.historyStackDelayTime;\n    let editor = core.context.element;\n    let undo = core.context.tool.undo;\n    let redo = core.context.tool.redo;\n\n    let pushDelay = null;\n    let stackIndex = 0;\n    let stack = [];\n\n    function setContentsFromStack () {\n        const item = stack[stackIndex];\n        editor.wysiwyg.innerHTML = item.contents;\n\n        core.setRange(util.getNodeFromPath(item.s.path, editor.wysiwyg), item.s.offset, util.getNodeFromPath(item.e.path, editor.wysiwyg), item.e.offset);\n        core.focus();\n\n        if (stackIndex === 0) {\n            if (undo) undo.setAttribute('disabled', true);\n            if (redo) redo.removeAttribute('disabled');\n        } else if (stackIndex === stack.length - 1) {\n            if (undo) undo.removeAttribute('disabled');\n            if (redo) redo.setAttribute('disabled', true);\n        } else {\n            if (undo) undo.removeAttribute('disabled');\n            if (redo) redo.removeAttribute('disabled');\n        }\n\n        core.controllersOff();\n        core._checkComponents();\n        core._setCharCount();\n        core._resourcesStateChange();\n        \n        // onChange\n        change();\n    }\n\n    function pushStack () {\n        core._checkComponents();\n        const current = core.getContents(true);\n        if (!current || (!!stack[stackIndex] && current === stack[stackIndex].contents)) return;\n\n        stackIndex++;\n        const range = core._variable._range;\n\n        if (stack.length > stackIndex) {\n            stack = stack.slice(0, stackIndex);\n            if (redo) redo.setAttribute('disabled', true);\n        }\n\n        if (!range) {\n            stack[stackIndex] = {\n                contents: current,\n                s: { path: [0, 0], offset: [0, 0] },\n                e: { path: 0, offset: 0 }\n            };\n        } else {\n            stack[stackIndex] = {\n                contents: current,\n                s: {\n                    path: util.getNodePath(range.startContainer, null, null),\n                    offset: range.startOffset\n                },\n                e: {\n                    path: util.getNodePath(range.endContainer, null, null),\n                    offset: range.endOffset\n                }\n            };\n        }\n\n        if (stackIndex === 1 && undo) undo.removeAttribute('disabled');\n\n        core._setCharCount();\n        // onChange\n        change();\n    }\n\n    return {\n        /**\n         * @description History stack\n         */\n        stack: stack,\n\n        /**\n         * @description Saving the current status to the history object stack\n         * If \"delay\" is true, it will be saved after (options.historyStackDelayTime || 400) miliseconds\n         * If the function is called again with the \"delay\" argument true before it is saved, the delay time is renewal\n         * You can specify the delay time by sending a number.\n         * @param {Boolean|Number} delay If true, Add stack without delay time.\n         */\n        push: function (delay) {\n            _w.setTimeout(core._resourcesStateChange.bind(core));\n            const time = typeof delay === 'number' ? (delay > 0 ? delay : 0) : (!delay ? 0 : delayTime);\n            \n            if (!time || pushDelay) {\n                _w.clearTimeout(pushDelay);\n                if (!time) {\n                    pushStack();\n                    return;\n                }\n            }\n\n            pushDelay = _w.setTimeout(function () {\n                _w.clearTimeout(pushDelay);\n                pushDelay = null;\n                pushStack();\n            }, time);\n        },\n\n        /**\n         * @description Undo function\n         */\n        undo: function () {\n            if (stackIndex > 0) {\n                stackIndex--;\n                setContentsFromStack();\n            }\n        },\n\n        /**\n         * @description Redo function\n         */\n        redo: function () {\n            if (stack.length - 1 > stackIndex) {\n                stackIndex++;\n                setContentsFromStack();\n            }\n        },\n\n        /**\n         * @description Go to the history stack for that index.\n         * If \"index\" is -1, go to the last stack\n         * @param {Number} index Stack index\n         */\n        go: function (index) {\n            stackIndex = index < 0 ? (stack.length - 1) : index;\n            setContentsFromStack();\n        },\n        \n        /**\n         * @description Reset the history object\n         */\n        reset: function (ignoreChangeEvent) {\n            if (undo) undo.setAttribute('disabled', true);\n            if (redo) redo.setAttribute('disabled', true);\n            core._variable.isChanged = false;\n            if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\n            \n            stack.splice(0);\n            stackIndex = 0;\n\n            // pushStack\n            stack[stackIndex] = {\n                contents: core.getContents(true),\n                s: {\n                    path: [0, 0],\n                    offset: 0\n                },\n                e: {\n                    path: [0, 0],\n                    offset: 0\n                }\n            };\n\n            if (!ignoreChangeEvent) change();\n        },\n\n        /**\n         * @description Reset the disabled state of the buttons to fit the current stack.\n         * @private\n         */\n        _resetCachingButton: function () {\n            editor = core.context.element;\n            undo = core.context.tool.undo;\n            redo = core.context.tool.redo;\n\n            if (stackIndex === 0) {\n                if (undo) undo.setAttribute('disabled', true);\n                if (redo && stackIndex === stack.length - 1) redo.setAttribute('disabled', true);\n                core._variable.isChanged = false;\n                if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\n            } else if (stackIndex === stack.length - 1) {\n                if (redo) redo.setAttribute('disabled', true);\n            }\n        },\n\n        /**\n         * @description Remove all stacks and remove the timeout function.\n         * @private\n         */\n        _destroy: function () {\n            if (pushDelay) _w.clearTimeout(pushDelay);\n            stack = null;\n        }\n    };\n});\n// CONCATENATED MODULE: ./node_modules/suneditor/src/plugins/modules/_notice.js\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ var _notice = ({\n    name: 'notice',\n    /**\n     * @description Constructor\n     * @param {Object} core Core object \n     */\n    add: function (core) {\n        const context = core.context;\n        context.notice = {};\n\n        /** dialog */\n        let notice_div = core.util.createElement('DIV');\n        let notice_span = core.util.createElement('SPAN');\n        let notice_button = core.util.createElement('BUTTON');\n\n        notice_div.className = 'se-notice';\n        notice_button.className = 'close';\n        notice_button.setAttribute('aria-label', 'Close');\n        notice_button.setAttribute('title', core.lang.dialogBox.close);\n        notice_button.innerHTML = core.icons.cancel;\n        \n        notice_div.appendChild(notice_span);\n        notice_div.appendChild(notice_button);\n\n        context.notice.modal = notice_div;\n        context.notice.message = notice_span;\n\n        /** add event listeners */\n        notice_button.addEventListener('click', this.onClick_cancel.bind(core));\n        \n        /** append html */\n        context.element.editorArea.appendChild(notice_div);\n        \n        /** empty memory */\n        notice_div = null;\n    },\n\n    /**\n     * @description Event when clicking the cancel button\n     * @param {MouseEvent} e Event object\n     */\n    onClick_cancel: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.plugins.notice.close.call(this);\n    },\n\n    /**\n     * @description  Open the notice panel\n     * @param {String} text Notice message\n     */\n    open: function (text)  {\n        this.context.notice.message.textContent = text;\n        this.context.notice.modal.style.display = 'block';\n    },\n\n    /**\n     * @description  Open the notice panel\n     */\n    close: function () {\n        this.context.notice.modal.style.display = 'none';\n    }\n});\n\n// CONCATENATED MODULE: ./node_modules/suneditor/src/lib/core.js\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @description SunEditor constuctor function.\r\n * create core object and event registration.\r\n * core, event, functions\r\n * @param {Object} context\r\n * @param {Object} pluginCallButtons\r\n * @param {Object} plugins \r\n * @param {Object} lang\r\n * @param {Object} options\r\n * @param {Object} _responsiveButtons\r\n * @returns {Object} functions Object\r\n */\r\n/* harmony default export */ var lib_core = (function (context, pluginCallButtons, plugins, lang, options, _responsiveButtons) {\r\n    const _d = context.element.originElement.ownerDocument || document;\r\n    const _w = _d.defaultView || window;\r\n    const util = lib_util;\r\n    const icons = options.icons;\r\n\r\n    /**\r\n     * @description editor core object\r\n     * should always bind this object when registering an event in the plug-in.\r\n     */\r\n    const core = {\r\n        _d: _d,\r\n        _w: _w,\r\n        _parser: new _w.DOMParser(),\r\n\r\n        /**\r\n         * @description Document object of the iframe if created as an iframe || _d\r\n         * @private\r\n         */\r\n        _wd: null,\r\n\r\n        /**\r\n         * @description Window object of the iframe if created as an iframe || _w\r\n         * @private\r\n         */\r\n        _ww: null,\r\n        \r\n        /**\r\n         * @description Closest ShadowRoot to editor if found\r\n         * @private\r\n         */\r\n        _shadowRoot: null,\r\n\r\n        /**\r\n         * @description Block controller mousedown events in \"shadowRoot\" environment\r\n         * @private\r\n         */\r\n        _shadowRootControllerEventTarget: null,\r\n\r\n        /**\r\n         * @description Util object\r\n         */\r\n        util: util,\r\n\r\n        /**\r\n         * @description Functions object\r\n         */\r\n        functions: null,\r\n\r\n        /**\r\n         * @description Editor options\r\n         */\r\n        options: null,\r\n\r\n        /**\r\n         * @description Computed style of the wysiwyg area (window.getComputedStyle(context.element.wysiwyg))\r\n         */\r\n        wwComputedStyle: _w.getComputedStyle(context.element.wysiwyg),\r\n\r\n        /**\r\n         * @description Notice object\r\n         */\r\n        notice: _notice,\r\n\r\n        /**\r\n         * @description Default icons object\r\n         */\r\n        icons: icons,\r\n\r\n        /**\r\n         * @description History object for undo, redo\r\n         */\r\n        history: null,\r\n        \r\n        /**\r\n         * @description Elements and user options parameters of the suneditor\r\n         */\r\n        context: context,\r\n\r\n        /**\r\n         * @description Plugin buttons\r\n         */\r\n        pluginCallButtons: pluginCallButtons,\r\n\r\n        /**\r\n         * @description Loaded plugins\r\n         */\r\n        plugins: plugins || {},\r\n\r\n        /**\r\n         * @description Whether the plugin is initialized\r\n         */\r\n        initPlugins: {},\r\n\r\n        /**\r\n         * @description Object for managing submenu elements\r\n         * @private\r\n         */\r\n        _targetPlugins: {},\r\n\r\n        /**\r\n         * @description Save rendered submenus and containers\r\n         * @private\r\n         */\r\n        _menuTray: {},\r\n\r\n        /**\r\n         * @description loaded language\r\n         */\r\n        lang: lang,\r\n\r\n        /**\r\n         * @description The selection node (core.getSelectionNode()) to which the effect was last applied\r\n         */\r\n        effectNode: null,\r\n\r\n        /**\r\n         * @description submenu element\r\n         */\r\n        submenu: null,\r\n\r\n        /**\r\n         * @description container element\r\n         */\r\n        container: null,\r\n\r\n        /**\r\n         * @description current subment name\r\n         * @private\r\n         */\r\n        _submenuName: '',\r\n\r\n        /**\r\n         * @description binded submenuOff method\r\n         * @private\r\n         */\r\n        _bindedSubmenuOff: null,\r\n\r\n        /**\r\n         * @description binded containerOff method\r\n         * @private\r\n         */\r\n        _bindedContainerOff: null,\r\n\r\n        /**\r\n         * @description active button element in submenu\r\n         */\r\n        submenuActiveButton: null,\r\n\r\n        /**\r\n         * @description active button element in container\r\n         */\r\n        containerActiveButton: null,\r\n\r\n        /**\r\n         * @description The elements array to be processed unvisible when the controllersOff function is executed (resizing, link modified button, table controller)\r\n         */\r\n        controllerArray: [],\r\n\r\n        /**\r\n         * @description The name of the plugin that called the currently active controller\r\n         */\r\n        currentControllerName: '',\r\n\r\n        /**\r\n         * @description The target element of current controller\r\n         */\r\n        currentControllerTarget: null,\r\n\r\n        /**\r\n         * @description The file component object of current selected file tag (getFileComponent)\r\n         */\r\n        currentFileComponentInfo: null,\r\n\r\n        /**\r\n         * @description An array of buttons whose class name is not \"se-code-view-enabled\"\r\n         */\r\n        codeViewDisabledButtons: null,\r\n\r\n        /**\r\n         * @description An array of buttons whose class name is not \"se-resizing-enabled\"\r\n         */\r\n        resizingDisabledButtons: null,\r\n\r\n        /**\r\n         * @description active more layer element in submenu\r\n         * @private\r\n         */\r\n        _moreLayerActiveButton: null,\r\n\r\n        /**\r\n         * @description Tag whitelist RegExp object used in \"_consistencyCheckOfHTML\" method\r\n         * ^(options._editorTagsWhitelist)$\r\n         * @private\r\n         */\r\n        _htmlCheckWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description RegExp when using check disallowd tags. (b, i, ins, strike, s)\r\n         * @private\r\n         */\r\n        _disallowedTextTagsRegExp: null,\r\n\r\n        /**\r\n         * @description Editor tags whitelist (RegExp object)\r\n         * util.createTagsWhitelist(options._editorTagsWhitelist)\r\n         */\r\n        editorTagsWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description Tag whitelist when pasting (RegExp object)\r\n         * util.createTagsWhitelist(options.pasteTagsWhitelist)\r\n         */\r\n        pasteTagsWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description Boolean value of whether the editor has focus\r\n         */\r\n        hasFocus: false,\r\n\r\n        /**\r\n         * @description Boolean value of whether the editor is disabled\r\n         */\r\n        isDisabled: false,\r\n\r\n        /**\r\n         * @description Attributes whitelist used by the cleanHTML method\r\n         * @private\r\n         */\r\n        _attributesWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description Attributes of tags whitelist used by the cleanHTML method\r\n         * @private\r\n         */\r\n        _attributesTagsWhitelist: null,\r\n\r\n        /**\r\n         * @description binded controllersOff method\r\n         * @private\r\n         */\r\n        _bindControllersOff: null,\r\n\r\n        /**\r\n         * @description Is inline mode?\r\n         * @private\r\n         */\r\n        _isInline: null,\r\n\r\n        /**\r\n         * @description Is balloon|balloon-always mode?\r\n         * @private\r\n         */\r\n        _isBalloon: null,\r\n\r\n        /**\r\n         * @description Is balloon-always mode?\r\n         * @private\r\n         */\r\n        _isBalloonAlways: null,\r\n\r\n        /**\r\n         * @description Required value when using inline mode to sticky toolbar\r\n         * @private\r\n         */\r\n        _inlineToolbarAttr: {top: '', width: '', isShow: false},\r\n\r\n        /**\r\n         * @description Variable that controls the \"blur\" event in the editor of inline or balloon mode when the focus is moved to submenu\r\n         * @private\r\n         */\r\n        _notHideToolbar: false,\r\n\r\n        /**\r\n         * @description Variable value that sticky toolbar mode\r\n         * @private\r\n         */\r\n        _sticky: false,\r\n\r\n        /**\r\n         * @description Variables for controlling focus and blur events\r\n         * @private\r\n         */\r\n        _antiBlur: false,\r\n\r\n        /**\r\n         * @description Component line breaker element\r\n         * @private\r\n         */\r\n        _lineBreaker: null,\r\n        _lineBreakerButton: null,\r\n\r\n        /**\r\n         * @description If true, (initialize, reset) all indexes of image, video information\r\n         * @private\r\n         */\r\n        _componentsInfoInit: true,\r\n        _componentsInfoReset: false,\r\n\r\n        /**\r\n         * @description Plugins array with \"active\" method.\r\n         * \"activePlugins\" runs the \"add\" method when creating the editor.\r\n         */\r\n        activePlugins: null,\r\n\r\n        /**\r\n         * @description Information of tags that should maintain HTML structure, style, class name, etc. (In use by \"math\" plugin)\r\n         * When inserting \"html\" such as paste, it is executed on the \"html\" to be inserted. (core.cleanHTML)\r\n         * Basic Editor Actions:\r\n         * 1. All classes not starting with \"__se__\" or \"se-\" in the editor are removed.\r\n         * 2. The style of all tags except the \"span\" tag is removed from the editor.\r\n         * \"managedTagsInfo\" structure ex:\r\n         * managedTagsInfo: {\r\n         *   query: '.__se__xxx, se-xxx'\r\n         *   map: {\r\n         *     '__se__xxx': method.bind(core),\r\n         *     'se-xxx': method.bind(core),\r\n         *   }\r\n         * }\r\n         * @example\r\n         * Define in the following return format in the \"managedTagInfo\" function of the plugin.\r\n         * managedTagInfo() => {\r\n         *  return {\r\n         *    className: 'string', // Class name to identify the tag. (\"__se__xxx\", \"se-xxx\")\r\n         *    // Change the html of the \"element\". (\"element\" is the element found with \"className\".)\r\n         *    // \"method\" is executed by binding \"core\".\r\n         *    method: function (element) {\r\n         *      // this === core\r\n         *      element.innerHTML = // (rendered html);\r\n         *    }\r\n         *  }\r\n         * }\r\n         */\r\n        managedTagsInfo: null,\r\n\r\n        /**\r\n         * @description cashing: options.charCounterType === 'byte-html'\r\n         * @private\r\n         */\r\n        _charTypeHTML: false,\r\n\r\n        /**\r\n         * @description Array of \"checkFileInfo\" functions with the core bound\r\n         * (Plugins with \"checkFileInfo\" and \"resetFileInfo\" methods)\r\n         * \"fileInfoPlugins\" runs the \"add\" method when creating the editor.\r\n         * \"checkFileInfo\" method is always call just before the \"change\" event.\r\n         * @private\r\n         */\r\n        _fileInfoPluginsCheck: null,\r\n\r\n        /**\r\n         * @description Array of \"resetFileInfo\" functions with the core bound\r\n         * (Plugins with \"checkFileInfo\" and \"resetFileInfo\" methods)\r\n         * \"checkFileInfo\" method is always call just before the \"functions.setOptions\" method.\r\n         * @private\r\n         */\r\n        _fileInfoPluginsReset: null,\r\n\r\n        /**\r\n         * @description Variables for file component management\r\n         * @private\r\n         */\r\n        _fileManager: {\r\n            tags: null,\r\n            regExp: null,\r\n            queryString: null,\r\n            pluginRegExp: null,\r\n            pluginMap: null\r\n        },\r\n\r\n        /**\r\n         * @description Elements that need to change text or className for each selection change\r\n         * After creating the editor, \"activePlugins\" are added.\r\n         * @property {Element} STRONG bold button\r\n         * @property {Element} U underline button\r\n         * @property {Element} EM italic button\r\n         * @property {Element} DEL strike button\r\n         * @property {Element} SUB subscript button\r\n         * @property {Element} SUP superscript button\r\n         * @property {Element} OUTDENT outdent button\r\n         * @property {Element} INDENT indent button\r\n         */\r\n        commandMap: null,\r\n\r\n        /**\r\n         * @description Style button related to edit area\r\n         * @property {Element} fullScreen fullScreen button element\r\n         * @property {Element} showBlocks showBlocks button element\r\n         * @property {Element} codeView codeView button element\r\n         * @private\r\n         */\r\n        _styleCommandMap: null,\r\n\r\n        /**\r\n         * @description Map of default command\r\n         * @private\r\n         */\r\n        _defaultCommand: {\r\n            bold: options.textTags.bold,\r\n            underline: options.textTags.underline,\r\n            italic: options.textTags.italic,\r\n            strike: options.textTags.strike,\r\n            subscript: options.textTags.sub,\r\n            superscript: options.textTags.sup\r\n        },\r\n\r\n        /**\r\n         * @description Variables used internally in editor operation\r\n         * @property {Boolean} isCodeView State of code view\r\n         * @property {Boolean} isFullScreen State of full screen\r\n         * @property {Number} innerHeight_fullScreen InnerHeight in editor when in full screen\r\n         * @property {Number} resizeClientY Remember the vertical size of the editor before resizing the editor (Used when calculating during resize operation)\r\n         * @property {Number} tabSize Indent size of tab (4)\r\n         * @property {Number} codeIndent Indent size of Code view mode (4)\r\n         * @property {Number} minResizingSize Minimum size of editing area when resized {Number} (.se-wrapper-inner {min-height: 65px;} || 65)\r\n         * @property {Array} currentNodes  An array of the current cursor's node structure\r\n         * @private\r\n         */\r\n        _variable: {\r\n            isChanged: false,\r\n            isCodeView: false,\r\n            isFullScreen: false,\r\n            innerHeight_fullScreen: 0,\r\n            resizeClientY: 0,\r\n            tabSize: 4,\r\n            codeIndent: 4,\r\n            minResizingSize: util.getNumber((context.element.wysiwygFrame.style.minHeight || '65'), 0),\r\n            currentNodes: [],\r\n            currentNodesMap: [],\r\n            _range: null,\r\n            _selectionNode: null,\r\n            _originCssText: context.element.topArea.style.cssText,\r\n            _bodyOverflow: '',\r\n            _editorAreaOriginCssText: '',\r\n            _wysiwygOriginCssText: '',\r\n            _codeOriginCssText: '',\r\n            _fullScreenAttrs: {sticky: false, balloon: false, inline: false},\r\n            _lineBreakComp: null,\r\n            _lineBreakDir: ''\r\n        },\r\n\r\n        /**\r\n         * @description If the plugin is not added, add the plugin and call the 'add' function.\r\n         * If the plugin is added call callBack function.\r\n         * @param {String} pluginName The name of the plugin to call\r\n         * @param {function} callBackFunction Function to be executed immediately after module call\r\n         * @param {Element|null} _target Plugin target button (This is not necessary if you have a button list when creating the editor)\r\n         */\r\n        callPlugin: function (pluginName, callBackFunction, _target) {\r\n            _target = _target || pluginCallButtons[pluginName];\r\n\r\n            if (!this.plugins[pluginName]) {\r\n                throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:\"' + pluginName + '\")');\r\n            } else if (!this.initPlugins[pluginName]) {\r\n                this.plugins[pluginName].add(this, _target);\r\n                this.initPlugins[pluginName] = true;\r\n            } else if (typeof this._targetPlugins[pluginName] === 'object' && !!_target) {\r\n                this.initMenuTarget(pluginName, _target, this._targetPlugins[pluginName]);\r\n            }\r\n\r\n            if (this.plugins[pluginName].active && !this.commandMap[pluginName] && !!_target) {\r\n                this.commandMap[pluginName] = _target;\r\n                this.activePlugins.push(pluginName);\r\n            }\r\n                \r\n            if (typeof callBackFunction === 'function') callBackFunction();\r\n        },\r\n\r\n        /**\r\n         * @description If the module is not added, add the module and call the 'add' function\r\n         * @param {Array} moduleArray module object's Array [dialog, resizing]\r\n         */\r\n        addModule: function (moduleArray) {\r\n            for (let i = 0, len = moduleArray.length, moduleName; i < len; i++) {\r\n                moduleName = moduleArray[i].name;\r\n                if (!this.plugins[moduleName]) {\r\n                    this.plugins[moduleName] = moduleArray[i];\r\n                }\r\n                if (!this.initPlugins[moduleName]) {\r\n                    this.initPlugins[moduleName] = true;\r\n                    if (typeof this.plugins[moduleName].add === 'function') this.plugins[moduleName].add(this);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Gets the current editor-relative scroll offset.\r\n         * @returns {Object} {top, left}\r\n         */\r\n        getGlobalScrollOffset: function () {\r\n            let t = 0, l = 0;\r\n            let el = context.element.topArea;\r\n            while (el) {\r\n                t += el.scrollTop;\r\n                l += el.scrollLeft;\r\n                el = el.parentElement;\r\n            }\r\n            \r\n            el = this._shadowRoot ? this._shadowRoot.host : null;\r\n            while (el) {\r\n                t += el.scrollTop;\r\n                l += el.scrollLeft;\r\n                el = el.parentElement;\r\n            }\r\n\r\n            return {\r\n                top: t,\r\n                left: l\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Method for managing submenu element.\r\n         * You must add the \"submenu\" element using the this method at custom plugin.\r\n         * @param {String} pluginName Plugin name\r\n         * @param {Element|null} target Target button\r\n         * @param {Element} menu Submenu element\r\n         */\r\n        initMenuTarget: function (pluginName, target, menu) {\r\n            if (!target) {\r\n                this._targetPlugins[pluginName] = menu;\r\n            } else {\r\n                context.element._menuTray.appendChild(menu);\r\n                this._targetPlugins[pluginName] = true;\r\n                this._menuTray[target.getAttribute('data-command')] = menu;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Enabled submenu\r\n         * @param {Element} element Submenu's button element to call\r\n         */\r\n        submenuOn: function (element) {\r\n            if (this._bindedSubmenuOff) this._bindedSubmenuOff();\r\n            if (this._bindControllersOff) this.controllersOff();\r\n\r\n            const submenuName = this._submenuName = element.getAttribute('data-command');\r\n            const menu = this.submenu = this._menuTray[submenuName];\r\n            this.submenuActiveButton = element;\r\n            this._setMenuPosition(element, menu);\r\n            \r\n            this._bindedSubmenuOff = this.submenuOff.bind(this);\r\n            this.addDocEvent('mousedown', this._bindedSubmenuOff, false);\r\n\r\n            if (this.plugins[submenuName].on) this.plugins[submenuName].on.call(this);\r\n            this._antiBlur = true;\r\n        },\r\n\r\n        /**\r\n         * @description Disable submenu\r\n         */\r\n        submenuOff: function () {\r\n            this.removeDocEvent('mousedown', this._bindedSubmenuOff);\r\n            this._bindedSubmenuOff = null;\r\n\r\n            if (this.submenu) {\r\n                this._submenuName = '';\r\n                this.submenu.style.display = 'none';\r\n                this.submenu = null;\r\n                util.removeClass(this.submenuActiveButton, 'on');\r\n                this.submenuActiveButton = null;\r\n                this._notHideToolbar = false;\r\n            }\r\n\r\n            this._antiBlur = false;\r\n        },\r\n\r\n        /**\r\n         * @description Enabled container\r\n         * @param {Element} element Container's button element to call\r\n         */\r\n        containerOn: function (element) {\r\n            if (this._bindedContainerOff) this._bindedContainerOff();\r\n\r\n            const containerName = this._containerName = element.getAttribute('data-command');\r\n            const menu = this.container = this._menuTray[containerName];\r\n            this.containerActiveButton = element;\r\n            this._setMenuPosition(element, menu);\r\n            \r\n            this._bindedContainerOff = this.containerOff.bind(this);\r\n            this.addDocEvent('mousedown', this._bindedContainerOff, false);\r\n\r\n            if (this.plugins[containerName].on) this.plugins[containerName].on.call(this);\r\n            this._antiBlur = true;\r\n        },\r\n\r\n        /**\r\n         * @description Disable container\r\n         */\r\n        containerOff: function () {\r\n            this.removeDocEvent('mousedown', this._bindedContainerOff);\r\n            this._bindedContainerOff = null;\r\n\r\n            if (this.container) {\r\n                this._containerName = '';\r\n                this.container.style.display = 'none';\r\n                this.container = null;\r\n                util.removeClass(this.containerActiveButton, 'on');\r\n                this.containerActiveButton = null;\r\n                this._notHideToolbar = false;\r\n            }\r\n\r\n            this._antiBlur = false;\r\n        },\r\n\r\n        /**\r\n         * @description Set the menu position. (submenu, container)\r\n         * @param {*} element Button element\r\n         * @param {*} menu Menu element\r\n         * @private\r\n         */\r\n        _setMenuPosition: function (element, menu) {\r\n            menu.style.visibility = 'hidden';\r\n            menu.style.display = 'block';\r\n            menu.style.height = '';\r\n            util.addClass(element, 'on');\r\n\r\n            const toolbar = this.context.element.toolbar;\r\n            const toolbarW = toolbar.offsetWidth;\r\n            const toolbarOffset = event._getEditorOffsets(context.element.toolbar);\r\n            const menuW = menu.offsetWidth;\r\n            const l = element.parentElement.offsetLeft + 3;\r\n\r\n            // rtl\r\n            if (options.rtl) {\r\n                const elementW = element.offsetWidth;\r\n                const rtlW = menuW > elementW ? menuW - elementW : 0;\r\n                const rtlL = rtlW > 0 ? 0 : elementW - menuW;\r\n                menu.style.left = (l - rtlW + rtlL) + 'px';\r\n                if (toolbarOffset.left > event._getEditorOffsets(menu).left) {\r\n                    menu.style.left = '0px';\r\n                }\r\n            } else {\r\n                const overLeft = toolbarW <= menuW ? 0 : toolbarW - (l + menuW);\r\n                if (overLeft < 0) menu.style.left = (l + overLeft) + 'px';\r\n                else menu.style.left = l + 'px';\r\n            }\r\n\r\n            // get element top\r\n            let t = 0;\r\n            let offsetEl = element;\r\n            while (offsetEl && offsetEl !== toolbar) {\r\n                t += offsetEl.offsetTop;\r\n                offsetEl = offsetEl.offsetParent;\r\n            }\r\n\r\n            const bt = t;\r\n            if (this._isBalloon) {\r\n                t += toolbar.offsetTop + element.offsetHeight;\r\n            } else {\r\n                t -= element.offsetHeight;\r\n            }\r\n\r\n            // set menu position\r\n            const toolbarTop = toolbarOffset.top;\r\n            const menuHeight = menu.offsetHeight;\r\n            const scrollTop = this.getGlobalScrollOffset().top;\r\n\r\n            const menuHeight_bottom = _w.innerHeight - (toolbarTop - scrollTop + bt + element.parentElement.offsetHeight);\r\n            if (menuHeight_bottom < menuHeight) {\r\n                let menuTop = -1 * (menuHeight - bt + 3);\r\n                const insTop = toolbarTop - scrollTop + menuTop;\r\n                const menuHeight_top = menuHeight + (insTop < 0 ? insTop : 0);\r\n                \r\n                if (menuHeight_top > menuHeight_bottom) {\r\n                    menu.style.height = menuHeight_top + 'px';\r\n                    menuTop = -1 * (menuHeight_top - bt + 3);\r\n                } else {\r\n                    menu.style.height = menuHeight_bottom + 'px';\r\n                    menuTop = bt + element.parentElement.offsetHeight;\r\n                }\r\n\r\n                menu.style.top = menuTop + 'px';\r\n            } else {\r\n                menu.style.top = (bt + element.parentElement.offsetHeight) + 'px';\r\n            }\r\n\r\n            menu.style.visibility = '';\r\n        },\r\n\r\n        /**\r\n         * @description Show controller at editor area (controller elements, function, \"controller target element(@Required)\", \"controller name(@Required)\", etc..)\r\n         * @param {*} arguments controller elements, functions..\r\n         */\r\n        controllersOn: function () {\r\n            if (this._bindControllersOff) this._bindControllersOff();\r\n            this.controllerArray = [];\r\n\r\n            for (let i = 0, arg; i < arguments.length; i++) {\r\n                arg = arguments[i];\r\n                if (!arg) continue;\r\n                \r\n                if (typeof arg === 'string') {\r\n                    this.currentControllerName = arg;\r\n                    continue;\r\n                }\r\n                if (typeof arg === 'function') {\r\n                    this.controllerArray.push(arg);\r\n                    continue;\r\n                }\r\n                if (!util.hasClass(arg, 'se-controller')) {\r\n                    this.currentControllerTarget = arg;\r\n                    this.currentFileComponentInfo = this.getFileComponent(arg);\r\n                    continue;\r\n                }\r\n                if (arg.style) {\r\n                    arg.style.display = 'block';\r\n                    if (this._shadowRoot && this._shadowRootControllerEventTarget.indexOf(arg) === -1) {\r\n                        arg.addEventListener('mousedown', function (e) { e.preventDefault(); e.stopPropagation(); });\r\n                        this._shadowRootControllerEventTarget.push(arg);\r\n                    }\r\n                }\r\n                this.controllerArray.push(arg);\r\n            }\r\n\r\n            this._bindControllersOff = this.controllersOff.bind(this);\r\n            this.addDocEvent('mousedown', this._bindControllersOff, false);\r\n            this.addDocEvent('keydown', this._bindControllersOff, false);\r\n            this._antiBlur = true;\r\n\r\n            if (typeof functions.showController === 'function') functions.showController(this.currentControllerName, this.controllerArray, this);\r\n        },\r\n\r\n        /**\r\n         * @description Hide controller at editor area (link button, image resize button..)\r\n         * @param {KeyboardEvent|MouseEvent|null} e Event object when called from mousedown and keydown events registered in \"core.controllersOn\"\r\n         */\r\n        controllersOff: function (e) {\r\n            this._lineBreaker.style.display = 'none';\r\n            const len = this.controllerArray.length;\r\n\r\n            if (e && e.target && len > 0) {\r\n                for (let i = 0; i < len; i++) {\r\n                    if (typeof this.controllerArray[i].contains === 'function' && this.controllerArray[i].contains(e.target)) return;\r\n                }\r\n            }\r\n            \r\n            if (this._fileManager.pluginRegExp.test(this.currentControllerName) && e && e.type === 'keydown' && e.keyCode !== 27) return;\r\n            context.element.lineBreaker_t.style.display = context.element.lineBreaker_b.style.display = 'none';\r\n            this._variable._lineBreakComp = null;\r\n\r\n            this.currentControllerName = '';\r\n            this.currentControllerTarget = null;\r\n            this.currentFileComponentInfo = null;\r\n            this.effectNode = null;\r\n            if (!this._bindControllersOff) return;\r\n\r\n            this.removeDocEvent('mousedown', this._bindControllersOff);\r\n            this.removeDocEvent('keydown', this._bindControllersOff);\r\n            this._bindControllersOff = null;\r\n\r\n            if (len > 0) {\r\n                for (let i = 0; i < len; i++) {\r\n                    if (typeof this.controllerArray[i] === 'function') this.controllerArray[i]();\r\n                    else this.controllerArray[i].style.display = 'none';\r\n                }\r\n\r\n                this.controllerArray = [];\r\n            }\r\n\r\n            this._antiBlur = false;\r\n        },\r\n\r\n        /**\r\n         * @description Specify the position of the controller.\r\n         * @param {Element} controller Controller element.\r\n         * @param {Element} referEl Element that is the basis of the controller's position.\r\n         * @param {String} position Type of position (\"top\" | \"bottom\")\r\n         * When using the \"top\" position, there should not be an arrow on the controller.\r\n         * When using the \"bottom\" position there should be an arrow on the controller.\r\n         * @param {Object} addOffset These are the left and top values that need to be added specially. \r\n         * This argument is required. - {left: 0, top: 0}\r\n         * Please enter the value based on ltr mode.\r\n         * Calculated automatically in rtl mode.\r\n         */\r\n        setControllerPosition: function (controller, referEl, position, addOffset) {\r\n            if (options.rtl) addOffset.left *= -1;\r\n\r\n            const offset = util.getOffset(referEl, context.element.wysiwygFrame);\r\n            controller.style.visibility = 'hidden';\r\n            controller.style.display = 'block';\r\n\r\n            // Height value of the arrow element is 11px\r\n            const topMargin = position === 'top' ? -(controller.offsetHeight + 2) : (referEl.offsetHeight + 12);\r\n            controller.style.top = (offset.top + topMargin + addOffset.top) + 'px';\r\n\r\n            const l = offset.left - context.element.wysiwygFrame.scrollLeft + addOffset.left;\r\n            const controllerW = controller.offsetWidth;\r\n            const referElW = referEl.offsetWidth;\r\n            \r\n            const allow = util.hasClass(controller.firstElementChild, 'se-arrow') ? controller.firstElementChild : null;\r\n\r\n            // rtl (Width value of the arrow element is 22px)\r\n            if (options.rtl) {\r\n                const rtlW = (controllerW > referElW) ? controllerW - referElW : 0;\r\n                const rtlL = rtlW > 0 ? 0 : referElW - controllerW;\r\n                controller.style.left = (l - rtlW + rtlL) + 'px';\r\n                \r\n                if (rtlW > 0) {\r\n                    if (allow) allow.style.left = ((controllerW - 14 < 10 + rtlW) ? (controllerW - 14) : (10 + rtlW)) + 'px';\r\n                }\r\n                \r\n                const overSize = context.element.wysiwygFrame.offsetLeft - controller.offsetLeft;\r\n                if (overSize > 0) {\r\n                    controller.style.left = '0px';\r\n                    if (allow) allow.style.left = overSize + 'px';\r\n                }\r\n            } else {\r\n                controller.style.left = l + 'px';\r\n\r\n                const overSize = context.element.wysiwygFrame.offsetWidth - (controller.offsetLeft + controllerW);\r\n                if (overSize < 0) {\r\n                    controller.style.left = (controller.offsetLeft + overSize) + 'px';\r\n                    if (allow) allow.style.left = (20 - overSize) + 'px';\r\n                } else {\r\n                    if (allow) allow.style.left = '20px';\r\n                }\r\n            }\r\n\r\n            controller.style.visibility = '';\r\n        },\r\n\r\n        /**\r\n         * @description javascript execCommand\r\n         * @param {String} command javascript execCommand function property\r\n         * @param {Boolean|undefined} showDefaultUI javascript execCommand function property\r\n         * @param {String|undefined} value javascript execCommand function property\r\n         */\r\n        execCommand: function (command, showDefaultUI, value) {\r\n            this._wd.execCommand(command, showDefaultUI, (command === 'formatBlock' ? '<' + value + '>' : value));\r\n            // history stack\r\n            this.history.push(true);\r\n        },\r\n\r\n        /**\r\n         * @description Focus to wysiwyg area using \"native focus function\"\r\n         */\r\n        nativeFocus: function () {\r\n            const caption = util.getParentElement(this.getSelectionNode(), 'figcaption');\r\n            if (caption) {\r\n                caption.focus();\r\n            } else {\r\n                context.element.wysiwyg.focus();\r\n            }\r\n\r\n            this._editorRange();\r\n        },\r\n\r\n        /**\r\n         * @description Focus to wysiwyg area\r\n         */\r\n        focus: function () {\r\n            if (context.element.wysiwygFrame.style.display === 'none') return;\r\n\r\n            if (options.iframe) {\r\n                this.nativeFocus();\r\n            } else {\r\n                try {\r\n                    const range = this.getRange();\r\n                    if (range.startContainer === range.endContainer && util.isWysiwygDiv(range.startContainer)) {\r\n                        const currentNode = range.commonAncestorContainer.children[range.startOffset];\r\n                        if (!util.isFormatElement(currentNode) && !util.isComponent(currentNode)) {\r\n                            const format = util.createElement(options.defaultTag);\r\n                            const br = util.createElement('BR');\r\n                            format.appendChild(br);\r\n                            context.element.wysiwyg.insertBefore(format, currentNode);\r\n                            this.setRange(br, 0, br, 0);\r\n                            return;\r\n                        }\r\n                    }\r\n                    this.setRange(range.startContainer, range.startOffset, range.endContainer, range.endOffset);\r\n                } catch (e) {\r\n                    this.nativeFocus();\r\n                }\r\n            }\r\n\r\n            event._applyTagEffects();\r\n            if (this._isBalloon) event._toggleToolbarBalloon();\r\n        },\r\n\r\n        /**\r\n         * @description If \"focusEl\" is a component, then that component is selected; if it is a format element, the last text is selected\r\n         * If \"focusEdge\" is null, then selected last element\r\n         * @param {Element|null} focusEl Focus element\r\n         */\r\n        focusEdge: function (focusEl) {\r\n            if (!focusEl) focusEl = context.element.wysiwyg.lastElementChild;\r\n\r\n            const fileComponentInfo = this.getFileComponent(focusEl);\r\n            if (fileComponentInfo) {\r\n                this.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n            } else if (focusEl) {\r\n                focusEl = util.getChildElement(focusEl, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, true);\r\n                if (!focusEl) this.nativeFocus();\r\n                else this.setRange(focusEl, focusEl.textContent.length, focusEl, focusEl.textContent.length);\r\n            } else {\r\n                this.focus();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Focusout to wysiwyg area (.blur())\r\n         */\r\n        blur: function () {\r\n            if (options.iframe) {\r\n                context.element.wysiwygFrame.blur();\r\n            } else {\r\n                context.element.wysiwyg.blur();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set current editor's range object and return.\r\n         * @param {Node} startCon The startContainer property of the selection object.\r\n         * @param {Number} startOff The startOffset property of the selection object.\r\n         * @param {Node} endCon The endContainer property of the selection object.\r\n         * @param {Number} endOff The endOffset property of the selection object.\r\n         * @returns {Object} Range object.\r\n         */\r\n        setRange: function (startCon, startOff, endCon, endOff) {\r\n            if (!startCon || !endCon) return;\r\n            if (startOff > startCon.textContent.length) startOff = startCon.textContent.length;\r\n            if (endOff > endCon.textContent.length) endOff = endCon.textContent.length;\r\n            if (util.isFormatElement(startCon)) {\r\n                startCon = startCon.childNodes[startOff] || startCon;\r\n                startOff = 0;\r\n            }\r\n            if (util.isFormatElement(endCon)) {\r\n                endCon = endCon.childNodes[endOff] || endCon;\r\n                endOff = startOff > 1 ? startOff : 0;\r\n            }\r\n            \r\n            const range = this._wd.createRange();\r\n\r\n            try {\r\n                range.setStart(startCon, startOff);\r\n                range.setEnd(endCon, endOff);\r\n            } catch (error) {\r\n                console.warn('[SUNEDITOR.core.focus.error] ' + error);\r\n                this.nativeFocus();\r\n                return;\r\n            }\r\n\r\n            const selection = this.getSelection();\r\n\r\n            if (selection.removeAllRanges) {\r\n                selection.removeAllRanges();\r\n            }\r\n\r\n            selection.addRange(range);\r\n            this._editorRange();\r\n            if (options.iframe) this.nativeFocus();\r\n\r\n            return range;\r\n        },\r\n\r\n        /**\r\n         * @description Remove range object and button effect\r\n         */\r\n        removeRange: function () {\r\n            this._variable._range = null;\r\n            this._variable._selectionNode = null;\r\n            if (this.hasFocus) this.getSelection().removeAllRanges();\r\n\r\n            const commandMap = this.commandMap;\r\n            const activePlugins = this.activePlugins;\r\n            for (let key in commandMap) {\r\n                if (!util.hasOwn(commandMap, key)) continue;\r\n                if (activePlugins.indexOf(key) > -1) {\r\n                    plugins[key].active.call(this, null);\r\n                } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\r\n                    commandMap.OUTDENT.setAttribute('disabled', true);\r\n                } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\r\n                    commandMap.INDENT.removeAttribute('disabled');\r\n                } else {\r\n                    util.removeClass(commandMap[key], 'active');\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Get current editor's range object\r\n         * @returns {Object}\r\n         */\r\n        getRange: function () {\r\n            const range = this._variable._range || this._createDefaultRange();\r\n            const selection = this.getSelection();\r\n            if (range.collapsed === selection.isCollapsed || !context.element.wysiwyg.contains(selection.focusNode)) return range;\r\n            \r\n            if (selection.rangeCount > 0) {\r\n                this._variable._range = selection.getRangeAt(0);\r\n                return this._variable._range;\r\n            } else {\r\n                const sc = selection.anchorNode, ec = selection.focusNode, so = selection.anchorOffset, eo = selection.focusOffset;\r\n                const compareValue = util.compareElements(sc, ec);\r\n                const rightDir = compareValue.ancestor && (compareValue.result === 0 ? so <= eo : compareValue.result > 1 ? true : false);\r\n                return this.setRange(\r\n                    rightDir ? sc : ec,\r\n                    rightDir ? so : eo,\r\n                    rightDir ? ec : sc,\r\n                    rightDir ? eo : so\r\n                );\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description If the \"range\" object is a non-editable area, add a line at the top of the editor and update the \"range\" object.\r\n         * Returns a new \"range\" or argument \"range\".\r\n         * @param {Object} range core.getRange()\r\n         * @param {Element|null} container If there is \"container\" argument, it creates a line in front of the container.\r\n         * @returns {Object} range\r\n         */\r\n        getRange_addLine: function (range, container) {\r\n            if (this._selectionVoid(range)) {\r\n                const wysiwyg = context.element.wysiwyg;\r\n                const op = util.createElement(options.defaultTag);\r\n                op.innerHTML = '<br>';\r\n                wysiwyg.insertBefore(op, container && container !== wysiwyg ? container.nextElementSibling : wysiwyg.firstElementChild);\r\n                this.setRange(op.firstElementChild, 0, op.firstElementChild, 1);\r\n                range = this._variable._range;\r\n            }\r\n            return range;\r\n        },\r\n\r\n        /**\r\n         * @description Get window selection obejct\r\n         * @returns {Object}\r\n         */\r\n        getSelection: function () {\r\n            return this._shadowRoot && this._shadowRoot.getSelection ? this._shadowRoot.getSelection() : this._ww.getSelection();\r\n        },\r\n\r\n        /**\r\n         * @description Get current select node\r\n         * @returns {Node}\r\n         */\r\n        getSelectionNode: function () {\r\n            if(!context.element.wysiwyg.contains(this._variable._selectionNode))this._editorRange();\r\n            if (!this._variable._selectionNode) {\r\n                const selectionNode = util.getChildElement(context.element.wysiwyg.firstChild, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, false);\r\n                if (!selectionNode){\r\n                    this._editorRange();\r\n                } else {\r\n                    this._variable._selectionNode = selectionNode;\r\n                    return selectionNode;\r\n                }\r\n            }\r\n            return this._variable._selectionNode;\r\n        },\r\n\r\n        /**\r\n         * @description Saving the range object and the currently selected node of editor\r\n         * @private\r\n         */\r\n        _editorRange: function () {\r\n            const selection = this.getSelection();\r\n            if (!selection) return null;\r\n            let range = null;\r\n            let selectionNode = null;\r\n\r\n            if (selection.rangeCount > 0) {\r\n                range = selection.getRangeAt(0);\r\n            } else {\r\n                range = this._createDefaultRange();\r\n            }\r\n\r\n            this._variable._range = range;\r\n\r\n            if (range.collapsed) {\r\n                if (util.isWysiwygDiv(range.commonAncestorContainer)) selectionNode = range.commonAncestorContainer.children[range.startOffset] || range.commonAncestorContainer;\r\n                else selectionNode = range.commonAncestorContainer;\r\n            } else {\r\n                selectionNode = selection.extentNode || selection.anchorNode;\r\n            }\r\n\r\n            this._variable._selectionNode = selectionNode;\r\n        },\r\n\r\n        /**\r\n         * @description Return the range object of editor's first child node\r\n         * @returns {Object}\r\n         * @private\r\n         */\r\n        _createDefaultRange: function () {\r\n            const wysiwyg = context.element.wysiwyg;\r\n            wysiwyg.focus();\r\n            const range = this._wd.createRange();\r\n\r\n            let focusEl = wysiwyg.firstElementChild;\r\n            if (!focusEl) {\r\n                focusEl = util.createElement(options.defaultTag);\r\n                focusEl.innerHTML = '<br>';\r\n                wysiwyg.appendChild(focusEl);\r\n            }\r\n\r\n            range.setStart(focusEl, 0);\r\n            range.setEnd(focusEl, 0);\r\n            \r\n            return range;\r\n        },\r\n\r\n        /**\r\n         * @description Returns true if there is no valid \"selection\".\r\n         * @param {Object} range core.getRange()\r\n         * @returns {Object} range\r\n         * @private\r\n         */\r\n        _selectionVoid: function (range) {\r\n            const comm = range.commonAncestorContainer;\r\n            return (util.isWysiwygDiv(range.startContainer) && util.isWysiwygDiv(range.endContainer)) || /FIGURE/i.test(comm.nodeName) || this._fileManager.regExp.test(comm.nodeName) || util.isMediaComponent(comm);\r\n        },\r\n\r\n        /**\r\n         * @description Reset range object to text node selected status.\r\n         * @returns {Boolean} Returns false if there is no valid selection.\r\n         * @private\r\n         */\r\n        _resetRangeToTextNode: function () {\r\n            const range = this.getRange();\r\n            if (this._selectionVoid(range)) return false;\r\n            \r\n            let startCon = range.startContainer;\r\n            let startOff = range.startOffset;\r\n            let endCon = range.endContainer;\r\n            let endOff = range.endOffset;\r\n            let tempCon, tempOffset, tempChild;\r\n\r\n            if (util.isFormatElement(startCon)) {\r\n                startCon = startCon.childNodes[startOff] || startCon.lastChild;\r\n                startOff = startCon.textContent.length;\r\n            }\r\n            if (util.isFormatElement(endCon)) {\r\n                endCon = endCon.childNodes[endOff] || endCon.lastChild;\r\n                endOff = endCon.textContent.length;\r\n            }\r\n\r\n            // startContainer\r\n            tempCon = util.isWysiwygDiv(startCon) ? context.element.wysiwyg.firstChild : startCon;\r\n            tempOffset = startOff;\r\n\r\n            if (util.isBreak(tempCon) || (tempCon.nodeType === 1 && tempCon.childNodes.length > 0)) {\r\n                const onlyBreak = util.isBreak(tempCon);\r\n                if (!onlyBreak) {\r\n                    while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\r\n                        tempCon = tempCon.childNodes[tempOffset] || tempCon.nextElementSibling || tempCon.nextSibling;\r\n                        tempOffset = 0;\r\n                    }\r\n    \r\n                    let format = util.getFormatElement(tempCon, null);\r\n                    if (format === util.getRangeFormatElement(format, null)) {\r\n                        format = util.createElement(util.getParentElement(tempCon, util.isCell) ? 'DIV' : options.defaultTag);\r\n                        tempCon.parentNode.insertBefore(format, tempCon);\r\n                        format.appendChild(tempCon);\r\n                    }\r\n                }\r\n\r\n                if (util.isBreak(tempCon)) {\r\n                    const emptyText = util.createTextNode(util.zeroWidthSpace);\r\n                    tempCon.parentNode.insertBefore(emptyText, tempCon);\r\n                    tempCon = emptyText;\r\n                    if (onlyBreak) {\r\n                        if (startCon === endCon) {\r\n                            endCon = tempCon;\r\n                            endOff = 1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // set startContainer\r\n            startCon = tempCon;\r\n            startOff = tempOffset;\r\n\r\n            // endContainer\r\n            tempCon = util.isWysiwygDiv(endCon) ? context.element.wysiwyg.lastChild : endCon;\r\n            tempOffset = endOff;\r\n\r\n            if (util.isBreak(tempCon) || (tempCon.nodeType === 1 && tempCon.childNodes.length > 0)) {\r\n                const onlyBreak = util.isBreak(tempCon);\r\n                if (!onlyBreak) {\r\n                    while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\r\n                        tempChild = tempCon.childNodes;\r\n                        if (tempChild.length === 0) break;\r\n                        tempCon = tempChild[tempOffset > 0 ? tempOffset - 1 : tempOffset] || !/FIGURE/i.test(tempChild[0].nodeName) ? tempChild[0] : (tempCon.previousElementSibling || tempCon.previousSibling || startCon);\r\n                        tempOffset = tempOffset > 0 ? tempCon.textContent.length : tempOffset;\r\n                    }\r\n    \r\n                    let format = util.getFormatElement(tempCon, null);\r\n                    if (format === util.getRangeFormatElement(format, null)) {\r\n                        format = util.createElement(util.isCell(format) ? 'DIV' : options.defaultTag);\r\n                        tempCon.parentNode.insertBefore(format, tempCon);\r\n                        format.appendChild(tempCon);\r\n                    }\r\n                }\r\n\r\n                if (util.isBreak(tempCon)) {\r\n                    const emptyText = util.createTextNode(util.zeroWidthSpace);\r\n                    tempCon.parentNode.insertBefore(emptyText, tempCon);\r\n                    tempCon = emptyText;\r\n                    tempOffset = 1;\r\n                    if (onlyBreak && !tempCon.previousSibling) {\r\n                        util.removeItem(endCon);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // set endContainer\r\n            endCon = tempCon;\r\n            endOff = tempOffset;\r\n\r\n            // set Range\r\n            this.setRange(startCon, startOff, endCon, endOff);\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * @description Returns a \"formatElement\"(util.isFormatElement) array from the currently selected range.\r\n         * @param {Function|null} validation The validation function. (Replaces the default validation function-util.isFormatElement(current))\r\n         * @returns {Array}\r\n         */\r\n        getSelectedElements: function (validation) {\r\n            if (!this._resetRangeToTextNode()) return [];\r\n            let range = this.getRange();\r\n\r\n            if (util.isWysiwygDiv(range.startContainer)) {\r\n                const children = context.element.wysiwyg.children;\r\n                if (children.length === 0) return [];\r\n\r\n                this.setRange(children[0], 0, children[children.length - 1], children[children.length - 1].textContent.trim().length);\r\n                range = this.getRange();\r\n            }\r\n\r\n            const startCon = range.startContainer;\r\n            const endCon = range.endContainer;\r\n            const commonCon = range.commonAncestorContainer;\r\n\r\n            // get line nodes\r\n            const lineNodes = util.getListChildren(commonCon, function (current) {\r\n                return validation ? validation(current) : util.isFormatElement(current);\r\n            });\r\n\r\n            if (!util.isWysiwygDiv(commonCon) && !util.isRangeFormatElement(commonCon)) lineNodes.unshift(util.getFormatElement(commonCon, null));\r\n            if (startCon === endCon || lineNodes.length === 1) return lineNodes;\r\n\r\n            let startLine = util.getFormatElement(startCon, null);\r\n            let endLine = util.getFormatElement(endCon, null);\r\n            let startIdx = null;\r\n            let endIdx = null;\r\n            \r\n            const onlyTable = function (current) {\r\n                return util.isTable(current) ? /^TABLE$/i.test(current.nodeName) : true;\r\n            };\r\n\r\n            let startRangeEl = util.getRangeFormatElement(startLine, onlyTable);\r\n            let endRangeEl = util.getRangeFormatElement(endLine, onlyTable);\r\n            if (util.isTable(startRangeEl) && util.isListCell(startRangeEl.parentNode)) startRangeEl = startRangeEl.parentNode;\r\n            if (util.isTable(endRangeEl) && util.isListCell(endRangeEl.parentNode)) endRangeEl = endRangeEl.parentNode;\r\n            \r\n            const sameRange = startRangeEl === endRangeEl;\r\n            for (let i = 0, len = lineNodes.length, line; i < len; i++) {\r\n                line = lineNodes[i];\r\n\r\n                if (startLine === line || (!sameRange && line === startRangeEl)) {\r\n                    startIdx = i;\r\n                    continue;\r\n                }\r\n\r\n                if (endLine === line || (!sameRange && line === endRangeEl)) {\r\n                    endIdx = i;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (startIdx === null) startIdx = 0;\r\n            if (endIdx === null) endIdx = lineNodes.length - 1;\r\n\r\n            return lineNodes.slice(startIdx, endIdx + 1);\r\n        },\r\n\r\n        /**\r\n         * @description Get format elements and components from the selected area. (P, DIV, H[1-6], OL, UL, TABLE..)\r\n         * If some of the component are included in the selection, get the entire that component.\r\n         * @param {Boolean} removeDuplicate If true, if there is a parent and child tag among the selected elements, the child tag is excluded.\r\n         * @returns {Array}\r\n         */\r\n        getSelectedElementsAndComponents: function (removeDuplicate) {\r\n            const commonCon = this.getRange().commonAncestorContainer;\r\n            const myComponent = util.getParentElement(commonCon, util.isComponent);\r\n            const selectedLines = util.isTable(commonCon) ? \r\n                this.getSelectedElements(null) :\r\n                this.getSelectedElements(function (current) {\r\n                    const component = this.getParentElement(current, this.isComponent);\r\n                    return (this.isFormatElement(current) && (!component || component === myComponent)) || (this.isComponent(current) && !this.getFormatElement(current));\r\n                }.bind(util));\r\n            \r\n            if (removeDuplicate) {\r\n                for (let i = 0, len = selectedLines.length; i < len; i++) {\r\n                    for (let j = i - 1; j >= 0; j--) {\r\n                        if (selectedLines[j].contains(selectedLines[i])) {\r\n                            selectedLines.splice(i, 1);\r\n                            i--; len--;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return selectedLines;\r\n        },\r\n\r\n        /**\r\n         * @description Determine if this offset is the edge offset of container\r\n         * @param {Node} container The node of the selection object. (range.startContainer..)\r\n         * @param {Number} offset The offset of the selection object. (core.getRange().startOffset...)\r\n         * @param {String|undefined} dir Select check point - Both edge, Front edge or End edge. (\"front\": Front edge, \"end\": End edge, undefined: Both edge)\r\n         * @returns {Boolean}\r\n         */\r\n        isEdgePoint: function (container, offset, dir) {\r\n            return (dir !== 'end' && offset === 0) || ((!dir || dir !== 'front') && !container.nodeValue && offset === 1) || ((!dir || dir === 'end') && !!container.nodeValue && offset === container.nodeValue.length);\r\n        },\r\n\r\n        /**\r\n         * @description Check if the container and offset values are the edges of the format tag\r\n         * @param {Node} container The node of the selection object. (range.startContainer..)\r\n         * @param {Number} offset The offset of the selection object. (core.getRange().startOffset...)\r\n         * @param {String} dir Select check point - \"front\": Front edge, \"end\": End edge, undefined: Both edge.\r\n         * @returns {Boolean}\r\n         */\r\n        isEdgeFormat: function (node, offset, dir) {\r\n            if (!this.isEdgePoint(node, offset, dir)) return false;\r\n\r\n            let result = true;\r\n            dir = dir === 'front' ? 'previousSibling' : 'nextSibling';\r\n            while (node && !util.isFormatElement(node) && !util.isWysiwygDiv(node)) {\r\n                if (!node[dir] || (util.isBreak(node[dir]) && !node[dir][dir])) {\r\n                    node = node.parentNode;\r\n                } else {\r\n                    result = false;\r\n                    node = null;\r\n                }\r\n            }\r\n            return result;\r\n        },\r\n\r\n        /**\r\n         * @description Show loading box\r\n         */\r\n        showLoading: function () {\r\n            context.element.loading.style.display = 'block';\r\n        },\r\n\r\n        /**\r\n         * @description Close loading box\r\n         */\r\n        closeLoading: function () {\r\n            context.element.loading.style.display = 'none';\r\n        },\r\n\r\n        /**\r\n         * @description Append format element to sibling node of argument element.\r\n         * If the \"formatNodeName\" argument value is present, the tag of that argument value is inserted,\r\n         * If not, the currently selected format tag is inserted.\r\n         * @param {Element} element Insert as siblings of that element\r\n         * @param {String|Element|null} formatNode Node name or node obejct to be inserted\r\n         * @returns {Element}\r\n         */\r\n        appendFormatTag: function (element, formatNode) {\r\n            const currentFormatEl = util.getFormatElement(this.getSelectionNode(), null);\r\n            const oFormatName = formatNode ? (typeof formatNode === 'string' ? formatNode : formatNode.nodeName) : (util.isFormatElement(currentFormatEl) && !util.isFreeFormatElement(currentFormatEl)) ? currentFormatEl.nodeName : options.defaultTag;\r\n            const oFormat = util.createElement(oFormatName);\r\n            oFormat.innerHTML = '<br>';\r\n\r\n            if ((formatNode && typeof formatNode !== 'string') || (!formatNode && util.isFormatElement(currentFormatEl))) {\r\n                util.copyTagAttributes(oFormat, formatNode || currentFormatEl);\r\n            }\r\n\r\n            if (util.isCell(element)) element.insertBefore(oFormat, element.nextElementSibling);\r\n            else element.parentNode.insertBefore(oFormat, element.nextElementSibling);\r\n\r\n            return oFormat;\r\n        },\r\n\r\n        /**\r\n         * @description The method to insert a element and return. (used elements : table, hr, image, video)\r\n         * If \"element\" is \"HR\", insert and return the new line.\r\n         * @param {Element} element Element to be inserted\r\n         * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n         * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n         * @param {Boolean} notSelect If true, Do not automatically select the inserted component.\r\n         * @returns {Element}\r\n         */\r\n        insertComponent: function (element, notHistoryPush, checkCharCount, notSelect) {\r\n            if (checkCharCount && !this.checkCharCount(element, null)) {\r\n                return null;\r\n            }\r\n\r\n            const r = this.removeNode();\r\n            this.getRange_addLine(this.getRange(), r.container);\r\n            let oNode = null;\r\n            let selectionNode = this.getSelectionNode();\r\n            let formatEl = util.getFormatElement(selectionNode, null);\r\n\r\n            if (util.isListCell(formatEl)) {\r\n                this.insertNode(element, selectionNode === formatEl ? null : r.container.nextSibling, false);\r\n                if (!element.nextSibling) element.parentNode.appendChild(util.createElement('BR'));\r\n            } else {\r\n                if (this.getRange().collapsed && (r.container.nodeType === 3 || util.isBreak(r.container))) {\r\n                    const depthFormat = util.getParentElement(r.container, function (current) { return this.isRangeFormatElement(current); }.bind(util));\r\n                    oNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\r\n                    if (oNode) formatEl = oNode.previousSibling;\r\n                }\r\n                this.insertNode(element, formatEl, false);\r\n                if (formatEl && util.onlyZeroWidthSpace(formatEl)) util.removeItem(formatEl);\r\n            }\r\n\r\n            this.setRange(element, 0, element, 0);\r\n\r\n            if (!notSelect) {\r\n                const fileComponentInfo = this.getFileComponent(element);\r\n                if (fileComponentInfo) {\r\n                    this.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n                } else if (oNode) {\r\n                    oNode = util.getEdgeChildNodes(oNode, null).sc || oNode;\r\n                    this.setRange(oNode, 0, oNode, 0);\r\n                }\r\n            }\r\n\r\n            // history stack\r\n            if (!notHistoryPush) this.history.push(1);\r\n\r\n            return oNode || element;\r\n        },\r\n\r\n        /**\r\n         * @description Gets the file component and that plugin name\r\n         * return: {target, component, pluginName} | null\r\n         * @param {Element} element Target element (figure tag, component div, file tag)\r\n         * @returns {Object|null}\r\n         */\r\n        getFileComponent: function (element) {\r\n            if (!this._fileManager.queryString || !element) return null;\r\n\r\n            let target, pluginName;\r\n            if (/^FIGURE$/i.test(element.nodeName) || /se-component/.test(element.className)) {\r\n                target = element.querySelector(this._fileManager.queryString);\r\n            }\r\n            if (!target && element.nodeName && this._fileManager.regExp.test(element.nodeName)) {\r\n                target = element;\r\n            }\r\n\r\n            if (target) {\r\n                pluginName = this._fileManager.pluginMap[target.nodeName.toLowerCase()];\r\n                if (pluginName) {\r\n                    return {\r\n                        target: target,\r\n                        component: util.getParentElement(target, util.isComponent),\r\n                        pluginName: pluginName\r\n                    };\r\n                }\r\n            }\r\n\r\n            return null;\r\n        },\r\n\r\n        /**\r\n         * @description The component(image, video) is selected and the resizing module is called.\r\n         * @param {Element} element Element tag (img, iframe, video)\r\n         * @param {String} pluginName Plugin name (image, video)\r\n         */\r\n        selectComponent: function (element, pluginName) {\r\n            if (util.isUneditableComponent(util.getParentElement(element, util.isComponent)) || util.isUneditableComponent(element)) return false;\r\n            if (!this.hasFocus) this.focus();\r\n            const plugin = this.plugins[pluginName];\r\n            if (!plugin) return;\r\n            _w.setTimeout(function () {\r\n                if (typeof plugin.select === 'function') this.callPlugin(pluginName, plugin.select.bind(this, element), null);\r\n                this._setComponentLineBreaker(element);\r\n            }.bind(this));\r\n        },\r\n\r\n        /**\r\n         * @description Set line breaker of component\r\n         * @param {Element} element Element tag (img, iframe, video)\r\n         * @private\r\n         */\r\n        _setComponentLineBreaker: function (element) {\r\n            // line breaker\r\n            this._lineBreaker.style.display = 'none';\r\n            const container = util.getParentElement(element, util.isComponent);\r\n            const t_style = context.element.lineBreaker_t.style;\r\n            const b_style = context.element.lineBreaker_b.style;\r\n            const target = this.context.resizing.resizeContainer.style.display === 'block' ? this.context.resizing.resizeContainer : element;\r\n\r\n            const isList = util.isListCell(container.parentNode);\r\n            let componentTop, wScroll, w;\r\n            // top\r\n            if (isList ? !container.previousSibling : !util.isFormatElement(container.previousElementSibling)) {\r\n                this._variable._lineBreakComp = container;\r\n                wScroll = context.element.wysiwyg.scrollTop;\r\n                componentTop = util.getOffset(element, context.element.wysiwygFrame).top + wScroll;\r\n                w = (target.offsetWidth / 2) / 2;\r\n\r\n                t_style.top = (componentTop - wScroll - 12) + 'px';\r\n                t_style.left = (util.getOffset(target).left + w) + 'px';\r\n                t_style.display = 'block';\r\n            } else {\r\n                t_style.display = 'none';\r\n            }\r\n            // bottom\r\n            if (isList ? !container.nextSibling : !util.isFormatElement(container.nextElementSibling)) {\r\n                if (!componentTop) {\r\n                    this._variable._lineBreakComp = container;\r\n                    wScroll = context.element.wysiwyg.scrollTop;\r\n                    componentTop = util.getOffset(element, context.element.wysiwygFrame).top + wScroll;\r\n                    w = (target.offsetWidth / 2) / 2;\r\n                }\r\n\r\n                b_style.top = (componentTop + target.offsetHeight - wScroll - 12) + 'px';\r\n                b_style.left = (util.getOffset(target).left + target.offsetWidth - w - 24) + 'px';\r\n                b_style.display = 'block';\r\n            } else {\r\n                b_style.display = 'none';\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Delete selected node and insert argument value node and return.\r\n         * If the \"afterNode\" exists, it is inserted after the \"afterNode\"\r\n         * Inserting a text node merges with both text nodes on both sides and returns a new \"{ container, startOffset, endOffset }\".\r\n         * @param {Node} oNode Element to be inserted\r\n         * @param {Node|null} afterNode If the node exists, it is inserted after the node\r\n         * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n         * @returns {Object|Node|null}\r\n         */\r\n        insertNode: function (oNode, afterNode, checkCharCount) {\r\n            if (checkCharCount && !this.checkCharCount(oNode, null)) {\r\n                return null;\r\n            }\r\n\r\n            const freeFormat = util.getFreeFormatElement(this.getSelectionNode(), null);\r\n            const isFormats = (!freeFormat && (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode))) || util.isComponent(oNode);\r\n\r\n            if (!afterNode && (isFormats || util.isComponent(oNode) || util.isMedia(oNode))) {\r\n                const r = this.removeNode();\r\n                if (r.container.nodeType === 3 || util.isBreak(r.container)) {\r\n                    const depthFormat = util.getParentElement(r.container, function (current) { return this.isRangeFormatElement(current) || this.isListCell(current); }.bind(util));\r\n                    afterNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\r\n                    if (afterNode) afterNode = afterNode.previousSibling;\r\n                }\r\n            }\r\n\r\n            const range = (!afterNode && !isFormats) ? this.getRange_addLine(this.getRange(), null) : this.getRange();\r\n            const commonCon = range.commonAncestorContainer;\r\n            const startOff = range.startOffset;\r\n            const endOff = range.endOffset;\r\n            const formatRange = range.startContainer === commonCon && util.isFormatElement(commonCon);\r\n            const startCon = formatRange ? (commonCon.childNodes[startOff] || commonCon.childNodes[0]) : range.startContainer;\r\n            const endCon = formatRange ? (commonCon.childNodes[endOff] || commonCon.childNodes[commonCon.childNodes.length - 1]) : range.endContainer;\r\n            let parentNode, originAfter = null;\r\n\r\n            if (!afterNode) {\r\n                parentNode = startCon;\r\n                if (startCon.nodeType === 3) {\r\n                    parentNode = startCon.parentNode;\r\n                }\r\n\r\n                /** No Select range node */\r\n                if (range.collapsed) {\r\n                    if (commonCon.nodeType === 3) {\r\n                        if (commonCon.textContent.length > endOff) afterNode = commonCon.splitText(endOff);\r\n                        else afterNode = commonCon.nextSibling;\r\n                    } else {\r\n                        if (!util.isBreak(parentNode)) {\r\n                            let c = parentNode.childNodes[startOff];\r\n                            const focusNode = (c && c.nodeType === 3 && util.onlyZeroWidthSpace(c) && util.isBreak(c.nextSibling)) ? c.nextSibling : c;\r\n                            if (focusNode) {\r\n                                if (!focusNode.nextSibling) {\r\n                                    parentNode.removeChild(focusNode);\r\n                                    afterNode = null;\r\n                                } else {\r\n                                    afterNode = (util.isBreak(focusNode) && !util.isBreak(oNode)) ? focusNode : focusNode.nextSibling;\r\n                                }\r\n                            } else {\r\n                                afterNode = null;\r\n                            }\r\n                        } else {\r\n                            afterNode = parentNode;\r\n                            parentNode = parentNode.parentNode;\r\n                        }\r\n                    }\r\n                } else { /** Select range nodes */\r\n                    const isSameContainer = startCon === endCon;\r\n\r\n                    if (isSameContainer) {\r\n                        if (this.isEdgePoint(endCon, endOff)) afterNode = endCon.nextSibling;\r\n                        else afterNode = endCon.splitText(endOff);\r\n\r\n                        let removeNode = startCon;\r\n                        if (!this.isEdgePoint(startCon, startOff)) removeNode = startCon.splitText(startOff);\r\n\r\n                        parentNode.removeChild(removeNode);\r\n                        if (parentNode.childNodes.length === 0 && isFormats) {\r\n                            parentNode.innerHTML = '<br>';\r\n                        }\r\n                    }\r\n                    else {\r\n                        const removedTag = this.removeNode();\r\n                        const container = removedTag.container;\r\n                        const prevContainer = removedTag.prevContainer;\r\n                        if (container && container.childNodes.length === 0 && isFormats) {\r\n                            if (util.isFormatElement(container)) {\r\n                                container.innerHTML = '<br>';\r\n                            } else if (util.isRangeFormatElement(container)) {\r\n                                container.innerHTML = '<' + options.defaultTag + '><br></' + options.defaultTag + '>';\r\n                            }\r\n                        }\r\n\r\n                        if (!isFormats && prevContainer) {\r\n                            parentNode = prevContainer.nodeType === 3 ? prevContainer.parentNode : prevContainer;\r\n                            if (parentNode.contains(container)) {\r\n                                let sameParent = true;\r\n                                afterNode = container;\r\n                                while (afterNode.parentNode !== parentNode) {\r\n                                    afterNode = afterNode.parentNode;\r\n                                    sameParent = false;\r\n                                }\r\n                                if (sameParent && container === prevContainer) afterNode = afterNode.nextSibling;\r\n                            } else {\r\n                                afterNode = null;\r\n                            }\r\n                        } else {\r\n                            afterNode = isFormats ? endCon : container === prevContainer ? container.nextSibling : container;\r\n                            parentNode = (!afterNode || !afterNode.parentNode) ? commonCon : afterNode.parentNode;\r\n                        }\r\n\r\n                        while (afterNode && !util.isFormatElement(afterNode) && afterNode.parentNode !== commonCon) {\r\n                            afterNode = afterNode.parentNode;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // has afterNode\r\n            else {\r\n                parentNode = afterNode.parentNode;\r\n                afterNode = afterNode.nextSibling;\r\n                originAfter = true;\r\n            }\r\n\r\n            // --- insert node ---\r\n            try {\r\n                if (util.isWysiwygDiv(afterNode) || parentNode === context.element.wysiwyg.parentNode) {\r\n                    parentNode = context.element.wysiwyg;\r\n                    afterNode = null;\r\n                }\r\n\r\n                if (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode) || (!util.isListCell(parentNode) && util.isComponent(oNode))) {\r\n                    const oldParent = parentNode;\r\n                    if (util.isList(afterNode)) {\r\n                        parentNode = afterNode;\r\n                        afterNode = null;\r\n                    } else if (util.isListCell(afterNode)) {\r\n                        parentNode = afterNode.previousElementSibling || afterNode;\r\n                    } else if (!originAfter && !afterNode) {\r\n                        const r = this.removeNode();\r\n                        const container = r.container.nodeType === 3 ? (util.isListCell(util.getFormatElement(r.container, null)) ? r.container : (util.getFormatElement(r.container, null) || r.container.parentNode)) : r.container;\r\n                        const rangeCon = util.isWysiwygDiv(container) || util.isRangeFormatElement(container);\r\n                        parentNode = rangeCon ? container : container.parentNode;\r\n                        afterNode = rangeCon ? null : container.nextSibling;\r\n                    }\r\n\r\n                    if (oldParent.childNodes.length === 0 && parentNode !== oldParent) util.removeItem(oldParent);\r\n                }\r\n\r\n                if (isFormats && !freeFormat && !util.isRangeFormatElement(parentNode) && !util.isListCell(parentNode) && !util.isWysiwygDiv(parentNode)) {\r\n                    afterNode = parentNode.nextElementSibling;\r\n                    parentNode = parentNode.parentNode;\r\n                }\r\n\r\n                if (util.isWysiwygDiv(parentNode) && (oNode.nodeType === 3 || util.isBreak(oNode))) {\r\n                    const fNode = util.createElement(options.defaultTag);\r\n                    fNode.appendChild(oNode);\r\n                    oNode = fNode;\r\n                }\r\n\r\n                parentNode.insertBefore(oNode, parentNode === afterNode ? parentNode.lastChild : afterNode);\r\n            } catch (e) {\r\n                parentNode.appendChild(oNode);\r\n            } finally {\r\n                if ((util.isFormatElement(oNode) || util.isComponent(oNode)) && startCon === endCon) {\r\n                    const cItem = util.getFormatElement(commonCon, null);\r\n                    if (cItem && cItem.nodeType === 1 && util.isEmptyLine(cItem)) {\r\n                        util.removeItem(cItem);\r\n                    }\r\n                }\r\n\r\n                if (freeFormat && (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode))) {\r\n                    oNode = this._setIntoFreeFormat(oNode);\r\n                }\r\n\r\n                if (!util.isComponent(oNode)) {\r\n                    let offset = 1;\r\n                    if (oNode.nodeType === 3) {\r\n                        const previous = oNode.previousSibling;\r\n                        const next = oNode.nextSibling;\r\n                        const previousText = (!previous ||  previous.nodeType === 1 || util.onlyZeroWidthSpace(previous)) ? '' : previous.textContent;\r\n                        const nextText = (!next || next.nodeType === 1 || util.onlyZeroWidthSpace(next)) ? '' : next.textContent;\r\n        \r\n                        if (previous && previousText.length > 0) {\r\n                            oNode.textContent = previousText + oNode.textContent;\r\n                            util.removeItem(previous);\r\n                        }\r\n        \r\n                        if (next && next.length > 0) {\r\n                            oNode.textContent += nextText;\r\n                            util.removeItem(next);\r\n                        }\r\n\r\n                        const newRange = {\r\n                            container: oNode,\r\n                            startOffset: previousText.length,\r\n                            endOffset: oNode.textContent.length - nextText.length\r\n                        };\r\n\r\n                        this.setRange(oNode, newRange.startOffset, oNode, newRange.endOffset);\r\n    \r\n                        return newRange;\r\n                    } else if (!util.isBreak(oNode) && util.isFormatElement(parentNode)) {\r\n                        let zeroWidth = null;\r\n                        if (!oNode.previousSibling || util.isBreak(oNode.previousSibling)) {\r\n                            zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                            oNode.parentNode.insertBefore(zeroWidth, oNode);\r\n                        }\r\n                        \r\n                        if (!oNode.nextSibling || util.isBreak(oNode.nextSibling)) {\r\n                            zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                            oNode.parentNode.insertBefore(zeroWidth, oNode.nextSibling);\r\n                        }\r\n    \r\n                        if (util._isIgnoreNodeChange(oNode)) {\r\n                            oNode = oNode.nextSibling;\r\n                            offset = 0;\r\n                        }\r\n                    }\r\n    \r\n                    this.setRange(oNode, offset, oNode, offset);\r\n                }\r\n\r\n                // history stack\r\n                this.history.push(true);\r\n\r\n                return oNode;\r\n            }\r\n        },\r\n\r\n        _setIntoFreeFormat: function (oNode) {\r\n            const parentNode = oNode.parentNode;\r\n            let oNodeChildren, lastONode;\r\n            \r\n            while (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode)) {\r\n                oNodeChildren = oNode.childNodes;\r\n                lastONode = null;\r\n                \r\n                while (oNodeChildren[0]) {\r\n                    lastONode = oNodeChildren[0];\r\n                    if (util.isFormatElement(lastONode) || util.isRangeFormatElement(lastONode)) {\r\n                        this._setIntoFreeFormat(lastONode);\r\n                        if (!oNode.parentNode) break;\r\n                        oNodeChildren = oNode.childNodes;\r\n                        continue;\r\n                    }\r\n                    \r\n                    parentNode.insertBefore(lastONode, oNode);\r\n                }\r\n                \r\n                if (oNode.childNodes.length === 0) util.removeItem(oNode);\r\n                oNode = util.createElement('BR');\r\n                parentNode.insertBefore(oNode, lastONode.nextSibling);\r\n            }\r\n\r\n            return oNode;\r\n        },\r\n\r\n        /**\r\n         * @description Delete the currently selected nodes and reset selection range\r\n         * Returns {container: \"the last element after deletion\", offset: \"offset\", prevContainer: \"previousElementSibling Of the deleted area\"}\r\n         * @returns {Object}\r\n         */\r\n        removeNode: function () {\r\n            this._resetRangeToTextNode();\r\n\r\n            const range = this.getRange();\r\n            let container, offset = 0;\r\n            let startCon = range.startContainer;\r\n            let endCon = range.endContainer;\r\n            let startOff = range.startOffset;\r\n            let endOff = range.endOffset;\r\n            const commonCon = (range.commonAncestorContainer.nodeType === 3 && range.commonAncestorContainer.parentNode === startCon.parentNode) ? startCon.parentNode : range.commonAncestorContainer;\r\n            if (commonCon === startCon && commonCon === endCon) {\r\n                startCon = commonCon.children[startOff];\r\n                endCon = commonCon.children[endOff];\r\n                startOff = endOff = 0;\r\n            }\r\n\r\n            let beforeNode = null;\r\n            let afterNode = null;\r\n\r\n            const childNodes = util.getListChildNodes(commonCon, null);\r\n            let startIndex = util.getArrayIndex(childNodes, startCon);\r\n            let endIndex = util.getArrayIndex(childNodes, endCon);\r\n\r\n            if (childNodes.length > 0 && startIndex > -1 && endIndex > -1) {\r\n                for (let i = startIndex + 1, startNode = startCon; i >= 0; i--) {\r\n                    if (childNodes[i] === startNode.parentNode && childNodes[i].firstChild === startNode && startOff === 0) {\r\n                        startIndex = i;\r\n                        startNode = startNode.parentNode;\r\n                    }\r\n                }\r\n    \r\n                for (let i = endIndex - 1, endNode = endCon; i > startIndex; i--) {\r\n                    if (childNodes[i] === endNode.parentNode && childNodes[i].nodeType === 1) {\r\n                        childNodes.splice(i, 1);\r\n                        endNode = endNode.parentNode;\r\n                        --endIndex;\r\n                    }\r\n                }\r\n            } else {\r\n                if (childNodes.length === 0) {\r\n                    if (util.isFormatElement(commonCon) || util.isRangeFormatElement(commonCon) || util.isWysiwygDiv(commonCon) || util.isBreak(commonCon) || util.isMedia(commonCon)) {\r\n                        return {\r\n                            container: commonCon,\r\n                            offset: 0\r\n                        };\r\n                    } else if (commonCon.nodeType === 3) {\r\n                        return {\r\n                            container: commonCon,\r\n                            offset: endOff\r\n                        };\r\n                    }\r\n                    childNodes.push(commonCon);\r\n                    startCon = endCon = commonCon;\r\n                } else {\r\n                    startCon = endCon = childNodes[0];\r\n                    if (util.isBreak(startCon) || util.onlyZeroWidthSpace(startCon)) {\r\n                        return {\r\n                            container: util.isMedia(commonCon) ? commonCon : startCon,\r\n                            offset: 0\r\n                        };\r\n                    }\r\n                }\r\n\r\n                startIndex = endIndex = 0;\r\n            }\r\n\r\n            function remove (item) {\r\n                const format = util.getFormatElement(item, null);\r\n                util.removeItem(item);\r\n\r\n                if(util.isListCell(format)) {\r\n                    const list = util.getArrayItem(format.children, util.isList, false);\r\n                    if (list) {\r\n                        const child = list.firstElementChild;\r\n                        const children = child.childNodes;\r\n                        while (children[0]) {\r\n                            format.insertBefore(children[0], list);\r\n                        }\r\n                        util.removeItemAllParents(child, null, null);\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (let i = startIndex; i <= endIndex; i++) {\r\n                const item = childNodes[i];\r\n\r\n                if (item.length === 0 || (item.nodeType === 3 && item.data === undefined)) {\r\n                    remove(item);\r\n                    continue;\r\n                }\r\n\r\n                if (item === startCon) {\r\n                    if (startCon.nodeType === 1) {\r\n                        if (util.isComponent(startCon)) continue;\r\n                        else beforeNode = util.createTextNode(startCon.textContent);\r\n                    } else {\r\n                        if (item === endCon) {\r\n                            beforeNode = util.createTextNode(startCon.substringData(0, startOff) + endCon.substringData(endOff, (endCon.length - endOff)));\r\n                            offset = startOff;\r\n                        } else {\r\n                            beforeNode = util.createTextNode(startCon.substringData(0, startOff));\r\n                        }\r\n                    }\r\n\r\n                    if (beforeNode.length > 0) {\r\n                        startCon.data = beforeNode.data;\r\n                    } else {\r\n                        remove(startCon);\r\n                    }\r\n\r\n                    if (item === endCon) break;\r\n                    continue;\r\n                }\r\n\r\n                if (item === endCon) {\r\n                    if (endCon.nodeType === 1) {\r\n                        if (util.isComponent(endCon)) continue;\r\n                        else afterNode = util.createTextNode(endCon.textContent);\r\n                    } else {\r\n                        afterNode = util.createTextNode(endCon.substringData(endOff, (endCon.length - endOff)));\r\n                    }\r\n\r\n                    if (afterNode.length > 0) {\r\n                        endCon.data = afterNode.data;\r\n                    } else {\r\n                        remove(endCon);\r\n                    }\r\n\r\n                    continue;\r\n                }\r\n\r\n                remove(item);\r\n            }\r\n\r\n            container = endCon && endCon.parentNode ? endCon : startCon && startCon.parentNode ? startCon : (range.endContainer || range.startContainer);\r\n            \r\n            if (!util.isWysiwygDiv(container) && container.childNodes.length === 0) {\r\n                const rc = util.removeItemAllParents(container, function (current) {\r\n                    if (this.isComponent(current)) return false;\r\n                    const text = current.textContent;\r\n                    return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\r\n                }.bind(util), null);\r\n                \r\n                if (rc) container = rc.sc || rc.ec || context.element.wysiwyg;\r\n            }\r\n\r\n            // set range\r\n            this.setRange(container, offset, container, offset);\r\n            // history stack\r\n            this.history.push(true);\r\n\r\n            return {\r\n                container: container,\r\n                offset: offset,\r\n                prevContainer: startCon && startCon.parentNode ? startCon : null\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Appended all selected format Element to the argument element and insert\r\n         * @param {Element} rangeElement Element of wrap the arguments (BLOCKQUOTE...)\r\n         */\r\n        applyRangeFormatElement: function (rangeElement) {\r\n            this.getRange_addLine(this.getRange(), null);\r\n            const rangeLines = this.getSelectedElementsAndComponents(false);\r\n            if (!rangeLines || rangeLines.length === 0) return;\r\n\r\n            linesLoop:\r\n            for (let i = 0, len = rangeLines.length, line, nested, fEl, lEl, f, l; i < len; i++) {\r\n                line = rangeLines[i];\r\n                if (!util.isListCell(line)) continue;\r\n\r\n                nested = line.lastElementChild;\r\n                if (nested && util.isListCell(line.nextElementSibling) && rangeLines.indexOf(line.nextElementSibling) > -1) {\r\n                    lEl = nested.lastElementChild;\r\n                    if (rangeLines.indexOf(lEl) > -1) {\r\n                        let list = null;\r\n                        while ((list = lEl.lastElementChild)) {\r\n                            if (util.isList(list)) {\r\n                                if (rangeLines.indexOf(list.lastElementChild) > -1) {\r\n                                    lEl = list.lastElementChild;\r\n                                } else {\r\n                                    continue linesLoop;\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        fEl = nested.firstElementChild;\r\n                        f = rangeLines.indexOf(fEl);\r\n                        l = rangeLines.indexOf(lEl);\r\n                        rangeLines.splice(f, (l - f) + 1);\r\n                        len = rangeLines.length;\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n\r\n            let last  = rangeLines[rangeLines.length - 1];\r\n            let standTag, beforeTag, pElement;\r\n\r\n            if (util.isRangeFormatElement(last) || util.isFormatElement(last)) {\r\n                standTag = last;\r\n            } else {\r\n                standTag = util.getRangeFormatElement(last, null) || util.getFormatElement(last, null);\r\n            }\r\n\r\n            if (util.isCell(standTag)) {\r\n                beforeTag = null;\r\n                pElement = standTag;\r\n            } else {\r\n                beforeTag = standTag.nextSibling;\r\n                pElement = standTag.parentNode;\r\n            }\r\n            \r\n            let parentDepth = util.getElementDepth(standTag);\r\n            let listParent = null;\r\n            const lineArr = [];\r\n            const removeItems = function (parent, origin, before) {\r\n                let cc = null;\r\n                if (parent !== origin && !util.isTable(origin)) {\r\n                    if (origin && util.getElementDepth(parent) === util.getElementDepth(origin)) return before;\r\n                    cc = util.removeItemAllParents(origin, null, parent);\r\n                }\r\n\r\n                return cc ? cc.ec : before;\r\n            };\r\n            \r\n            for (let i = 0, len = rangeLines.length, line, originParent, depth, before, nextLine, nextList, nested; i < len; i++) {\r\n                line = rangeLines[i];\r\n                originParent = line.parentNode;\r\n                if (!originParent || rangeElement.contains(originParent)) continue;\r\n\r\n                depth = util.getElementDepth(line);\r\n\r\n                if (util.isList(originParent)) {\r\n                    if (listParent === null) {\r\n                        if (nextList) {\r\n                            listParent = nextList;\r\n                            nested = true;\r\n                            nextList = null;\r\n                        } else {\r\n                            listParent = originParent.cloneNode(false);\r\n                        }\r\n                    }\r\n\r\n                    lineArr.push(line);\r\n                    nextLine = rangeLines[i + 1];\r\n\r\n                    if (i === len - 1 || (nextLine && nextLine.parentNode !== originParent)) {\r\n                        // nested list\r\n                        if (nextLine && line.contains(nextLine.parentNode)) {\r\n                            nextList = nextLine.parentNode.cloneNode(false);\r\n                        }\r\n\r\n                        let list = originParent.parentNode, p;\r\n                        while (util.isList(list)) {\r\n                            p = util.createElement(list.nodeName);\r\n                            p.appendChild(listParent);\r\n                            listParent = p;\r\n                            list = list.parentNode;\r\n                        }\r\n\r\n                        const edge = this.detachRangeFormatElement(originParent, lineArr, null, true, true);\r\n\r\n                        if (parentDepth >= depth) {\r\n                            parentDepth = depth;\r\n                            pElement = edge.cc;\r\n                            beforeTag = removeItems(pElement, originParent, edge.ec);\r\n                            if (beforeTag) pElement = beforeTag.parentNode;\r\n                        } else if (pElement === edge.cc) {\r\n                            beforeTag = edge.ec;\r\n                        }\r\n\r\n                        if (pElement !== edge.cc) {\r\n                            before = removeItems(pElement, edge.cc, before);\r\n                            if (before !== undefined) beforeTag = before;\r\n                            else beforeTag = edge.cc;\r\n                        }\r\n\r\n                        for (let c = 0, cLen = edge.removeArray.length; c < cLen; c++) {\r\n                            listParent.appendChild(edge.removeArray[c]);\r\n                        }\r\n\r\n                        if (!nested) rangeElement.appendChild(listParent);\r\n                        if (nextList) edge.removeArray[edge.removeArray.length - 1].appendChild(nextList);\r\n                        listParent = null;\r\n                        nested = false;\r\n                    }\r\n                } else {\r\n                    if (parentDepth >= depth) {\r\n                        parentDepth = depth;\r\n                        pElement = originParent;\r\n                        beforeTag = line.nextSibling;\r\n                    }\r\n                    \r\n                    rangeElement.appendChild(line);\r\n\r\n                    if (pElement !== originParent) {\r\n                        before = removeItems(pElement, originParent);\r\n                        if (before !== undefined) beforeTag = before;\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.effectNode = null;\r\n            util.mergeSameTags(rangeElement, null, false);\r\n            util.mergeNestedTags(rangeElement, function (current) { return this.isList(current); }.bind(util));\r\n\r\n            // Nested list\r\n            if (beforeTag && util.getElementDepth(beforeTag) > 0 && (util.isList(beforeTag.parentNode) || util.isList(beforeTag.parentNode.parentNode))) {\r\n                const depthFormat = util.getParentElement(beforeTag, function (current) { return this.isRangeFormatElement(current) && !this.isList(current); }.bind(util));\r\n                const splitRange = util.splitElement(beforeTag, null, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\r\n                splitRange.parentNode.insertBefore(rangeElement, splitRange);\r\n            } else { // basic\r\n                pElement.insertBefore(rangeElement, beforeTag);\r\n                removeItems(rangeElement, beforeTag);\r\n            }\r\n\r\n            const edge = util.getEdgeChildNodes(rangeElement.firstElementChild, rangeElement.lastElementChild);\r\n            if (rangeLines.length > 1) {\r\n                this.setRange(edge.sc, 0, edge.ec, edge.ec.textContent.length);\r\n            } else {\r\n                this.setRange(edge.ec, edge.ec.textContent.length, edge.ec, edge.ec.textContent.length);\r\n            }\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description The elements of the \"selectedFormats\" array are detached from the \"rangeElement\" element. (\"LI\" tags are converted to \"P\" tags)\r\n         * When \"selectedFormats\" is null, all elements are detached and return {cc: parentNode, sc: nextSibling, ec: previousSibling, removeArray: [Array of removed elements]}.\r\n         * @param {Element} rangeElement Range format element (PRE, BLOCKQUOTE, OL, UL...)\r\n         * @param {Array|null} selectedFormats Array of format elements (P, DIV, LI...) to remove.\r\n         * If null, Applies to all elements and return {cc: parentNode, sc: nextSibling, ec: previousSibling}\r\n         * @param {Element|null} newRangeElement The node(rangeElement) to replace the currently wrapped node.\r\n         * @param {Boolean} remove If true, deleted without detached.\r\n         * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n         * @returns {Object}\r\n         */\r\n        detachRangeFormatElement: function (rangeElement, selectedFormats, newRangeElement, remove, notHistoryPush) {\r\n            const range = this.getRange();\r\n            const so = range.startOffset;\r\n            const eo = range.endOffset;\r\n\r\n            let children = util.getListChildNodes(rangeElement, function (current) { return current.parentNode === rangeElement; });\r\n            let parent = rangeElement.parentNode;\r\n            let firstNode = null;\r\n            let lastNode = null;\r\n            let rangeEl = rangeElement.cloneNode(false);\r\n            \r\n            const removeArray = [];\r\n            const newList = util.isList(newRangeElement);\r\n            let insertedNew = false;\r\n            let reset = false;\r\n            let moveComplete = false;\r\n\r\n            function appendNode (parent, insNode, sibling, originNode) {\r\n                if (util.onlyZeroWidthSpace(insNode)) insNode.innerHTML = util.zeroWidthSpace;\r\n\r\n                if (insNode.nodeType === 3) {\r\n                    parent.insertBefore(insNode, sibling);\r\n                    return insNode;\r\n                }\r\n                \r\n                const insChildren = (moveComplete ? insNode : originNode).childNodes;\r\n                let format = insNode.cloneNode(false);\r\n                let first = null;\r\n                let c = null;\r\n\r\n                while (insChildren[0]) {\r\n                    c = insChildren[0];\r\n                    if (util._notTextNode(c) && !util.isBreak(c) && !util.isListCell(format)) {\r\n                        if (format.childNodes.length > 0) {\r\n                            if (!first) first = format;\r\n                            parent.insertBefore(format, sibling);\r\n                            format = insNode.cloneNode(false);\r\n                        }\r\n                        parent.insertBefore(c, sibling);\r\n                        if (!first) first = c;\r\n                    } else {\r\n                        format.appendChild(c);\r\n                    }\r\n                }\r\n\r\n                if (format.childNodes.length > 0) {\r\n                    if (util.isListCell(parent) && util.isListCell(format) && util.isList(sibling)) {\r\n                        if (newList) {\r\n                            first = sibling;\r\n                            while(sibling) {\r\n                                format.appendChild(sibling);\r\n                                sibling = sibling.nextSibling;\r\n                            }\r\n                            parent.parentNode.insertBefore(format, parent.nextElementSibling);\r\n                        } else {\r\n                            const originNext = originNode.nextElementSibling;\r\n                            const detachRange = util.detachNestedList(originNode, false);\r\n                            if ((rangeElement !== detachRange) || (originNext !== originNode.nextElementSibling)) {\r\n                                const fChildren = format.childNodes;\r\n                                while (fChildren[0]) {\r\n                                    originNode.appendChild(fChildren[0]);\r\n                                }\r\n\r\n                                rangeElement = detachRange;\r\n                                reset = true;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        parent.insertBefore(format, sibling);\r\n                    }\r\n\r\n                    if (!first) first = format;\r\n                }\r\n\r\n                return first;\r\n            }\r\n\r\n            // detach loop\r\n            for (let i = 0, len = children.length, insNode, lineIndex, next; i < len; i++) {\r\n                insNode = children[i];\r\n                if (insNode.nodeType === 3 && util.isList(rangeEl)) continue;\r\n                \r\n                moveComplete = false;\r\n                if (remove && i === 0) {\r\n                    if (!selectedFormats || selectedFormats.length === len || selectedFormats[0] === insNode) {\r\n                        firstNode = rangeElement.previousSibling;\r\n                    } else {\r\n                        firstNode = rangeEl;\r\n                    }\r\n                }\r\n\r\n                if (selectedFormats) lineIndex = selectedFormats.indexOf(insNode);\r\n                if (selectedFormats && lineIndex === -1) {\r\n                    if (!rangeEl) rangeEl = rangeElement.cloneNode(false);\r\n                    rangeEl.appendChild(insNode);\r\n                } else {\r\n                    if (selectedFormats) next = selectedFormats[lineIndex + 1];\r\n                    if (rangeEl && rangeEl.children.length > 0) {\r\n                        parent.insertBefore(rangeEl, rangeElement);\r\n                        rangeEl = null;\r\n                    }\r\n\r\n                    if (!newList && util.isListCell(insNode)) {\r\n                        if (next && util.getElementDepth(insNode) !== util.getElementDepth(next) && (util.isListCell(parent) || util.getArrayItem(insNode.children, util.isList, false))) {\r\n                            const insNext = insNode.nextElementSibling;\r\n                            const detachRange = util.detachNestedList(insNode, false);\r\n                            if ((rangeElement !== detachRange) || insNext !== insNode.nextElementSibling) {\r\n                                rangeElement = detachRange;\r\n                                reset = true;\r\n                            }\r\n                        } else {\r\n                            const inner = insNode;\r\n                            insNode = util.createElement(remove ? inner.nodeName : (util.isList(rangeElement.parentNode) || util.isListCell(rangeElement.parentNode)) ? 'LI' : util.isCell(rangeElement.parentNode) ? 'DIV' : options.defaultTag);\r\n                            const isCell = util.isListCell(insNode);\r\n                            const innerChildren = inner.childNodes;\r\n                            while (innerChildren[0]) {\r\n                                if (util.isList(innerChildren[0]) && !isCell) break;\r\n                                insNode.appendChild(innerChildren[0]);\r\n                            }\r\n                            util.copyFormatAttributes(insNode, inner);\r\n                            moveComplete = true;\r\n                        }\r\n                    } else {\r\n                        insNode = insNode.cloneNode(false);\r\n                    }\r\n\r\n                    if (!reset) {\r\n                        if (!remove) {\r\n                            if (newRangeElement) {\r\n                                if (!insertedNew) {\r\n                                    parent.insertBefore(newRangeElement, rangeElement);\r\n                                    insertedNew = true;\r\n                                }\r\n                                insNode = appendNode(newRangeElement, insNode, null, children[i]);\r\n                            } else {\r\n                                insNode = appendNode(parent, insNode, rangeElement, children[i]);\r\n                            }\r\n    \r\n                            if (!reset) {\r\n                                if (selectedFormats) {\r\n                                    lastNode = insNode;\r\n                                    if (!firstNode) {\r\n                                        firstNode = insNode;\r\n                                    }\r\n                                } else if (!firstNode) {\r\n                                    firstNode = lastNode = insNode;\r\n                                }\r\n                            }\r\n                        } else {\r\n                            removeArray.push(insNode);\r\n                            util.removeItem(children[i]);\r\n                        }\r\n\r\n                        if (reset) {\r\n                            reset = moveComplete = false;\r\n                            children = util.getListChildNodes(rangeElement, function (current) { return current.parentNode === rangeElement; });\r\n                            rangeEl = rangeElement.cloneNode(false);\r\n                            parent = rangeElement.parentNode;\r\n                            i = -1;\r\n                            len = children.length;\r\n                            continue;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            const rangeParent = rangeElement.parentNode;\r\n            let rangeRight = rangeElement.nextSibling;\r\n            if (rangeEl && rangeEl.children.length > 0) {\r\n                rangeParent.insertBefore(rangeEl, rangeRight);\r\n            }\r\n            \r\n            if (newRangeElement) firstNode = newRangeElement.previousSibling;\r\n            else if (!firstNode) firstNode = rangeElement.previousSibling;\r\n            rangeRight = rangeElement.nextSibling;\r\n\r\n            if (rangeElement.children.length === 0 || rangeElement.textContent.length === 0) {\r\n                util.removeItem(rangeElement);\r\n            } else {\r\n                util.removeEmptyNode(rangeElement, null);\r\n            }\r\n\r\n            let edge = null;\r\n            if (remove) {\r\n                edge = {\r\n                    cc: rangeParent,\r\n                    sc: firstNode,\r\n                    ec: rangeRight,\r\n                    removeArray: removeArray\r\n                };\r\n            } else {\r\n                if (!firstNode) firstNode = lastNode;\r\n                if (!lastNode) lastNode = firstNode;\r\n                const childEdge = util.getEdgeChildNodes(firstNode, (lastNode.parentNode ? firstNode : lastNode));\r\n                edge = {\r\n                    cc: (childEdge.sc || childEdge.ec).parentNode,\r\n                    sc: childEdge.sc,\r\n                    ec: childEdge.ec\r\n                };\r\n            }\r\n\r\n            this.effectNode = null;\r\n            if (notHistoryPush) return edge;\r\n            \r\n            if (!remove && edge) {\r\n                if (!selectedFormats) {\r\n                    this.setRange(edge.sc, 0, edge.sc, 0);\r\n                } else {\r\n                    this.setRange(edge.sc, so, edge.ec, eo);\r\n                }\r\n            }\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description \"selectedFormats\" array are detached from the list element.\r\n         * The return value is applied when the first and last lines of \"selectedFormats\" are \"LI\" respectively.\r\n         * @param {Array} selectedFormats Array of format elements (LI, P...) to remove.\r\n         * @param {Boolean} remove If true, deleted without detached.\r\n         * @returns {Object} {sc: <LI>, ec: <LI>}.\r\n         */\r\n        detachList: function (selectedFormats, remove) {\r\n            let rangeArr = {};\r\n            let listFirst = false;\r\n            let listLast = false;\r\n            let first = null;\r\n            let last = null;\r\n            const passComponent = function (current) { return !this.isComponent(current); }.bind(util);\r\n\r\n            for (let i = 0, len = selectedFormats.length, r, o, lastIndex, isList; i < len; i++) {\r\n                lastIndex = i === len - 1;\r\n                o = util.getRangeFormatElement(selectedFormats[i], passComponent);\r\n                isList = util.isList(o);\r\n                if (!r && isList) {\r\n                    r = o;\r\n                    rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\r\n                    if (i === 0) listFirst = true;\r\n                } else if (r && isList) {\r\n                    if (r !== o) {\r\n                        const edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\r\n                        o = selectedFormats[i].parentNode;\r\n                        if (listFirst) {\r\n                            first = edge.sc;\r\n                            listFirst = false;\r\n                        }\r\n                        if (lastIndex) last = edge.ec;\r\n\r\n                        if (isList) {\r\n                            r = o;\r\n                            rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\r\n                            if (lastIndex) listLast = true;\r\n                        } else {\r\n                            r = null;\r\n                        }\r\n                    } else {\r\n                        rangeArr.f.push(util.getParentElement(selectedFormats[i], 'LI'));\r\n                        if (lastIndex) listLast = true;\r\n                    }\r\n                }\r\n\r\n                if (lastIndex && util.isList(r)) {\r\n                    const edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\r\n                    if (listLast || len === 1) last = edge.ec;\r\n                    if (listFirst) first = edge.sc || last;\r\n                }\r\n            }\r\n\r\n            return {\r\n                sc: first,\r\n                ec: last\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Add, update, and delete nodes from selected text.\r\n         * 1. If there is a node in the \"appendNode\" argument, a node with the same tags and attributes as \"appendNode\" is added to the selection text.\r\n         * 2. If it is in the same tag, only the tag's attributes are changed without adding a tag.\r\n         * 3. If the \"appendNode\" argument is null, the node of the selection is update or remove without adding a new node.\r\n         * 4. The same style as the style attribute of the \"styleArray\" argument is deleted.\r\n         *    (Styles should be put with attribute names from css. [\"background-color\"])\r\n         * 5. The same class name as the class attribute of the \"styleArray\" argument is deleted.\r\n         *    (The class name is preceded by \".\" [\".className\"])\r\n         * 6. Use a list of styles and classes of \"appendNode\" in \"styleArray\" to avoid duplicate property values.\r\n         * 7. If a node with all styles and classes removed has the same tag name as \"appendNode\" or \"removeNodeArray\", or \"appendNode\" is null, that node is deleted.\r\n         * 8. Regardless of the style and class of the node, the tag with the same name as the \"removeNodeArray\" argument value is deleted.\r\n         * 9. If the \"strictRemove\" argument is true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n         *10. It won't work if the parent node has the same class and same value style.\r\n         *    However, if there is a value in \"removeNodeArray\", it works and the text node is separated even if there is no node to replace.\r\n         * @param {Element|null} appendNode The element to be added to the selection. If it is null, only delete the node.\r\n         * @param {Array|null} styleArray The style or className attribute name Array to check (['font-size'], ['.className'], ['font-family', 'color', '.className']...])\r\n         * @param {Array|null} removeNodeArray An array of node names to remove types from, remove all formats when \"appendNode\" is null and there is an empty array or null value. (['span'], ['strong', 'em'] ...])\r\n         * @param {Boolean|null} strictRemove If true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n         */\r\n        nodeChange: function (appendNode, styleArray, removeNodeArray, strictRemove) {\r\n            this._resetRangeToTextNode();\r\n            let range = this.getRange_addLine(this.getRange(), null);\r\n            styleArray = styleArray && styleArray.length > 0 ? styleArray : false;\r\n            removeNodeArray = removeNodeArray && removeNodeArray.length > 0 ? removeNodeArray : false;\r\n            \r\n            const isRemoveNode = !appendNode;\r\n            const isRemoveFormat = isRemoveNode && !removeNodeArray && !styleArray;\r\n            let startCon = range.startContainer;\r\n            let startOff = range.startOffset;\r\n            let endCon = range.endContainer;\r\n            let endOff = range.endOffset;\r\n\r\n            if ((isRemoveFormat && range.collapsed && util.isFormatElement(startCon.parentNode) && util.isFormatElement(endCon.parentNode)) || (startCon === endCon && startCon.nodeType === 1 && util.isNonEditable(startCon))) {\r\n                return;\r\n            }\r\n\r\n            if (range.collapsed && !isRemoveFormat) {\r\n                if (startCon.nodeType === 1 && !util.isBreak(startCon) && !util.isComponent(startCon)) {\r\n                    let afterNode = null;\r\n                    const focusNode = startCon.childNodes[startOff];\r\n\r\n                    if (focusNode) {\r\n                        if (!focusNode.nextSibling) {\r\n                            afterNode = null;\r\n                        } else {\r\n                            afterNode = util.isBreak(focusNode) ? focusNode : focusNode.nextSibling;\r\n                        }\r\n                    }\r\n\r\n                    const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                    startCon.insertBefore(zeroWidth, afterNode);\r\n                    this.setRange(zeroWidth, 1, zeroWidth, 1);\r\n\r\n                    range = this.getRange();\r\n                    startCon = range.startContainer;\r\n                    startOff = range.startOffset;\r\n                    endCon = range.endContainer;\r\n                    endOff = range.endOffset;\r\n                }\r\n            }\r\n\r\n            if (util.isFormatElement(startCon)) {\r\n                startCon = startCon.childNodes[startOff] || startCon.firstChild;\r\n                startOff = 0;\r\n            }\r\n            if (util.isFormatElement(endCon)) {\r\n                endCon = endCon.childNodes[endOff] || endCon.lastChild;\r\n                endOff = endCon.textContent.length;\r\n            }\r\n\r\n            if (isRemoveNode) {\r\n                appendNode = util.createElement('DIV');\r\n            }\r\n\r\n            const wRegExp = _w.RegExp;\r\n            const newNodeName = appendNode.nodeName;\r\n\r\n            /* checked same style property */\r\n            if (!isRemoveFormat && startCon === endCon && !removeNodeArray && appendNode) {\r\n                let sNode = startCon;\r\n                let checkCnt = 0;\r\n                const checkAttrs = [];\r\n                \r\n                const checkStyles = appendNode.style;\r\n                for (let i = 0, len = checkStyles.length; i < len; i++) {\r\n                    checkAttrs.push(checkStyles[i]);\r\n                }\r\n\r\n                const ckeckClasses = appendNode.classList;\r\n                for (let i = 0, len = ckeckClasses.length; i < len; i++) {\r\n                    checkAttrs.push('.' + ckeckClasses[i]);\r\n                }\r\n\r\n                if (checkAttrs.length > 0) {\r\n                    while(!util.isFormatElement(sNode) && !util.isWysiwygDiv(sNode)) {\r\n                        for (let i = 0; i < checkAttrs.length; i++) {\r\n                            if (sNode.nodeType === 1) {\r\n                                const s = checkAttrs[i];\r\n                                const classReg = /^\\./.test(s) ? new wRegExp('\\\\s*' + s.replace(/^\\./, '') + '(\\\\s+|$)', 'ig') : false;\r\n    \r\n                                const styleCheck = isRemoveNode ? !!sNode.style[s] : (!!sNode.style[s] && !!appendNode.style[s] && sNode.style[s] === appendNode.style[s]);\r\n                                const classCheck = classReg === false ? false : isRemoveNode ? !!sNode.className.match(classReg) : !!sNode.className.match(classReg) && !!appendNode.className.match(classReg);\r\n                                if (styleCheck || classCheck) {\r\n                                    checkCnt++;\r\n                                }\r\n                            }\r\n                        }\r\n                        sNode = sNode.parentNode;\r\n                    }\r\n    \r\n                    if (checkCnt >= checkAttrs.length) return;\r\n                }\r\n            }\r\n\r\n            let start = {}, end = {};\r\n            let newNode, styleRegExp = '', classRegExp = '', removeNodeRegExp = '';\r\n\r\n            if (styleArray) {\r\n                for (let i = 0, len = styleArray.length, s; i < len; i++) {\r\n                    s = styleArray[i];\r\n                    if (/^\\./.test(s)) {\r\n                        classRegExp += (classRegExp ? '|' : '\\\\s*(?:') + s.replace(/^\\./, '');\r\n                    } else {\r\n                        styleRegExp += (styleRegExp ? '|' : '(?:;|^|\\\\s)(?:') + s;\r\n                    }\r\n                }\r\n\r\n                if (styleRegExp) {\r\n                    styleRegExp += ')\\\\s*:[^;]*\\\\s*(?:;|$)';\r\n                    styleRegExp = new wRegExp(styleRegExp, 'ig');\r\n                }\r\n\r\n                if (classRegExp) {\r\n                    classRegExp += ')(?=\\\\s+|$)';\r\n                    classRegExp = new wRegExp(classRegExp, 'ig');\r\n                }\r\n            }\r\n\r\n            if (removeNodeArray) {\r\n                removeNodeRegExp = '^(?:' + removeNodeArray[0];\r\n                for (let i = 1; i < removeNodeArray.length; i++) {\r\n                    removeNodeRegExp += '|' + removeNodeArray[i];\r\n                }\r\n                removeNodeRegExp += ')$';\r\n                removeNodeRegExp = new wRegExp(removeNodeRegExp, 'i');\r\n            }\r\n\r\n            /** validation check function*/\r\n            const wBoolean = _w.Boolean;\r\n            const _removeCheck = {v: false};\r\n            const validation = function (checkNode) {\r\n                const vNode = checkNode.cloneNode(false);\r\n\r\n                // all path\r\n                if (vNode.nodeType === 3 || util.isBreak(vNode)) return vNode;\r\n                // all remove\r\n                if (isRemoveFormat) return null;\r\n\r\n                // remove node check\r\n                const tagRemove = (!removeNodeRegExp && isRemoveNode) || (removeNodeRegExp && removeNodeRegExp.test(vNode.nodeName));\r\n\r\n                // tag remove\r\n                if (tagRemove && !strictRemove) {\r\n                    _removeCheck.v = true;\r\n                    return null;\r\n                }\r\n\r\n                // style regexp\r\n                const originStyle = vNode.style.cssText;\r\n                let style = '';\r\n                if (styleRegExp && originStyle.length > 0) {\r\n                    style = originStyle.replace(styleRegExp, '').trim();\r\n                    if (style !== originStyle) _removeCheck.v = true;\r\n                }\r\n\r\n                // class check\r\n                const originClasses = vNode.className;\r\n                let classes = '';\r\n                if (classRegExp && originClasses.length > 0) {\r\n                    classes = originClasses.replace(classRegExp, '').trim();\r\n                    if (classes !== originClasses) _removeCheck.v = true;\r\n                }\r\n\r\n                // remove only\r\n                if (isRemoveNode) {\r\n                    if ((classRegExp || !originClasses) && (styleRegExp || !originStyle) && !style && !classes && tagRemove) {\r\n                        _removeCheck.v = true;\r\n                        return null;\r\n                    }\r\n                }\r\n\r\n                // change\r\n                if (style || classes || vNode.nodeName !== newNodeName || (wBoolean(styleRegExp) !== wBoolean(originStyle)) || (wBoolean(classRegExp) !== wBoolean(originClasses))) {\r\n                    if (styleRegExp && originStyle.length > 0) vNode.style.cssText = style;\r\n                    if (!vNode.style.cssText) {\r\n                        vNode.removeAttribute('style');\r\n                    }\r\n\r\n                    if (classRegExp && originClasses.length > 0) vNode.className = classes.trim();\r\n                    if (!vNode.className.trim()) {\r\n                        vNode.removeAttribute('class');\r\n                    }\r\n\r\n                    if (!vNode.style.cssText && !vNode.className && (vNode.nodeName === newNodeName || tagRemove)) {\r\n                        _removeCheck.v = true;\r\n                        return null;\r\n                    }\r\n\r\n                    return vNode;\r\n                }\r\n\r\n                _removeCheck.v = true;\r\n                return null;\r\n            };\r\n\r\n            // get line nodes\r\n            const lineNodes = this.getSelectedElements(null);\r\n            range = this.getRange();\r\n            startCon = range.startContainer;\r\n            startOff = range.startOffset;\r\n            endCon = range.endContainer;\r\n            endOff = range.endOffset;\r\n\r\n            if (!util.getFormatElement(startCon, null)) {\r\n                startCon = util.getChildElement(lineNodes[0], function (current) { return current.nodeType === 3; }, false);\r\n                startOff = 0;\r\n            }\r\n\r\n            if (!util.getFormatElement(endCon, null)) {\r\n                endCon = util.getChildElement(lineNodes[lineNodes.length - 1], function (current) { return current.nodeType === 3; }, false);\r\n                endOff = endCon.textContent.length;\r\n            }\r\n\r\n            \r\n            const oneLine = util.getFormatElement(startCon, null) === util.getFormatElement(endCon, null);\r\n            const endLength = lineNodes.length - (oneLine ? 0 : 1);\r\n\r\n            // node Changes\r\n            newNode = appendNode.cloneNode(false);\r\n\r\n            const isRemoveAnchor = isRemoveFormat || (isRemoveNode && (function (arr) {\r\n                for (let n = 0, len = arr.length; n < len; n++) {\r\n                    if (util._isMaintainedNode(arr[n]) || util._isSizeNode(arr[n])) return true;\r\n                }\r\n                return false;\r\n            })(removeNodeArray));\r\n\r\n            const isSizeNode = isRemoveNode || util._isSizeNode(newNode);\r\n            const _getMaintainedNode = this._util_getMaintainedNode.bind(util, isRemoveAnchor, isSizeNode);\r\n            const _isMaintainedNode = this._util_isMaintainedNode.bind(util, isRemoveAnchor, isSizeNode);\r\n\r\n            // one line\r\n            if (oneLine) {\r\n                const newRange = this._nodeChange_oneLine(lineNodes[0], newNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, range.collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode);\r\n                start.container = newRange.startContainer;\r\n                start.offset = newRange.startOffset;\r\n                end.container = newRange.endContainer;\r\n                end.offset = newRange.endOffset;\r\n                if (start.container === end.container && util.onlyZeroWidthSpace(start.container)) {\r\n                    start.offset = end.offset = 1;\r\n                }\r\n                this._setCommonListStyle(newRange.ancestor, null);\r\n            } else { // multi line \r\n                // end\r\n                if (endLength > 0) {\r\n                    newNode = appendNode.cloneNode(false);\r\n                    end = this._nodeChange_endLine(lineNodes[endLength], newNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode);\r\n                }\r\n\r\n                // mid\r\n                for (let i = endLength - 1, newRange; i > 0; i--) {\r\n                    newNode = appendNode.cloneNode(false);\r\n                    newRange = this._nodeChange_middleLine(lineNodes[i], newNode, validation, isRemoveFormat, isRemoveNode, _removeCheck, end.container);\r\n                    if (newRange.endContainer) {\r\n                        end.ancestor = null;\r\n                        end.container = newRange.endContainer;\r\n                    }\r\n                    this._setCommonListStyle(newRange.ancestor, null);\r\n                }\r\n\r\n                // start\r\n                newNode = appendNode.cloneNode(false);\r\n                start = this._nodeChange_startLine(lineNodes[0], newNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode, end.container);\r\n\r\n                if (start.endContainer) {\r\n                    end.ancestor = null;\r\n                    end.container = start.endContainer;\r\n                }\r\n\r\n                if (endLength <= 0) {\r\n                    end = start;\r\n                } else if (!end.container) {\r\n                    end.ancestor = null;\r\n                    end.container = start.container;\r\n                    end.offset = start.container.textContent.length;\r\n                }\r\n\r\n                this._setCommonListStyle(start.ancestor, null);\r\n                this._setCommonListStyle(end.ancestor || util.getFormatElement(end.container), null);\r\n            }\r\n\r\n            // set range\r\n            this.controllersOff();\r\n            this.setRange(start.container, start.offset, end.container, end.offset);\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description If certain styles are applied to all child nodes of the list cell, the style of the list cell is also changed. (bold, color, size)\r\n         * @param {Element} el List cell element. <li>\r\n         * @param {Element|null} child Variable for recursive call. (\"null\" on the first call)\r\n         * @private\r\n         */\r\n        _setCommonListStyle: function (el, child) {\r\n            if (!util.isListCell(el)) return;\r\n            if (!child) el.removeAttribute('style');\r\n            \r\n            const children = util.getArrayItem((child || el).childNodes, function (current) { return !util.isBreak(current) && !util.onlyZeroWidthSpace(current.textContent.trim()); }, true);\r\n            if (children[0] && children.length === 1){\r\n                child = children[0];\r\n                if (!child || child.nodeType !== 1) return;\r\n\r\n                const childStyle = child.style;\r\n                const elStyle = el.style;\r\n\r\n                // bold\r\n                if (/STRONG/i.test(child.nodeName)) elStyle.fontWeight = 'bold'; // bold\r\n                else if (childStyle.fontWeight) elStyle.fontWeight = childStyle.fontWeight;\r\n\r\n                // styles\r\n                if (childStyle.color) elStyle.color = childStyle.color; // color\r\n                if (childStyle.fontSize) elStyle.fontSize = childStyle.fontSize; // size\r\n\r\n                this._setCommonListStyle(el, child);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Strip remove node\r\n         * @param {Node} removeNode The remove node\r\n         * @private\r\n         */\r\n        _stripRemoveNode: function (removeNode) {\r\n            const element = removeNode.parentNode;\r\n            if (!removeNode || removeNode.nodeType === 3 || !element) return;\r\n            \r\n            const children = removeNode.childNodes;\r\n            while (children[0]) {\r\n                element.insertBefore(children[0], removeNode);\r\n            }\r\n\r\n            element.removeChild(removeNode);\r\n        },\r\n\r\n        /**\r\n         * @description Return the parent maintained tag. (bind and use a util object)\r\n         * @param {Element} element Element\r\n         * @returns {Element}\r\n         * @private\r\n         */\r\n        _util_getMaintainedNode: function (_isRemove, _isSizeNode, element) {\r\n            if (!element || _isRemove) return null;\r\n            return this.getParentElement(element, this._isMaintainedNode.bind(this)) || (!_isSizeNode ? this.getParentElement(element, this._isSizeNode.bind(this)) : null);\r\n        },\r\n\r\n        /**\r\n         * @description Check if element is a tag that should be persisted. (bind and use a util object)\r\n         * @param {Element} element Element\r\n         * @returns {Element}\r\n         * @private\r\n         */\r\n        _util_isMaintainedNode: function (_isRemove, _isSizeNode, element) {\r\n            if (!element || _isRemove || element.nodeType !== 1) return false;\r\n            const anchor = this._isMaintainedNode(element);\r\n            return this.getParentElement(element, this._isMaintainedNode.bind(this)) ? anchor : (anchor || (!_isSizeNode ? this._isSizeNode(element) : false));\r\n        },\r\n\r\n        /**\r\n         * @description wraps text nodes of line selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Node} startCon The startContainer property of the selection object.\r\n         * @param {Number} startOff The startOffset property of the selection object.\r\n         * @param {Node} endCon The endContainer property of the selection object.\r\n         * @param {Number} endOff The endOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @param {Boolean} collapsed range.collapsed\r\n         * @returns {{ancestor: *, startContainer: *, startOffset: *, endContainer: *, endOffset: *}}\r\n         * @private\r\n         */\r\n        _nodeChange_oneLine: function (element, newInnerNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\r\n            // not add tag\r\n            let parentCon = startCon.parentNode;\r\n            while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\r\n                if (parentCon.nodeName === newInnerNode.nodeName) break;\r\n                parentCon = parentCon.parentNode;\r\n            }\r\n\r\n            if (!isRemoveNode && parentCon === endCon.parentNode && parentCon.nodeName === newInnerNode.nodeName) {\r\n                if (util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff)) && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\r\n                    const children = parentCon.childNodes;\r\n                    let sameTag = true;\r\n    \r\n                    for (let i = 0, len = children.length, c, s, e, z; i < len; i++) {\r\n                        c = children[i];\r\n                        z = !util.onlyZeroWidthSpace(c);\r\n                        if (c === startCon) {\r\n                            s = true;\r\n                            continue;\r\n                        }\r\n                        if (c === endCon) {\r\n                            e = true;\r\n                            continue;\r\n                        }\r\n                        if ((!s && z) || (s && e && z)) {\r\n                            sameTag = false;\r\n                            break;\r\n                        }\r\n                    }\r\n    \r\n                    if (sameTag) {\r\n                        util.copyTagAttributes(parentCon, newInnerNode);\r\n        \r\n                        return {\r\n                            startContainer: startCon,\r\n                            startOffset: startOff,\r\n                            endContainer: endCon,\r\n                            endOffset: endOff\r\n                        };\r\n                    }\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const el = element;\r\n            const nNodeArray = [newInnerNode];\r\n            const pNode = element.cloneNode(false);\r\n            const isSameNode = startCon === endCon;\r\n            let startContainer = startCon;\r\n            let startOffset = startOff;\r\n            let endContainer = endCon;\r\n            let endOffset = endOff;\r\n            let startPass = false;\r\n            let endPass = false;\r\n            let pCurrent, newNode, appendNode, cssText, anchorNode;\r\n\r\n            const wRegExp = _w.RegExp;\r\n            function checkCss (vNode) {\r\n                const regExp = new wRegExp('(?:;|^|\\\\s)(?:' + cssText + 'null)\\\\s*:[^;]*\\\\s*(?:;|$)', 'ig');\r\n                let style = '';\r\n\r\n                if (regExp && vNode.style.cssText.length > 0) {\r\n                    style = regExp.test(vNode.style.cssText);\r\n                }\r\n            \r\n                return !style;\r\n            }\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = 0, len = childNodes.length, vNode; i < len; i++) {\r\n                    let child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n                    let cloneNode;\r\n\r\n                    // startContainer\r\n                    if (!startPass && child === startContainer) {\r\n                        let line = pNode;\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const prevNode = util.createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(0, startOffset));\r\n                        const textNode = util.createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(startOffset, \r\n                                isSameNode ? \r\n                                (endOffset >= startOffset ? endOffset - startOffset : startContainer.data.length - startOffset) : \r\n                                startContainer.data.length - startOffset)\r\n                            );\r\n\r\n                        if (anchorNode) {\r\n                            const a = _getMaintainedNode(ancestor);\r\n                            if (a && a.parentNode !== line) {\r\n                                let m = a;\r\n                                let p = null;\r\n                                while (m.parentNode !== line) {\r\n                                    ancestor = p = m.parentNode.cloneNode(false);\r\n                                    while(m.childNodes[0]) {\r\n                                        p.appendChild(m.childNodes[0]);\r\n                                    }\r\n                                    m.appendChild(p);\r\n                                    m = m.parentNode;\r\n                                }\r\n                                m.parentNode.appendChild(a);\r\n                            }\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        }\r\n                        \r\n                        if (!util.onlyZeroWidthSpace(prevNode)) {\r\n                            ancestor.appendChild(prevNode);\r\n                        }\r\n\r\n                        const prevAnchorNode = _getMaintainedNode(ancestor);\r\n                        if (!!prevAnchorNode) anchorNode = prevAnchorNode;\r\n                        if (anchorNode) line = anchorNode;\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        while (newNode !== line && newNode !== el && newNode !== null) {\r\n                            vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                pCurrent.push(vNode);\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || textNode;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        newInnerNode.appendChild(childNode);\r\n                        line.appendChild(newInnerNode);\r\n\r\n                        if (anchorNode && !_getMaintainedNode(endContainer)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        startContainer = textNode;\r\n                        startOffset = 0;\r\n                        startPass = true;\r\n\r\n                        if (newNode !== textNode) newNode.appendChild(startContainer);\r\n                        if (!isSameNode) continue;\r\n                    }\r\n\r\n                    // endContainer\r\n                    if (!endPass && child === endContainer) {\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const afterNode = util.createTextNode(endContainer.nodeType === 1 ? '' : endContainer.substringData(endOffset, (endContainer.length - endOffset)));\r\n                        const textNode = util.createTextNode(isSameNode || endContainer.nodeType === 1 ? '' : endContainer.substringData(0, endOffset));\r\n\r\n                        if (anchorNode) {\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        if (!util.onlyZeroWidthSpace(afterNode)) {\r\n                            newNode = child;\r\n                            cssText = '';\r\n                            pCurrent = [];\r\n                            const anchors = [];\r\n                            while (newNode !== pNode && newNode !== el && newNode !== null) {\r\n                                if (newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                    if (_isMaintainedNode(newNode)) anchors.push(newNode.cloneNode(false));\r\n                                    else pCurrent.push(newNode.cloneNode(false));\r\n                                    cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                                }\r\n                                newNode = newNode.parentNode;\r\n                            }\r\n                            pCurrent = pCurrent.concat(anchors);\r\n\r\n                            cloneNode = appendNode = newNode = pCurrent.pop() || afterNode;\r\n                            while (pCurrent.length > 0) {\r\n                                newNode = pCurrent.pop();\r\n                                appendNode.appendChild(newNode);\r\n                                appendNode = newNode;\r\n                            }\r\n\r\n                            pNode.appendChild(cloneNode);\r\n                            newNode.textContent = afterNode.data;\r\n                        }\r\n\r\n                        if (anchorNode && cloneNode) {\r\n                            const afterAnchorNode = _getMaintainedNode(cloneNode);\r\n                            if (afterAnchorNode) {\r\n                                anchorNode = afterAnchorNode;\r\n                            }\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        while (newNode !== pNode && newNode !== el && newNode !== null) {\r\n                            vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                pCurrent.push(vNode);\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || textNode;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (anchorNode) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            newInnerNode.appendChild(childNode);\r\n                            anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\r\n                            pNode.appendChild(anchorNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                            anchorNode = null;\r\n                        } else {\r\n                            newInnerNode.appendChild(childNode);\r\n                        }\r\n\r\n                        endContainer = textNode;\r\n                        endOffset = textNode.data.length;\r\n                        endPass = true;\r\n\r\n                        if (!isRemoveFormat && collapsed) {\r\n                            newInnerNode = textNode;\r\n                            textNode.textContent = util.zeroWidthSpace;\r\n                        }\r\n\r\n                        if (newNode !== textNode) newNode.appendChild(endContainer);\r\n                        continue;\r\n                    }\r\n\r\n                    // other\r\n                    if (startPass) {\r\n                        if (child.nodeType === 1 && !util.isBreak(child)) {\r\n                            if (util._isIgnoreNodeChange(child)) {\r\n                                pNode.appendChild(child.cloneNode(true));\r\n                                if (!collapsed) {\r\n                                    newInnerNode = newInnerNode.cloneNode(false);\r\n                                    pNode.appendChild(newInnerNode);\r\n                                    nNodeArray.push(newInnerNode);\r\n                                }\r\n                            } else {\r\n                                recursionFunc(child, child);\r\n                            }\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        const anchors = [];\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            vNode = endPass ? newNode.cloneNode(false) : validation(newNode);\r\n                            if (newNode.nodeType === 1 && !util.isBreak(child) && vNode && checkCss(newNode)) {\r\n                                if (_isMaintainedNode(newNode)) {\r\n                                    if (!anchorNode) anchors.push(vNode);\r\n                                } else {\r\n                                    pCurrent.push(vNode);\r\n                                }\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n                        pCurrent = pCurrent.concat(anchors);\r\n\r\n                        const childNode = pCurrent.pop() || child;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n                        \r\n                        if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode) && !util.onlyZeroWidthSpace(newInnerNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n                        \r\n                        if (!endPass && !anchorNode && _isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            const aChildren = childNode.childNodes;\r\n                            for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\r\n                                newInnerNode.appendChild(aChildren[a]);\r\n                            }\r\n                            childNode.appendChild(newInnerNode);\r\n                            pNode.appendChild(childNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                            if (newInnerNode.children.length > 0) ancestor = newNode;\r\n                            else ancestor = newInnerNode;\r\n                        } else if (childNode === child) {\r\n                            if (!endPass) ancestor = newInnerNode;\r\n                            else ancestor = pNode;\r\n                        } else if (endPass) {\r\n                            pNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            newInnerNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        }\r\n\r\n                        if (anchorNode && child.nodeType === 3) {\r\n                            if (_getMaintainedNode(child)) {\r\n                                const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;}.bind(util));\r\n                                anchorNode.appendChild(ancestorAnchorNode);\r\n                                newInnerNode = ancestorAnchorNode.cloneNode(false);\r\n                                nNodeArray.push(newInnerNode);\r\n                                pNode.appendChild(newInnerNode);\r\n                            } else {\r\n                                anchorNode = null;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    cloneNode = child.cloneNode(false);\r\n                    ancestor.appendChild(cloneNode);\r\n                    if (child.nodeType === 1 && !util.isBreak(child)) coverNode = cloneNode;\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            // not remove tag\r\n            if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\r\n                return {\r\n                    ancestor: element,\r\n                    startContainer: startCon,\r\n                    startOffset: startOff,\r\n                    endContainer: endCon,\r\n                    endOffset: endOff\r\n                };\r\n            }\r\n\r\n            isRemoveFormat = isRemoveFormat && isRemoveNode;\r\n\r\n            if (isRemoveFormat) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n                    let textNode, textNode_s, textNode_e;\r\n                    \r\n                    if (collapsed) {\r\n                        textNode = util.createTextNode(util.zeroWidthSpace);\r\n                        pNode.replaceChild(textNode, removeNode);\r\n                    } else {\r\n                        const rChildren = removeNode.childNodes;\r\n                        textNode_s = rChildren[0];\r\n                        while (rChildren[0]) {\r\n                            textNode_e = rChildren[0];\r\n                            pNode.insertBefore(textNode_e, removeNode);\r\n                        }\r\n                        util.removeItem(removeNode);\r\n                    }\r\n\r\n                    if (i === 0) {\r\n                        if (collapsed) {\r\n                            startContainer = endContainer = textNode;\r\n                        } else {\r\n                            startContainer = textNode_s;\r\n                            endContainer = textNode_e;\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                if (isRemoveNode) {\r\n                    for (let i = 0; i < nNodeArray.length; i++) {\r\n                        this._stripRemoveNode(nNodeArray[i]);\r\n                    }\r\n                }\r\n                \r\n                if (collapsed) {\r\n                    startContainer = endContainer = newInnerNode;\r\n                }\r\n            }\r\n\r\n            util.removeEmptyNode(pNode, newInnerNode);\r\n\r\n            if (collapsed) {\r\n                startOffset = startContainer.textContent.length;\r\n                endOffset = endContainer.textContent.length;\r\n            }\r\n\r\n            // endContainer reset\r\n            const endConReset = isRemoveFormat || endContainer.textContent.length === 0;\r\n\r\n            if (!util.isBreak(endContainer) && endContainer.textContent.length === 0) {\r\n                util.removeItem(endContainer);\r\n                endContainer = startContainer;\r\n            }\r\n            endOffset = endConReset ? endContainer.textContent.length : endOffset;\r\n\r\n            // node change\r\n            const newStartOffset = {s: 0, e: 0};\r\n            const startPath = util.getNodePath(startContainer, pNode, newStartOffset);\r\n\r\n            const mergeEndCon = !endContainer.parentNode;\r\n            if (mergeEndCon) endContainer = startContainer;\r\n            const newEndOffset = {s: 0, e: 0};\r\n            const endPath = util.getNodePath(endContainer , pNode, (!mergeEndCon && !endConReset) ? newEndOffset : null);\r\n\r\n            startOffset += newStartOffset.s;\r\n            endOffset = (collapsed ? startOffset : mergeEndCon ? startContainer.textContent.length : endConReset ? endOffset + newStartOffset.s : endOffset + newEndOffset.s);\r\n\r\n            // tag merge\r\n            const newOffsets = util.mergeSameTags(pNode, [startPath, endPath], true);\r\n\r\n            element.parentNode.replaceChild(pNode, element);\r\n\r\n            startContainer = util.getNodeFromPath(startPath, pNode);\r\n            endContainer = util.getNodeFromPath(endPath, pNode);\r\n\r\n            return {\r\n                ancestor: pNode,\r\n                startContainer: startContainer,\r\n                startOffset: startOffset + newOffsets[0],\r\n                endContainer: endContainer,\r\n                endOffset: endOffset + newOffsets[1]\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description wraps first line selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Node} startCon The startContainer property of the selection object.\r\n         * @param {Number} startOff The startOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @returns {null|Node} If end container is renewed, returned renewed node\r\n         * @returns {Object} { ancestor, container, offset, endContainer }\r\n         * @private\r\n         */\r\n        _nodeChange_startLine: function (element, newInnerNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode, _endContainer) {\r\n            // not add tag\r\n            let parentCon = startCon.parentNode;\r\n            while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\r\n                if (parentCon.nodeName === newInnerNode.nodeName) break;\r\n                parentCon = parentCon.parentNode;\r\n            }\r\n\r\n            if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.nextSibling && util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff))) {\r\n                let sameTag = true;\r\n                let s = startCon.previousSibling;\r\n                while (s) {\r\n                    if (!util.onlyZeroWidthSpace(s)) {\r\n                        sameTag = false;\r\n                        break;\r\n                    }\r\n                    s = s.previousSibling;\r\n                }\r\n\r\n                if (sameTag) {\r\n                    util.copyTagAttributes(parentCon, newInnerNode);\r\n    \r\n                    return {\r\n                        ancestor: element,\r\n                        container: startCon,\r\n                        offset: startOff\r\n                    };\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const el = element;\r\n            const nNodeArray = [newInnerNode];\r\n            const pNode = element.cloneNode(false);\r\n\r\n            let container = startCon;\r\n            let offset = startOff;\r\n            let passNode = false;\r\n            let pCurrent, newNode, appendNode, anchorNode;\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = 0, len = childNodes.length, vNode, cloneChild; i < len; i++) {\r\n                    const child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n\r\n                    if (passNode && !util.isBreak(child)) {\r\n                        if (child.nodeType === 1) {\r\n                            if (util._isIgnoreNodeChange(child)) {\r\n                                newInnerNode = newInnerNode.cloneNode(false);\r\n                                cloneChild = child.cloneNode(true);\r\n                                pNode.appendChild(cloneChild);\r\n                                pNode.appendChild(newInnerNode);\r\n                                nNodeArray.push(newInnerNode);\r\n\r\n                                // end container\r\n                                if (_endContainer && child.contains(_endContainer)) {\r\n                                    const endPath = util.getNodePath(_endContainer, child);\r\n                                    _endContainer = util.getNodeFromPath(endPath, cloneChild);\r\n                                }\r\n                            } else {\r\n                                recursionFunc(child, child);\r\n                            }\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        const anchors = [];\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            vNode = validation(newNode);\r\n                            if (newNode.nodeType === 1 && vNode) {\r\n                                if (_isMaintainedNode(newNode)) {\r\n                                    if (!anchorNode) anchors.push(vNode);\r\n                                } else {\r\n                                    pCurrent.push(vNode);\r\n                                }\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n                        pCurrent = pCurrent.concat(anchors);\r\n\r\n                        const isTopNode = pCurrent.length > 0;\r\n                        const childNode = pCurrent.pop() || child;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n                        \r\n                        if (!anchorNode && _isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            const aChildren = childNode.childNodes;\r\n                            for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\r\n                                newInnerNode.appendChild(aChildren[a]);\r\n                            }\r\n                            childNode.appendChild(newInnerNode);\r\n                            pNode.appendChild(childNode);\r\n                            ancestor = !_isMaintainedNode(newNode) ? newNode : newInnerNode;\r\n                            nNodeArray.push(newInnerNode);\r\n                        } else if (isTopNode) {\r\n                            newInnerNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (anchorNode && child.nodeType === 3) {\r\n                            if (_getMaintainedNode(child)) {\r\n                                const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;}.bind(util));\r\n                                anchorNode.appendChild(ancestorAnchorNode);\r\n                                newInnerNode = ancestorAnchorNode.cloneNode(false);\r\n                                nNodeArray.push(newInnerNode);\r\n                                pNode.appendChild(newInnerNode);\r\n                            } else {\r\n                                anchorNode = null;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // startContainer\r\n                    if (!passNode && child === container) {\r\n                        let line = pNode;\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const prevNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\r\n                        const textNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, (container.length - offset)));\r\n\r\n                        if (anchorNode) {\r\n                            const a = _getMaintainedNode(ancestor);\r\n                            if (a && a.parentNode !== line) {\r\n                                let m = a;\r\n                                let p = null;\r\n                                while (m.parentNode !== line) {\r\n                                    ancestor = p = m.parentNode.cloneNode(false);\r\n                                    while(m.childNodes[0]) {\r\n                                        p.appendChild(m.childNodes[0]);\r\n                                    }\r\n                                    m.appendChild(p);\r\n                                    m = m.parentNode;\r\n                                }\r\n                                m.parentNode.appendChild(a);\r\n                            }\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        }\r\n\r\n                        if (!util.onlyZeroWidthSpace(prevNode)) {\r\n                            ancestor.appendChild(prevNode);\r\n                        }\r\n\r\n                        const prevAnchorNode = _getMaintainedNode(ancestor);\r\n                        if (!!prevAnchorNode) anchorNode = prevAnchorNode;\r\n                        if (anchorNode) line = anchorNode;\r\n\r\n                        newNode = ancestor;\r\n                        pCurrent = [];\r\n                        while (newNode !== line && newNode !== null) {\r\n                            vNode = validation(newNode);\r\n                            if (newNode.nodeType === 1 && vNode) {\r\n                                pCurrent.push(vNode);\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || ancestor;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (childNode !== ancestor) {\r\n                            newInnerNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\r\n                        line.appendChild(newInnerNode);\r\n\r\n                        container = textNode;\r\n                        offset = 0;\r\n                        passNode = true;\r\n\r\n                        ancestor.appendChild(container);\r\n                        continue;\r\n                    }\r\n\r\n                    vNode = !passNode ? child.cloneNode(false) : validation(child);\r\n                    if (vNode) {\r\n                        ancestor.appendChild(vNode);\r\n                        if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\r\n                    }\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            // not remove tag\r\n            if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\r\n                return {\r\n                    ancestor: element,\r\n                    container: startCon,\r\n                    offset: startOff,\r\n                    endContainer: _endContainer\r\n                };\r\n            }\r\n\r\n            isRemoveFormat = isRemoveFormat && isRemoveNode;\r\n\r\n            if (isRemoveFormat) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n\r\n                    const rChildren = removeNode.childNodes;\r\n                    const textNode = rChildren[0];\r\n                    while (rChildren[0]) {\r\n                        pNode.insertBefore(rChildren[0], removeNode);\r\n                    }\r\n                    util.removeItem(removeNode);\r\n\r\n                    if (i === 0) container = textNode;\r\n                }\r\n            } else if (isRemoveNode) {\r\n                newInnerNode = newInnerNode.firstChild;\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    this._stripRemoveNode(nNodeArray[i]);\r\n                }\r\n            }\r\n\r\n            if (!isRemoveFormat && pNode.childNodes.length === 0) {\r\n                if (element.childNodes) {\r\n                    container = element.childNodes[0];\r\n                } else {\r\n                    container = util.createTextNode(util.zeroWidthSpace);\r\n                    element.appendChild(container);\r\n                }\r\n            } else {\r\n                util.removeEmptyNode(pNode, newInnerNode);\r\n\r\n                if (util.onlyZeroWidthSpace(pNode.textContent)) {\r\n                    container = pNode.firstChild;\r\n                    offset = 0;\r\n                }\r\n\r\n                // node change\r\n                const offsets = {s: 0, e: 0};\r\n                const path = util.getNodePath(container, pNode, offsets);\r\n                offset += offsets.s;\r\n\r\n                // tag merge\r\n                const newOffsets = util.mergeSameTags(pNode, [path], true);\r\n\r\n                element.parentNode.replaceChild(pNode, element);\r\n\r\n                container = util.getNodeFromPath(path, pNode);\r\n                offset += newOffsets[0];\r\n            }\r\n\r\n            return {\r\n                ancestor: pNode,\r\n                container: container,\r\n                offset: offset,\r\n                endContainer: _endContainer\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description wraps mid lines selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @param {Node} _endContainer Offset node of last line already modified (end.container)\r\n         * @returns {Object} { ancestor, endContainer: \"If end container is renewed, returned renewed node\" }\r\n         * @private\r\n         */\r\n        _nodeChange_middleLine: function (element, newInnerNode, validation, isRemoveFormat, isRemoveNode, _removeCheck, _endContainer) {\r\n            // not add tag\r\n            if (!isRemoveNode) {\r\n                // end container path\r\n                let endPath = null;\r\n                if (_endContainer && element.contains(_endContainer)) endPath = util.getNodePath(_endContainer, element);\r\n\r\n                const tempNode = element.cloneNode(true);\r\n                const newNodeName = newInnerNode.nodeName;\r\n                const newCssText = newInnerNode.style.cssText;\r\n                const newClass = newInnerNode.className;\r\n\r\n                let children = tempNode.childNodes;\r\n                let i = 0, len = children.length;\r\n                for (let child; i < len; i++) {\r\n                    child = children[i];\r\n                    if (child.nodeType === 3) break;\r\n                    if (child.nodeName === newNodeName) {\r\n                        child.style.cssText += newCssText;\r\n                        util.addClass(child, newClass);\r\n                    } else if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\r\n                        continue;\r\n                    } else if (len === 1) {\r\n                        children = child.childNodes;\r\n                        len = children.length;\r\n                        i = -1;\r\n                        continue;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (len > 0 && i === len) {\r\n                    element.innerHTML = tempNode.innerHTML;\r\n                    return {\r\n                        ancestor: element,\r\n                        endContainer: endPath ? util.getNodeFromPath(endPath, element) : null\r\n                    };\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const pNode = element.cloneNode(false);\r\n            const nNodeArray = [newInnerNode];\r\n            let noneChange = true;\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = 0, len = childNodes.length, vNode, cloneChild; i < len; i++) {\r\n                    let child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n\r\n                    if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\r\n                        if (newInnerNode.childNodes.length > 0) {\r\n                            pNode.appendChild(newInnerNode);\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                        }\r\n                        \r\n                        cloneChild = child.cloneNode(true);\r\n                        pNode.appendChild(cloneChild);\r\n                        pNode.appendChild(newInnerNode);\r\n                        nNodeArray.push(newInnerNode);\r\n                        ancestor = newInnerNode;\r\n\r\n                        // end container\r\n                        if (_endContainer && child.contains(_endContainer)) {\r\n                            const endPath = util.getNodePath(_endContainer, child);\r\n                            _endContainer = util.getNodeFromPath(endPath, cloneChild);\r\n                        }\r\n\r\n                        continue;\r\n                    } else {\r\n                        vNode = validation(child);\r\n                        if (vNode) {\r\n                            noneChange = false;\r\n                            ancestor.appendChild(vNode);\r\n                            if (child.nodeType === 1) coverNode = vNode;\r\n                        }\r\n                    }\r\n\r\n                    if (!util.isBreak(child)) recursionFunc(child, coverNode);\r\n                }\r\n            })(element, newInnerNode);\r\n\r\n            // not remove tag\r\n            if (noneChange || (isRemoveNode && !isRemoveFormat && !_removeCheck.v)) return { ancestor: element, endContainer: _endContainer };\r\n\r\n            pNode.appendChild(newInnerNode);\r\n\r\n            if (isRemoveFormat && isRemoveNode) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n                    \r\n                    const rChildren = removeNode.childNodes;\r\n                    while (rChildren[0]) {\r\n                        pNode.insertBefore(rChildren[0], removeNode);\r\n                    }\r\n                    util.removeItem(removeNode);\r\n                }\r\n            } else if (isRemoveNode) {\r\n                newInnerNode = newInnerNode.firstChild;\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    this._stripRemoveNode(nNodeArray[i]);\r\n                }\r\n            }\r\n\r\n            util.removeEmptyNode(pNode, newInnerNode);\r\n            util.mergeSameTags(pNode, null, true);\r\n\r\n            // node change\r\n            element.parentNode.replaceChild(pNode, element);\r\n            return { ancestor: pNode, endContainer: _endContainer };\r\n        },\r\n\r\n        /**\r\n         * @description wraps last line selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Node} endCon The endContainer property of the selection object.\r\n         * @param {Number} endOff The endOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @returns {Object} { ancestor, container, offset }\r\n         * @private\r\n         */\r\n        _nodeChange_endLine: function (element, newInnerNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\r\n            // not add tag\r\n            let parentCon = endCon.parentNode;\r\n            while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\r\n                if (parentCon.nodeName === newInnerNode.nodeName) break;\r\n                parentCon = parentCon.parentNode;\r\n            }\r\n            \r\n            if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.previousSibling && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\r\n                let sameTag = true;\r\n                let e = endCon.nextSibling;\r\n                while (e) {\r\n                    if (!util.onlyZeroWidthSpace(e)) {\r\n                        sameTag = false;\r\n                        break;\r\n                    }\r\n                    e = e.nextSibling;\r\n                }\r\n\r\n                if (sameTag) {\r\n                    util.copyTagAttributes(parentCon, newInnerNode);\r\n    \r\n                    return {\r\n                        ancestor: element,\r\n                        container: endCon,\r\n                        offset: endOff\r\n                    };\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const el = element;\r\n            const nNodeArray = [newInnerNode];\r\n            const pNode = element.cloneNode(false);\r\n\r\n            let container = endCon;\r\n            let offset = endOff;\r\n            let passNode = false;\r\n            let pCurrent, newNode, appendNode, anchorNode;\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = childNodes.length - 1, vNode; 0 <= i; i--) {\r\n                    const child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n\r\n                    if (passNode && !util.isBreak(child)) {\r\n                        if (child.nodeType === 1) {\r\n                            if (util._isIgnoreNodeChange(child)) {\r\n                                newInnerNode = newInnerNode.cloneNode(false);\r\n                                const cloneChild = child.cloneNode(true);\r\n                                pNode.insertBefore(cloneChild, ancestor);\r\n                                pNode.insertBefore(newInnerNode, cloneChild);\r\n                                nNodeArray.push(newInnerNode);\r\n                            } else {\r\n                                recursionFunc(child, child);\r\n                            }\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        const anchors = [];\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            vNode = validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1) {\r\n                                if (_isMaintainedNode(newNode)) {\r\n                                    if (!anchorNode) anchors.push(vNode);\r\n                                } else {\r\n                                    pCurrent.push(vNode);\r\n                                }\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n                        pCurrent = pCurrent.concat(anchors);\r\n\r\n                        const isTopNode = pCurrent.length > 0;\r\n                        const childNode = pCurrent.pop() || child;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.insertBefore(newInnerNode, pNode.firstChild);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        if (!anchorNode && _isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            const aChildren = childNode.childNodes;\r\n                            for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\r\n                                newInnerNode.appendChild(aChildren[a]);\r\n                            }\r\n                            childNode.appendChild(newInnerNode);\r\n                            pNode.insertBefore(childNode, pNode.firstChild);\r\n                            nNodeArray.push(newInnerNode);\r\n                            if (newInnerNode.children.length > 0) ancestor = newNode;\r\n                            else ancestor = newInnerNode;\r\n                        } else if (isTopNode) {\r\n                            newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (anchorNode && child.nodeType === 3) {\r\n                            if (_getMaintainedNode(child)) {\r\n                                const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;}.bind(util));\r\n                                anchorNode.appendChild(ancestorAnchorNode);\r\n                                newInnerNode = ancestorAnchorNode.cloneNode(false);\r\n                                nNodeArray.push(newInnerNode);\r\n                                pNode.insertBefore(newInnerNode, pNode.firstChild);\r\n                            } else {\r\n                                anchorNode = null;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // endContainer\r\n                    if (!passNode && child === container) {\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const afterNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, (container.length - offset)));\r\n                        const textNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\r\n\r\n                        if (anchorNode) {\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                            const a = _getMaintainedNode(ancestor);\r\n                            if (a && a.parentNode !== pNode) {\r\n                                let m = a;\r\n                                let p = null;\r\n                                while (m.parentNode !== pNode) {\r\n                                    ancestor = p = m.parentNode.cloneNode(false);\r\n                                    while(m.childNodes[0]) {\r\n                                        p.appendChild(m.childNodes[0]);\r\n                                    }\r\n                                    m.appendChild(p);\r\n                                    m = m.parentNode;\r\n                                }\r\n                                m.parentNode.insertBefore(a, m.parentNode.firstChild);\r\n                            }\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        if (!util.onlyZeroWidthSpace(afterNode)) {\r\n                            ancestor.insertBefore(afterNode, ancestor.firstChild);\r\n                        }\r\n\r\n                        newNode = ancestor;\r\n                        pCurrent = [];\r\n                        while (newNode !== pNode && newNode !== null) {\r\n                            vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1) {\r\n                                pCurrent.push(vNode);\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || ancestor;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (childNode !== ancestor) {\r\n                            newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\r\n                        \r\n                        if (anchorNode) {\r\n                            anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\r\n                            pNode.insertBefore(anchorNode, pNode.firstChild);\r\n                            anchorNode = null;\r\n                        } else {\r\n                            pNode.insertBefore(newInnerNode, pNode.firstChild);\r\n                        }\r\n\r\n                        container = textNode;\r\n                        offset = textNode.data.length;\r\n                        passNode = true;\r\n\r\n                        ancestor.insertBefore(container, ancestor.firstChild);\r\n                        continue;\r\n                    }\r\n\r\n                    vNode = !passNode ? child.cloneNode(false) : validation(child);\r\n                    if (vNode) {\r\n                        ancestor.insertBefore(vNode, ancestor.firstChild);\r\n                        if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\r\n                    }\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            // not remove tag\r\n            if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\r\n                return {\r\n                    ancestor: element,\r\n                    container: endCon,\r\n                    offset: endOff\r\n                };\r\n            }\r\n\r\n            isRemoveFormat = isRemoveFormat && isRemoveNode;\r\n\r\n            if (isRemoveFormat) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n                    \r\n                    const rChildren = removeNode.childNodes;\r\n                    let textNode = null;\r\n                    while (rChildren[0]) {\r\n                        textNode = rChildren[0];\r\n                        pNode.insertBefore(textNode, removeNode);\r\n                    }\r\n                    util.removeItem(removeNode);\r\n\r\n                    if (i === nNodeArray.length - 1) {\r\n                        container = textNode;\r\n                        offset = textNode.textContent.length;\r\n                    }\r\n                }\r\n            } else if (isRemoveNode) {\r\n                newInnerNode = newInnerNode.firstChild;\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    this._stripRemoveNode(nNodeArray[i]);\r\n                }\r\n            }\r\n\r\n            if (!isRemoveFormat && pNode.childNodes.length === 0) {\r\n                if (element.childNodes) {\r\n                    container = element.childNodes[0];\r\n                } else {\r\n                    container = util.createTextNode(util.zeroWidthSpace);\r\n                    element.appendChild(container);\r\n                }\r\n            } else {\r\n                if (!isRemoveNode && newInnerNode.textContent.length === 0) {\r\n                    util.removeEmptyNode(pNode, null);\r\n                    return {\r\n                        ancestor: null,\r\n                        container: null,\r\n                        offset: 0\r\n                    };\r\n                }\r\n\r\n                util.removeEmptyNode(pNode, newInnerNode);\r\n\r\n                if (util.onlyZeroWidthSpace(pNode.textContent)) {\r\n                    container = pNode.firstChild;\r\n                    offset = container.textContent.length;\r\n                } else if (util.onlyZeroWidthSpace(container)) {\r\n                    container = newInnerNode;\r\n                    offset = 1;\r\n                }\r\n                \r\n                // node change\r\n                const offsets = {s: 0, e: 0};\r\n                const path = util.getNodePath(container, pNode, offsets);\r\n                offset += offsets.s;\r\n\r\n                // tag merge\r\n                const newOffsets = util.mergeSameTags(pNode, [path], true);\r\n\r\n                element.parentNode.replaceChild(pNode, element);\r\n\r\n                container = util.getNodeFromPath(path, pNode);\r\n                offset += newOffsets[0];\r\n            }\r\n\r\n            return {\r\n                ancestor: pNode,\r\n                container: container,\r\n                offset: offset\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Run plugin calls and basic commands.\r\n         * @param {String} command Command string\r\n         * @param {String} display Display type string ('command', 'submenu', 'dialog', 'container')\r\n         * @param {Element} target The element of command button\r\n         */\r\n        actionCall: function (command, display, target) {\r\n            // call plugins\r\n            if (display) {\r\n                if (/more/i.test(display) && target !== this._moreLayerActiveButton) {\r\n                    const layer = context.element.toolbar.querySelector('.' + command);\r\n                    if (layer) {\r\n                        if (this._moreLayerActiveButton) {\r\n                            (context.element.toolbar.querySelector('.' + this._moreLayerActiveButton.getAttribute('data-command'))).style.display = 'none';\r\n                            util.removeClass(this._moreLayerActiveButton, 'on');\r\n                        }\r\n                        util.addClass(target, 'on');\r\n                        this._moreLayerActiveButton = target;\r\n                        layer.style.display = 'block';\r\n\r\n                        event._showToolbarBalloon();\r\n                        event._showToolbarInline();\r\n                    }\r\n                    return;\r\n                } else if (/submenu/.test(display) && (this._menuTray[command] === null || target !== this.submenuActiveButton)) {\r\n                    this.callPlugin(command, this.submenuOn.bind(this, target), target);\r\n                    return;\r\n                } else if (/dialog/.test(display)) {\r\n                    this.callPlugin(command, this.plugins[command].open.bind(this), target);\r\n                    return;\r\n                } else if (/command/.test(display)) {\r\n                    this.callPlugin(command, this.plugins[command].action.bind(this), target);\r\n                } else if (/container/.test(display) && (this._menuTray[command] === null || target !== this.containerActiveButton)) {\r\n                    this.callPlugin(command, this.containerOn.bind(this, target), target);\r\n                    return;\r\n                } else if (/fileBrowser/.test(display)) {\r\n                    this.callPlugin(command, this.plugins[command].open.bind(this, null), target);\r\n                }\r\n            } // default command\r\n            else if (command) {\r\n                this.commandHandler(target, command);\r\n            }\r\n\r\n            if (/more/i.test(display)) {\r\n                const layer = context.element.toolbar.querySelector('.' + this._moreLayerActiveButton.getAttribute('data-command'));\r\n                if (layer) {\r\n                    util.removeClass(this._moreLayerActiveButton, 'on');\r\n                    this._moreLayerActiveButton = null;\r\n                    layer.style.display = 'none';\r\n\r\n                    event._showToolbarBalloon();\r\n                    event._showToolbarInline();\r\n                }\r\n            } else if (/submenu/.test(display)) {\r\n                this.submenuOff();\r\n            } else if (!/command/.test(display)) {\r\n                this.submenuOff();\r\n                this.containerOff();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Execute command of command button(All Buttons except submenu and dialog)\r\n         * (selectAll, codeView, fullScreen, indent, outdent, undo, redo, removeFormat, print, preview, showBlocks, save, bold, underline, italic, strike, subscript, superscript, copy, cut, paste)\r\n         * @param {Element|null} target The element of command button\r\n         * @param {String} command Property of command button (data-value)\r\n         */\r\n        commandHandler: function (target, command) {\r\n            switch (command) {\r\n                case 'copy':\r\n                case 'cut':\r\n                    this.execCommand(command);\r\n                    break;\r\n                case 'paste':\r\n                    break;\r\n                case 'selectAll':\r\n                    const wysiwyg = context.element.wysiwyg;\r\n                    let first = util.getChildElement(wysiwyg.firstChild, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, false) || wysiwyg.firstChild;\r\n                    let last = util.getChildElement(wysiwyg.lastChild, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, true) || wysiwyg.lastChild;\r\n                    if (!first || !last) return;\r\n                    if (util.isMedia(first)) {\r\n                        const info = this.getFileComponent(first);\r\n                        const br = util.createElement('BR');\r\n                        const format = util.createElement(options.defaultTag);\r\n                        format.appendChild(br);\r\n                        first = info ? info.component : first;\r\n                        first.parentNode.insertBefore(format, first);\r\n                        first = br;\r\n                    }\r\n                    if (util.isMedia(last)) {\r\n                        const br = util.createElement('BR');\r\n                        const format = util.createElement(options.defaultTag);\r\n                        format.appendChild(br);\r\n                        wysiwyg.appendChild(format);\r\n                        last = br;\r\n                    }\r\n                    this.setRange(first, 0, last, last.textContent.length);\r\n                    break;\r\n                case 'codeView':\r\n                    this.toggleCodeView();\r\n                    break;\r\n                case 'fullScreen':\r\n                    this.toggleFullScreen(target);\r\n                    break;\r\n                case 'indent':\r\n                case 'outdent':\r\n                    this.indent(command);\r\n                    break;\r\n                case 'undo':\r\n                    this.history.undo();\r\n                    break;\r\n                case 'redo':\r\n                    this.history.redo();\r\n                    break;\r\n                case 'removeFormat':\r\n                    this.removeFormat();\r\n                    this.focus();\r\n                    break;\r\n                case 'print':\r\n                    this.print();\r\n                    break;\r\n                case 'preview':\r\n                    this.preview();\r\n                    break;\r\n                case 'showBlocks':\r\n                    this.toggleDisplayBlocks();\r\n                    break;\r\n                case 'save':\r\n                    if (typeof options.callBackSave === 'function') {\r\n                        options.callBackSave(this.getContents(false), this._variable.isChanged);\r\n                    } else if (this._variable.isChanged && typeof functions.save === 'function') {\r\n                        functions.save();\r\n                    } else {\r\n                        throw Error('[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)');\r\n                    }\r\n\r\n                    this._variable.isChanged = false;\r\n                    if (context.tool.save) context.tool.save.setAttribute('disabled', true);\r\n                    break;\r\n                default : // 'STRONG', 'U', 'EM', 'DEL', 'SUB', 'SUP'..\r\n                    command = this._defaultCommand[command.toLowerCase()] || command;\r\n                    if (!this.commandMap[command]) this.commandMap[command] = target;\r\n\r\n                    const nodesMap = this._variable.currentNodesMap;\r\n                    const cmd = nodesMap.indexOf(command) > -1 ? null : util.createElement(command);\r\n                    let removeNode = command;\r\n\r\n                    if (/^SUB$/i.test(command) && nodesMap.indexOf('SUP') > -1) {\r\n                        removeNode = 'SUP';\r\n                    } else if (/^SUP$/i.test(command) && nodesMap.indexOf('SUB') > -1) {\r\n                        removeNode = 'SUB';\r\n                    }\r\n\r\n                    this.nodeChange(cmd, null, [removeNode], false);\r\n                    this.focus();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Remove format of the currently selected range\r\n         */\r\n        removeFormat: function () {\r\n            this.nodeChange(null, null, null, null);\r\n        },\r\n\r\n        /**\r\n         * @description This method implements indentation to selected range.\r\n         * Setted \"margin-left\" to \"25px\" in the top \"P\" tag of the parameter node.\r\n         * @param {String} command Separator (\"indent\" or \"outdent\")\r\n         */\r\n        indent: function (command) {\r\n            const range = this.getRange();\r\n            const rangeLines = this.getSelectedElements(null);\r\n            const cells = [];\r\n            const shift = 'indent' !== command;\r\n            const marginDir = options.rtl ? 'marginRight' : 'marginLeft';\r\n            let sc = range.startContainer;\r\n            let ec = range.endContainer;\r\n            let so = range.startOffset;\r\n            let eo = range.endOffset;\r\n\r\n            for (let i = 0, len = rangeLines.length, f, margin; i < len; i++) {\r\n                f = rangeLines[i];\r\n                if (!util.isListCell(f) || !this.plugins.list) {\r\n                    margin = /\\d+/.test(f.style[marginDir]) ? util.getNumber(f.style[marginDir], 0) : 0;\r\n                    if (shift) {\r\n                        margin -= 25;\r\n                    } else {\r\n                        margin += 25;\r\n                    }\r\n                    util.setStyle(f, marginDir, (margin <= 0 ? '' : margin + 'px'));\r\n                } else {\r\n                    if (shift || f.previousElementSibling) {\r\n                        cells.push(f);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // list cells\r\n            if (cells.length > 0) {\r\n                this.plugins.list.editInsideList.call(this, shift, cells);\r\n            }\r\n\r\n            this.effectNode = null;\r\n            this.setRange(sc, so, ec, eo);\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Add or remove the class name of \"body\" so that the code block is visible\r\n         */\r\n        toggleDisplayBlocks: function () {\r\n            const wysiwyg = context.element.wysiwyg;\r\n            util.toggleClass(wysiwyg, 'se-show-block');\r\n            if (util.hasClass(wysiwyg, 'se-show-block')) {\r\n                util.addClass(this._styleCommandMap.showBlocks, 'active');\r\n            } else {\r\n                util.removeClass(this._styleCommandMap.showBlocks, 'active');\r\n            }\r\n            this._resourcesStateChange();\r\n        },\r\n\r\n        /**\r\n         * @description Changes to code view or wysiwyg view\r\n         */\r\n        toggleCodeView: function () {\r\n            const isCodeView = this._variable.isCodeView;\r\n            this.controllersOff();\r\n            util.setDisabledButtons(!isCodeView, this.codeViewDisabledButtons);\r\n\r\n            if (isCodeView) {\r\n                this._setCodeDataToEditor();\r\n                context.element.wysiwygFrame.scrollTop = 0;\r\n                context.element.code.style.display = 'none';\r\n                context.element.wysiwygFrame.style.display = 'block';\r\n\r\n                this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: none');\r\n                this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: block');\r\n\r\n                if (options.height === 'auto' && !options.codeMirrorEditor) context.element.code.style.height = '0px';\r\n                \r\n                this._variable.isCodeView = false;\r\n                \r\n                if (!this._variable.isFullScreen) {\r\n                    this._notHideToolbar = false;\r\n                    if (/balloon|balloon-always/i.test(options.mode)) {\r\n                        context.element._arrow.style.display = '';\r\n                        this._isInline = false;\r\n                        this._isBalloon = true;\r\n                        event._hideToolbar();    \r\n                    }\r\n                }\r\n\r\n                this.nativeFocus();\r\n                util.removeClass(this._styleCommandMap.codeView, 'active');\r\n\r\n                // history stack\r\n                this.history.push(false);\r\n            } else {\r\n                this._setEditorDataToCodeView();\r\n                this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: block');\r\n                this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: none');\r\n\r\n                if (options.height === 'auto' && !options.codeMirrorEditor) context.element.code.style.height = context.element.code.scrollHeight > 0 ? (context.element.code.scrollHeight + 'px') : 'auto';\r\n                if (options.codeMirrorEditor) options.codeMirrorEditor.refresh();\r\n                \r\n                this._variable.isCodeView = true;\r\n\r\n                if (!this._variable.isFullScreen) {\r\n                    this._notHideToolbar = true;\r\n                    if (this._isBalloon) {\r\n                        context.element._arrow.style.display = 'none';\r\n                        context.element.toolbar.style.left = '';\r\n                        this._isInline = true;\r\n                        this._isBalloon = false;\r\n                        event._showToolbarInline();\r\n                    }\r\n                }\r\n                \r\n                this._variable._range = null;\r\n                context.element.code.focus();\r\n                util.addClass(this._styleCommandMap.codeView, 'active');\r\n            }\r\n\r\n            this._checkPlaceholder();\r\n\r\n            if (typeof functions.toggleCodeView === 'function') functions.toggleCodeView(this._variable.isCodeView, this);\r\n        },\r\n\r\n        /**\r\n         * @description Convert the data of the code view and put it in the WYSIWYG area.\r\n         * @private\r\n         */\r\n        _setCodeDataToEditor: function () {\r\n            const code_html = this._getCodeView();\r\n\r\n            if (options.fullPage) {\r\n                const parseDocument = this._parser.parseFromString(code_html, 'text/html');\r\n                const headChildren = parseDocument.head.children;\r\n\r\n                for (let i = 0, len = headChildren.length; i < len; i++) {\r\n                    if (/^script$/i.test(headChildren[i].tagName)) {\r\n                        parseDocument.head.removeChild(headChildren[i]);\r\n                        i--, len--;\r\n                    }\r\n                }\r\n\r\n                this._wd.head.innerHTML = parseDocument.head.innerHTML;\r\n                this._wd.body.innerHTML = this.convertContentsForEditor(parseDocument.body.innerHTML);\r\n\r\n                const attrs = parseDocument.body.attributes;\r\n                for (let i = 0, len = attrs.length; i < len; i++) {\r\n                    if (attrs[i].name === 'contenteditable') continue;\r\n                    this._wd.body.setAttribute(attrs[i].name, attrs[i].value);\r\n                }\r\n                if (!util.hasClass(this._wd.body, 'sun-editor-editable')) {\r\n                    const editableClasses = options._editableClass.split(' ');\r\n                    for (let i = 0; i < editableClasses.length; i++) {\r\n                        util.addClass(this._wd.body, options._editableClass[i]);\r\n                    }\r\n                }\r\n            } else {\r\n                context.element.wysiwyg.innerHTML = code_html.length > 0 ? this.convertContentsForEditor(code_html) : '<' + options.defaultTag + '><br></' + options.defaultTag + '>';\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Convert the data of the WYSIWYG area and put it in the code view area.\r\n         * @private\r\n         */\r\n        _setEditorDataToCodeView: function () {\r\n            const codeContents = this.convertHTMLForCodeView(context.element.wysiwyg);\r\n            let codeValue = '';\r\n\r\n            if (options.fullPage) {\r\n                const attrs = util.getAttributesToString(this._wd.body, null);\r\n                codeValue = '<!DOCTYPE html>\\n<html>\\n' + this._wd.head.outerHTML.replace(/>(?!\\n)/g, '>\\n') + '<body ' + attrs + '>\\n' + codeContents + '</body>\\n</html>';\r\n            } else {\r\n                codeValue = codeContents;\r\n            }\r\n\r\n            context.element.code.style.display = 'block';\r\n            context.element.wysiwygFrame.style.display = 'none';\r\n\r\n            this._setCodeView(codeValue);\r\n        },\r\n\r\n        /**\r\n         * @description Changes to full screen or default screen\r\n         * @param {Element} element full screen button\r\n         */\r\n        toggleFullScreen: function (element) {\r\n            const topArea = context.element.topArea;\r\n            const toolbar = context.element.toolbar;\r\n            const editorArea = context.element.editorArea;\r\n            const wysiwygFrame = context.element.wysiwygFrame;\r\n            const code = context.element.code;\r\n            const _var = this._variable;\r\n            this.controllersOff();\r\n\r\n            if (!_var.isFullScreen) {\r\n                _var.isFullScreen = true;\r\n                \r\n                _var._fullScreenAttrs.inline = this._isInline;\r\n                _var._fullScreenAttrs.balloon = this._isBalloon;\r\n\r\n                if (this._isInline || this._isBalloon) {\r\n                    this._isInline = false;\r\n                    this._isBalloon = false;\r\n                }\r\n                \r\n                if (!!options.toolbarContainer) context.element.relative.insertBefore(toolbar, editorArea);\r\n\r\n                topArea.style.position = 'fixed';\r\n                topArea.style.top = '0';\r\n                topArea.style.left = '0';\r\n                topArea.style.width = '100%';\r\n                topArea.style.maxWidth = '100%';\r\n                topArea.style.height = '100%';\r\n                topArea.style.zIndex = '2147483647';\r\n\r\n                if (context.element._stickyDummy.style.display !== ( true && '')) {\r\n                    _var._fullScreenAttrs.sticky = true;\r\n                    context.element._stickyDummy.style.display = 'none';\r\n                    util.removeClass(toolbar, 'se-toolbar-sticky');\r\n                }\r\n\r\n                _var._bodyOverflow = _d.body.style.overflow;\r\n                _d.body.style.overflow = 'hidden';\r\n\r\n                _var._editorAreaOriginCssText = editorArea.style.cssText;\r\n                _var._wysiwygOriginCssText = wysiwygFrame.style.cssText;\r\n                _var._codeOriginCssText = code.style.cssText;\r\n\r\n                editorArea.style.cssText = toolbar.style.cssText = '';\r\n                wysiwygFrame.style.cssText = (wysiwygFrame.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [''])[0];\r\n                code.style.cssText = (code.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [''])[0];\r\n                toolbar.style.width = wysiwygFrame.style.height = code.style.height = '100%';\r\n                toolbar.style.position = 'relative';\r\n                toolbar.style.display = 'block';\r\n\r\n                _var.innerHeight_fullScreen = (_w.innerHeight - toolbar.offsetHeight);\r\n                editorArea.style.height = (_var.innerHeight_fullScreen - options.fullScreenOffset) + 'px';\r\n\r\n                util.changeElement(element.firstElementChild, icons.reduction);\r\n\r\n                if (options.iframe && options.height === 'auto') {\r\n                    editorArea.style.overflow = 'auto';\r\n                    this._iframeAutoHeight();\r\n                }\r\n\r\n                context.element.topArea.style.marginTop = options.fullScreenOffset + 'px';\r\n                util.addClass(this._styleCommandMap.fullScreen, 'active');\r\n            } else {\r\n                _var.isFullScreen = false;\r\n\r\n                wysiwygFrame.style.cssText = _var._wysiwygOriginCssText;\r\n                code.style.cssText = _var._codeOriginCssText;\r\n                toolbar.style.cssText = '';\r\n                editorArea.style.cssText = _var._editorAreaOriginCssText;\r\n                topArea.style.cssText = _var._originCssText;\r\n                _d.body.style.overflow = _var._bodyOverflow;\r\n\r\n                if (!!options.toolbarContainer) options.toolbarContainer.appendChild(toolbar);\r\n\r\n                if (options.stickyToolbar > -1) {\r\n                    util.removeClass(toolbar, 'se-toolbar-sticky');\r\n                }\r\n\r\n                if (_var._fullScreenAttrs.sticky && !options.toolbarContainer) {\r\n                    _var._fullScreenAttrs.sticky = false;\r\n                    context.element._stickyDummy.style.display = 'block';\r\n                    util.addClass(toolbar, \"se-toolbar-sticky\");\r\n                }\r\n\r\n                this._isInline = _var._fullScreenAttrs.inline;\r\n                this._isBalloon = _var._fullScreenAttrs.balloon;\r\n                if (this._isInline) event._showToolbarInline();\r\n                if (!!options.toolbarContainer) util.removeClass(toolbar, 'se-toolbar-balloon');\r\n\r\n                event.onScroll_window();\r\n                util.changeElement(element.firstElementChild, icons.expansion);\r\n\r\n                context.element.topArea.style.marginTop = '';\r\n                util.removeClass(this._styleCommandMap.fullScreen, 'active');\r\n            }\r\n\r\n            if (typeof functions.toggleFullScreen === 'function') functions.toggleFullScreen(this._variable.isFullScreen, this);\r\n        },\r\n\r\n        /**\r\n         * @description Prints the current contents of the editor.\r\n         */\r\n        print: function () {\r\n            const iframe = util.createElement('IFRAME');\r\n            iframe.style.display = 'none';\r\n            _d.body.appendChild(iframe);\r\n\r\n            const contentsHTML = options.printTemplate ? options.printTemplate.replace(/\\{\\{\\s*contents\\s*\\}\\}/i, this.getContents(true)) : this.getContents(true);\r\n            const printDocument = util.getIframeDocument(iframe);\r\n            const wDoc = this._wd;\r\n\r\n            if (options.iframe) {\r\n                const arrts = options._printClass !== null ? 'class=\"' + options._printClass + '\"' : options.fullPage ? util.getAttributesToString(wDoc.body, ['contenteditable']) : 'class=\"' + options._editableClass + '\"';\r\n\r\n                printDocument.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    wDoc.head.innerHTML +\r\n                    '</head>' +\r\n                    '<body ' + arrts + '>' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            } else {\r\n                const links = _d.head.getElementsByTagName('link');\r\n                const styles = _d.head.getElementsByTagName('style');\r\n                let linkHTML = '';\r\n                for (let i = 0, len = links.length; i < len; i++) {\r\n                    linkHTML += links[i].outerHTML;\r\n                }\r\n                for (let i = 0, len = styles.length; i < len; i++) {\r\n                    linkHTML += styles[i].outerHTML;\r\n                }\r\n\r\n                printDocument.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    linkHTML +\r\n                    '</head>' +\r\n                    '<body class=\"' + (options._printClass !== null ? options._printClass : options._editableClass) + '\">' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            }\r\n\r\n            this.showLoading();\r\n            _w.setTimeout(function () {\r\n                try {\r\n                    iframe.focus();\r\n                    // IE or Edge\r\n                    if (util.isIE_Edge || !!_d.documentMode || !!_w.StyleMedia) {\r\n                        try {\r\n                            iframe.contentWindow.document.execCommand('print', false, null);\r\n                        } catch (e) {\r\n                            iframe.contentWindow.print();\r\n                        }\r\n                    } else {\r\n                        // Other browsers\r\n                        iframe.contentWindow.print();\r\n                    }\r\n                } catch (error) {\r\n                    throw Error('[SUNEDITOR.core.print.fail] error: ' + error);\r\n                } finally {\r\n                    core.closeLoading();\r\n                    util.removeItem(iframe);\r\n                }\r\n            }, 1000);\r\n        },\r\n\r\n        /**\r\n         * @description Open the preview window.\r\n         */\r\n        preview: function () {\r\n            core.submenuOff();\r\n            core.containerOff();\r\n            core.controllersOff();\r\n            \r\n            const contentsHTML = options.previewTemplate ? options.previewTemplate.replace(/\\{\\{\\s*contents\\s*\\}\\}/i, this.getContents(true)) : this.getContents(true);\r\n            const windowObject = _w.open('', '_blank');\r\n            windowObject.mimeType = 'text/html';\r\n            const wDoc = this._wd;\r\n\r\n            if (options.iframe) {\r\n                const arrts = options._printClass !== null ? 'class=\"' + options._printClass + '\"' : options.fullPage ? util.getAttributesToString(wDoc.body, ['contenteditable']) : 'class=\"' + options._editableClass + '\"';\r\n\r\n                windowObject.document.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    wDoc.head.innerHTML +\r\n                    '<style>body {overflow:auto !important; margin: 10px auto !important; height:auto !important; outline:1px dashed #ccc;}</style>' +\r\n                    '</head>' +\r\n                    '<body ' + arrts + '>' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            } else {\r\n                const links = _d.head.getElementsByTagName('link');\r\n                const styles = _d.head.getElementsByTagName('style');\r\n                let linkHTML = '';\r\n                for (let i = 0, len = links.length; i < len; i++) {\r\n                    linkHTML += links[i].outerHTML;\r\n                }\r\n                for (let i = 0, len = styles.length; i < len; i++) {\r\n                    linkHTML += styles[i].outerHTML;\r\n                }\r\n                \r\n                windowObject.document.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    '<meta charset=\"utf-8\" />' +\r\n                    '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' +\r\n                    '<title>' + lang.toolbar.preview + '</title>' +\r\n                    linkHTML +\r\n                    '</head>' +\r\n                    '<body class=\"' + (options._printClass !== null ? options._printClass : options._editableClass) + '\" style=\"margin:10px auto !important; height:auto !important; outline:1px dashed #ccc;\">' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Sets the HTML string\r\n         * @param {String|undefined} html HTML string\r\n         */\r\n        setContents: function (html) {\r\n            this.removeRange();\r\n            \r\n            const convertValue = (html === null || html === undefined) ? '' : this.convertContentsForEditor(html);\r\n            this._resetComponents();\r\n\r\n            if (!this._variable.isCodeView) {\r\n                context.element.wysiwyg.innerHTML = convertValue;\r\n                // history stack\r\n                this.history.push(false);\r\n            } else {\r\n                const value = this.convertHTMLForCodeView(convertValue);\r\n                this._setCodeView(value);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Sets the contents of the iframe's head tag and body tag when using the \"iframe\" or \"fullPage\" option.\r\n         * @param {Object} ctx { head: HTML string, body: HTML string}\r\n         */\r\n        setIframeContents: function (ctx) {\r\n            if (!options.iframe) return false;\r\n            if (ctx.head) this._wd.head.innerHTML = ctx.head.replace(/<script[\\s\\S]*>[\\s\\S]*<\\/script>/gi, '');\r\n            if (ctx.body) this._wd.body.innerHTML = this.convertContentsForEditor(ctx.body);\r\n        },\r\n\r\n        /**\r\n         * @description Gets the current contents\r\n         * @param {Boolean} onlyContents Return only the contents of the body without headers when the \"fullPage\" option is true\r\n         * @returns {Object}\r\n         */\r\n        getContents: function (onlyContents) {\r\n            const contents = context.element.wysiwyg.innerHTML;\r\n            const renderHTML = util.createElement('DIV');\r\n            renderHTML.innerHTML = contents;\r\n\r\n            const figcaptions = util.getListChildren(renderHTML, function (current) {\r\n                return /FIGCAPTION/i.test(current.nodeName);\r\n            });\r\n\r\n            for (let i = 0, len = figcaptions.length; i < len; i++) {\r\n                figcaptions[i].removeAttribute('contenteditable');\r\n            }\r\n\r\n            if (options.fullPage && !onlyContents) {\r\n                const attrs = util.getAttributesToString(this._wd.body, ['contenteditable']);\r\n                return '<!DOCTYPE html><html>' + this._wd.head.outerHTML + '<body ' + attrs + '>' + renderHTML.innerHTML + '</body></html>';\r\n            } else {\r\n                return renderHTML.innerHTML;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Returns HTML string according to tag type and configuration.\r\n         * Use only \"cleanHTML\"\r\n         * @param {Node} node Node\r\n         * @param {Boolean} requireFormat If true, text nodes that do not have a format node is wrapped with the format tag.\r\n         * @private\r\n         */\r\n        _makeLine: function (node, requireFormat) {\r\n            const defaultTag = options.defaultTag;\r\n            // element\r\n            if (node.nodeType === 1) {\r\n                if (util._disallowedTags(node)) return '';\r\n                if (!requireFormat || (util.isFormatElement(node) || util.isRangeFormatElement(node) || util.isComponent(node) || util.isMedia(node) || (util.isAnchor(node) && util.isMedia(node.firstElementChild)))) {\r\n                    return node.outerHTML;\r\n                } else {\r\n                    return '<' + defaultTag + '>' + node.outerHTML + '</' + defaultTag + '>';\r\n                }\r\n            }\r\n            // text\r\n            if (node.nodeType === 3) {\r\n                if (!requireFormat) return util._HTMLConvertor(node.textContent);\r\n                const textArray = node.textContent.split(/\\n/g);\r\n                let html = '';\r\n                for (let i = 0, tLen = textArray.length, text; i < tLen; i++) {\r\n                    text = textArray[i].trim();\r\n                    if (text.length > 0) html += '<' + defaultTag + '>' + util._HTMLConvertor(text) + '</' + defaultTag + '>';\r\n                }\r\n                return html;\r\n            }\r\n            // comments\r\n            if (node.nodeType === 8 && this._allowHTMLComments) {\r\n                return '<!--' + node.textContent.trim() + '-->';\r\n            }\r\n\r\n            return '';\r\n        },\r\n\r\n        /**\r\n         * @description Removes attribute values such as style and converts tags that do not conform to the \"html5\" standard.\r\n         * @param {String} text \r\n         * @returns {String} HTML string\r\n         * @private\r\n         */\r\n        _tagConvertor: function (text) {\r\n            if (!this._disallowedTextTagsRegExp) return text;\r\n\r\n            const ec = options._textTagsMap;\r\n            return text.replace(this._disallowedTextTagsRegExp, function (m, t, n) {\r\n                return t + (typeof ec[n] === 'string' ? ec[n] : n);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * @description Delete disallowed tags\r\n         * @param {String} html HTML string\r\n         * @returns {String}\r\n         * @private\r\n         */\r\n        _deleteDisallowedTags: function (html) {\r\n            return html\r\n                .replace(/\\n/g, '')\r\n                .replace(/<(script|style)[\\s\\S]*>[\\s\\S]*<\\/(script|style)>/gi, '')\r\n                .replace(/<[a-z0-9]+\\:[a-z0-9]+[^>^\\/]*>[^>]*<\\/[a-z0-9]+\\:[a-z0-9]+>/gi, '')\r\n                .replace(this.editorTagsWhitelistRegExp, '');\r\n        },\r\n\r\n        /**\r\n         * @description Tag and tag attribute check RegExp function. (used by \"cleanHTML\" and \"convertContentsForEditor\")\r\n         * @param {Boolean} rowLevelCheck Row level check\r\n         * @param {String} m RegExp value\r\n         * @param {String} t RegExp value\r\n         * @returns {String}\r\n         * @private\r\n         */\r\n        _cleanTags: function (rowLevelCheck, m, t) {\r\n            if (/^<[a-z0-9]+\\:[a-z0-9]+/i.test(m)) return m;\r\n\r\n            let v = null;\r\n            const tAttr = this._attributesTagsWhitelist[t.match(/(?!<)[a-zA-Z0-9\\-]+/)[0].toLowerCase()];\r\n            if (tAttr) v = m.match(tAttr);\r\n            else v = m.match(this._attributesWhitelistRegExp);\r\n\r\n            if ((rowLevelCheck || /<span/i.test(t)) && (!v || !/style=/i.test(v.toString()))) {\r\n                const sv = m.match(/style\\s*=\\s*(?:\"|')[^\"']*(?:\"|')/);\r\n                if (sv) {\r\n                    if (!v) v = [];\r\n                    v.push(sv[0]);\r\n                }\r\n            }\r\n\r\n            if (/<a\\b/i.test(t)) {\r\n                const sv = m.match(/id\\s*=\\s*(?:\"|')[^\"']*(?:\"|')/);\r\n                if (sv) {\r\n                    if (!v) v = [];\r\n                    v.push(sv[0]);\r\n                }\r\n            }\r\n\r\n            if (v) {\r\n                for (let i = 0, len = v.length; i < len; i++) {\r\n                    if (rowLevelCheck && /^class=\"(?!(__se__|se-|katex))/.test(v[i])) continue;\r\n                    t += ' ' + (/^href\\s*=\\s*('|\"|\\s)*javascript\\s*\\:/i.test(v[i]) ? '' : v[i]);\r\n                }\r\n            }\r\n\r\n            return t;\r\n        },\r\n\r\n        /**\r\n         * @description Gets the clean HTML code for editor\r\n         * @param {String} html HTML string\r\n         * @param {String|RegExp|null} whitelist Regular expression of allowed tags.\r\n         * RegExp object is create by util.createTagsWhitelist method. (core.pasteTagsWhitelistRegExp)\r\n         * @returns {String}\r\n         */\r\n        cleanHTML: function (html, whitelist) {\r\n            html = this._deleteDisallowedTags(html).replace(/(<[a-zA-Z0-9\\-]+)[^>]*(?=>)/g, this._cleanTags.bind(this, false));\r\n\r\n            const dom = _d.createRange().createContextualFragment(html);\r\n            try {\r\n                util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\r\n            } catch (error) {\r\n                console.warn('[SUNEDITOR.cleanHTML.consistencyCheck.fail] ' + error);\r\n            }\r\n            \r\n            if (this.managedTagsInfo && this.managedTagsInfo.query) {\r\n                const textCompList = dom.querySelectorAll(this.managedTagsInfo.query);\r\n                for (let i = 0, len = textCompList.length, initMethod, classList; i < len; i++) {\r\n                    classList = [].slice.call(textCompList[i].classList);\r\n                    for (let c = 0, cLen = classList.length; c < cLen; c++) {\r\n                        initMethod = this.managedTagsInfo.map[classList[c]];\r\n                        if (initMethod) {\r\n                            initMethod(textCompList[i]);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            const domTree = dom.childNodes;\r\n            let cleanHTML = '';\r\n            let requireFormat = false;\r\n\r\n            for (let i = 0, len = domTree.length, t; i < len; i++) {\r\n                t = domTree[i];\r\n                if (t.nodeType === 1 && !util.isTextStyleElement(t) && !util.isBreak(t) && !util._disallowedTags(t)) {\r\n                    requireFormat = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            for (let i = 0, len = domTree.length; i < len; i++) {\r\n                cleanHTML += this._makeLine(domTree[i], requireFormat);\r\n            }\r\n\r\n            cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\r\n            return this._tagConvertor(!cleanHTML ? html : !whitelist ? cleanHTML : cleanHTML.replace(typeof whitelist === 'string' ? util.createTagsWhitelist(whitelist) : whitelist, ''));\r\n        },\r\n\r\n        /**\r\n         * @description Converts contents into a format that can be placed in an editor\r\n         * @param {String} contents contents\r\n         * @returns {String}\r\n         */\r\n        convertContentsForEditor: function (contents) {\r\n            contents = this._deleteDisallowedTags(contents).replace(/(<[a-zA-Z0-9\\-]+)[^>]*(?=>)/g, this._cleanTags.bind(this, true));\r\n\r\n            const dom = _d.createRange().createContextualFragment(this._deleteDisallowedTags(contents));\r\n\r\n            try {\r\n                util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\r\n            } catch (error) {\r\n                console.warn('[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] ' + error);\r\n            }\r\n\r\n            if (this.managedTagsInfo && this.managedTagsInfo.query) {\r\n                const textCompList = dom.querySelectorAll(this.managedTagsInfo.query);\r\n                for (let i = 0, len = textCompList.length, initMethod, classList; i < len; i++) {\r\n                    classList = [].slice.call(textCompList[i].classList);\r\n                    for (let c = 0, cLen = classList.length; c < cLen; c++) {\r\n                        initMethod = this.managedTagsInfo.map[classList[c]];\r\n                        if (initMethod) {\r\n                            initMethod(textCompList[i]);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            \r\n            const domTree = dom.childNodes;\r\n            let cleanHTML = '';\r\n            for (let i = 0, len = domTree.length; i < len; i++) {\r\n                cleanHTML += this._makeLine(domTree[i], true);\r\n            }\r\n\r\n            if (cleanHTML.length === 0) return '<' + options.defaultTag + '><br></' + options.defaultTag + '>';\r\n\r\n            cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\r\n            return this._tagConvertor(cleanHTML);\r\n        },\r\n\r\n        /**\r\n         * @description Converts wysiwyg area element into a format that can be placed in an editor of code view mode\r\n         * @param {Element|String} html WYSIWYG element (context.element.wysiwyg) or HTML string.\r\n         * @returns {String}\r\n         */\r\n        convertHTMLForCodeView: function (html) {\r\n            let returnHTML = '';\r\n            const wRegExp = _w.RegExp;\r\n            const brReg = new wRegExp('^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$', 'i');\r\n            const isFormatElement = util.isFormatElement.bind(util);\r\n            const wDoc = typeof html === 'string' ? _d.createRange().createContextualFragment(html) : html;\r\n\r\n            let indentSize = this._variable.codeIndent * 1;\r\n            indentSize = indentSize > 0 ? new _w.Array(indentSize + 1).join(' ') : '';\r\n\r\n            (function recursionFunc (element, indent, lineBR) {\r\n                const children = element.childNodes;\r\n                const elementRegTest = brReg.test(element.nodeName);\r\n                const elementIndent = (elementRegTest ? indent : '');\r\n\r\n                for (let i = 0, len = children.length, node, br, nodeRegTest; i < len; i++) {\r\n                    node = children[i];\r\n                    nodeRegTest = brReg.test(node.nodeName);\r\n                    br = nodeRegTest ? '\\n' : '';\r\n                    lineBR = isFormatElement(node) && !elementRegTest && !/^(TH|TD)$/i.test(element.nodeName) ? '\\n' : '';\r\n\r\n                    if (node.nodeType === 8) {\r\n                        returnHTML += '\\n<!-- ' + node.textContent.trim() + ' -->' + br;\r\n                        continue;\r\n                    }\r\n                    if (node.nodeType === 3) {\r\n                        returnHTML += util._HTMLConvertor((/^\\n+$/.test(node.data) ? '' : node.data));\r\n                        continue;\r\n                    }\r\n                    if (node.childNodes.length === 0) {\r\n                        returnHTML += (/^HR$/i.test(node.nodeName) ? '\\n' : '') + elementIndent + node.outerHTML + br;\r\n                        continue;\r\n                    }\r\n                    \r\n                    node.innerHTML = node.innerHTML;\r\n                    const tag = node.nodeName.toLowerCase();\r\n                    returnHTML += (lineBR || (elementRegTest ? '' : br)) + (elementIndent || nodeRegTest ? indent : '') + node.outerHTML.match(wRegExp('<' + tag + '[^>]*>', 'i'))[0] + br;\r\n                    recursionFunc(node, indent + indentSize, '');\r\n                    returnHTML += (nodeRegTest ? indent : '') + '</' + tag + '>' + (lineBR || br || elementRegTest ? '\\n' :  false || /^(TH|TD)$/i.test(node.nodeName) ? '\\n' : '');\r\n                }\r\n            }(wDoc, '', '\\n'));\r\n\r\n            return returnHTML.trim() + '\\n';\r\n        },\r\n\r\n        /**\r\n         * @description Add an event to document.\r\n         * When created as an Iframe, the same event is added to the document in the Iframe.\r\n         * @param {String} type Event type\r\n         * @param {Function} listener Event listener\r\n         * @param {Boolean} useCapture Use event capture\r\n         */\r\n        addDocEvent: function (type, listener, useCapture) {\r\n            _d.addEventListener(type, listener, useCapture);\r\n            if (options.iframe) {\r\n                this._wd.addEventListener(type, listener);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Remove events from document.\r\n        * When created as an Iframe, the event of the document inside the Iframe is also removed.\r\n         * @param {String} type Event type\r\n         * @param {Function} listener Event listener\r\n         */\r\n        removeDocEvent: function (type, listener) {\r\n            _d.removeEventListener(type, listener);\r\n            if (options.iframe) {\r\n                this._wd.removeEventListener(type, listener);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description The current number of characters is counted and displayed.\r\n         * @param {String} inputText Text added.\r\n         * @returns {Boolean}\r\n         * @private\r\n         */\r\n        _charCount: function (inputText) {\r\n            const maxCharCount = options.maxCharCount;\r\n            const countType = options.charCounterType;\r\n            let nextCharCount = 0;\r\n            if (!!inputText) nextCharCount = this.getCharLength(inputText, countType);\r\n\r\n            this._setCharCount();\r\n\r\n            if (maxCharCount > 0) {\r\n                let over = false;\r\n                const count = functions.getCharCount(countType);\r\n                \r\n                if (count > maxCharCount) {\r\n                    over = true;\r\n                    if (nextCharCount > 0) {\r\n                        this._editorRange();\r\n                        const range = this.getRange();\r\n                        const endOff = range.endOffset - 1;\r\n                        const text = this.getSelectionNode().textContent;\r\n                        const slicePosition = range.endOffset - (count - maxCharCount);\r\n    \r\n                        this.getSelectionNode().textContent = text.slice(0, slicePosition < 0 ? 0 : slicePosition) + text.slice(range.endOffset, text.length);\r\n                        this.setRange(range.endContainer, endOff, range.endContainer, endOff);\r\n                    }\r\n                } else if ((count + nextCharCount) > maxCharCount) {\r\n                    over = true;\r\n                }\r\n\r\n                if (over) {\r\n                    this._callCounterBlink();\r\n                    if (nextCharCount > 0) return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * @description When \"element\" is added, if it is greater than \"options.maxCharCount\", false is returned.\r\n         * @param {Node|String} element Element node or String.\r\n         * @param {String|null} charCounterType charCounterType. If it is null, the options.charCounterType\r\n         * @returns {Boolean}\r\n         */\r\n        checkCharCount: function (element, charCounterType) {\r\n            if (options.maxCharCount) {\r\n                const countType = charCounterType || options.charCounterType;\r\n                const length = this.getCharLength((typeof element === 'string' ? element : (this._charTypeHTML && element.nodeType === 1) ? element.outerHTML : element.textContent), countType);\r\n                if (length > 0 && length + functions.getCharCount(countType) > options.maxCharCount) {\r\n                    this._callCounterBlink();\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * @description Get the length of the content.\r\n         * Depending on the option, the length of the character is taken. (charCounterType)\r\n         * @param {String} content Content to count\r\n         * @param {String} charCounterType options.charCounterType\r\n         * @returns {Number}\r\n         */\r\n        getCharLength: function (content, charCounterType) {\r\n            return /byte/.test(charCounterType) ? util.getByteLength(content) : content.length;\r\n        },\r\n\r\n        /**\r\n         * @description Set the char count to charCounter element textContent.\r\n         * @private\r\n         */\r\n        _setCharCount: function () {\r\n            if (context.element.charCounter) {\r\n                _w.setTimeout(function () { context.element.charCounter.textContent = functions.getCharCount(options.charCounterType); });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description The character counter blinks.\r\n         * @private\r\n         */\r\n        _callCounterBlink: function () {\r\n            const charWrapper = context.element.charWrapper;\r\n            if (charWrapper && !util.hasClass(charWrapper, 'se-blink')) {\r\n                util.addClass(charWrapper, 'se-blink');\r\n                _w.setTimeout(function () {\r\n                    util.removeClass(charWrapper, 'se-blink');\r\n                }, 600);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Check the components such as image and video and modify them according to the format.\r\n         * @private\r\n         */\r\n        _checkComponents: function () {\r\n            for (let i = 0, len = this._fileInfoPluginsCheck.length; i < len; i++) {\r\n                this._fileInfoPluginsCheck[i]();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Initialize the information of the components.\r\n         * @private\r\n         */\r\n        _resetComponents: function () {\r\n            for (let i = 0, len = this._fileInfoPluginsReset.length; i < len; i++) {\r\n                this._fileInfoPluginsReset[i]();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set method in the code view area\r\n         * @param {String} value HTML string\r\n         * @private\r\n         */\r\n        _setCodeView: function (value) {\r\n            if (options.codeMirrorEditor) {\r\n                options.codeMirrorEditor.getDoc().setValue(value);\r\n            } else {\r\n                context.element.code.value = value;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Get method in the code view area\r\n         * @private\r\n         */\r\n        _getCodeView: function () {\r\n            return options.codeMirrorEditor ? options.codeMirrorEditor.getDoc().getValue() : context.element.code.value;\r\n        },\r\n\r\n        /**\r\n         * @description Initializ core variable\r\n         * @param {Boolean} reload Is relooad?\r\n         * @param {String} _initHTML initial html string\r\n         * @private\r\n         */\r\n        _init: function (reload, _initHTML) {\r\n            const wRegExp = _w.RegExp;\r\n            this._ww = options.iframe ? context.element.wysiwygFrame.contentWindow : _w;\r\n            this._wd = _d;\r\n            this._charTypeHTML = options.charCounterType === 'byte-html';\r\n\r\n            if (!options.iframe && typeof _w.ShadowRoot === 'function') {\r\n                let child = context.element.wysiwygFrame;\r\n                while (child) {\r\n                    if (child.shadowRoot) {\r\n                        this._shadowRoot = child.shadowRoot;\r\n                        break;\r\n                    } else if (child instanceof _w.ShadowRoot) {\r\n                        this._shadowRoot = child;\r\n                        break;\r\n                    }\r\n                    child = child.parentNode;\r\n                }\r\n                if (this._shadowRoot) this._shadowRootControllerEventTarget = [];\r\n            }\r\n\r\n            // set disallow text nodes\r\n            const disallowTextTags = _w.Object.keys(options._textTagsMap);\r\n            const allowTextTags = !options.addTagsWhitelist ? [] : options.addTagsWhitelist.split('|').filter(function (v) { return /b|i|ins|s|strike/i.test(v); });\r\n            for (let i = 0; i < allowTextTags.length; i++) {\r\n                disallowTextTags.splice(disallowTextTags.indexOf(allowTextTags[i].toLowerCase()), 1);\r\n            }\r\n            this._disallowedTextTagsRegExp = disallowTextTags.length === 0 ? null : new wRegExp('(<\\\\/?)(' + disallowTextTags.join('|') + ')\\\\b\\\\s*(?:[^>^<]+)?\\\\s*(?=>)', 'gi');\r\n\r\n            // set whitelist\r\n            const defaultAttr = 'contenteditable|id|colspan|rowspan|target|href|download|rel|src|alt|class|type|controls|data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|origin-size|data-exp|data-font-size';\r\n            this._allowHTMLComments = options._editorTagsWhitelist.indexOf('//') > -1;\r\n            this._htmlCheckWhitelistRegExp = new wRegExp('^(' + options._editorTagsWhitelist.replace('|//', '') + ')$', 'i');\r\n            this.editorTagsWhitelistRegExp = util.createTagsWhitelist(options._editorTagsWhitelist.replace('|//', '|<!--|-->'));\r\n            this.pasteTagsWhitelistRegExp = util.createTagsWhitelist(options.pasteTagsWhitelist);\r\n\r\n            const _attr = options.attributesWhitelist;\r\n            const tagsAttr = {};\r\n            let allAttr = '';\r\n            if (!!_attr) {\r\n                for (let k in _attr) {\r\n                    if (!util.hasOwn(_attr, k)) continue;\r\n                    if (k === 'all') {\r\n                        allAttr = _attr[k] + '|';\r\n                    } else {\r\n                        tagsAttr[k] = new wRegExp('((?:' + _attr[k] + '|' + defaultAttr + ')\\\\s*=.*\\\\S)', 'ig');\r\n                    }\r\n                }\r\n            }\r\n\r\n            this._attributesWhitelistRegExp = new wRegExp('((?:' + allAttr + defaultAttr + ')\\\\s*=.*\\\\S)', 'ig');\r\n            this._attributesTagsWhitelist = tagsAttr;\r\n\r\n            // set modes\r\n            this._isInline = /inline/i.test(options.mode);\r\n            this._isBalloon = /balloon|balloon-always/i.test(options.mode);\r\n            this._isBalloonAlways = /balloon-always/i.test(options.mode);\r\n\r\n            // caching buttons\r\n            this._cachingButtons();\r\n\r\n            // file components\r\n            this._fileInfoPluginsCheck = [];\r\n            this._fileInfoPluginsReset = [];\r\n\r\n            // text components\r\n            this.managedTagsInfo = { query: '', map: {} };\r\n            const managedClass = [];\r\n\r\n            // Command and file plugins registration\r\n            this.activePlugins = [];\r\n            this._fileManager.tags = [];\r\n            this._fileManager.pluginMap = {};\r\n\r\n            let filePluginRegExp = [];\r\n            let plugin, button;\r\n            for (let key in plugins) {\r\n                if (!util.hasOwn(plugins, key)) continue;\r\n                plugin = plugins[key];\r\n                button = pluginCallButtons[key];\r\n                if (plugin.active && button) {\r\n                    this.callPlugin(key, null, button);\r\n                }\r\n                if (typeof plugin.checkFileInfo === 'function' && typeof plugin.resetFileInfo === 'function') {\r\n                    this.callPlugin(key, null, button);\r\n                    this._fileInfoPluginsCheck.push(plugin.checkFileInfo.bind(this));\r\n                    this._fileInfoPluginsReset.push(plugin.resetFileInfo.bind(this));\r\n                }\r\n                if (_w.Array.isArray(plugin.fileTags)) {\r\n                    const fileTags = plugin.fileTags;\r\n                    this.callPlugin(key, null, button);\r\n                    this._fileManager.tags = this._fileManager.tags.concat(fileTags);\r\n                    filePluginRegExp.push(key);\r\n                    for (let tag = 0, tLen = fileTags.length; tag < tLen; tag++) {\r\n                        this._fileManager.pluginMap[fileTags[tag].toLowerCase()] = key;\r\n                    }\r\n                }\r\n                if (plugin.managedTags) {\r\n                    const info = plugin.managedTags();\r\n                    managedClass.push('.' + info.className);\r\n                    this.managedTagsInfo.map[info.className] = info.method.bind(this);\r\n                }\r\n            }\r\n\r\n            this.managedTagsInfo.query = managedClass.toString();\r\n            this._fileManager.queryString = this._fileManager.tags.join(',');\r\n            this._fileManager.regExp = new wRegExp('^(' +  this._fileManager.tags.join('|') + ')$', 'i');\r\n            this._fileManager.pluginRegExp = new wRegExp('^(' +  (filePluginRegExp.length === 0 ? 'undefined' : filePluginRegExp.join('|')) + ')$', 'i');\r\n            \r\n            // cache editor's element\r\n            this._variable._originCssText = context.element.topArea.style.cssText;\r\n            this._placeholder = context.element.placeholder;\r\n            this._lineBreaker = context.element.lineBreaker;\r\n            this._lineBreakerButton = this._lineBreaker.querySelector('button');\r\n\r\n            // Excute history function\r\n            this.history = lib_history(this, this._onChange_historyStack.bind(this));\r\n\r\n            // register notice module\r\n            this.addModule([_notice]);\r\n\r\n            // Init, validate\r\n            if (options.iframe) {\r\n                this._wd = context.element.wysiwygFrame.contentDocument;\r\n                context.element.wysiwyg = this._wd.body;\r\n                if (options._editorStyles.editor) context.element.wysiwyg.style.cssText = options._editorStyles.editor;\r\n                if (options.height === 'auto') this._iframeAuto = this._wd.body;\r\n            }\r\n            \r\n            this._initWysiwygArea(reload, _initHTML);\r\n        },\r\n\r\n        /**\r\n         * @description Caching basic buttons to use\r\n         * @private\r\n         */\r\n        _cachingButtons: function () {\r\n            this.codeViewDisabledButtons = context.element.toolbar.querySelectorAll('.se-toolbar button:not([class~=\"se-code-view-enabled\"])');\r\n            this.resizingDisabledButtons = context.element.toolbar.querySelectorAll('.se-toolbar button:not([class~=\"se-resizing-enabled\"])');\r\n            const tool = context.tool;\r\n            this.commandMap = {\r\n                SUB: tool.subscript,\r\n                SUP: tool.superscript,\r\n                OUTDENT: tool.outdent,\r\n                INDENT: tool.indent\r\n            };\r\n            this.commandMap[options.textTags.bold.toUpperCase()] = tool.bold;\r\n            this.commandMap[options.textTags.underline.toUpperCase()] = tool.underline;\r\n            this.commandMap[options.textTags.italic.toUpperCase()] = tool.italic;\r\n            this.commandMap[options.textTags.strike.toUpperCase()] = tool.strike;\r\n            \r\n            this._styleCommandMap = {\r\n                fullScreen: tool.fullScreen,\r\n                showBlocks: tool.showBlocks,\r\n                codeView: tool.codeView\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Initializ wysiwyg area (Only called from core._init)\r\n         * @param {Boolean} reload Is relooad?\r\n         * @param {String} _initHTML initial html string\r\n         * @private\r\n         */\r\n        _initWysiwygArea: function (reload, _initHTML) {\r\n            context.element.wysiwyg.innerHTML = reload ? _initHTML : this.convertContentsForEditor(typeof _initHTML === 'string' ? _initHTML : context.element.originElement.value);\r\n        },\r\n\r\n        /**\r\n         * @description Called when there are changes to tags in the wysiwyg region.\r\n         * @private\r\n         */\r\n        _resourcesStateChange: function () {\r\n            this._iframeAutoHeight();\r\n            this._checkPlaceholder();\r\n        },\r\n\r\n        /**\r\n         * @description Called when after execute \"history.push\"\r\n         * @private\r\n         */\r\n        _onChange_historyStack: function () {\r\n            if (this.hasFocus) event._applyTagEffects();\r\n            this._variable.isChanged = true;\r\n            if (context.tool.save) context.tool.save.removeAttribute('disabled');\r\n            // user event\r\n            if (functions.onChange) functions.onChange(this.getContents(true), this);\r\n            if (context.element.toolbar.style.display === 'block') event._showToolbarBalloon();\r\n        },\r\n\r\n        /**\r\n         * @description Modify the height value of the iframe when the height of the iframe is automatic.\r\n         * @private\r\n         */\r\n        _iframeAutoHeight: function () {\r\n            if (this._iframeAuto) {\r\n                _w.setTimeout(function () { context.element.wysiwygFrame.style.height = core._iframeAuto.offsetHeight + 'px'; });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set display property when there is placeholder.\r\n         * @private\r\n         */\r\n        _checkPlaceholder: function () {\r\n            if (this._placeholder) {\r\n                if (this._variable.isCodeView) {\r\n                    this._placeholder.style.display = 'none';\r\n                    return;\r\n                }\r\n\r\n                const wysiwyg = context.element.wysiwyg;\r\n                if (!util.onlyZeroWidthSpace(wysiwyg.textContent) || wysiwyg.querySelector(util._allowedEmptyNodeList) || (wysiwyg.innerText.match(/\\n/g) || '').length > 1) {\r\n                    this._placeholder.style.display = 'none';\r\n                } else {\r\n                    this._placeholder.style.display = 'block';\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description If there is no default format, add a format and move \"selection\".\r\n         * @param {String|null} formatName Format tag name (default: 'P')\r\n         * @private\r\n         */\r\n        _setDefaultFormat: function (formatName) {\r\n            if (this._fileManager.pluginRegExp.test(this.currentControllerName)) return;\r\n\r\n            const range = this.getRange();\r\n            const commonCon = range.commonAncestorContainer;\r\n            const startCon = range.startContainer;\r\n            const rangeEl = util.getRangeFormatElement(commonCon, null);\r\n            let focusNode, offset, format;\r\n\r\n            const fileComponent = util.getParentElement(commonCon, util.isComponent);\r\n            if (fileComponent && !util.isTable(fileComponent)) return;\r\n            if((util.isRangeFormatElement(startCon) || util.isWysiwygDiv(startCon)) && (util.isComponent(startCon.children[range.startOffset]) || util.isComponent(startCon.children[range.startOffset - 1]))) return;\r\n\r\n            if (rangeEl) {\r\n                format = util.createElement(formatName || options.defaultTag);\r\n                format.innerHTML = rangeEl.innerHTML;\r\n                if (format.childNodes.length === 0) format.innerHTML = util.zeroWidthSpace;\r\n\r\n                rangeEl.innerHTML = format.outerHTML;\r\n                format = rangeEl.firstChild;\r\n                focusNode = util.getEdgeChildNodes(format, null).sc;\r\n\r\n                if (!focusNode) {\r\n                    focusNode = util.createTextNode(util.zeroWidthSpace);\r\n                    format.insertBefore(focusNode, format.firstChild);\r\n                }\r\n                \r\n                offset = focusNode.textContent.length;\r\n                this.setRange(focusNode, offset, focusNode, offset);\r\n                return;\r\n            }\r\n\r\n            if(util.isRangeFormatElement(commonCon) && (commonCon.childNodes.length <= 1)) {\r\n                let br = null;\r\n                if (commonCon.childNodes.length === 1 && util.isBreak(commonCon.firstChild)) {\r\n                    br = commonCon.firstChild;\r\n                } else {\r\n                    br = util.createTextNode(util.zeroWidthSpace);\r\n                    commonCon.appendChild(br);\r\n                }\r\n\r\n                this.setRange(br, 1, br, 1);\r\n                return;\r\n            }\r\n\r\n            this.execCommand('formatBlock', false, (formatName || options.defaultTag));\r\n            focusNode = util.getEdgeChildNodes(commonCon, commonCon);\r\n            focusNode = focusNode ? focusNode.ec : commonCon;\r\n\r\n            format = util.getFormatElement(focusNode, null);\r\n            if (!format) {\r\n                this.removeRange();\r\n                this._editorRange();\r\n                return;\r\n            }\r\n            \r\n            if (util.isBreak(format.nextSibling)) util.removeItem(format.nextSibling);\r\n            if (util.isBreak(format.previousSibling)) util.removeItem(format.previousSibling);\r\n            if (util.isBreak(focusNode)) {\r\n                const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                focusNode.parentNode.insertBefore(zeroWidth, focusNode);\r\n                focusNode = zeroWidth;\r\n            }\r\n\r\n            this.effectNode = null;\r\n            this.nativeFocus();\r\n        },\r\n\r\n        /**\r\n         * @description Initialization after \"setOptions\"\r\n         * @param {Object} el context.element\r\n         * @param {String} _initHTML Initial html string\r\n         * @private\r\n         */\r\n        _setOptionsInit: function (el, _initHTML) {\r\n            this.context = context = lib_context(el.originElement, this._getConstructed(el), options);\r\n            this._componentsInfoReset = true;\r\n            this._editorInit(true, _initHTML);\r\n        },\r\n\r\n        /**\r\n         * @description Initializ editor\r\n         * @param {Boolean} reload Is relooad?\r\n         * @param {String} _initHTML initial html string\r\n         * @private\r\n         */\r\n        _editorInit: function (reload, _initHTML) {\r\n            // initialize core and add event listeners\r\n            this._init(reload, _initHTML);\r\n            event._addEvent();\r\n            this._setCharCount();\r\n            event._offStickyToolbar();\r\n            event.onResize_window();\r\n\r\n            // toolbar visibility\r\n            context.element.toolbar.style.visibility = '';\r\n\r\n            this._checkComponents();\r\n            this._componentsInfoInit = false;\r\n            this._componentsInfoReset = false;\r\n\r\n            this.history.reset(true);\r\n            this._resourcesStateChange();\r\n\r\n            _w.setTimeout(function () {\r\n                // user event\r\n                if (typeof functions.onload === 'function') functions.onload(core, reload);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * @description Create and return an object to cache the new context.\r\n         * @param {Element} contextEl context.element\r\n         * @returns {Object}\r\n         * @private\r\n         */\r\n        _getConstructed: function (contextEl) {\r\n            return {\r\n                _top: contextEl.topArea,\r\n                _relative: contextEl.relative,\r\n                _toolBar: contextEl.toolbar,\r\n                _menuTray: contextEl._menuTray,\r\n                _editorArea: contextEl.editorArea,\r\n                _wysiwygArea: contextEl.wysiwygFrame,\r\n                _codeArea: contextEl.code,\r\n                _placeholder: contextEl.placeholder,\r\n                _resizingBar: contextEl.resizingBar,\r\n                _navigation: contextEl.navigation,\r\n                _charCounter: contextEl.charCounter,\r\n                _charWrapper: contextEl.charWrapper,\r\n                _loading: contextEl.loading,\r\n                _lineBreaker: contextEl.lineBreaker,\r\n                _lineBreaker_t: contextEl.lineBreaker_t,\r\n                _lineBreaker_b: contextEl.lineBreaker_b,\r\n                _resizeBack: contextEl.resizeBackground,\r\n                _stickyDummy: contextEl._stickyDummy,\r\n                _arrow: contextEl._arrow\r\n            };\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @description event function\r\n     */\r\n    const event = {\r\n        _IEisComposing: false, // In IE, there is no \"e.isComposing\" in the key-up event.\r\n        _lineBreakerBind: null,\r\n        _responsiveCurrentSize: 'default',\r\n        _responsiveButtonSize: null,\r\n        _responsiveButtons: null,\r\n        _directionKeyCode: new _w.RegExp('^(8|13|3[2-9]|40|46)$'),\r\n        _nonTextKeyCode: new _w.RegExp('^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$'),\r\n        _historyIgnoreKeyCode: new _w.RegExp('^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$'),\r\n        _onButtonsCheck: new _w.RegExp('^(' + _w.Object.keys(options._textTagsMap).join('|') + ')$', 'i'),\r\n        _frontZeroWidthReg: new _w.RegExp(util.zeroWidthSpace + '+', ''),\r\n        _keyCodeShortcut: {\r\n            65: 'A',\r\n            66: 'B',\r\n            83: 'S',\r\n            85: 'U',\r\n            73: 'I',\r\n            89: 'Y',\r\n            90: 'Z',\r\n            219: '[',\r\n            221: ']'\r\n        },\r\n\r\n        _shortcutCommand: function (keyCode, shift) {\r\n            let command = null;\r\n            const keyStr = event._keyCodeShortcut[keyCode];\r\n\r\n            switch (keyStr) {\r\n                case 'A':\r\n                    command = 'selectAll';\r\n                    break;\r\n                case 'B':\r\n                    if (options.shortcutsDisable.indexOf('bold') === -1) {\r\n                        command = 'bold';\r\n                    }\r\n                    break;\r\n                case 'S':\r\n                    if (shift && options.shortcutsDisable.indexOf('strike') === -1) {\r\n                        command = 'strike';\r\n                    } else if (!shift && options.shortcutsDisable.indexOf('save') === -1) {\r\n                        command = 'save';\r\n                    }\r\n                    break;\r\n                case 'U':\r\n                    if (options.shortcutsDisable.indexOf('underline') === -1) {\r\n                        command = 'underline';\r\n                    }\r\n                    break;\r\n                case 'I':\r\n                    if (options.shortcutsDisable.indexOf('italic') === -1) {\r\n                        command = 'italic';\r\n                    }\r\n                    break;\r\n                case 'Z':\r\n                    if (options.shortcutsDisable.indexOf('undo') === -1) {\r\n                        if (shift) {\r\n                            command = 'redo';\r\n                        } else {\r\n                            command = 'undo';\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'Y':\r\n                    if (options.shortcutsDisable.indexOf('undo') === -1) {\r\n                        command = 'redo';\r\n                    }\r\n                    break;\r\n                case '[':\r\n                    if (options.shortcutsDisable.indexOf('indent') === -1) {\r\n                        command = options.rtl ? 'indent' : 'outdent';\r\n                    }\r\n                    break;\r\n                case ']':\r\n                    if (options.shortcutsDisable.indexOf('indent') === -1) {\r\n                        command = options.rtl ? 'outdent' : 'indent';\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            if (!command) return false;\r\n\r\n            core.commandHandler(core.commandMap[command], command);\r\n            return true;\r\n        },\r\n\r\n        _applyTagEffects: function () {\r\n            let selectionNode = core.getSelectionNode();\r\n            if (selectionNode === core.effectNode) return;\r\n            core.effectNode = selectionNode;\r\n\r\n            const marginDir = options.rtl ? 'marginRight' : 'marginLeft';\r\n            const commandMap = core.commandMap;\r\n            const classOnCheck = this._onButtonsCheck;\r\n            const commandMapNodes = [];\r\n            const currentNodes = [];\r\n\r\n            const activePlugins = core.activePlugins;\r\n            const cLen = activePlugins.length;\r\n            let nodeName = '';\r\n\r\n            while (selectionNode.firstChild) {\r\n                selectionNode = selectionNode.firstChild;\r\n            }\r\n\r\n            for (let element = selectionNode; !util.isWysiwygDiv(element); element = element.parentNode) {\r\n                if (!element) break;\r\n                if (element.nodeType !== 1 || util.isBreak(element)) continue;\r\n                nodeName = element.nodeName.toUpperCase();\r\n                currentNodes.push(nodeName);\r\n\r\n                /* Active plugins */\r\n                for (let c = 0, name; c < cLen; c++) {\r\n                    name = activePlugins[c];\r\n                    if (commandMapNodes.indexOf(name) === -1 && plugins[name].active.call(core, element)) {\r\n                        commandMapNodes.push(name);\r\n                    }\r\n                }\r\n\r\n                if (util.isFormatElement(element)) {\r\n                    /* Outdent */\r\n                    if (commandMapNodes.indexOf('OUTDENT') === -1 && commandMap.OUTDENT) {\r\n                        if (util.isListCell(element) || (element.style[marginDir] && util.getNumber(element.style[marginDir], 0) > 0)) {\r\n                            commandMapNodes.push('OUTDENT');\r\n                            commandMap.OUTDENT.removeAttribute('disabled');\r\n                        }\r\n                    }\r\n\r\n                    /* Indent */\r\n                    if (commandMapNodes.indexOf('INDENT') === -1 && commandMap.INDENT) {\r\n                        commandMapNodes.push('INDENT');\r\n                        if (util.isListCell(element) && !element.previousElementSibling) {\r\n                            commandMap.INDENT.setAttribute('disabled', true);\r\n                        } else {\r\n                            commandMap.INDENT.removeAttribute('disabled');\r\n                        }\r\n                    }\r\n\r\n                    continue;\r\n                }\r\n\r\n                /** default active buttons [strong, ins, em, del, sub, sup] */\r\n                if (classOnCheck.test(nodeName)) {\r\n                    commandMapNodes.push(nodeName);\r\n                    util.addClass(commandMap[nodeName], 'active');\r\n                }\r\n            }\r\n\r\n            /** remove class, display text */\r\n            for (let key in commandMap) {\r\n                if (commandMapNodes.indexOf(key) > -1 || !util.hasOwn(commandMap, key)) continue;\r\n                if (activePlugins.indexOf(key) > -1) {\r\n                    plugins[key].active.call(core, null);\r\n                } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\r\n                    commandMap.OUTDENT.setAttribute('disabled', true);\r\n                } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\r\n                    commandMap.INDENT.removeAttribute('disabled');\r\n                } else {\r\n                    util.removeClass(commandMap[key], 'active');\r\n                }\r\n            }\r\n\r\n            /** save current nodes */\r\n            core._variable.currentNodes = currentNodes.reverse();\r\n            core._variable.currentNodesMap = commandMapNodes;\r\n\r\n            /**  Displays the current node structure to resizingBar */\r\n            if (options.showPathLabel) context.element.navigation.textContent = core._variable.currentNodes.join(' > ');\r\n        },\r\n\r\n        _cancelCaptionEdit: function () {\r\n            this.setAttribute('contenteditable', false);\r\n            this.removeEventListener('blur', event._cancelCaptionEdit);\r\n        },\r\n\r\n        _buttonsEventHandler: function (e) {\r\n            let target = e.target;\r\n            if (core._bindControllersOff) e.stopPropagation();\r\n\r\n            if (/^(input|textarea|select|option)$/i.test(target.nodeName)) {\r\n                core._antiBlur = false;\r\n            } else {\r\n                e.preventDefault();\r\n            }\r\n\r\n            if (util.getParentElement(target, '.se-submenu')) {\r\n                e.stopPropagation();\r\n                core._notHideToolbar = true;\r\n            } else {\r\n                let command = target.getAttribute('data-command');\r\n                let className = target.className;\r\n    \r\n                while (!command && !/se-menu-list/.test(className) && !/sun-editor-common/.test(className)) {\r\n                    target = target.parentNode;\r\n                    command = target.getAttribute('data-command');\r\n                    className = target.className;\r\n                }\r\n    \r\n                if (command === core._submenuName || command === core._containerName) {\r\n                    e.stopPropagation();\r\n                }\r\n            }\r\n        },\r\n\r\n        onClick_toolbar: function (e) {\r\n            let target = e.target;\r\n            let display = target.getAttribute('data-display');\r\n            let command = target.getAttribute('data-command');\r\n            let className = target.className;\r\n            core.controllersOff();\r\n\r\n            while (target.parentNode && !command && !/se-menu-list/.test(className) && !/se-toolbar/.test(className)) {\r\n                target = target.parentNode;\r\n                command = target.getAttribute('data-command');\r\n                display = target.getAttribute('data-display');\r\n                className = target.className;\r\n            }\r\n\r\n            if (!command && !display) return;\r\n            if (target.disabled) return;\r\n            if (!core.hasFocus) core.nativeFocus();\r\n            if (!core._variable.isCodeView) core._editorRange();\r\n\r\n            core.actionCall(command, display, target);\r\n        },\r\n\r\n        onMouseDown_wysiwyg: function (e) {\r\n            if (util.isNonEditable(context.element.wysiwyg)) return;\r\n\r\n            // user event\r\n            if (typeof functions.onMouseDown === 'function' && functions.onMouseDown(e, core) === false) return;\r\n            \r\n            const tableCell = util.getParentElement(e.target, util.isCell);\r\n            if (tableCell) {\r\n                const tablePlugin = core.plugins.table;\r\n                if (tablePlugin && tableCell !== tablePlugin._fixedCell && !tablePlugin._shift) {\r\n                    core.callPlugin('table', function () {\r\n                        tablePlugin.onTableCellMultiSelect.call(core, tableCell, false);\r\n                    }, null);\r\n                }\r\n            }\r\n\r\n            if (core._isBalloon) {\r\n                event._hideToolbar();\r\n            }\r\n\r\n            if (/FIGURE/i.test(e.target.nodeName)) e.preventDefault();\r\n        },\r\n\r\n        onClick_wysiwyg: function (e) {\r\n            const targetElement = e.target;\r\n            if (util.isNonEditable(context.element.wysiwyg)) return;\r\n\r\n            // user event\r\n            if (typeof functions.onClick === 'function' && functions.onClick(e, core) === false) return;\r\n\r\n            const fileComponentInfo = core.getFileComponent(targetElement);\r\n            if (fileComponentInfo) {\r\n                e.preventDefault();\r\n                core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n                return;\r\n            }\r\n\r\n            const figcaption = util.getParentElement(targetElement, 'FIGCAPTION');\r\n            if (util.isNonEditable(figcaption)) {\r\n                e.preventDefault();\r\n                figcaption.setAttribute('contenteditable', true);\r\n                figcaption.focus();\r\n\r\n                if (core._isInline && !core._inlineToolbarAttr.isShow) {\r\n                    event._showToolbarInline();\r\n\r\n                    const hideToolbar = function () {\r\n                        event._hideToolbar();\r\n                        figcaption.removeEventListener('blur', hideToolbar);\r\n                    };\r\n\r\n                    figcaption.addEventListener('blur', hideToolbar);\r\n                }\r\n            }\r\n\r\n            _w.setTimeout(core._editorRange.bind(core));\r\n            core._editorRange();\r\n\r\n            const selectionNode = core.getSelectionNode();\r\n            const formatEl = util.getFormatElement(selectionNode, null);\r\n            const rangeEl = util.getRangeFormatElement(selectionNode, null);\r\n            if ((!formatEl || formatEl === rangeEl) && !util.isNonEditable(targetElement) && !util.isList(rangeEl)) {\r\n                const range = core.getRange();\r\n                if (util.getFormatElement(range.startContainer) === util.getFormatElement(range.endContainer)) {\r\n                    if (util.isList(rangeEl)) {\r\n                        e.preventDefault();\r\n                        const oLi = util.createElement('LI');\r\n                        const prevLi = selectionNode.nextElementSibling;\r\n                        oLi.appendChild(selectionNode);\r\n                        rangeEl.insertBefore(oLi, prevLi);\r\n                        core.focus();\r\n                    } else if (!util.isWysiwygDiv(selectionNode) && !util.isComponent(selectionNode) && (!util.isTable(selectionNode) || util.isCell(selectionNode))) {\r\n                        e.preventDefault();\r\n                        core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : options.defaultTag);\r\n                        core.focus();\r\n                    } else {\r\n                        event._applyTagEffects();\r\n                    }\r\n                }\r\n            } else {\r\n                event._applyTagEffects();\r\n            }\r\n\r\n            if (core._isBalloon) _w.setTimeout(event._toggleToolbarBalloon);\r\n        },\r\n\r\n        _balloonDelay: null,\r\n        _showToolbarBalloonDelay: function () {\r\n            if (event._balloonDelay) {\r\n                _w.clearTimeout(event._balloonDelay);\r\n            }\r\n\r\n            event._balloonDelay = _w.setTimeout(function () {\r\n                _w.clearTimeout(this._balloonDelay);\r\n                this._balloonDelay = null;\r\n                this._showToolbarBalloon();\r\n            }.bind(event), 350);\r\n        },\r\n\r\n        _toggleToolbarBalloon: function () {\r\n            core._editorRange();\r\n            const range = core.getRange();\r\n            if (core._bindControllersOff || (!core._isBalloonAlways && range.collapsed)) event._hideToolbar();\r\n            else event._showToolbarBalloon(range);\r\n        },\r\n\r\n        _showToolbarBalloon: function (rangeObj) {\r\n            if (!core._isBalloon) return;\r\n\r\n            const range = rangeObj || core.getRange();\r\n            const toolbar = context.element.toolbar;\r\n            const topArea = context.element.topArea;\r\n            const selection = core.getSelection();\r\n\r\n            let isDirTop;\r\n            if (core._isBalloonAlways && range.collapsed) {\r\n                isDirTop = true;\r\n            } else if (selection.focusNode === selection.anchorNode) {\r\n                isDirTop = selection.focusOffset < selection.anchorOffset;\r\n            } else {\r\n                const childNodes = util.getListChildNodes(range.commonAncestorContainer, null);\r\n                isDirTop = util.getArrayIndex(childNodes, selection.focusNode) < util.getArrayIndex(childNodes, selection.anchorNode);\r\n            }\r\n\r\n            let rects = range.getClientRects();\r\n            rects = rects[isDirTop ? 0 : rects.length - 1];\r\n\r\n            const globalScroll = core.getGlobalScrollOffset();\r\n            let scrollLeft = globalScroll.left;\r\n            let scrollTop = globalScroll.top;\r\n\r\n            const editorWidth = topArea.offsetWidth;\r\n            const offsets = event._getEditorOffsets(null);\r\n            const stickyTop = offsets.top;\r\n            const editorLeft = offsets.left;\r\n            \r\n            toolbar.style.top = '-10000px';\r\n            toolbar.style.visibility = 'hidden';\r\n            toolbar.style.display = 'block';\r\n\r\n            if (!rects) {\r\n                const node = core.getSelectionNode();\r\n                if (util.isFormatElement(node)) {\r\n                    const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                    core.insertNode(zeroWidth, null, false);\r\n                    core.setRange(zeroWidth, 1, zeroWidth, 1);\r\n                    core._editorRange();\r\n                    rects = core.getRange().getClientRects();\r\n                    rects = rects[isDirTop ? 0 : rects.length - 1];\r\n                }\r\n\r\n                if (!rects) {\r\n                    const nodeOffset = util.getOffset(node, context.element.wysiwygFrame);\r\n                    rects = {\r\n                        left: nodeOffset.left,\r\n                        top: nodeOffset.top,\r\n                        right: nodeOffset.left,\r\n                        bottom: nodeOffset.top + node.offsetHeight,\r\n                        noText: true\r\n                    };\r\n                    scrollLeft = 0;\r\n                    scrollTop = 0;\r\n                }\r\n\r\n                isDirTop = true;\r\n            }\r\n\r\n            const arrowMargin = _w.Math.round(context.element._arrow.offsetWidth / 2);\r\n            const toolbarWidth = toolbar.offsetWidth;\r\n            const toolbarHeight = toolbar.offsetHeight;\r\n            const iframeRects = /iframe/i.test(context.element.wysiwygFrame.nodeName) ? context.element.wysiwygFrame.getClientRects()[0] : null;\r\n            if (iframeRects) {\r\n                rects = {\r\n                    left: rects.left + iframeRects.left,\r\n                    top: rects.top + iframeRects.top,\r\n                    right: rects.right + iframeRects.right - iframeRects.width,\r\n                    bottom: rects.bottom + iframeRects.bottom - iframeRects.height\r\n                };\r\n            }\r\n            \r\n            event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\r\n            if (toolbarWidth !== toolbar.offsetWidth || toolbarHeight !== toolbar.offsetHeight) {\r\n                event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\r\n            }\r\n\r\n            if (options.toolbarContainer) {\r\n                const editorParent = topArea.parentElement;\r\n\r\n                let container = options.toolbarContainer;\r\n                let left = container.offsetLeft;\r\n                let top = container.offsetTop;\r\n\r\n                while(!container.parentElement.contains(editorParent) || !/^(BODY|HTML)$/i.test(container.parentElement.nodeName)) {\r\n                    container = container.offsetParent;\r\n                    left += container.offsetLeft;\r\n                    top += container.offsetTop;\r\n                }\r\n\r\n                toolbar.style.left = (toolbar.offsetLeft - left + topArea.offsetLeft) + 'px';\r\n                toolbar.style.top = (toolbar.offsetTop - top + topArea.offsetTop) + 'px';\r\n            }\r\n\r\n            toolbar.style.visibility = '';\r\n        },\r\n\r\n        _setToolbarOffset: function (isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin) {\r\n            const padding = 1;\r\n            const toolbarWidth = toolbar.offsetWidth;\r\n            const toolbarHeight = rects.noText && !isDirTop ? 0 : toolbar.offsetHeight;\r\n\r\n            const absoluteLeft = (isDirTop ? rects.left : rects.right) - editorLeft - (toolbarWidth / 2) + scrollLeft;\r\n            const overRight = absoluteLeft + toolbarWidth - editorWidth;\r\n            \r\n            let t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\r\n            let l = absoluteLeft < 0 ? padding : overRight < 0 ? absoluteLeft : absoluteLeft - overRight - padding - 1;\r\n\r\n            let resetTop = false;\r\n            const space = t + (isDirTop ? (event._getEditorOffsets(null).top) : (toolbar.offsetHeight - context.element.wysiwyg.offsetHeight));\r\n            if (!isDirTop && space > 0 && event._getPageBottomSpace() < space) {\r\n                isDirTop = true;\r\n                resetTop = true;\r\n            } else if (isDirTop && _d.documentElement.offsetTop > space) {\r\n                isDirTop = false;\r\n                resetTop = true;\r\n            }\r\n\r\n            if (resetTop) t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\r\n\r\n            toolbar.style.left = _w.Math.floor(l) + 'px';\r\n            toolbar.style.top = _w.Math.floor(t) + 'px';\r\n\r\n            if (isDirTop) {\r\n                util.removeClass(context.element._arrow, 'se-arrow-up');\r\n                util.addClass(context.element._arrow, 'se-arrow-down');\r\n                context.element._arrow.style.top = toolbarHeight + 'px';\r\n            } else {\r\n                util.removeClass(context.element._arrow, 'se-arrow-down');\r\n                util.addClass(context.element._arrow, 'se-arrow-up');\r\n                context.element._arrow.style.top = -arrowMargin + 'px';\r\n            }\r\n\r\n            const arrow_left = _w.Math.floor((toolbarWidth / 2) + (absoluteLeft - l));\r\n            context.element._arrow.style.left = (arrow_left + arrowMargin > toolbar.offsetWidth ? toolbar.offsetWidth - arrowMargin : arrow_left < arrowMargin ? arrowMargin : arrow_left) + 'px';\r\n        },\r\n\r\n        _showToolbarInline: function () {\r\n            if (!core._isInline) return;\r\n\r\n            const toolbar = context.element.toolbar;\r\n            if (options.toolbarContainer) toolbar.style.position = 'relative';\r\n            else toolbar.style.position = 'absolute';\r\n            \r\n            toolbar.style.visibility = 'hidden';\r\n            toolbar.style.display = 'block';\r\n            core._inlineToolbarAttr.width = toolbar.style.width = options.toolbarWidth;\r\n            core._inlineToolbarAttr.top = toolbar.style.top = (options.toolbarContainer ? 0 : (-1 - toolbar.offsetHeight)) + 'px';\r\n            \r\n            if (typeof functions.showInline === 'function') functions.showInline(toolbar, context, core);\r\n\r\n            event.onScroll_window();\r\n            core._inlineToolbarAttr.isShow = true;\r\n            toolbar.style.visibility = '';\r\n        },\r\n\r\n        _hideToolbar: function () {\r\n            if (!core._notHideToolbar && !core._variable.isFullScreen) {\r\n                context.element.toolbar.style.display = 'none';\r\n                core._inlineToolbarAttr.isShow = false;\r\n            }\r\n        },\r\n\r\n        onInput_wysiwyg: function (e) {\r\n            core._editorRange();\r\n\r\n            // user event\r\n            if (typeof functions.onInput === 'function' && functions.onInput(e, core) === false) return;\r\n\r\n            const data = (e.data === null ? '' : e.data === undefined ? ' ' : e.data) || '';       \r\n            if (!core._charCount(data)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            }\r\n\r\n            // history stack\r\n            core.history.push(true);\r\n        },\r\n\r\n        _isUneditableNode: function (range, isFront) {\r\n            const container = isFront ? range.startContainer : range.endContainer;\r\n            const offset = isFront ? range.startOffset : range.endOffset;\r\n            const siblingKey = isFront ? 'previousSibling' : 'nextSibling';\r\n            const isElement = container.nodeType === 1;\r\n            let siblingNode;\r\n\r\n            if (isElement) {\r\n                siblingNode = event._isUneditableNode_getSibling(container.childNodes[offset], siblingKey, container);\r\n                return siblingNode && siblingNode.nodeType === 1 && siblingNode.getAttribute('contenteditable') === 'false';\r\n            } else {\r\n                siblingNode = event._isUneditableNode_getSibling(container, siblingKey, container);\r\n                return core.isEdgePoint(container, offset, isFront ? 'front' : 'end') && (siblingNode && siblingNode.nodeType === 1 && siblingNode.getAttribute('contenteditable') === 'false');\r\n            }\r\n        },\r\n\r\n        _isUneditableNode_getSibling: function (selectNode, siblingKey, container) {\r\n            if (!selectNode) return null;\r\n            let siblingNode = selectNode[siblingKey];\r\n\r\n            if (!siblingNode) {\r\n                siblingNode = util.getFormatElement(container);\r\n                siblingNode = siblingNode ? siblingNode[siblingKey] : null;\r\n                if (siblingNode && !util.isComponent(siblingNode)) siblingNode = siblingKey === 'previousSibling' ? siblingNode.firstElementChild : siblingNode.lastElementChild;\r\n                else return null;\r\n            }\r\n\r\n            return siblingNode;\r\n        },\r\n\r\n        _onShortcutKey: false,\r\n        onKeyDown_wysiwyg: function (e) {\r\n            const keyCode = e.keyCode;\r\n            const shift = e.shiftKey;\r\n            const ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92 || keyCode === 224;\r\n            const alt = e.altKey;\r\n            event._IEisComposing = keyCode === 229;\r\n\r\n            core.submenuOff();\r\n\r\n            if (core._isBalloon) {\r\n                event._hideToolbar();\r\n            }\r\n\r\n            // user event\r\n            if (typeof functions.onKeyDown === 'function' && functions.onKeyDown(e, core) === false) return;\r\n\r\n            /** Shortcuts */\r\n            if (ctrl && event._shortcutCommand(keyCode, shift)) {\r\n                event._onShortcutKey = true;\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            } else if (event._onShortcutKey) {\r\n                event._onShortcutKey = false;\r\n            }\r\n\r\n            /** default key action */\r\n            let selectionNode = core.getSelectionNode();\r\n            const range = core.getRange();\r\n            const selectRange = !range.collapsed || range.startContainer !== range.endContainer;\r\n            const fileComponentName = core._fileManager.pluginRegExp.test(core.currentControllerName) ? core.currentControllerName : '';\r\n            let formatEl = util.getFormatElement(selectionNode, null) || selectionNode;\r\n            let rangeEl = util.getRangeFormatElement(formatEl, null);\r\n\r\n            switch (keyCode) {\r\n                case 8: /** backspace key */\r\n                    if (!selectRange) {\r\n                        if (fileComponentName) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            core.plugins[fileComponentName].destroy.call(core);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (selectRange && event._hardDelete()) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        break;\r\n                    }\r\n\r\n                    if (!util.isFormatElement(formatEl) && !context.element.wysiwyg.firstElementChild && !util.isComponent(selectionNode)) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        core._setDefaultFormat(options.defaultTag);\r\n                        return false;\r\n                    }\r\n\r\n                    if (!selectRange && !formatEl.previousElementSibling && (range.startOffset === 0 && !selectionNode.previousSibling && !util.isListCell(formatEl) && \r\n                     (util.isFormatElement(formatEl) && (!util.isFreeFormatElement(formatEl) || util.isClosureFreeFormatElement(formatEl))))) {\r\n                        // closure range\r\n                        if (util.isClosureRangeFormatElement(formatEl.parentNode)) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            return false;\r\n                        }\r\n                        // maintain default format\r\n                        if (util.isWysiwygDiv(formatEl.parentNode) && formatEl.childNodes.length <= 1 && (!formatEl.firstChild || util.onlyZeroWidthSpace(formatEl.textContent))) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n\r\n                            if (formatEl.nodeName.toUpperCase() === options.defaultTag.toUpperCase()) {\r\n                                formatEl.innerHTML = '<br>';\r\n                                const attrs = formatEl.attributes;\r\n                                while (attrs[0]) {\r\n                                    formatEl.removeAttribute(attrs[0].name);\r\n                                }\r\n                            } else {\r\n                                const defaultFormat = util.createElement(options.defaultTag);\r\n                                defaultFormat.innerHTML = '<br>';\r\n                                formatEl.parentElement.replaceChild(defaultFormat, formatEl);\r\n                            }\r\n\r\n                            core.nativeFocus();\r\n                            return false;\r\n                        }\r\n                    }\r\n\r\n                    // clean remove tag\r\n                    if (formatEl && range.startContainer === range.endContainer && selectionNode.nodeType === 3 && !util.isFormatElement(selectionNode.parentNode)) {\r\n                        if (range.collapsed ? selectionNode.textContent.length === 1 : (range.endOffset - range.startOffset) === selectionNode.textContent.length) {\r\n                            e.preventDefault();\r\n\r\n                            let offset = null;\r\n                            let prev = selectionNode.parentNode.previousSibling;\r\n                            const next = selectionNode.parentNode.nextSibling;\r\n                            if (!prev) {\r\n                                if (!next) {\r\n                                    prev = util.createElement('BR');\r\n                                    formatEl.appendChild(prev);\r\n                                } else {\r\n                                    prev = next;\r\n                                    offset = 0;\r\n                                }\r\n                            }\r\n\r\n                            selectionNode.textContent = '';\r\n                            util.removeItemAllParents(selectionNode, null, formatEl);\r\n                            offset = typeof offset === 'number' ? offset : prev.nodeType === 3 ? prev.textContent.length : 1;\r\n                            core.setRange(prev, offset, prev, offset);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    // tag[contenteditable=\"false\"]\r\n                    if (event._isUneditableNode(range, true)) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        break;\r\n                    }\r\n\r\n                    // nested list\r\n                    const commonCon = range.commonAncestorContainer;\r\n                    formatEl = util.getFormatElement(range.startContainer, null);\r\n                    rangeEl = util.getRangeFormatElement(formatEl, null);\r\n                    if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\r\n                        if (util.isListCell(formatEl) && util.isList(rangeEl) && (util.isListCell(rangeEl.parentNode) || formatEl.previousElementSibling) && (selectionNode === formatEl || (selectionNode.nodeType === 3 && (!selectionNode.previousSibling || util.isList(selectionNode.previousSibling)))) &&\r\n                         (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.startContainer) : (range.startOffset === 0  && range.collapsed))) {\r\n                            if (range.startContainer !== range.endContainer) {\r\n                                e.preventDefault();\r\n\r\n                                core.removeNode();\r\n                                if (range.startContainer.nodeType === 3) {\r\n                                    core.setRange(range.startContainer, range.startContainer.textContent.length, range.startContainer, range.startContainer.textContent.length);\r\n                                }\r\n                                // history stack\r\n                                core.history.push(true);\r\n                            } else {\r\n                                let prev = formatEl.previousElementSibling || rangeEl.parentNode;\r\n                                if (util.isListCell(prev)) {\r\n                                    e.preventDefault();\r\n\r\n                                    let prevLast = prev;\r\n                                    if (!prev.contains(formatEl) && util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\r\n                                        prevLast = prevLast.lastElementChild.lastElementChild;\r\n                                        while (util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\r\n                                            prevLast = prevLast.lastElementChild && prevLast.lastElementChild.lastElementChild;\r\n                                        }\r\n                                        prev = prevLast;\r\n                                    }\r\n\r\n                                    let con = prev === rangeEl.parentNode ? rangeEl.previousSibling : prev.lastChild;\r\n                                    if (!con) {\r\n                                        con = util.createTextNode(util.zeroWidthSpace);\r\n                                        rangeEl.parentNode.insertBefore(con, rangeEl.parentNode.firstChild);\r\n                                    }\r\n                                    const offset = con.nodeType === 3 ? con.textContent.length : 1;\r\n                                    const children = formatEl.childNodes;\r\n                                    let after = con;\r\n                                    let child = children[0];\r\n                                    while ((child = children[0])) {\r\n                                        prev.insertBefore(child, after.nextSibling);\r\n                                        after = child;\r\n                                    }\r\n\r\n                                    util.removeItem(formatEl);\r\n                                    if (rangeEl.children.length === 0) util.removeItem(rangeEl);\r\n\r\n                                    core.setRange(con, offset, con, offset);\r\n                                    // history stack\r\n                                    core.history.push(true);\r\n                                }\r\n                            }\r\n                            \r\n                            break;\r\n                        }\r\n\r\n                        // detach range\r\n                        if (!selectRange && range.startOffset === 0) {\r\n                            let detach = true;\r\n                            let comm = commonCon;\r\n                            while (comm && comm !== rangeEl && !util.isWysiwygDiv(comm)) {\r\n                                if (comm.previousSibling) {\r\n                                    if (comm.previousSibling.nodeType === 1 || !util.onlyZeroWidthSpace(comm.previousSibling.textContent.trim())) {\r\n                                        detach = false;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                comm = comm.parentNode;\r\n                            }\r\n    \r\n                            if (detach && rangeEl.parentNode) {\r\n                                e.preventDefault();\r\n                                core.detachRangeFormatElement(rangeEl, (util.isListCell(formatEl) ? [formatEl] : null), null, false, false);\r\n                                // history stack\r\n                                core.history.push(true);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // component\r\n                    if (!selectRange && formatEl && (range.startOffset === 0 || (selectionNode === formatEl ? !!formatEl.childNodes[range.startOffset] : false))) {\r\n                        const sel = selectionNode === formatEl ? formatEl.childNodes[range.startOffset] : selectionNode;\r\n                        const prev = formatEl.previousSibling;\r\n                        // select file component\r\n                        const ignoreZWS = (commonCon.nodeType === 3 || util.isBreak(commonCon)) && !commonCon.previousSibling && range.startOffset === 0;\r\n                        if (!sel.previousSibling && (util.isComponent(commonCon.previousSibling) || (ignoreZWS && util.isComponent(prev)))) {\r\n                            const fileComponentInfo = core.getFileComponent(prev);\r\n                            if (fileComponentInfo) {\r\n                                e.preventDefault();\r\n                                e.stopPropagation();\r\n                                if (formatEl.textContent.length === 0) util.removeItem(formatEl);\r\n                                if (core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName) === false) core.blur();\r\n                            } else if (util.isComponent(prev)) {\r\n                                e.preventDefault();\r\n                                e.stopPropagation();\r\n                                util.removeItem(prev);\r\n                            }\r\n                            break;\r\n                        }\r\n                        // delete nonEditable\r\n                        if (util.isNonEditable(sel.previousSibling)) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            util.removeItem(sel.previousSibling);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    break;\r\n                case 46: /** delete key */\r\n                    if (fileComponentName) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        core.plugins[fileComponentName].destroy.call(core);\r\n                        break;\r\n                    }\r\n\r\n                    if (selectRange && event._hardDelete()) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        break;\r\n                    }\r\n\r\n                    // tag[contenteditable=\"false\"]\r\n                    if (event._isUneditableNode(range, false)) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        break;\r\n                    }\r\n\r\n                    // component\r\n                    if ((util.isFormatElement(selectionNode) || selectionNode.nextSibling === null || (util.onlyZeroWidthSpace(selectionNode.nextSibling) && selectionNode.nextSibling.nextSibling === null)) && range.startOffset === selectionNode.textContent.length) {\r\n                        let nextEl = formatEl.nextElementSibling;\r\n                        if (!nextEl) {\r\n                            e.preventDefault();\r\n                            break;\r\n                        }\r\n\r\n                        if (util.isComponent(nextEl)) {\r\n                            e.preventDefault();\r\n\r\n                            if (util.onlyZeroWidthSpace(formatEl)) {\r\n                                util.removeItem(formatEl);\r\n                                // table component\r\n                                if (util.isTable(nextEl)) {\r\n                                    let cell = util.getChildElement(nextEl, util.isCell, false);\r\n                                    cell = cell.firstElementChild || cell;\r\n                                    core.setRange(cell, 0, cell, 0);\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            // select file component\r\n                            const fileComponentInfo = core.getFileComponent(nextEl);\r\n                            if (fileComponentInfo) {\r\n                                e.stopPropagation();\r\n                                if (core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName) === false) core.blur();\r\n                            } else if (util.isComponent(nextEl)) {\r\n                                e.stopPropagation();\r\n                                util.removeItem(nextEl);\r\n                            }\r\n\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (!selectRange && (core.isEdgePoint(range.endContainer, range.endOffset) || (selectionNode === formatEl ? !!formatEl.childNodes[range.startOffset] : false))) {\r\n                        const sel = selectionNode === formatEl ? formatEl.childNodes[range.startOffset] : selectionNode;\r\n                        // delete nonEditable\r\n                        if (util.isNonEditable(sel.nextSibling)) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            util.removeItem(sel.nextSibling);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    // nested list\r\n                    formatEl = util.getFormatElement(range.startContainer, null);\r\n                    rangeEl = util.getRangeFormatElement(formatEl, null);\r\n                    if (util.isListCell(formatEl) && util.isList(rangeEl) && (selectionNode === formatEl || (selectionNode.nodeType === 3 && (!selectionNode.nextSibling || util.isList(selectionNode.nextSibling)) &&\r\n                     (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.endContainer) : (range.endOffset === selectionNode.textContent.length && range.collapsed))))) {\r\n                        if (range.startContainer !== range.endContainer) core.removeNode();\r\n                        \r\n                        let next = util.getArrayItem(formatEl.children, util.isList, false);\r\n                        next = next || formatEl.nextElementSibling || rangeEl.parentNode.nextElementSibling;\r\n                        if (next && (util.isList(next) || util.getArrayItem(next.children, util.isList, false))) {\r\n                            e.preventDefault();\r\n\r\n                            let con, children;\r\n                            if (util.isList(next)) {\r\n                                const child = next.firstElementChild;\r\n                                children = child.childNodes;\r\n                                con = children[0];\r\n                                while (children[0]) {\r\n                                    formatEl.insertBefore(children[0], next);\r\n                                }\r\n                                util.removeItem(child);\r\n                            } else {\r\n                                con = next.firstChild;\r\n                                children = next.childNodes;\r\n                                while (children[0]) {\r\n                                    formatEl.appendChild(children[0]);\r\n                                }\r\n                                util.removeItem(next);\r\n                            }\r\n                            core.setRange(con, 0, con, 0);\r\n                            // history stack\r\n                            core.history.push(true);\r\n                        }\r\n                        break;\r\n                    }\r\n\r\n                    break;\r\n                case 9: /** tab key */\r\n                    if (fileComponentName || options.tabDisable) break;\r\n                    e.preventDefault();\r\n                    if (ctrl || alt || util.isWysiwygDiv(selectionNode)) break;\r\n\r\n                    const isEdge = (!range.collapsed || core.isEdgePoint(range.startContainer, range.startOffset));            \r\n                    const selectedFormats = core.getSelectedElements(null);\r\n                    selectionNode = core.getSelectionNode();\r\n                    const cells = [];\r\n                    let lines = [];\r\n                    let fc = util.isListCell(selectedFormats[0]), lc = util.isListCell(selectedFormats[selectedFormats.length - 1]);\r\n                    let r = {sc: range.startContainer, so: range.startOffset, ec: range.endContainer, eo: range.endOffset};\r\n                    for (let i = 0, len = selectedFormats.length, f; i < len; i++) {\r\n                        f = selectedFormats[i];\r\n                        if (util.isListCell(f)) {\r\n                            if (!f.previousElementSibling && !shift) {\r\n                                continue;\r\n                            } else {\r\n                                cells.push(f);\r\n                            }\r\n                        } else {\r\n                            lines.push(f);\r\n                        }\r\n                    }\r\n                    \r\n                    // Nested list\r\n                    if (cells.length > 0 && isEdge && core.plugins.list) {\r\n                        r = core.plugins.list.editInsideList.call(core, shift, cells);\r\n                    } else {\r\n                        // table\r\n                        const tableCell = util.getParentElement(selectionNode, util.isCell);\r\n                        if (tableCell && isEdge) {\r\n                            const table = util.getParentElement(tableCell, 'table');\r\n                            const cells = util.getListChildren(table, util.isCell);\r\n                            let idx = shift ? util.prevIdx(cells, tableCell) : util.nextIdx(cells, tableCell);\r\n\r\n                            if (idx === cells.length && !shift) idx = 0;\r\n                            if (idx === -1 && shift) idx = cells.length - 1;\r\n\r\n                            let moveCell = cells[idx];\r\n                            if (!moveCell) break;\r\n                            moveCell = moveCell.firstElementChild || moveCell;\r\n                            core.setRange(moveCell, 0, moveCell, 0);\r\n                            break;\r\n                        }\r\n\r\n                        lines = lines.concat(cells);\r\n                        fc = lc = null;\r\n                    }\r\n\r\n                    // Lines tab(4)\r\n                    if (lines.length > 0) {\r\n                        if (!shift) {\r\n                            const tabText = util.createTextNode(new _w.Array(core._variable.tabSize + 1).join('\\u00A0'));\r\n                            if (lines.length === 1) {\r\n                                const textRange = core.insertNode(tabText, null, true);\r\n                                if (!textRange) return false;\r\n                                if (!fc) {\r\n                                    r.sc = tabText;\r\n                                    r.so = textRange.endOffset;\r\n                                }\r\n                                if (!lc) {\r\n                                    r.ec = tabText;\r\n                                    r.eo = textRange.endOffset;\r\n                                }\r\n                            } else {\r\n                                const len = lines.length - 1;\r\n                                for (let i = 0, child; i <= len; i++) {\r\n                                    child = lines[i].firstChild;\r\n                                    if (!child) continue;\r\n    \r\n                                    if (util.isBreak(child)) {\r\n                                        lines[i].insertBefore(tabText.cloneNode(false), child);\r\n                                    } else {\r\n                                        child.textContent = tabText.textContent + child.textContent;\r\n                                    }\r\n                                }\r\n    \r\n                                const firstChild = util.getChildElement(lines[0], 'text', false);\r\n                                const endChild = util.getChildElement(lines[len], 'text', true);\r\n                                if (!fc && firstChild) {\r\n                                    r.sc = firstChild;\r\n                                    r.so = 0;\r\n                                }\r\n                                if (!lc && endChild) {\r\n                                    r.ec = endChild;\r\n                                    r.eo = endChild.textContent.length;\r\n                                }\r\n                            }\r\n                        } else {\r\n                            const len = lines.length - 1;\r\n                            for (let i = 0, line; i <= len; i++) {\r\n                                line = lines[i].childNodes;\r\n                                for (let c = 0, cLen = line.length, child; c < cLen; c++) {\r\n                                    child = line[c];\r\n                                    if (!child) break;\r\n                                    if (util.onlyZeroWidthSpace(child)) continue;\r\n        \r\n                                    if (/^\\s{1,4}$/.test(child.textContent)) {\r\n                                        util.removeItem(child);\r\n                                    } else if (/^\\s{1,4}/.test(child.textContent)) {\r\n                                        child.textContent = child.textContent.replace(/^\\s{1,4}/, '');\r\n                                    }\r\n                                    \r\n                                    break;\r\n                                }\r\n                            }\r\n    \r\n                            const firstChild = util.getChildElement(lines[0], 'text', false);\r\n                            const endChild = util.getChildElement(lines[len], 'text', true);\r\n                            if (!fc && firstChild) {\r\n                                r.sc = firstChild;\r\n                                r.so = 0;\r\n                            }\r\n                            if (!lc && endChild) {\r\n                                r.ec = endChild;\r\n                                r.eo = endChild.textContent.length;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    core.setRange(r.sc, r.so, r.ec, r.eo);\r\n                    // history stack\r\n                    core.history.push(false);\r\n                    \r\n                    break;\r\n                case 13: /** enter key */\r\n                    const freeFormatEl = util.getFreeFormatElement(selectionNode, null);\r\n\r\n                    if (core._charTypeHTML) {\r\n                        let enterHTML = '';\r\n                        if ((!shift && freeFormatEl) || shift) {\r\n                            enterHTML = '<br>';\r\n                        } else {\r\n                            enterHTML = '<' + formatEl.nodeName + '><br></' + formatEl.nodeName + '>';\r\n                        }\r\n\r\n                        if (!core.checkCharCount(enterHTML, 'byte-html')) {\r\n                            e.preventDefault();\r\n                            return false;\r\n                        }\r\n                    }\r\n\r\n                    if (!shift) {\r\n                        if (core.isEdgeFormat(range.endContainer, range.endOffset, 'end') || /^HR$/i.test(formatEl.nodeName)) {\r\n                            e.preventDefault();\r\n                            const newFormat = core.appendFormatTag(formatEl, /^H[1-6r]$/i.test(formatEl.nodeName) ? options.defaultTag : formatEl.cloneNode(true));\r\n                            core.setRange(newFormat, 1, newFormat, 1);\r\n                            break;\r\n                        }\r\n\r\n                        if (freeFormatEl) {\r\n                            e.preventDefault();\r\n                            const selectionFormat = selectionNode === freeFormatEl;\r\n                            const wSelection = core.getSelection();\r\n                            const children = selectionNode.childNodes, offset = wSelection.focusOffset, prev = selectionNode.previousElementSibling, next = selectionNode.nextSibling;\r\n    \r\n                            if (!util.isClosureFreeFormatElement(freeFormatEl) && !!children && ((selectionFormat && range.collapsed && children.length - 1 <= offset + 1 && util.isBreak(children[offset]) && (!children[offset + 1] || ((!children[offset + 2] || util.onlyZeroWidthSpace(children[offset + 2].textContent)) && children[offset + 1].nodeType === 3 && util.onlyZeroWidthSpace(children[offset + 1].textContent))) &&  offset > 0 && util.isBreak(children[offset - 1])) ||\r\n                              (!selectionFormat && util.onlyZeroWidthSpace(selectionNode.textContent) && util.isBreak(prev) && (util.isBreak(prev.previousSibling) || !util.onlyZeroWidthSpace(prev.previousSibling.textContent)) && (!next || (!util.isBreak(next) && util.onlyZeroWidthSpace(next.textContent)))))) {\r\n                                if (selectionFormat) util.removeItem(children[offset - 1]);\r\n                                else util.removeItem(selectionNode);\r\n                                const newEl = core.appendFormatTag(freeFormatEl, util.isFormatElement(freeFormatEl.nextElementSibling) ? freeFormatEl.nextElementSibling : null);\r\n                                util.copyFormatAttributes(newEl, freeFormatEl);\r\n                                core.setRange(newEl, 1, newEl, 1);\r\n                                break;\r\n                            }\r\n                            \r\n                            if (selectionFormat) {\r\n                                functions.insertHTML(((range.collapsed && util.isBreak(range.startContainer.childNodes[range.startOffset - 1])) ? '<br>' : '<br><br>'), true, false);\r\n    \r\n                                let focusNode = wSelection.focusNode;\r\n                                const wOffset = wSelection.focusOffset;\r\n                                if (freeFormatEl === focusNode) {\r\n                                    focusNode = focusNode.childNodes[wOffset - offset > 1 ? wOffset - 1 : wOffset];\r\n                                }\r\n    \r\n                                core.setRange(focusNode, 1, focusNode, 1);\r\n                            } else {\r\n                                const focusNext = wSelection.focusNode.nextSibling;\r\n                                const br = util.createElement('BR');\r\n                                core.insertNode(br, null, false);\r\n    \r\n                                const brPrev = br.previousSibling, brNext = br.nextSibling;\r\n                                if (!util.isBreak(focusNext) && !util.isBreak(brPrev) && (!brNext || util.onlyZeroWidthSpace(brNext))) {\r\n                                    br.parentNode.insertBefore(br.cloneNode(false), br);\r\n                                    core.setRange(br, 1, br, 1);\r\n                                } else {\r\n                                    core.setRange(brNext, 0, brNext, 0);\r\n                                }\r\n                            }\r\n    \r\n                            event._onShortcutKey = true;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (selectRange) break;\r\n                    \r\n                    if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\r\n                        const range = core.getRange();\r\n                        if(core.isEdgePoint(range.endContainer, range.endOffset) && util.isList(selectionNode.nextSibling)) {\r\n                            e.preventDefault();\r\n                            const newEl = util.createElement('LI');\r\n                            const br = util.createElement('BR');\r\n                            newEl.appendChild(br);\r\n\r\n                            formatEl.parentNode.insertBefore(newEl, formatEl.nextElementSibling);\r\n                            newEl.appendChild(selectionNode.nextSibling);\r\n                            \r\n                            core.setRange(br, 1, br, 1);\r\n                            break;\r\n                        }\r\n\r\n                        if ((range.commonAncestorContainer.nodeType === 3 ? !range.commonAncestorContainer.nextElementSibling : true) && util.onlyZeroWidthSpace(formatEl.innerText.trim())) {\r\n                            e.preventDefault();\r\n                            let newEl = null;\r\n\r\n                            if (util.isListCell(rangeEl.parentNode)) {\r\n                                rangeEl = formatEl.parentNode.parentNode.parentNode;\r\n                                newEl = util.splitElement(formatEl, null, util.getElementDepth(formatEl) - 2);\r\n                                if (!newEl) {\r\n                                    const newListCell = util.createElement('LI');\r\n                                    newListCell.innerHTML = '<br>';\r\n                                    rangeEl.insertBefore(newListCell, newEl);\r\n                                    newEl = newListCell;\r\n                                }\r\n                            } else {\r\n                                const newFormat = util.isCell(rangeEl.parentNode) ? 'DIV' : util.isList(rangeEl.parentNode) ? 'LI' : util.isFormatElement(rangeEl.nextElementSibling) ? rangeEl.nextElementSibling.nodeName : util.isFormatElement(rangeEl.previousElementSibling) ? rangeEl.previousElementSibling.nodeName : options.defaultTag;\r\n                                newEl = util.createElement(newFormat);\r\n                                const edge = core.detachRangeFormatElement(rangeEl, [formatEl], null, true, true);\r\n                                edge.cc.insertBefore(newEl, edge.ec);\r\n                            }\r\n                            \r\n                            newEl.innerHTML = '<br>';\r\n                            util.copyFormatAttributes(newEl, formatEl);\r\n                            util.removeItemAllParents(formatEl, null, null);\r\n                            core.setRange(newEl, 1, newEl, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (rangeEl && util.getParentElement(rangeEl, 'FIGCAPTION') && util.getParentElement(rangeEl, util.isList)) {\r\n                        e.preventDefault();\r\n                        formatEl = core.appendFormatTag(formatEl, null);\r\n                        core.setRange(formatEl, 0, formatEl, 0);\r\n                    }\r\n\r\n                    if (fileComponentName) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        const compContext = context[fileComponentName];\r\n                        const container = compContext._container;\r\n                        const sibling = container.previousElementSibling || container.nextElementSibling;\r\n\r\n                        let newEl = null;\r\n                        if (util.isListCell(container.parentNode)) {\r\n                            newEl = util.createElement('BR');\r\n                        } else {\r\n                            newEl = util.createElement(util.isFormatElement(sibling) ? sibling.nodeName : options.defaultTag);\r\n                            newEl.innerHTML = '<br>';\r\n                        }\r\n\r\n                        container.parentNode.insertBefore(newEl, container);\r\n                        \r\n                        core.callPlugin(fileComponentName, function () {\r\n                            if (core.selectComponent(compContext._element, fileComponentName) === false) core.blur();\r\n                        }, null);\r\n                    }\r\n                    \r\n                    break;\r\n                case 27:\r\n                    if (fileComponentName) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        core.controllersOff();\r\n                        return false;\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            if (shift && keyCode === 16) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                const tablePlugin = core.plugins.table;\r\n                if (tablePlugin && !tablePlugin._shift && !tablePlugin._ref) {\r\n                    const cell = util.getParentElement(formatEl, util.isCell);\r\n                    if (cell) {\r\n                        tablePlugin.onTableCellMultiSelect.call(core, cell, true);\r\n                        return;\r\n                    }\r\n                }\r\n            } else if (shift && (util.isOSX_IOS ? alt : ctrl) && keyCode === 32) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                const nbsp = core.insertNode(util.createTextNode('\\u00a0'));\r\n                if (nbsp && nbsp.container) {\r\n                    core.setRange(nbsp.container, nbsp.endOffset, nbsp.container, nbsp.endOffset);\r\n                    return;\r\n                }\r\n            }\r\n\r\n            const textKey = !ctrl && !alt && !selectRange && !event._nonTextKeyCode.test(keyCode);\r\n            if (textKey && range.collapsed && range.startContainer === range.endContainer && util.isBreak(range.commonAncestorContainer)) {\r\n                const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                core.insertNode(zeroWidth, null, false);\r\n                core.setRange(zeroWidth, 1, zeroWidth, 1);\r\n            }\r\n        },\r\n\r\n        onKeyUp_wysiwyg: function (e) {\r\n            if (event._onShortcutKey) return;\r\n            core._editorRange();\r\n\r\n            const range = core.getRange();\r\n            const keyCode = e.keyCode;\r\n            const ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92 || keyCode === 224;\r\n            const alt = e.altKey;\r\n            let selectionNode = core.getSelectionNode();\r\n\r\n            if (core._isBalloon && ((core._isBalloonAlways && keyCode !== 27) || !range.collapsed)) {\r\n                if (core._isBalloonAlways) {\r\n                    if (keyCode !== 27) event._showToolbarBalloonDelay();\r\n                } else {\r\n                    event._showToolbarBalloon();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            // user event\r\n            if (typeof functions.onKeyUp === 'function' && functions.onKeyUp(e, core) === false) return;\r\n\r\n            /** when format tag deleted */\r\n            if (keyCode === 8 && util.isWysiwygDiv(selectionNode) && selectionNode.textContent === '' && selectionNode.children.length === 0) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                selectionNode.innerHTML = '';\r\n\r\n                const oFormatTag = util.createElement(util.isFormatElement(core._variable.currentNodes[0]) ? core._variable.currentNodes[0] : options.defaultTag);\r\n                oFormatTag.innerHTML = '<br>';\r\n\r\n                selectionNode.appendChild(oFormatTag);\r\n                core.setRange(oFormatTag, 0, oFormatTag, 0);\r\n                event._applyTagEffects();\r\n\r\n                core.history.push(false);\r\n                return;\r\n            }\r\n\r\n            const formatEl = util.getFormatElement(selectionNode, null);\r\n            const rangeEl = util.getRangeFormatElement(selectionNode, null);\r\n            if (((!formatEl && range.collapsed) || formatEl === rangeEl) && !util.isComponent(selectionNode) && !util.isList(selectionNode)) {\r\n                core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : options.defaultTag);\r\n                selectionNode = core.getSelectionNode();\r\n            }\r\n\r\n            if (event._directionKeyCode.test(keyCode)) {\r\n                event._applyTagEffects();\r\n            }\r\n\r\n            const textKey = !ctrl && !alt && !event._nonTextKeyCode.test(keyCode);\r\n            if (textKey && selectionNode.nodeType === 3 && util.zeroWidthRegExp.test(selectionNode.textContent) && !(e.isComposing !== undefined ? e.isComposing : event._IEisComposing)) {\r\n                let so = range.startOffset, eo = range.endOffset;\r\n                const frontZeroWidthCnt = (selectionNode.textContent.substring(0, eo).match(event._frontZeroWidthReg) || '').length;\r\n                so = range.startOffset - frontZeroWidthCnt;\r\n                eo = range.endOffset - frontZeroWidthCnt;\r\n                selectionNode.textContent = selectionNode.textContent.replace(util.zeroWidthRegExp, '');\r\n                core.setRange(selectionNode, so < 0 ? 0 : so, selectionNode, eo < 0 ? 0 : eo);\r\n            }\r\n\r\n            core._charCount('');\r\n\r\n            // history stack\r\n            core.history.push(true);\r\n        },\r\n\r\n        onScroll_wysiwyg: function (e) {\r\n            core.controllersOff();\r\n            if (core._isBalloon) event._hideToolbar();\r\n\r\n            // user event\r\n            if (typeof functions.onScroll === 'function') functions.onScroll(e, core);\r\n        },\r\n\r\n        onFocus_wysiwyg: function (e) {\r\n            if (core._antiBlur) return;\r\n            core.hasFocus = true;\r\n            if (core._isInline) event._showToolbarInline();\r\n\r\n            // user event\r\n            if (typeof functions.onFocus === 'function') functions.onFocus(e, core);\r\n        },\r\n\r\n        onBlur_wysiwyg: function (e) {\r\n            if (core._antiBlur || core._variable.isCodeView) return;\r\n            core.hasFocus = false;\r\n            core.controllersOff();\r\n            if (core._isInline || core._isBalloon) event._hideToolbar();\r\n\r\n            // user event\r\n            if (typeof functions.onBlur === 'function') functions.onBlur(e, core);\r\n\r\n            // active class reset of buttons\r\n            const commandMap = core.commandMap;\r\n            const activePlugins = core.activePlugins;\r\n            for (let key in commandMap) {\r\n                if (!util.hasOwn(commandMap, key)) continue;\r\n                if (activePlugins.indexOf(key) > -1) {\r\n                    plugins[key].active.call(core, null);\r\n                } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\r\n                    commandMap.OUTDENT.setAttribute('disabled', true);\r\n                } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\r\n                    commandMap.INDENT.removeAttribute('disabled');\r\n                } else {\r\n                    util.removeClass(commandMap[key], 'active');\r\n                }\r\n            }\r\n\r\n            core._variable.currentNodes = [];\r\n            core._variable.currentNodesMap = [];\r\n            if (options.showPathLabel) context.element.navigation.textContent = '';\r\n        },\r\n\r\n        onMouseDown_resizingBar: function (e) {\r\n            e.stopPropagation();\r\n\r\n            core.submenuOff();\r\n            core.controllersOff();\r\n\r\n            core._variable.resizeClientY = e.clientY;\r\n            context.element.resizeBackground.style.display = 'block';\r\n\r\n            function closureFunc() {\r\n                context.element.resizeBackground.style.display = 'none';\r\n                _d.removeEventListener('mousemove', event._resize_editor);\r\n                _d.removeEventListener('mouseup', closureFunc);\r\n            }\r\n\r\n            _d.addEventListener('mousemove', event._resize_editor);\r\n            _d.addEventListener('mouseup', closureFunc);\r\n        },\r\n\r\n        _resize_editor: function (e) {\r\n            const resizeInterval = context.element.editorArea.offsetHeight + (e.clientY - core._variable.resizeClientY);\r\n            context.element.wysiwygFrame.style.height = context.element.code.style.height = (resizeInterval < core._variable.minResizingSize ? core._variable.minResizingSize : resizeInterval) + 'px';\r\n            core._variable.resizeClientY = e.clientY;\r\n        },\r\n\r\n        onResize_window: function () {\r\n            core.controllersOff();\r\n\r\n            const responsiveSize = event._responsiveButtonSize;\r\n            if (responsiveSize) {\r\n                let w = 0;\r\n                if ((core._isBalloon || core._isInline) && options.toolbarWidth === 'auto') {\r\n                    w = context.element.topArea.offsetWidth;\r\n                } else {\r\n                    w = context.element.toolbar.offsetWidth;\r\n                }\r\n\r\n                let responsiveWidth = 'default';\r\n                for (let i = 1, len = responsiveSize.length; i < len; i++) {\r\n                    if (w < responsiveSize[i]) {\r\n                        responsiveWidth = responsiveSize[i] + '';\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (event._responsiveCurrentSize !== responsiveWidth) {\r\n                    event._responsiveCurrentSize = responsiveWidth;\r\n                    functions.setToolbarButtons(event._responsiveButtons[responsiveWidth]);\r\n                }\r\n            }\r\n\r\n            if (context.element.toolbar.offsetWidth === 0) return;\r\n\r\n            if (context.fileBrowser && context.fileBrowser.area.style.display === 'block') {\r\n                context.fileBrowser.body.style.maxHeight = (_w.innerHeight - context.fileBrowser.header.offsetHeight - 50) + 'px';\r\n            }\r\n\r\n            if (core.submenuActiveButton && core.submenu) {\r\n                core._setMenuPosition(core.submenuActiveButton, core.submenu);\r\n            }\r\n\r\n            if (core._variable.isFullScreen) {\r\n                core._variable.innerHeight_fullScreen += (_w.innerHeight - context.element.toolbar.offsetHeight) - core._variable.innerHeight_fullScreen;\r\n                context.element.editorArea.style.height = core._variable.innerHeight_fullScreen + 'px';\r\n                return;\r\n            }\r\n\r\n            if (core._variable.isCodeView && core._isInline) {\r\n                event._showToolbarInline();\r\n                return;\r\n            }\r\n            \r\n            core._iframeAutoHeight();\r\n\r\n            if (core._sticky) {\r\n                context.element.toolbar.style.width = (context.element.topArea.offsetWidth - 2) + 'px';\r\n                event.onScroll_window();\r\n            }\r\n        },\r\n\r\n        onScroll_window: function () {\r\n            if (core._variable.isFullScreen || context.element.toolbar.offsetWidth === 0 || options.stickyToolbar < 0) return;\r\n\r\n            const element = context.element;\r\n            const editorHeight = element.editorArea.offsetHeight;\r\n            const y = (this.scrollY || _d.documentElement.scrollTop) + options.stickyToolbar;\r\n            const editorTop = event._getEditorOffsets(options.toolbarContainer).top - (core._isInline ? element.toolbar.offsetHeight : 0);\r\n            \r\n            if (y < editorTop) {\r\n                event._offStickyToolbar();\r\n            }\r\n            else if (y + core._variable.minResizingSize >= editorHeight + editorTop) {\r\n                if (!core._sticky) event._onStickyToolbar();\r\n                element.toolbar.style.top = (editorHeight + editorTop + options.stickyToolbar -y - core._variable.minResizingSize) + 'px';\r\n            }\r\n            else if (y >= editorTop) {\r\n                event._onStickyToolbar();\r\n            }\r\n        },\r\n\r\n        _getEditorOffsets: function (container) {\r\n            let offsetEl = container || context.element.topArea;\r\n            let t = 0, l = 0, s = 0;\r\n\r\n            while (offsetEl) {\r\n                t += offsetEl.offsetTop;\r\n                l += offsetEl.offsetLeft;\r\n                s += offsetEl.scrollTop;\r\n                offsetEl = offsetEl.offsetParent;\r\n            }\r\n\r\n            return {\r\n                top: t,\r\n                left: l,\r\n                scroll: s\r\n            };\r\n        },\r\n\r\n        _getPageBottomSpace: function () {\r\n            return _d.documentElement.scrollHeight - (event._getEditorOffsets(null).top + context.element.topArea.offsetHeight);\r\n        },\r\n\r\n        _onStickyToolbar: function () {\r\n            const element = context.element;\r\n\r\n            if (!core._isInline && !options.toolbarContainer) {\r\n                element._stickyDummy.style.height = element.toolbar.offsetHeight + 'px';\r\n                element._stickyDummy.style.display = 'block';\r\n            }\r\n\r\n            element.toolbar.style.top = options.stickyToolbar + 'px';\r\n            element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : element.toolbar.offsetWidth + 'px';\r\n            util.addClass(element.toolbar, 'se-toolbar-sticky');\r\n            core._sticky = true;\r\n        },\r\n\r\n        _offStickyToolbar: function () {\r\n            const element = context.element;\r\n\r\n            element._stickyDummy.style.display = 'none';\r\n            element.toolbar.style.top = core._isInline ? core._inlineToolbarAttr.top : '';\r\n            element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : '';\r\n            element.editorArea.style.marginTop = '';\r\n\r\n            util.removeClass(element.toolbar, 'se-toolbar-sticky');\r\n            core._sticky = false;\r\n        },\r\n\r\n        _codeViewAutoHeight: function () {\r\n            context.element.code.style.height = context.element.code.scrollHeight + 'px';\r\n        },\r\n\r\n        // FireFox - table delete, Chrome - image, video, audio\r\n        _hardDelete: function () {\r\n            const range = core.getRange();\r\n            const sc = range.startContainer;\r\n            const ec = range.endContainer;\r\n            \r\n            // table\r\n            const sCell = util.getRangeFormatElement(sc);\r\n            const eCell = util.getRangeFormatElement(ec);\r\n            const sIsCell = util.isCell(sCell);\r\n            const eIsCell = util.isCell(eCell);\r\n            if (((sIsCell && !sCell.previousElementSibling && !sCell.parentElement.previousElementSibling) || (eIsCell && !eCell.nextElementSibling && !eCell.parentElement.nextElementSibling)) && sCell !== eCell) {\r\n                if (!sIsCell) {\r\n                    util.removeItem(util.getParentElement(eCell, util.isComponent));\r\n                } else if (!eIsCell) {\r\n                    util.removeItem(util.getParentElement(sCell, util.isComponent));\r\n                } else {\r\n                    util.removeItem(util.getParentElement(sCell, util.isComponent));\r\n                    core.nativeFocus();\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            // component\r\n            const sComp = sc.nodeType === 1 ? util.getParentElement(sc, '.se-component') : null;\r\n            const eComp = ec.nodeType === 1 ? util.getParentElement(ec, '.se-component') : null;\r\n            if (sComp) util.removeItem(sComp);\r\n            if (eComp) util.removeItem(eComp);\r\n\r\n            return false;\r\n        },\r\n\r\n        onPaste_wysiwyg: function (e) {\r\n            const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\r\n            if (!clipboardData) return true;\r\n            return event._dataTransferAction('paste', e, clipboardData);\r\n        },\r\n\r\n        _setClipboardComponent: function (e, info, clipboardData) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            clipboardData.setData('text/html', info.component.outerHTML);\r\n        },\r\n\r\n        onCopy_wysiwyg: function (e) {\r\n            const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\r\n            \r\n            // user event\r\n            if (typeof functions.onCopy === 'function' && !functions.onCopy(e, clipboardData, core)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n\r\n            const info = core.currentFileComponentInfo;\r\n            if (info && !util.isIE) {\r\n                event._setClipboardComponent(e, info, clipboardData);\r\n                util.addClass(info.component, 'se-component-copy');\r\n                // copy effect\r\n                _w.setTimeout(function () {\r\n                    util.removeClass(info.component, 'se-component-copy');\r\n                }, 150);\r\n            }\r\n        },\r\n\r\n        onCut_wysiwyg: function (e) {\r\n            const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\r\n\r\n            // user event\r\n            if (typeof functions.onCut === 'function' && !functions.onCut(e, clipboardData, core)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n\r\n            const info = core.currentFileComponentInfo;\r\n            if (info && !util.isIE) {\r\n                event._setClipboardComponent(e, info, clipboardData);\r\n                util.removeItem(info.component);\r\n                core.controllersOff();\r\n            }\r\n\r\n            _w.setTimeout(function () {\r\n                // history stack\r\n                core.history.push(false);\r\n            });\r\n        },\r\n\r\n        onDrop_wysiwyg: function (e) {\r\n            const dataTransfer = e.dataTransfer;\r\n            if (!dataTransfer) return true;\r\n            if (util.isIE) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n\r\n            core.removeNode();\r\n            event._setDropLocationSelection(e);\r\n            return event._dataTransferAction('drop', e, dataTransfer);\r\n        },\r\n\r\n        _setDropLocationSelection: function (e) {\r\n            if (e.rangeParent) {\r\n                core.setRange(e.rangeParent, e.rangeOffset, e.rangeParent, e.rangeOffset);\r\n            } else if (core._wd.caretRangeFromPoint) {\r\n                const r = core._wd.caretRangeFromPoint(e.clientX, e.clientY);\r\n                core.setRange(r.startContainer, r.startOffset, r.endContainer, r.endOffset);\r\n            } else {\r\n                const r = core.getRange();\r\n                core.setRange(r.startContainer, r.startOffset, r.endContainer, r.endOffset);\r\n            }\r\n        },\r\n\r\n        _dataTransferAction: function (type, e, data) {\r\n            let plainText, cleanData;\r\n            if (util.isIE) {\r\n                plainText = data.getData('Text');\r\n                \r\n                const range = core.getRange();\r\n                const tempDiv = util.createElement('DIV');\r\n                const tempRange = {\r\n                    sc: range.startContainer,\r\n                    so: range.startOffset,\r\n                    ec: range.endContainer,\r\n                    eo: range.endOffset\r\n                };\r\n\r\n                tempDiv.setAttribute('contenteditable', true);\r\n                tempDiv.style.cssText = 'position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;';\r\n                \r\n                context.element.relative.appendChild(tempDiv);\r\n                tempDiv.focus();\r\n\r\n                _w.setTimeout(function () {\r\n                    cleanData = tempDiv.innerHTML;\r\n                    util.removeItem(tempDiv);\r\n                    core.setRange(tempRange.sc, tempRange.so, tempRange.ec, tempRange.eo);\r\n                    event._setClipboardData(type, e, plainText, cleanData, data);\r\n                });\r\n\r\n                return true;\r\n            } else {\r\n                plainText = data.getData('text/plain');\r\n                cleanData = data.getData('text/html');\r\n                if (event._setClipboardData(type, e, plainText, cleanData, data) === false) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    return false;\r\n                }\r\n            }\r\n        },\r\n\r\n        _setClipboardData: function (type, e, plainText, cleanData, data) {\r\n            // MS word, OneNode, Excel\r\n            const MSData = /class=[\"']*Mso(Normal|List)/i.test(cleanData) || /content=[\"']*Word.Document/i.test(cleanData) || /content=[\"']*OneNote.File/i.test(cleanData) || /content=[\"']*Excel.Sheet/i.test(cleanData);\r\n            const onlyText = !cleanData;\r\n\r\n            if (!onlyText) {\r\n                if (MSData) {\r\n                    cleanData = cleanData.replace(/\\n/g, ' ');\r\n                    plainText = plainText.replace(/\\n/g, ' ');\r\n                } else {\r\n                    cleanData = (plainText === cleanData ? plainText : cleanData).replace(/\\n/g, '<br>');\r\n                }\r\n                cleanData = core.cleanHTML(cleanData, core.pasteTagsWhitelistRegExp);\r\n            } else {\r\n                cleanData = plainText.replace(/\\n/g, '<br>');\r\n            }\r\n\r\n            const maxCharCount = core._charCount(core._charTypeHTML ? cleanData : plainText);\r\n            // // user event - paste\r\n            if (type === 'paste' && typeof functions.onPaste === 'function') {\r\n                const value = functions.onPaste(e, cleanData, maxCharCount, core);\r\n                if (!value) return false;\r\n                if (typeof value === 'string') cleanData = value;\r\n            }\r\n            // // user event - drop\r\n            if (type === 'drop' && typeof functions.onDrop === 'function') {\r\n                const value = functions.onDrop(e, cleanData, maxCharCount, core);\r\n                if (!value) return false;\r\n                if (typeof value === 'string') cleanData = value;\r\n            }\r\n\r\n            if (onlyText) cleanData = util._HTMLConvertor(cleanData);\r\n\r\n            // files\r\n            const files = data.files;\r\n            if (files.length > 0 && !MSData) {\r\n                if (/^image/.test(files[0].type) && core.plugins.image) {\r\n                    functions.insertImage(files);\r\n                }\r\n                return false;\r\n            }\r\n\r\n            if (!maxCharCount) {\r\n                return false;\r\n            }\r\n\r\n            if (cleanData) {\r\n                functions.insertHTML(cleanData, true, false);\r\n                return false;\r\n            }\r\n        },\r\n\r\n        onMouseMove_wysiwyg: function (e) {\r\n            if (core.isDisabled) return;\r\n            const component = util.getParentElement(e.target, util.isComponent);\r\n            const lineBreakerStyle = core._lineBreaker.style;\r\n            \r\n            if (component && !core.currentControllerName) {\r\n                const ctxEl = context.element;\r\n                let scrollTop = 0;\r\n                let el = ctxEl.wysiwyg;\r\n                do {\r\n                    scrollTop += el.scrollTop;\r\n                    el = el.parentElement;\r\n                } while (el && !/^(BODY|HTML)$/i.test(el.nodeName));\r\n\r\n                const wScroll = ctxEl.wysiwyg.scrollTop;\r\n                const offsets = event._getEditorOffsets(null);\r\n                const componentTop = util.getOffset(component, ctxEl.wysiwygFrame).top + wScroll;\r\n                const y = e.pageY + scrollTop + (options.iframe && !options.toolbarContainer ? ctxEl.toolbar.offsetHeight : 0);\r\n                const c = componentTop + (options.iframe ? scrollTop : offsets.top);\r\n\r\n                const isList = util.isListCell(component.parentNode);\r\n                let dir = '', top = '';\r\n                if ((isList ? !component.previousSibling : !util.isFormatElement(component.previousElementSibling)) && y < (c + 20)) {\r\n                    top = componentTop;\r\n                    dir = 't';\r\n                } else if ((isList ? !component.nextSibling : !util.isFormatElement(component.nextElementSibling)) && y > (c + component.offsetHeight - 20)) {\r\n                    top = componentTop + component.offsetHeight;\r\n                    dir = 'b';\r\n                } else {\r\n                    lineBreakerStyle.display = 'none';\r\n                    return;\r\n                }\r\n\r\n                core._variable._lineBreakComp = component;\r\n                core._variable._lineBreakDir = dir;\r\n                lineBreakerStyle.top = (top - wScroll) + 'px';\r\n                core._lineBreakerButton.style.left = (util.getOffset(component).left + (component.offsetWidth / 2) - 15) + 'px';\r\n                lineBreakerStyle.display = 'block';\r\n            } // off line breaker\r\n            else if (lineBreakerStyle.display !== 'none') {\r\n                lineBreakerStyle.display = 'none';\r\n            }\r\n        },\r\n\r\n        _onMouseDown_lineBreak: function (e) {\r\n            e.preventDefault();\r\n        },\r\n\r\n        _onLineBreak: function (e) {\r\n            e.preventDefault();\r\n            \r\n            const component = core._variable._lineBreakComp;\r\n            const dir = !this ? core._variable._lineBreakDir : this;\r\n            const isList = util.isListCell(component.parentNode);\r\n\r\n            const format = util.createElement(isList ? 'BR' : util.isCell(component.parentNode) ? 'DIV' : options.defaultTag);\r\n            if (!isList) format.innerHTML = '<br>';\r\n\r\n            if (core._charTypeHTML && !core.checkCharCount(format.outerHTML, 'byte-html')) return;\r\n\r\n            component.parentNode.insertBefore(format, dir === 't' ? component : component.nextSibling);\r\n            core._lineBreaker.style.display = 'none';\r\n            core._variable._lineBreakComp = null;\r\n\r\n            const focusEl = isList ? format : format.firstChild;\r\n            core.setRange(focusEl, 1, focusEl, 1);\r\n            // history stack\r\n            core.history.push(false);\r\n        },\r\n\r\n        _addEvent: function () {\r\n            const eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\r\n\r\n            /** toolbar event */\r\n            context.element.toolbar.addEventListener('mousedown', event._buttonsEventHandler, false);\r\n            context.element._menuTray.addEventListener('mousedown', event._buttonsEventHandler, false);\r\n            context.element.toolbar.addEventListener('click', event.onClick_toolbar, false);\r\n            /** editor area */\r\n            eventWysiwyg.addEventListener('mousedown', event.onMouseDown_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('click', event.onClick_wysiwyg, false);\r\n            eventWysiwyg.addEventListener(util.isIE ? 'textinput' : 'input', event.onInput_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('keydown', event.onKeyDown_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('keyup', event.onKeyUp_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('paste', event.onPaste_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('copy', event.onCopy_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('cut', event.onCut_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('drop', event.onDrop_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('scroll', event.onScroll_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('focus', event.onFocus_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('blur', event.onBlur_wysiwyg, false);\r\n\r\n            /** line breaker */\r\n            event._lineBreakerBind = { a: event._onLineBreak.bind(''), t: event._onLineBreak.bind('t'), b: event._onLineBreak.bind('b') };\r\n            eventWysiwyg.addEventListener('mousemove', event.onMouseMove_wysiwyg, false);\r\n            core._lineBreakerButton.addEventListener('mousedown', event._onMouseDown_lineBreak, false);\r\n            core._lineBreakerButton.addEventListener('click', event._lineBreakerBind.a, false);\r\n            context.element.lineBreaker_t.addEventListener('mousedown', event._lineBreakerBind.t, false);\r\n            context.element.lineBreaker_b.addEventListener('mousedown', event._lineBreakerBind.b, false);\r\n\r\n            /** Events are registered only when there is a table plugin.  */\r\n            if (core.plugins.table) {\r\n                eventWysiwyg.addEventListener('touchstart', event.onMouseDown_wysiwyg, {passive: true, useCapture: false});\r\n            }\r\n            \r\n            /** code view area auto line */\r\n            if (options.height === 'auto' && !options.codeMirrorEditor) {\r\n                context.element.code.addEventListener('keydown', event._codeViewAutoHeight, false);\r\n                context.element.code.addEventListener('keyup', event._codeViewAutoHeight, false);\r\n                context.element.code.addEventListener('paste', event._codeViewAutoHeight, false);\r\n            }\r\n\r\n            /** resizingBar */\r\n            if (context.element.resizingBar) {\r\n                if (/\\d+/.test(options.height)) {\r\n                    context.element.resizingBar.addEventListener('mousedown', event.onMouseDown_resizingBar, false);\r\n                } else {\r\n                    util.addClass(context.element.resizingBar, 'se-resizing-none');\r\n                }\r\n            }\r\n            \r\n            /** window event */\r\n            event._setResponsiveToolbar();\r\n            _w.removeEventListener('resize', event.onResize_window);\r\n            _w.removeEventListener('scroll', event.onScroll_window);\r\n\r\n            _w.addEventListener('resize', event.onResize_window, false);\r\n            if (options.stickyToolbar > -1) {\r\n                _w.addEventListener('scroll', event.onScroll_window, false);\r\n            }\r\n        },\r\n\r\n        _removeEvent: function () {\r\n            const eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\r\n\r\n            context.element.toolbar.removeEventListener('mousedown', event._buttonsEventHandler);\r\n            context.element._menuTray.removeEventListener('mousedown', event._buttonsEventHandler);\r\n            context.element.toolbar.removeEventListener('click', event.onClick_toolbar);\r\n\r\n            eventWysiwyg.removeEventListener('mousedown', event.onMouseDown_wysiwyg);\r\n            eventWysiwyg.removeEventListener('click', event.onClick_wysiwyg);\r\n            eventWysiwyg.removeEventListener(util.isIE ? 'textinput' : 'input', event.onInput_wysiwyg);\r\n            eventWysiwyg.removeEventListener('keydown', event.onKeyDown_wysiwyg);\r\n            eventWysiwyg.removeEventListener('keyup', event.onKeyUp_wysiwyg);\r\n            eventWysiwyg.removeEventListener('paste', event.onPaste_wysiwyg);\r\n            eventWysiwyg.removeEventListener('copy', event.onCopy_wysiwyg);\r\n            eventWysiwyg.removeEventListener('cut', event.onCut_wysiwyg);\r\n            eventWysiwyg.removeEventListener('drop', event.onDrop_wysiwyg);\r\n            eventWysiwyg.removeEventListener('scroll', event.onScroll_wysiwyg);\r\n\r\n            eventWysiwyg.removeEventListener('mousemove', event.onMouseMove_wysiwyg);\r\n            core._lineBreakerButton.removeEventListener('mousedown', event._onMouseDown_lineBreak);\r\n            core._lineBreakerButton.removeEventListener('click', event._lineBreakerBind.a);\r\n            context.element.lineBreaker_t.removeEventListener('mousedown', event._lineBreakerBind.t);\r\n            context.element.lineBreaker_b.removeEventListener('mousedown', event._lineBreakerBind.b);\r\n            event._lineBreakerBind = null;\r\n            \r\n            eventWysiwyg.removeEventListener('touchstart', event.onMouseDown_wysiwyg, {passive: true, useCapture: false});\r\n            \r\n            eventWysiwyg.removeEventListener('focus', event.onFocus_wysiwyg);\r\n            eventWysiwyg.removeEventListener('blur', event.onBlur_wysiwyg);\r\n\r\n            context.element.code.removeEventListener('keydown', event._codeViewAutoHeight);\r\n            context.element.code.removeEventListener('keyup', event._codeViewAutoHeight);\r\n            context.element.code.removeEventListener('paste', event._codeViewAutoHeight);\r\n            \r\n            if (context.element.resizingBar) {\r\n                context.element.resizingBar.removeEventListener('mousedown', event.onMouseDown_resizingBar);\r\n            }\r\n            \r\n            _w.removeEventListener('resize', event.onResize_window);\r\n            _w.removeEventListener('scroll', event.onScroll_window);\r\n        },\r\n\r\n        _setResponsiveToolbar: function () {\r\n            if (_responsiveButtons.length === 0) {\r\n                _responsiveButtons = null;\r\n                return;\r\n            }\r\n\r\n            event._responsiveCurrentSize = 'default';\r\n            const sizeArray = event._responsiveButtonSize = [];\r\n            const buttonsObj = event._responsiveButtons = {default: _responsiveButtons[0]};\r\n            for (let i = 1, len = _responsiveButtons.length, size, buttonGroup; i < len; i++) {\r\n                buttonGroup = _responsiveButtons[i];\r\n                size = buttonGroup[0] * 1;\r\n                sizeArray.push(size);\r\n                buttonsObj[size] = buttonGroup[1];\r\n            }\r\n\r\n            sizeArray.sort(function (a, b) { return a - b; }).unshift('default');\r\n        }\r\n    };\r\n\r\n    /** functions */\r\n    const functions = {\r\n        /**\r\n         * @description Core, Util object\r\n         */\r\n        core: core,\r\n        util: util,\r\n\r\n        /**\r\n         * @description Event functions\r\n         * @param {Object} e Event Object\r\n         * @param {Object} core Core object\r\n         */\r\n        onload: null,\r\n        onScroll: null,\r\n        onMouseDown: null,\r\n        onClick: null,\r\n        onInput: null,\r\n        onKeyDown: null,\r\n        onKeyUp: null,\r\n        onCopy: null,\r\n        onCut: null,\r\n        onFocus: null,\r\n        onBlur: null,\r\n\r\n        /**\r\n         * @description Event functions\r\n         * @param {String} contents Current contents\r\n         * @param {Object} core Core object\r\n         */\r\n        onChange: null,\r\n\r\n        /**\r\n         * @description Event functions (drop, paste)\r\n         * When false is returned, the default behavior is stopped.\r\n         * If the string is returned, the cleanData value is modified to the return value.\r\n         * @param {Object} e Event object.\r\n         * @param {String} cleanData HTML string modified for editor format.\r\n         * @param {Boolean} maxChartCount option (true if max character is exceeded)\r\n         * @param {Object} core Core object\r\n         * @returns {Boolean|String}\r\n         */\r\n        onDrop: null,\r\n        onPaste: null,\r\n\r\n        /**\r\n         * @description Called just before the inline toolbar is positioned and displayed on the screen.\r\n         * @param {Element} toolbar Toolbar Element\r\n         * @param {Object} context The editor's context object (editor.getContext())\r\n         * @param {Object} core Core object\r\n         */\r\n        showInline: null,\r\n\r\n        /**\r\n         * @description Called just after the controller is positioned and displayed on the screen.\r\n         * controller - editing elements displayed on the screen [image resizing, table editor, link editor..]]\r\n         * @param {String} name The name of the plugin that called the controller\r\n         * @param {Array} controllers Array of Controller elements\r\n         * @param {Object} core Core object\r\n         */\r\n        showController: null,\r\n\r\n        /**\r\n         * @description An event when toggling between code view and wysiwyg view.\r\n         * @param {Boolean} isCodeView Whether the current code view mode\r\n         * @param {Object} core Core object\r\n         */\r\n        toggleCodeView: null,\r\n\r\n        /**\r\n         * @description An event when toggling full screen.\r\n         * @param {Boolean} isFullScreen Whether the current full screen mode\r\n         * @param {Object} core Core object\r\n         */\r\n        toggleFullScreen: null,\r\n\r\n        /**\r\n         * @description It replaces the default callback function of the image upload\r\n         * @param {Object} response Response object\r\n         * @param {Object} info Input information\r\n         * - linkValue: Link url value\r\n         * - linkNewWindow: Open in new window Check Value\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update image if true, create image if false\r\n         * - element: If isUpdate is true, the currently selected image.\r\n         * @param {Object} core Core object\r\n         */\r\n        imageUploadHandler: null,\r\n\r\n        /**\r\n         * @description It replaces the default callback function of the video upload\r\n         * @param xmlHttp xmlHttpRequest object\r\n         * @param info Input information\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update video if true, create video if false\r\n         * - element: If isUpdate is true, the currently selected video.\r\n         * @param core Core object\r\n         */\r\n        videoUploadHandler: null,\r\n\r\n        /**\r\n         * @description It replaces the default callback function of the audio upload\r\n         * @param xmlHttp xmlHttpRequest object\r\n         * @param info Input information\r\n         * - isUpdate: Update audio if true, create audio if false\r\n         * - element: If isUpdate is true, the currently selected audio.\r\n         * @param core Core object\r\n         */\r\n        audioUploadHandler: null,\r\n\r\n        /**\r\n         * @description Called before the image is uploaded\r\n         * If true is returned, the internal upload process runs normally.\r\n         * If false is returned, no image upload is performed.\r\n         * If new fileList are returned,  replaced the previous fileList\r\n         * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         * @param {Array} files Files array\r\n         * @param {Object} info info: {\r\n         * - linkValue: Link url value\r\n         * - linkNewWindow: Open in new window Check Value\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update image if true, create image if false\r\n         * - element: If isUpdate is true, the currently selected image.\r\n         * }\r\n         * @param {Object} core Core object\r\n         * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n         *                [upload files] : uploadHandler(files or [new File(...),])\r\n         *                [error]        : uploadHandler(\"Error message\")\r\n         *                [Just finish]  : uploadHandler()\r\n         *                [directly register] : uploadHandler(response) // Same format as \"imageUploadUrl\" response\r\n         *                                   ex) {\r\n         *                                      // \"errorMessage\": \"insert error message\",\r\n         *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n         *                                   }\r\n         * @returns {Boolean|Array|undefined}\r\n         */\r\n        onImageUploadBefore: null,\r\n        /**\r\n         * @description Called before the video is uploaded\r\n         * If true is returned, the internal upload process runs normally.\r\n         * If false is returned, no video(iframe, video) upload is performed.\r\n         * If new fileList are returned,  replaced the previous fileList\r\n         * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         * @param {Array} files Files array\r\n         * @param {Object} info info: {\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update video if true, create video if false\r\n         * - element: If isUpdate is true, the currently selected video.\r\n         * }\r\n         * @param {Object} core Core object\r\n         * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n         *                [upload files] : uploadHandler(files or [new File(...),])\r\n         *                [error]        : uploadHandler(\"Error message\")\r\n         *                [Just finish]  : uploadHandler()\r\n         *                [directly register] : uploadHandler(response) // Same format as \"videoUploadUrl\" response\r\n         *                                   ex) {\r\n         *                                      // \"errorMessage\": \"insert error message\",\r\n         *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n         *                                   }\r\n         * @returns {Boolean|Array|undefined}\r\n         */\r\n        onVideoUploadBefore: null,\r\n        /**\r\n         * @description Called before the audio is uploaded\r\n         * If true is returned, the internal upload process runs normally.\r\n         * If false is returned, no audio upload is performed.\r\n         * If new fileList are returned,  replaced the previous fileList\r\n         * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         * @param {Array} files Files array\r\n         * @param {Object} info info: {\r\n         * - isUpdate: Update audio if true, create audio if false\r\n         * - element: If isUpdate is true, the currently selected audio.\r\n         * }\r\n         * @param {Object} core Core object\r\n         * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n         *                [upload files] : uploadHandler(files or [new File(...),])\r\n         *                [error]        : uploadHandler(\"Error message\")\r\n         *                [Just finish]  : uploadHandler()\r\n         *                [directly register] : uploadHandler(response) // Same format as \"audioUploadUrl\" response\r\n         *                                   ex) {\r\n         *                                      // \"errorMessage\": \"insert error message\",\r\n         *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n         *                                   }\r\n         * @returns {Boolean|Array|undefined}\r\n         */\r\n        onAudioUploadBefore: null,\r\n\r\n        /**\r\n         * @description Called when the image is uploaded, updated, deleted\r\n         * @param {Element} targetElement Target element\r\n         * @param {Number} index Uploaded index\r\n         * @param {String} state Upload status ('create', 'update', 'delete')\r\n         * @param {Object} info Image info object\r\n         * - index: data index\r\n         * - name: file name\r\n         * - size: file size\r\n         * - select: select function\r\n         * - delete: delete function\r\n         * - element: target element\r\n         * - src: src attribute of tag\r\n         * @param {Number} remainingFilesCount Count of remaining files to upload (0 when added as a url)\r\n         * @param {Object} core Core object\r\n         */\r\n        onImageUpload: null,\r\n         /**\r\n         * @description Called when the video(iframe, video) is is uploaded, updated, deleted\r\n         * -- arguments is same \"onImageUpload\" --\r\n         */\r\n        onVideoUpload: null,\r\n         /**\r\n         * @description Called when the audio is is uploaded, updated, deleted\r\n         * -- arguments is same \"onImageUpload\" --\r\n         */\r\n        onAudioUpload: null,\r\n\r\n        /**\r\n         * @description Called when the image is upload failed\r\n         * @param {String} errorMessage Error message\r\n         * @param {Object} result Response Object\r\n         * @param {Object} core Core object\r\n         * @returns {Boolean}\r\n         */\r\n        onImageUploadError: null,\r\n        /**\r\n         * @description Called when the video(iframe, video) upload failed\r\n         * -- arguments is same \"onImageUploadError\" --\r\n         */\r\n        onVideoUploadError: null,\r\n        /**\r\n         * @description Called when the audio upload failed\r\n         * -- arguments is same \"onImageUploadError\" --\r\n         */\r\n        onAudioUploadError: null,\r\n\r\n        /**\r\n         * @description Reset the buttons on the toolbar. (Editor is not reloaded)\r\n         * You cannot set a new plugin for the button.\r\n         * @param {Array} buttonList Button list \r\n         */\r\n        setToolbarButtons: function (buttonList) {\r\n            core.submenuOff();\r\n            core.containerOff();\r\n            \r\n            const newToolbar = lib_constructor._createToolBar(_d, buttonList, core.plugins, options);\r\n            _responsiveButtons = newToolbar.responsiveButtons;\r\n            core._moreLayerActiveButton = null;\r\n            event._setResponsiveToolbar();\r\n\r\n            context.element.toolbar.replaceChild(newToolbar._buttonTray, context.element._buttonTray);\r\n            const newContext = lib_context(context.element.originElement, core._getConstructed(context.element), options);\r\n\r\n            context.element = newContext.element;\r\n            context.tool = newContext.tool;\r\n            if (options.iframe) context.element.wysiwyg = core._wd.body;\r\n            core._cachingButtons();\r\n            core.history._resetCachingButton();\r\n\r\n            core.activePlugins = [];\r\n            const oldCallButtons = pluginCallButtons;\r\n            pluginCallButtons = newToolbar.pluginCallButtons;\r\n            let plugin, button, oldButton;\r\n            for (let key in pluginCallButtons) {\r\n                if (!util.hasOwn(pluginCallButtons, key)) continue;\r\n                plugin = plugins[key];\r\n                button = pluginCallButtons[key];\r\n                if (plugin.active && button) {\r\n                    oldButton = oldCallButtons[key];\r\n                    core.callPlugin(key, null, oldButton || button);\r\n                    if (oldButton) {\r\n                        button.parentElement.replaceChild(oldButton, button);\r\n                        pluginCallButtons[key] = oldButton;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (core.hasFocus) event._applyTagEffects();\r\n\r\n            if (core._variable.isCodeView) util.addClass(core._styleCommandMap.codeView, 'active');\r\n            if (core._variable.isFullScreen) util.addClass(core._styleCommandMap.fullScreen, 'active');\r\n            if (util.hasClass(context.element.wysiwyg, 'se-show-block')) util.addClass(core._styleCommandMap.showBlocks, 'active');\r\n        },\r\n\r\n        /**\r\n         * @description Add or reset option property (Editor is reloaded)\r\n         * @param {Object} _options Options\r\n         */\r\n        setOptions: function (_options) {\r\n            event._removeEvent();\r\n            core._resetComponents();\r\n            \r\n            util.removeClass(core._styleCommandMap.showBlocks, 'active');\r\n            util.removeClass(core._styleCommandMap.codeView, 'active');\r\n            core._variable.isCodeView = false;\r\n            core._iframeAuto = null;\r\n\r\n            core.plugins = _options.plugins || core.plugins;\r\n            const mergeOptions = [options, _options].reduce(function (init, option) {\r\n                for (let key in option) {\r\n                    if (!util.hasOwn(option, key)) continue;\r\n                    if (key === 'plugins' && option[key] && init[key]) {\r\n                        let i = init[key], o = option[key];\r\n                        i = i.length ? i : _w.Object.keys(i).map(function(name) { return i[name]; });\r\n                        o = o.length ? o : _w.Object.keys(o).map(function(name) { return o[name]; });\r\n                        init[key] = (o.filter(function(val) { return i.indexOf(val) === -1; })).concat(i);\r\n                    } else {\r\n                        init[key] = option[key];\r\n                    }\r\n                }\r\n                return init;\r\n            }, {});\r\n\r\n            const el = context.element;\r\n            const _initHTML = el.wysiwyg.innerHTML;\r\n\r\n            // set option\r\n            const cons = lib_constructor._setOptions(mergeOptions, context, options);        \r\n\r\n            if (cons.callButtons) {\r\n                pluginCallButtons = cons.callButtons;\r\n                core.initPlugins = {};\r\n            }\r\n\r\n            if (cons.plugins) {\r\n                core.plugins = plugins = cons.plugins;\r\n            }\r\n\r\n            // reset context\r\n            if (el._menuTray.children.length === 0) this._menuTray = {};\r\n            _responsiveButtons = cons.toolbar.responsiveButtons;\r\n            core.options = options = mergeOptions;\r\n            core.lang = lang = options.lang;\r\n\r\n            if (options.iframe) {\r\n                el.wysiwygFrame.addEventListener('load', function () {\r\n                    util._setIframeDocument(this, options);\r\n                    core._setOptionsInit(el, _initHTML);\r\n                });\r\n            }\r\n\r\n            el.editorArea.appendChild(el.wysiwygFrame);\r\n\r\n            if (!options.iframe) {\r\n                core._setOptionsInit(el, _initHTML);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set \"options.defaultStyle\" style.\r\n         * Define the style of the edit area\r\n         * It can also be defined with the \"setOptions\" method, but the \"setDefaultStyle\" method does not render the editor again.\r\n         * @param {String} style Style string\r\n         */\r\n        setDefaultStyle: function (style) {\r\n            const newStyles = options._editorStyles = util._setDefaultOptionStyle(options, style);\r\n            const el = context.element;\r\n\r\n            // top area\r\n            el.topArea.style.cssText = newStyles.top;\r\n            // code view\r\n            el.code.style.cssText = options._editorStyles.frame;\r\n            el.code.style.display = 'none';\r\n            if (options.height === 'auto') {\r\n                el.code.style.overflow = 'hidden';\r\n            } else {\r\n                el.code.style.overflow = '';\r\n            }\r\n            // wysiwyg frame\r\n            if (!options.iframe) {\r\n                el.wysiwygFrame.style.cssText = newStyles.frame + newStyles.editor;\r\n            } else {\r\n                el.wysiwygFrame.style.cssText = newStyles.frame;\r\n                el.wysiwyg.style.cssText = newStyles.editor;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Open a notice area\r\n         * @param {String} message Notice message\r\n         */\r\n        noticeOpen: function (message) {\r\n            core.notice.open.call(core, message);\r\n        },\r\n\r\n        /**\r\n         * @description Close a notice area\r\n         */\r\n        noticeClose: function () {\r\n            core.notice.close.call(core);\r\n        },\r\n\r\n        /**\r\n         * @description Copying the contents of the editor to the original textarea\r\n         */\r\n        save: function () {\r\n            context.element.originElement.value = core.getContents(false);\r\n        },\r\n\r\n        /**\r\n         * @description Gets the suneditor's context object. Contains settings, plugins, and cached element objects\r\n         * @returns {Object}\r\n         */\r\n        getContext: function () {\r\n            return context;\r\n        },\r\n\r\n        /**\r\n         * @description Gets the contents of the suneditor\r\n         * @param {Boolean} onlyContents - Return only the contents of the body without headers when the \"fullPage\" option is true\r\n         * @returns {String}\r\n         */\r\n        getContents: function (onlyContents) {\r\n            return core.getContents(onlyContents);\r\n        },\r\n\r\n        /**\r\n         * @description Gets only the text of the suneditor contents\r\n         * @returns {String}\r\n         */\r\n        getText: function () {\r\n            return context.element.wysiwyg.textContent;\r\n        },\r\n\r\n        /**\r\n         * @description Get the editor's number of characters or binary data size.\r\n         * You can use the \"charCounterType\" option format.\r\n         * @param {String|null} charCounterType options - charCounterType ('char', 'byte', 'byte-html')\r\n         * If argument is no value, the currently set \"charCounterType\" option is used.\r\n         * @returns {Number}\r\n         */\r\n        getCharCount: function (charCounterType) {\r\n            charCounterType = typeof charCounterType === 'string' ? charCounterType : options.charCounterType;\r\n            return core.getCharLength((core._charTypeHTML ? context.element.wysiwyg.innerHTML : context.element.wysiwyg.textContent), charCounterType);\r\n        },\r\n\r\n        /**\r\n         * @description Gets uploaded images informations\r\n         * - index: data index\r\n         * - name: file name\r\n         * - size: file size\r\n         * - select: select function\r\n         * - delete: delete function\r\n         * - element: target element\r\n         * - src: src attribute of tag\r\n         * @returns {Array}\r\n         */\r\n        getImagesInfo: function () {\r\n            return context.image ? context.image._infoList : [];\r\n        },\r\n        \r\n        /**\r\n         * @description Gets uploaded files(plugin using fileManager) information list.\r\n         * image: [img], video: [video, iframe], audio: [audio]\r\n         * When the argument value is 'image', it is the same function as \"getImagesInfo\".\r\n         * - index: data index\r\n         * - name: file name\r\n         * - size: file size\r\n         * - select: select function\r\n         * - delete: delete function\r\n         * - element: target element\r\n         * - src: src attribute of tag\r\n         * @param {String} pluginName Plugin name (image, video, audio)\r\n         * @returns {Array}\r\n         */\r\n        getFilesInfo: function (pluginName) {\r\n            return context[pluginName] ? context[pluginName]._infoList : [];\r\n        },\r\n\r\n        /**\r\n         * @description Upload images using image plugin\r\n         * @param {FileList} files FileList\r\n         */\r\n        insertImage: function (files) {\r\n            if (!core.plugins.image || !files) return;\r\n\r\n            if (!core.initPlugins.image) core.callPlugin('image', core.plugins.image.submitAction.bind(core, files), null);\r\n            else core.plugins.image.submitAction.call(core, files);\r\n            core.focus();\r\n        },\r\n\r\n        /**\r\n         * @description Inserts an HTML element or HTML string or plain string at the current cursor position\r\n         * @param {Element|String} html HTML Element or HTML string or plain string\r\n         * @param {Boolean} notCleaningData If true, inserts the HTML string without refining it with core.cleanHTML.\r\n         * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n         * @param {Boolean} rangeSelection If true, range select the inserted node.\r\n         */\r\n        insertHTML: function (html, notCleaningData, checkCharCount, rangeSelection) {\r\n            if (typeof html === 'string') {\r\n                if (!notCleaningData) html = core.cleanHTML(html, null);\r\n                try {\r\n                    const dom = _d.createRange().createContextualFragment(html);\r\n                    const domTree = dom.childNodes;\r\n\r\n                    if (checkCharCount) {\r\n                        const type = core._charTypeHTML ? 'outerHTML' : 'textContent';\r\n                        let checkHTML = '';\r\n                        for (let i = 0, len = domTree.length; i < len; i++) {\r\n                            checkHTML += domTree[i][type];\r\n                        }\r\n                        if (!core.checkCharCount(checkHTML, null)) return;\r\n                    }\r\n\r\n                    let c, a, t, prev, firstCon;\r\n                    while ((c = domTree[0])) {\r\n                        if (prev && prev.nodeType === 3 && a && a.nodeType === 1 && util.isBreak(c)) {\r\n                            prev = c;\r\n                            util.removeItem(c);\r\n                            continue;\r\n                        }\r\n                        t = core.insertNode(c, a, false);\r\n                        a = t.container || t;\r\n                        if (!firstCon) firstCon = t;\r\n                        prev = c;\r\n                    }\r\n\r\n                    if (prev.nodeType === 3 && a.nodeType === 1) a = prev;\r\n                    const offset = a.nodeType === 3 ? (t.endOffset || a.textContent.length): a.childNodes.length;\r\n                    if (rangeSelection) core.setRange(firstCon.container || firstCon, firstCon.startOffset || 0, a, offset);\r\n                    else core.setRange(a, offset, a, offset);\r\n                } catch (error) {\r\n                    console.warn('[SUNEDITOR.insertHTML.fail] ' + error);\r\n                    core.execCommand('insertHTML', false, html);\r\n                }\r\n            } else {\r\n                if (util.isComponent(html)) {\r\n                    core.insertComponent(html, false, checkCharCount, false);\r\n                } else {\r\n                    let afterNode = null;\r\n                    if (util.isFormatElement(html) || util.isMedia(html)) {\r\n                        afterNode = util.getFormatElement(core.getSelectionNode(), null);\t\r\n                    }\r\n                    core.insertNode(html, afterNode, checkCharCount);\r\n                }\r\n            }\r\n            \r\n            core.effectNode = null;\r\n            core.focus();\r\n\r\n            // history stack\r\n            core.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Change the contents of the suneditor\r\n         * @param {String|undefined} contents Contents to Input\r\n         */\r\n        setContents: function (contents) {\r\n            core.setContents(contents);\r\n        },\r\n\r\n        /**\r\n         * @description Add contents to the suneditor\r\n         * @param {String} contents Contents to Input\r\n         */\r\n        appendContents: function (contents) {\r\n            const convertValue = core.convertContentsForEditor(contents);\r\n            \r\n            if (!core._variable.isCodeView) {\r\n                const temp = util.createElement('DIV');\r\n                temp.innerHTML = convertValue;\r\n\r\n                const wysiwyg = context.element.wysiwyg;\r\n                const children = temp.children;\r\n                for (let i = 0, len = children.length; i < len; i++) {\r\n                    wysiwyg.appendChild(children[i]);\r\n                }\r\n            } else {\r\n                core._setCodeView(core._getCodeView() + '\\n' + core.convertHTMLForCodeView(convertValue));\r\n            }\r\n\r\n            // history stack\r\n            core.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Disable the suneditor\r\n         */\r\n        disabled: function () {\r\n            context.tool.cover.style.display = 'block';\r\n            context.element.wysiwyg.setAttribute('contenteditable', false);\r\n            core.isDisabled = true;\r\n\r\n            if (options.codeMirrorEditor) {\r\n                options.codeMirrorEditor.setOption('readOnly', true);\r\n            } else {\r\n                context.element.code.setAttribute('disabled', 'disabled');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Enable the suneditor\r\n         */\r\n        enabled: function () {\r\n            context.tool.cover.style.display = 'none';\r\n            context.element.wysiwyg.setAttribute('contenteditable', true);\r\n            core.isDisabled = false;\r\n\r\n            if (options.codeMirrorEditor) {\r\n                options.codeMirrorEditor.setOption('readOnly', false);\r\n            } else {\r\n                context.element.code.removeAttribute('disabled');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Show the suneditor\r\n         */\r\n        show: function () {\r\n            const topAreaStyle = context.element.topArea.style;\r\n            if (topAreaStyle.display === 'none') topAreaStyle.display = options.display;\r\n        },\r\n\r\n        /**\r\n         * @description Hide the suneditor\r\n         */\r\n        hide: function () {\r\n            context.element.topArea.style.display = 'none';\r\n        },\r\n\r\n        /**\r\n         * @description Destroy the suneditor\r\n         */\r\n        destroy: function () {\r\n            /** off menus */\r\n            core.submenuOff();\r\n            core.containerOff();\r\n            core.controllersOff();\r\n            if (core.notice) core.notice.close.call(core);\r\n            if (core.modalForm) core.plugins.dialog.close.call(core);\r\n\r\n            /** remove history */\r\n            core.history._destroy();\r\n\r\n            /** remove event listeners */\r\n            event._removeEvent();\r\n            \r\n            /** remove element */\r\n            util.removeItem(context.element.toolbar);\r\n            util.removeItem(context.element.topArea);\r\n\r\n            /** remove object reference */\r\n            for (let k in core) { if (util.hasOwn(core, k)) delete core[k]; }\r\n            for (let k in event) { if (util.hasOwn(event, k)) delete event[k]; }\r\n            for (let k in context) { if (util.hasOwn(context, k)) delete context[k]; }\r\n            for (let k in pluginCallButtons) { if (util.hasOwn(pluginCallButtons, k)) delete pluginCallButtons[k]; }\r\n            \r\n            /** remove user object */\r\n            for (let k in this) { if (util.hasOwn(this, k)) delete this[k]; }\r\n        },\r\n\r\n        /**\r\n         * @description Toolbar methods\r\n         */\r\n        toolbar: {\r\n            /**\r\n             * @description Disable the toolbar\r\n             */\r\n            disabled: function () {\r\n                context.tool.cover.style.display = 'block';\r\n            },\r\n\r\n            /**\r\n             * @description Enable the toolbar\r\n             */\r\n            enabled: function () {\r\n                context.tool.cover.style.display = 'none';\r\n            },\r\n\r\n            /**\r\n             * @description Show the toolbar\r\n             */\r\n            show: function () {\r\n                if (core._isInline) {\r\n                    event._showToolbarInline();\r\n                } else {\r\n                    context.element.toolbar.style.display = '';\r\n                    context.element._stickyDummy.style.display = '';\r\n                }\r\n            },\r\n\r\n            /**\r\n             * @description Hide the toolbar\r\n             */\r\n            hide: function () {\r\n                if (core._isInline) {\r\n                    event._hideToolbar();\r\n                } else {\r\n                    context.element.toolbar.style.display = 'none';\r\n                    context.element._stickyDummy.style.display = 'none';\r\n                }\r\n            },\r\n        }\r\n    };\r\n\r\n    /************ Core init ************/\r\n    // functions\r\n    core.functions = functions;\r\n    core.options = options;\r\n\r\n    // Create to sibling node\r\n    let contextEl = context.element;\r\n    let originEl = contextEl.originElement;\r\n    let topEl = contextEl.topArea;\r\n    originEl.style.display = 'none';\r\n    topEl.style.display = 'block';\r\n\r\n    // init\r\n    if (options.iframe) {\r\n        contextEl.wysiwygFrame.addEventListener('load', function () {\r\n            util._setIframeDocument(this, options);\r\n            core._editorInit(false, options.value);\r\n            options.value = null;\r\n        });\r\n    }\r\n\r\n    // insert editor element\r\n    if (typeof originEl.nextElementSibling === 'object') {\r\n        originEl.parentNode.insertBefore(topEl, originEl.nextElementSibling);\r\n    } else {\r\n        originEl.parentNode.appendChild(topEl);\r\n    }\r\n\r\n    contextEl.editorArea.appendChild(contextEl.wysiwygFrame);\r\n    contextEl = originEl = topEl = null;\r\n\r\n    // init\r\n    if (!options.iframe) {\r\n        core._editorInit(false, options.value);\r\n        options.value = null;\r\n    }\r\n\r\n    return functions;\r\n});\r\n\n// CONCATENATED MODULE: ./node_modules/suneditor/src/suneditor.js\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n\n\n\n/* harmony default export */ var suneditor = ({\n    /**\n     * @description Returns the create function with preset options.\n     * If the options overlap, the options of the 'create' function take precedence.\n     * @param {Json} options Initialization options\n     * @returns {Object}\n     */\n    init: function (init_options) {\n        return {\n            create: function (idOrElement, options) {\n                return this.create(idOrElement, options, init_options);\n            }.bind(this)\n        };\n    },\n\n    /**\n     * @description Create the suneditor\n     * @param {String|Element} idOrElement textarea Id or textarea element\n     * @param {JSON|Object} options user options\n     * @returns {Object}\n     */\n    create: function (idOrElement, options, _init_options) {\n        lib_util._propertiesInit();\n\n        if (typeof options !== 'object') options = {};\n        if (_init_options) {\n            options =  [_init_options, options].reduce(function (init, option) {\n                            for (let key in option) {\n                                if (!lib_util.hasOwn(option, key)) continue;\n                                if (key === 'plugins' && option[key] && init[key]) {\n                                    let i = init[key], o = option[key];\n                                    i = i.length ? i : Object.keys(i).map(function(name) { return i[name]; });\n                                    o = o.length ? o : Object.keys(o).map(function(name) { return o[name]; });\n                                    init[key] = (o.filter(function(val) { return i.indexOf(val) === -1; })).concat(i);\n                                } else {\n                                    init[key] = option[key];\n                                }\n                            }\n                            return init;\n                        }, {});\n        }\n        \n        const element = typeof idOrElement === 'string' ? document.getElementById(idOrElement) : idOrElement;\n\n        if (!element) {\n            if (typeof idOrElement === 'string') {\n                throw Error('[SUNEDITOR.create.fail] The element for that id was not found (ID:\"' + idOrElement + '\")');\n            }\n\n            throw Error('[SUNEDITOR.create.fail] suneditor requires textarea\\'s element or id value');\n        }\n\n        const cons = lib_constructor.init(element, options);\n\n        if (cons.constructed._top.id && document.getElementById(cons.constructed._top.id)) {\n            throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:\"' + cons.constructed._top.id + '\")');\n        }\n\n        return lib_core(lib_context(element, cons.constructed, cons.options), cons.pluginCallButtons, cons.plugins, cons.options.lang, options, cons._responsiveButtons);\n    }\n});\n\n// CONCATENATED MODULE: ./misc/getPlugins.js\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar getPlugins = function getPlugins(_ref) {\n  var buttonList = _ref.buttonList,\n      plugins = _ref.plugins,\n      customPlugins = _ref.customPlugins;\n  if (!buttonList) return undefined;\n  if (!isArray(buttonList)) throw new Error(\"Button List must be of type array\");else {\n    var pluginList = [];\n    buttonList = flatten(buttonList);\n    if (buttonList.indexOf(\"align\") >= 0) pluginList.push(__webpack_require__(11).default);\n    if (buttonList.indexOf(\"math\") >= 0) pluginList.push(__webpack_require__(12).default);\n    if (buttonList.indexOf(\"imageGallery\") >= 0) pluginList.push(__webpack_require__(13).default);\n    if (buttonList.indexOf(\"blockquote\") >= 0) pluginList.push(__webpack_require__(14).default);\n    if (buttonList.indexOf(\"font\") >= 0) pluginList.push(__webpack_require__(15).default);\n    if (buttonList.indexOf(\"fontColor\") >= 0) pluginList.push(__webpack_require__(16).default);\n    if (buttonList.indexOf(\"fontSize\") >= 0) pluginList.push(__webpack_require__(17).default);\n    if (buttonList.indexOf(\"formatBlock\") >= 0) pluginList.push(__webpack_require__(18).default);\n    if (buttonList.indexOf(\"hiliteColor\") >= 0) pluginList.push(__webpack_require__(19).default);\n    if (buttonList.indexOf(\"horizontalRule\") >= 0) pluginList.push(__webpack_require__(20).default);\n    if (buttonList.indexOf(\"lineHeight\") >= 0) pluginList.push(__webpack_require__(21).default);\n    if (buttonList.indexOf(\"list\") >= 0) pluginList.push(__webpack_require__(22).default);\n    if (buttonList.indexOf(\"paragraphStyle\") >= 0) pluginList.push(__webpack_require__(23).default);\n    if (buttonList.indexOf(\"table\") >= 0) pluginList.push(__webpack_require__(24).default);\n    if (buttonList.indexOf(\"template\") >= 0) pluginList.push(__webpack_require__(25).default);\n    if (buttonList.indexOf(\"textStyle\") >= 0) pluginList.push(__webpack_require__(26).default);\n    if (buttonList.indexOf(\"image\") >= 0) pluginList.push(__webpack_require__(27).default);\n    if (buttonList.indexOf(\"link\") >= 0) pluginList.push(__webpack_require__(28).default);\n    if (buttonList.indexOf(\"video\") >= 0) pluginList.push(__webpack_require__(29).default);\n    if (buttonList.indexOf(\"audio\") >= 0) pluginList.push(__webpack_require__(30).default);\n    return [].concat(pluginList, _toConsumableArray(plugins || customPlugins || []));\n  }\n};\n\nvar flatten = function flatten(arr) {\n  var result = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (!isArray(arr)) {\n    return [].concat(_toConsumableArray(result), [arr]);\n  }\n\n  for (var a = 0; a < arr.length; a++) {\n    result = flatten(arr[a], result);\n  }\n\n  return result;\n};\n\nvar isArray = function isArray(obj) {\n  return Object.prototype.toString.call(obj) === \"[object Array]\";\n};\n\n/* harmony default export */ var misc_getPlugins = (getPlugins);\n// CONCATENATED MODULE: ./misc/getLanguage.js\nvar getLanguage = function getLanguage(lang) {\n  switch (typeof lang) {\n    case 'object':\n      return lang;\n\n    case 'string':\n      switch (lang) {\n        case 'en':\n          return __webpack_require__(4);\n\n        case 'da':\n          return __webpack_require__(31);\n\n        case 'de':\n          return __webpack_require__(32);\n\n        case 'es':\n          return __webpack_require__(33);\n\n        case 'fr':\n          return __webpack_require__(34);\n\n        case 'ja':\n          return __webpack_require__(35);\n\n        case 'ko':\n          return __webpack_require__(36);\n\n        case 'pt_br':\n          return __webpack_require__(37);\n\n        case 'ru':\n          return __webpack_require__(38);\n\n        case 'it':\n          return __webpack_require__(9);\n\n        case 'zh_cn':\n          return __webpack_require__(39);\n\n        case 'ro':\n          return __webpack_require__(40);\n\n        case 'pl':\n          return __webpack_require__(41);\n\n        case 'ckb':\n          return __webpack_require__(42);\n\n        case 'lv':\n          return __webpack_require__(43);\n\n        case 'se':\n          return __webpack_require__(44);\n\n        case 'ua':\n          return __webpack_require__(45);\n\n        case 'he':\n          return __webpack_require__(46);\n\n        case 'it':\n          return __webpack_require__(9);\n\n        default:\n          return __webpack_require__(4);\n      }\n\n  }\n\n  return __webpack_require__(4);\n};\n\n/* harmony default export */ var misc_getLanguage = (getLanguage);\n// EXTERNAL MODULE: ./node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(0);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// CONCATENATED MODULE: ./SunEditor.js\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n\nvar SunEditor_SunEditor = /*#__PURE__*/function (_Component) {\n  _inherits(SunEditor, _Component);\n\n  var _super = _createSuper(SunEditor);\n\n  function SunEditor() {\n    var _this;\n\n    _classCallCheck(this, SunEditor);\n\n    _this = _super.call(this);\n    _this.txtArea = /*#__PURE__*/Object(external_react_[\"createRef\"])();\n    return _this;\n  }\n\n  _createClass(SunEditor, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          lang = _this$props.lang,\n          _this$props$setOption = _this$props.setOptions,\n          setOptions = _this$props$setOption === void 0 ? {} : _this$props$setOption,\n          _this$props$width = _this$props.width,\n          width = _this$props$width === void 0 ? \"100%\" : _this$props$width,\n          height = _this$props.height,\n          defaultValue = _this$props.defaultValue,\n          name = _this$props.name;\n      setOptions.lang = setOptions.lang || misc_getLanguage(lang);\n      setOptions.plugins = misc_getPlugins(setOptions);\n      setOptions.width = setOptions.width || width;\n      if (height) setOptions.height = height;\n      if (name && defaultValue) this.txtArea.current.value = defaultValue;\n      this.editor = suneditor.create(this.txtArea.current, _objectSpread({\n        value: defaultValue\n      }, setOptions));\n      var _this$props2 = this.props,\n          insertHTML = _this$props2.insertHTML,\n          setContents = _this$props2.setContents,\n          setDefaultStyle = _this$props2.setDefaultStyle,\n          appendContents = _this$props2.appendContents,\n          disable = _this$props2.disable,\n          enable = _this$props2.enable,\n          hide = _this$props2.hide,\n          show = _this$props2.show,\n          _this$props2$showTool = _this$props2.showToolbar,\n          showToolbar = _this$props2$showTool === void 0 ? true : _this$props2$showTool,\n          _this$props2$enableTo = _this$props2.enableToolbar,\n          enableToolbar = _this$props2$enableTo === void 0 ? true : _this$props2$enableTo,\n          onScroll = _this$props2.onScroll,\n          onClick = _this$props2.onClick,\n          onKeyDown = _this$props2.onKeyDown,\n          onKeyUp = _this$props2.onKeyUp,\n          onDrop = _this$props2.onDrop,\n          onChange = _this$props2.onChange,\n          onCopy = _this$props2.onCopy,\n          onCut = _this$props2.onCut,\n          onImageUpload = _this$props2.onImageUpload,\n          onImageUploadError = _this$props2.onImageUploadError,\n          onPaste = _this$props2.onPaste,\n          autoFocus = _this$props2.autoFocus,\n          onBlur = _this$props2.onBlur,\n          onFocus = _this$props2.onFocus,\n          onLoad = _this$props2.onLoad,\n          onInput = _this$props2.onInput,\n          onImageUploadBefore = _this$props2.onImageUploadBefore,\n          onVideoUploadBefore = _this$props2.onVideoUploadBefore,\n          onAudioUploadBefore = _this$props2.onAudioUploadBefore,\n          onVideoUpload = _this$props2.onVideoUpload,\n          onMouseDown = _this$props2.onMouseDown,\n          onAudioUpload = _this$props2.onAudioUpload,\n          onVideoUploadError = _this$props2.onVideoUploadError,\n          onAudioUploadError = _this$props2.onAudioUploadError,\n          placeholder = _this$props2.placeholder,\n          imageUploadHandler = _this$props2.imageUploadHandler,\n          toggleCodeView = _this$props2.toggleCodeView,\n          toggleFullScreen = _this$props2.toggleFullScreen,\n          showInline = _this$props2.showInline,\n          showController = _this$props2.showController;\n      if (onChange || name) this.editor.onChange = function (content) {\n        if (name) _this2.txtArea.current.value = content;\n        if (onChange) onChange(content);\n      };\n      if (onCopy) this.editor.onCopy = function (e, clipboardData) {\n        return onCopy(e, clipboardData);\n      };\n      if (onCut) this.editor.onCut = function (e, clipboardData) {\n        return onCut(e, clipboardData);\n      };\n      if (onMouseDown) this.editor.onMouseDown = function (e) {\n        return onMouseDown(e);\n      };\n      if (onScroll) this.editor.onScroll = function (e) {\n        return onScroll(e);\n      };\n      if (onInput) this.editor.onInput = function (e) {\n        return onInput(e);\n      };\n      if (onClick) this.editor.onClick = function (e) {\n        return onClick(e);\n      };\n      if (onKeyUp) this.editor.onKeyUp = function (e) {\n        return onKeyUp(e);\n      };\n      if (onKeyDown) this.editor.onKeyDown = function (e) {\n        return onKeyDown(e);\n      };\n      if (onBlur) this.editor.onBlur = function (e) {\n        return onBlur(e, _this2.editor.getContents());\n      };\n      if (onFocus) this.editor.onFocus = function (e) {\n        return onFocus(e);\n      };\n      if (onImageUploadBefore) this.editor.onImageUploadBefore = function (files, info, _, uploadHandler) {\n        return onImageUploadBefore(files, info, uploadHandler);\n      };\n      if (onVideoUploadBefore) this.editor.onVideoUploadBefore = function (files, info, _, uploadHandler) {\n        return onVideoUploadBefore(files, info, uploadHandler);\n      };\n      if (onAudioUploadBefore) this.editor.onAudioUploadBefore = function (files, info, _, uploadHandler) {\n        return onAudioUploadBefore(files, info, uploadHandler);\n      };\n      if (onDrop) this.editor.onDrop = function (e, cleanData, maxCharCount) {\n        return onDrop(e, cleanData, maxCharCount);\n      };\n      if (onPaste) this.editor.onPaste = function (e, cleanData, maxCharCount) {\n        return onPaste(e, cleanData, maxCharCount);\n      };\n      if (onImageUpload) this.editor.onImageUpload = function (targetImgElement, index, state, imageInfo, remainingFilesCount) {\n        return onImageUpload(targetImgElement, index, state, imageInfo, remainingFilesCount);\n      };\n      if (onVideoUpload) this.editor.onVideoUpload = function (targetElement, index, state, info, remainingFilesCount) {\n        return onVideoUpload(targetElement, index, state, info, remainingFilesCount);\n      };\n      if (onAudioUpload) this.editor.onAudioUpload = function (targetElement, index, state, info, remainingFilesCount) {\n        return onAudioUpload(targetElement, index, state, info, remainingFilesCount);\n      };\n      if (onImageUploadError) this.editor.onImageUploadError = function (errorMessage, result) {\n        return onImageUploadError(errorMessage, result);\n      };\n      if (onVideoUploadError) this.editor.onVideoUploadError = function (errorMessage, result) {\n        return onVideoUploadError(errorMessage, result);\n      };\n      if (onAudioUploadError) this.editor.onAudioUploadError = function (errorMessage, result) {\n        return onAudioUploadError(errorMessage, result);\n      };\n      if (placeholder) setOptions.placeholder = placeholder;\n\n      this.editor.onload = function (_, reload) {\n        if (reload === false) {\n          if (setContents) {\n            _this2.editor.setContents(setContents);\n\n            _this2.editor.core.focusEdge();\n          }\n\n          if (setDefaultStyle) _this2.editor.setDefaultStyle(setDefaultStyle);\n          if (insertHTML) _this2.editor.insertHTML(insertHTML);\n          if (appendContents) _this2.editor.appendContents(appendContents);\n          if (_this2.editor.util.isIE) _this2.editor.core._createDefaultRange();\n          if (enable === true) _this2.editor.enabled();\n          if (disable === true) _this2.editor.disabled();\n          if (hide === true) _this2.editor.hide();\n          if (show === true) _this2.editor.show();\n          if (showToolbar === true) _this2.editor.toolbar.show();else _this2.editor.toolbar.hide();\n          if (enableToolbar === true) _this2.editor.toolbar.enabled();else _this2.editor.toolbar.disabled();\n          if (autoFocus === false) _this2.editor.core.context.element.wysiwyg.blur();else if (autoFocus === true) _this2.editor.core.context.element.wysiwyg.focus();\n        }\n\n        if (onLoad) onLoad(reload);\n      };\n\n      if (imageUploadHandler && typeof imageUploadHandler === \"function\") this.editor.imageUploadHandler = imageUploadHandler;\n      if (toggleCodeView && typeof toggleCodeView === \"function\") this.editor.toggleCodeView = function (isCodeView) {\n        return toggleCodeView(isCodeView);\n      };\n      if (toggleFullScreen && typeof toggleFullScreen === \"function\") this.editor.toggleFullScreen = function (isFullScreen) {\n        return toggleFullScreen(isFullScreen);\n      };\n      if (showInline && typeof showInline === \"function\") this.editor.showInline = function (toolbar, context) {\n        return showInline(toolbar, context);\n      };\n      if (showController && typeof showController === \"function\") this.editor.showController = function (name, controllers) {\n        return showController(name, controllers);\n      };\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      // Props compared\n      if (prevProps.lang !== this.props.lang) {\n        this.editor.setOptions({\n          lang: misc_getLanguage(this.props.lang)\n        });\n      }\n\n      if (prevProps.placeholder !== this.props.placeholder) {\n        this.editor.setOptions({\n          placeholder: this.props.placeholder\n        });\n      }\n\n      if (prevProps.height !== this.props.height) {\n        this.editor.setOptions({\n          height: this.props.height\n        });\n      }\n\n      if (prevProps.width !== this.props.width) {\n        this.editor.setOptions({\n          width: this.props.width\n        });\n      }\n\n      if (prevProps.setDefaultStyle !== this.props.setDefaultStyle) {\n        this.editor.setDefaultStyle(this.props.setDefaultStyle);\n      }\n\n      if (prevProps.setContents !== this.props.setContents) {\n        !this.editor.core.hasFocus && this.editor.setContents(this.props.setContents);\n      }\n\n      if (prevProps.appendContents !== this.props.appendContents) {\n        this.editor.appendContents(this.props.appendContents);\n        this.editor.core.focusEdge();\n      }\n\n      if (prevProps.insertHTML !== this.props.insertHTML) {\n        this.editor.insertHTML(this.props.insertHTML);\n      }\n\n      if (prevProps.enable !== this.props.enable) {\n        if (this.props.enable === true) this.editor.enabled();else this.editor.disabled();\n      }\n\n      if (prevProps.disable !== this.props.disable) {\n        if (this.props.disable === true) this.editor.disabled();else this.editor.enabled();\n      }\n\n      if (prevProps.showToolbar !== this.props.showToolbar) {\n        if (this.props.showToolbar === true) this.editor.toolbar.show();else this.editor.toolbar.hide(); // showToolbar contributed by https://github.com/nelreina\n      }\n\n      if (prevProps.enableToolbar !== this.props.enableToolbar) {\n        if (this.props.enableToolbar === true) this.editor.toolbar.enabled();else this.editor.toolbar.disabled();\n      }\n\n      if (prevProps.show !== this.props.show) {\n        if (this.props.show === true) this.editor.show();else this.editor.hide();\n      }\n\n      if (prevProps.hide !== this.props.hide) {\n        if (this.props.hide === true) this.editor.hide();else this.editor.show();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.editor) this.editor.destroy(); // Contributed by https://github.com/AramRafeq\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var dynamicName = {};\n      if (this.props.name) dynamicName.name = this.props.name;\n      return /*#__PURE__*/external_react_default.a.createElement(\"textarea\", _extends({\n        ref: this.txtArea\n      }, dynamicName));\n    }\n  }]);\n\n  return SunEditor;\n}(external_react_[\"Component\"]);\n\nSunEditor_SunEditor.propTypes = {\n  imageUploadHandler: prop_types_default.a.func,\n  toggleCodeView: prop_types_default.a.func,\n  toggleFullScreen: prop_types_default.a.func,\n  showInline: prop_types_default.a.func,\n  showController: prop_types_default.a.func,\n  onChange: prop_types_default.a.func,\n  onScroll: prop_types_default.a.func,\n  onClick: prop_types_default.a.func,\n  onKeyUp: prop_types_default.a.func,\n  onKeyDown: prop_types_default.a.func,\n  onInput: prop_types_default.a.func,\n  onDrop: prop_types_default.a.func,\n  onBlur: prop_types_default.a.func,\n  onFocus: prop_types_default.a.func,\n  onLoad: prop_types_default.a.func,\n  onCut: prop_types_default.a.func,\n  onCopy: prop_types_default.a.func,\n  onPaste: prop_types_default.a.func,\n  onImageUploadBefore: prop_types_default.a.func,\n  onImageUpload: prop_types_default.a.func,\n  onImageUploadError: prop_types_default.a.func,\n  onVideoUploadBefore: prop_types_default.a.func,\n  onAudioUploadBefore: prop_types_default.a.func,\n  onVideoUpload: prop_types_default.a.func,\n  onMouseDown: prop_types_default.a.func,\n  onAudioUpload: prop_types_default.a.func,\n  onVideoUploadError: prop_types_default.a.func,\n  onAudioUploadError: prop_types_default.a.func,\n  setOptions: prop_types_default.a.object,\n  name: prop_types_default.a.string,\n  setContents: prop_types_default.a.string,\n  name: prop_types_default.a.string,\n  appendContents: prop_types_default.a.string,\n  setDefaultStyle: prop_types_default.a.string,\n  enable: prop_types_default.a.bool,\n  showToolbar: prop_types_default.a.bool,\n  enableToolbar: prop_types_default.a.bool,\n  disable: prop_types_default.a.bool,\n  hide: prop_types_default.a.bool,\n  show: prop_types_default.a.bool,\n  autoFocus: prop_types_default.a.bool,\n  placeholder: prop_types_default.a.string,\n  lang: prop_types_default.a.oneOfType([prop_types_default.a.object, prop_types_default.a.string]),\n  width: prop_types_default.a.oneOfType([prop_types_default.a.number, prop_types_default.a.string]),\n  height: prop_types_default.a.oneOfType([prop_types_default.a.number, prop_types_default.a.string])\n};\n/* harmony default export */ var SunEditor_0 = (SunEditor_SunEditor);\n// CONCATENATED MODULE: ./main.js\n\n\n\n/* harmony default export */ var main = __webpack_exports__[\"default\"] = (SunEditor_0);\n\n/***/ })\n/******/ ]);"]},"metadata":{},"sourceType":"script"}